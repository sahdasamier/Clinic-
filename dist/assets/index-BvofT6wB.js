var JJ=Object.defineProperty;var ZJ=(t,e,n)=>e in t?JJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b6=(t,e,n)=>ZJ(t,typeof e!="symbol"?e+"":e,n);function eZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ou(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gS={exports:{}},lg={},xS={exports:{}},Fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6;function tZ(){if(_6)return Fn;_6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(K){return K===null||typeof K!="object"?null:(K=p&&K[p]||K["@@iterator"],typeof K=="function"?K:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(K,se,le){this.props=K,this.context=se,this.refs=v,this.updater=le||y}b.prototype.isReactComponent={},b.prototype.setState=function(K,se){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,se,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function I(){}I.prototype=b.prototype;function A(K,se,le){this.props=K,this.context=se,this.refs=v,this.updater=le||y}var S=A.prototype=new I;S.constructor=A,x(S,b.prototype),S.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(K,se,le){var oe,ge={},fe=null,Se=null;if(se!=null)for(oe in se.ref!==void 0&&(Se=se.ref),se.key!==void 0&&(fe=""+se.key),se)P.call(se,oe)&&!E.hasOwnProperty(oe)&&(ge[oe]=se[oe]);var be=arguments.length-2;if(be===1)ge.children=le;else if(1<be){for(var ce=Array(be),We=0;We<be;We++)ce[We]=arguments[We+2];ge.children=ce}if(K&&K.defaultProps)for(oe in be=K.defaultProps,be)ge[oe]===void 0&&(ge[oe]=be[oe]);return{$$typeof:t,type:K,key:fe,ref:Se,props:ge,_owner:R.current}}function D(K,se){return{$$typeof:t,type:K.type,key:se,ref:K.ref,props:K.props,_owner:K._owner}}function L(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function $(K){var se={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(le){return se[le]})}var B=/\/+/g;function N(K,se){return typeof K=="object"&&K!==null&&K.key!=null?$(""+K.key):se.toString(36)}function q(K,se,le,oe,ge){var fe=typeof K;(fe==="undefined"||fe==="boolean")&&(K=null);var Se=!1;if(K===null)Se=!0;else switch(fe){case"string":case"number":Se=!0;break;case"object":switch(K.$$typeof){case t:case e:Se=!0}}if(Se)return Se=K,ge=ge(Se),K=oe===""?"."+N(Se,0):oe,k(ge)?(le="",K!=null&&(le=K.replace(B,"$&/")+"/"),q(ge,se,le,"",function(We){return We})):ge!=null&&(L(ge)&&(ge=D(ge,le+(!ge.key||Se&&Se.key===ge.key?"":(""+ge.key).replace(B,"$&/")+"/")+K)),se.push(ge)),1;if(Se=0,oe=oe===""?".":oe+":",k(K))for(var be=0;be<K.length;be++){fe=K[be];var ce=oe+N(fe,be);Se+=q(fe,se,le,ce,ge)}else if(ce=m(K),typeof ce=="function")for(K=ce.call(K),be=0;!(fe=K.next()).done;)fe=fe.value,ce=oe+N(fe,be++),Se+=q(fe,se,le,ce,ge);else if(fe==="object")throw se=String(K),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Se}function Y(K,se,le){if(K==null)return K;var oe=[],ge=0;return q(K,oe,"","",function(fe){return se.call(le,fe,ge++)}),oe}function ne(K){if(K._status===-1){var se=K._result;se=se(),se.then(function(le){(K._status===0||K._status===-1)&&(K._status=1,K._result=le)},function(le){(K._status===0||K._status===-1)&&(K._status=2,K._result=le)}),K._status===-1&&(K._status=0,K._result=se)}if(K._status===1)return K._result.default;throw K._result}var Q={current:null},ee={transition:null},Z={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:ee,ReactCurrentOwner:R};function de(){throw Error("act(...) is not supported in production builds of React.")}return Fn.Children={map:Y,forEach:function(K,se,le){Y(K,function(){se.apply(this,arguments)},le)},count:function(K){var se=0;return Y(K,function(){se++}),se},toArray:function(K){return Y(K,function(se){return se})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Fn.Component=b,Fn.Fragment=n,Fn.Profiler=i,Fn.PureComponent=A,Fn.StrictMode=r,Fn.Suspense=c,Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Fn.act=de,Fn.cloneElement=function(K,se,le){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var oe=x({},K.props),ge=K.key,fe=K.ref,Se=K._owner;if(se!=null){if(se.ref!==void 0&&(fe=se.ref,Se=R.current),se.key!==void 0&&(ge=""+se.key),K.type&&K.type.defaultProps)var be=K.type.defaultProps;for(ce in se)P.call(se,ce)&&!E.hasOwnProperty(ce)&&(oe[ce]=se[ce]===void 0&&be!==void 0?be[ce]:se[ce])}var ce=arguments.length-2;if(ce===1)oe.children=le;else if(1<ce){be=Array(ce);for(var We=0;We<ce;We++)be[We]=arguments[We+2];oe.children=be}return{$$typeof:t,type:K.type,key:ge,ref:fe,props:oe,_owner:Se}},Fn.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},Fn.createElement=O,Fn.createFactory=function(K){var se=O.bind(null,K);return se.type=K,se},Fn.createRef=function(){return{current:null}},Fn.forwardRef=function(K){return{$$typeof:l,render:K}},Fn.isValidElement=L,Fn.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:ne}},Fn.memo=function(K,se){return{$$typeof:d,type:K,compare:se===void 0?null:se}},Fn.startTransition=function(K){var se=ee.transition;ee.transition={};try{K()}finally{ee.transition=se}},Fn.unstable_act=de,Fn.useCallback=function(K,se){return Q.current.useCallback(K,se)},Fn.useContext=function(K){return Q.current.useContext(K)},Fn.useDebugValue=function(){},Fn.useDeferredValue=function(K){return Q.current.useDeferredValue(K)},Fn.useEffect=function(K,se){return Q.current.useEffect(K,se)},Fn.useId=function(){return Q.current.useId()},Fn.useImperativeHandle=function(K,se,le){return Q.current.useImperativeHandle(K,se,le)},Fn.useInsertionEffect=function(K,se){return Q.current.useInsertionEffect(K,se)},Fn.useLayoutEffect=function(K,se){return Q.current.useLayoutEffect(K,se)},Fn.useMemo=function(K,se){return Q.current.useMemo(K,se)},Fn.useReducer=function(K,se,le){return Q.current.useReducer(K,se,le)},Fn.useRef=function(K){return Q.current.useRef(K)},Fn.useState=function(K){return Q.current.useState(K)},Fn.useSyncExternalStore=function(K,se,le){return Q.current.useSyncExternalStore(K,se,le)},Fn.useTransition=function(){return Q.current.useTransition()},Fn.version="18.3.1",Fn}var w6;function X_(){return w6||(w6=1,xS.exports=tZ()),xS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function nZ(){if(j6)return lg;j6=1;var t=X_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var f,p={},m=null,y=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:l,key:m,ref:y,props:p,_owner:i.current}}return lg.Fragment=n,lg.jsx=a,lg.jsxs=a,lg}var S6;function rZ(){return S6||(S6=1,gS.exports=nZ()),gS.exports}var o=rZ(),C=X_();const he=or(C),mI=eZ({__proto__:null,default:he},[C]);var O0={},yS={exports:{}},Yo={},vS={exports:{}},bS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6;function iZ(){return C6||(C6=1,function(t){function e(ee,Z){var de=ee.length;ee.push(Z);e:for(;0<de;){var K=de-1>>>1,se=ee[K];if(0<i(se,Z))ee[K]=Z,ee[de]=se,de=K;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Z=ee[0],de=ee.pop();if(de!==Z){ee[0]=de;e:for(var K=0,se=ee.length,le=se>>>1;K<le;){var oe=2*(K+1)-1,ge=ee[oe],fe=oe+1,Se=ee[fe];if(0>i(ge,de))fe<se&&0>i(Se,ge)?(ee[K]=Se,ee[fe]=de,K=fe):(ee[K]=ge,ee[oe]=de,K=oe);else if(fe<se&&0>i(Se,de))ee[K]=Se,ee[fe]=de,K=fe;else break e}}return Z}function i(ee,Z){var de=ee.sortIndex-Z.sortIndex;return de!==0?de:ee.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,m=3,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=ee)r(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(d)}}function k(ee){if(v=!1,S(ee),!x)if(n(c)!==null)x=!0,ne(P);else{var Z=n(d);Z!==null&&Q(k,Z.startTime-ee)}}function P(ee,Z){x=!1,v&&(v=!1,I(O),O=-1),y=!0;var de=m;try{for(S(Z),p=n(c);p!==null&&(!(p.expirationTime>Z)||ee&&!$());){var K=p.callback;if(typeof K=="function"){p.callback=null,m=p.priorityLevel;var se=K(p.expirationTime<=Z);Z=t.unstable_now(),typeof se=="function"?p.callback=se:p===n(c)&&r(c),S(Z)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var oe=n(d);oe!==null&&Q(k,oe.startTime-Z),le=!1}return le}finally{p=null,m=de,y=!1}}var R=!1,E=null,O=-1,D=5,L=-1;function $(){return!(t.unstable_now()-L<D)}function B(){if(E!==null){var ee=t.unstable_now();L=ee;var Z=!0;try{Z=E(!0,ee)}finally{Z?N():(R=!1,E=null)}}else R=!1}var N;if(typeof A=="function")N=function(){A(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Y=q.port2;q.port1.onmessage=B,N=function(){Y.postMessage(null)}}else N=function(){b(B,0)};function ne(ee){E=ee,R||(R=!0,N())}function Q(ee,Z){O=b(function(){ee(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ne(P))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var de=m;m=Z;try{return ee()}finally{m=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,Z){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=m;m=ee;try{return Z()}finally{m=de}},t.unstable_scheduleCallback=function(ee,Z,de){var K=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?K+de:K):de=K,ee){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=de+se,ee={id:f++,callback:Z,priorityLevel:ee,startTime:de,expirationTime:se,sortIndex:-1},de>K?(ee.sortIndex=de,e(d,ee),n(c)===null&&ee===n(d)&&(v?(I(O),O=-1):v=!0,Q(k,de-K))):(ee.sortIndex=se,e(c,ee),x||y||(x=!0,ne(P))),ee},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ee){var Z=m;return function(){var de=m;m=Z;try{return ee.apply(this,arguments)}finally{m=de}}}}(bS)),bS}var P6;function oZ(){return P6||(P6=1,vS.exports=iZ()),vS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6;function sZ(){if(A6)return Yo;A6=1;var t=X_(),e=oZ();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function y(u,h,g,j){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return j?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,g,j){if(h===null||typeof h>"u"||y(u,h,g,j))return!0;if(j)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function v(u,h,g,j,M,W,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=j,this.attributeNamespace=M,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=W,this.removeEmptyString=X}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new v(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];b[h]=new v(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new v(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new v(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new v(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new v(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new v(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new v(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new v(u,5,!1,u.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(I,A);b[h]=new v(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(I,A);b[h]=new v(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(I,A);b[h]=new v(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!0,!0)});function S(u,h,g,j){var M=b.hasOwnProperty(h)?b[h]:null;(M!==null?M.type!==0:j||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,g,M,j)&&(g=null),j||M===null?m(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):M.mustUseProperty?u[M.propertyName]=g===null?M.type===3?!1:"":g:(h=M.attributeName,j=M.attributeNamespace,g===null?u.removeAttribute(h):(M=M.type,g=M===3||M===4&&g===!0?"":""+g,j?u.setAttributeNS(j,h,g):u.setAttribute(h,g))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.iterator;function Z(u){return u===null||typeof u!="object"?null:(u=ee&&u[ee]||u["@@iterator"],typeof u=="function"?u:null)}var de=Object.assign,K;function se(u){if(K===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);K=h&&h[1]||""}return`
`+K+u}var le=!1;function oe(u,h){if(!u||le)return"";le=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Le){var j=Le}Reflect.construct(u,[],h)}else{try{h.call()}catch(Le){j=Le}u.call(h.prototype)}else{try{throw Error()}catch(Le){j=Le}u()}}catch(Le){if(Le&&j&&typeof Le.stack=="string"){for(var M=Le.stack.split(`
`),W=j.stack.split(`
`),X=M.length-1,ue=W.length-1;1<=X&&0<=ue&&M[X]!==W[ue];)ue--;for(;1<=X&&0<=ue;X--,ue--)if(M[X]!==W[ue]){if(X!==1||ue!==1)do if(X--,ue--,0>ue||M[X]!==W[ue]){var xe=`
`+M[X].replace(" at new "," at ");return u.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",u.displayName)),xe}while(1<=X&&0<=ue);break}}}finally{le=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?se(u):""}function ge(u){switch(u.tag){case 5:return se(u.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return u=oe(u.type,!1),u;case 11:return u=oe(u.type.render,!1),u;case 1:return u=oe(u.type,!0),u;default:return""}}function fe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case R:return"Portal";case D:return"Profiler";case O:return"StrictMode";case N:return"Suspense";case q:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case $:return(u.displayName||"Context")+".Consumer";case L:return(u._context.displayName||"Context")+".Provider";case B:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:fe(u.type)||"Memo";case ne:h=u._payload,u=u._init;try{return fe(u(h))}catch{}}return null}function Se(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(h);case 8:return h===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function be(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ce(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function We(u){var h=ce(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),j=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,W=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return M.call(this)},set:function(X){j=""+X,W.call(this,X)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return j},setValue:function(X){j=""+X},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Fe(u){u._valueTracker||(u._valueTracker=We(u))}function pe(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),j="";return u&&(j=ce(u)?u.checked?"true":"false":u.value),u=j,u!==g?(h.setValue(u),!0):!1}function $e(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ce(u,h){var g=h.checked;return de({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Je(u,h){var g=h.defaultValue==null?"":h.defaultValue,j=h.checked!=null?h.checked:h.defaultChecked;g=be(h.value!=null?h.value:g),u._wrapperState={initialChecked:j,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ht(u,h){h=h.checked,h!=null&&S(u,"checked",h,!1)}function Xe(u,h){ht(u,h);var g=be(h.value),j=h.type;if(g!=null)j==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(j==="submit"||j==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?jt(u,h.type,g):h.hasOwnProperty("defaultValue")&&jt(u,h.type,be(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Lt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var j=h.type;if(!(j!=="submit"&&j!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function jt(u,h,g){(h!=="number"||$e(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var Mt=Array.isArray;function pt(u,h,g,j){if(u=u.options,h){h={};for(var M=0;M<g.length;M++)h["$"+g[M]]=!0;for(g=0;g<u.length;g++)M=h.hasOwnProperty("$"+u[g].value),u[g].selected!==M&&(u[g].selected=M),M&&j&&(u[g].defaultSelected=!0)}else{for(g=""+be(g),h=null,M=0;M<u.length;M++){if(u[M].value===g){u[M].selected=!0,j&&(u[M].defaultSelected=!0);return}h!==null||u[M].disabled||(h=u[M])}h!==null&&(h.selected=!0)}}function Qe(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function at(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(Mt(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:be(g)}}function Tt(u,h){var g=be(h.value),j=be(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),j!=null&&(u.defaultValue=""+j)}function vn(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function zt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?zt(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var It,lt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,j,M){MSApp.execUnsafeLocalFunction(function(){return u(h,g,j,M)})}:u}(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=It.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Zt(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(u){On.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Xt[h]=Xt[u]})});function G(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Xt.hasOwnProperty(u)&&Xt[u]?(""+h).trim():h+"px"}function ve(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var j=g.indexOf("--")===0,M=G(g,h[g],j);g==="float"&&(g="cssFloat"),j?u.setProperty(g,M):u[g]=M}}var ke=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ue(u,h){if(h){if(ke[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function it(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yt=null;function pn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Sn=null,sn=null,Yn=null;function vt(u){if(u=Gm(u)){if(typeof Sn!="function")throw Error(n(280));var h=u.stateNode;h&&(h=Gv(h),Sn(u.stateNode,u.type,h))}}function Pn(u){sn?Yn?Yn.push(u):Yn=[u]:sn=u}function Mn(){if(sn){var u=sn,h=Yn;if(Yn=sn=null,vt(u),h)for(u=0;u<h.length;u++)vt(h[u])}}function Mr(u,h){return u(h)}function hi(){}var lr=!1;function Ut(u,h,g){if(lr)return u(h,g);lr=!0;try{return Mr(u,h,g)}finally{lr=!1,(sn!==null||Yn!==null)&&(hi(),Mn())}}function an(u,h){var g=u.stateNode;if(g===null)return null;var j=Gv(g);if(j===null)return null;g=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var _e=!1;if(l)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){_e=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{_e=!1}function Ot(u,h,g,j,M,W,X,ue,xe){var Le=Array.prototype.slice.call(arguments,3);try{h.apply(g,Le)}catch(ot){this.onError(ot)}}var St=!1,te=null,Re=!1,J=null,je={onError:function(u){St=!0,te=u}};function tt(u,h,g,j,M,W,X,ue,xe){St=!1,te=null,Ot.apply(je,arguments)}function kt(u,h,g,j,M,W,X,ue,xe){if(tt.apply(this,arguments),St){if(St){var Le=te;St=!1,te=null}else throw Error(n(198));Re||(Re=!0,J=Le)}}function nt(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function bn(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function mn(u){if(nt(u)!==u)throw Error(n(188))}function Pr(u){var h=u.alternate;if(!h){if(h=nt(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,j=h;;){var M=g.return;if(M===null)break;var W=M.alternate;if(W===null){if(j=M.return,j!==null){g=j;continue}break}if(M.child===W.child){for(W=M.child;W;){if(W===g)return mn(M),u;if(W===j)return mn(M),h;W=W.sibling}throw Error(n(188))}if(g.return!==j.return)g=M,j=W;else{for(var X=!1,ue=M.child;ue;){if(ue===g){X=!0,g=M,j=W;break}if(ue===j){X=!0,j=M,g=W;break}ue=ue.sibling}if(!X){for(ue=W.child;ue;){if(ue===g){X=!0,g=W,j=M;break}if(ue===j){X=!0,j=W,g=M;break}ue=ue.sibling}if(!X)throw Error(n(189))}}if(g.alternate!==j)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function Ar(u){return u=Pr(u),u!==null?Bt(u):null}function Bt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Bt(u);if(h!==null)return h;u=u.sibling}return null}var gn=e.unstable_scheduleCallback,Xn=e.unstable_cancelCallback,Ii=e.unstable_shouldYield,br=e.unstable_requestPaint,er=e.unstable_now,fi=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,Os=e.unstable_UserBlockingPriority,eo=e.unstable_NormalPriority,re=e.unstable_LowPriority,Te=e.unstable_IdlePriority,Kt=null,gt=null;function Rt(u){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Kt,u,void 0,(u.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:qu,Er=Math.log,Po=Math.LN2;function qu(u){return u>>>=0,u===0?32:31-(Er(u)/Po|0)|0}var Il=64,Tl=4194304;function ha(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Va(u,h){var g=u.pendingLanes;if(g===0)return 0;var j=0,M=u.suspendedLanes,W=u.pingedLanes,X=g&268435455;if(X!==0){var ue=X&~M;ue!==0?j=ha(ue):(W&=X,W!==0&&(j=ha(W)))}else X=g&~M,X!==0?j=ha(X):W!==0&&(j=ha(W));if(j===0)return 0;if(h!==0&&h!==j&&(h&M)===0&&(M=j&-j,W=h&-h,M>=W||M===16&&(W&4194240)!==0))return h;if((j&4)!==0&&(j|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=j;0<h;)g=31-Dn(h),M=1<<g,j|=u[g],h&=~M;return j}function Ph(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ds(u,h){for(var g=u.suspendedLanes,j=u.pingedLanes,M=u.expirationTimes,W=u.pendingLanes;0<W;){var X=31-Dn(W),ue=1<<X,xe=M[X];xe===-1?((ue&g)===0||(ue&j)!==0)&&(M[X]=Ph(ue,h)):xe<=h&&(u.expiredLanes|=ue),W&=~ue}}function co(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Ba(){var u=Il;return Il<<=1,(Il&4194240)===0&&(Il=64),u}function fa(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function pa(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Dn(h),u[h]=g}function cr(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var j=u.eventTimes;for(u=u.expirationTimes;0<g;){var M=31-Dn(g),W=1<<M;h[M]=0,j[M]=-1,u[M]=-1,g&=~W}}function ma(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var j=31-Dn(g),M=1<<j;M&h|u[j]&h&&(u[j]|=h),g&=~M}}var zn=0;function z(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Me,Ft,nn,ln,qn,Wi=!1,jr=[],ii=null,ga=null,xa=null,Rc=new Map,Ms=new Map,Ua=[],Gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(u,h){switch(u){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Rc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(h.pointerId)}}function Vo(u,h,g,j,M,W){return u===null||u.nativeEvent!==W?(u={blockedOn:h,domEventName:g,eventSystemFlags:j,nativeEvent:W,targetContainers:[M]},h!==null&&(h=Gm(h),h!==null&&Ft(h)),u):(u.eventSystemFlags|=j,h=u.targetContainers,M!==null&&h.indexOf(M)===-1&&h.push(M),u)}function Kj(u,h,g,j,M){switch(h){case"focusin":return ii=Vo(ii,u,h,g,j,M),!0;case"dragenter":return ga=Vo(ga,u,h,g,j,M),!0;case"mouseover":return xa=Vo(xa,u,h,g,j,M),!0;case"pointerover":var W=M.pointerId;return Rc.set(W,Vo(Rc.get(W)||null,u,h,g,j,M)),!0;case"gotpointercapture":return W=M.pointerId,Ms.set(W,Vo(Ms.get(W)||null,u,h,g,j,M)),!0}return!1}function kv(u){var h=Xu(u.target);if(h!==null){var g=nt(h);if(g!==null){if(h=g.tag,h===13){if(h=bn(g),h!==null){u.blockedOn=h,qn(u.priority,function(){nn(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function kl(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=Ah(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var j=new g.constructor(g.type,g);yt=j,g.target.dispatchEvent(j),yt=null}else return h=Gm(g),h!==null&&Ft(h),u.blockedOn=g,!1;h.shift()}return!0}function Hu(u,h,g){kl(u)&&g.delete(h)}function Rv(){Wi=!1,ii!==null&&kl(ii)&&(ii=null),ga!==null&&kl(ga)&&(ga=null),xa!==null&&kl(xa)&&(xa=null),Rc.forEach(Hu),Ms.forEach(Hu)}function ya(u,h){u.blockedOn===h&&(u.blockedOn=null,Wi||(Wi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rv)))}function va(u){function h(M){return ya(M,u)}if(0<jr.length){ya(jr[0],u);for(var g=1;g<jr.length;g++){var j=jr[g];j.blockedOn===u&&(j.blockedOn=null)}}for(ii!==null&&ya(ii,u),ga!==null&&ya(ga,u),xa!==null&&ya(xa,u),Rc.forEach(h),Ms.forEach(h),g=0;g<Ua.length;g++)j=Ua[g],j.blockedOn===u&&(j.blockedOn=null);for(;0<Ua.length&&(g=Ua[0],g.blockedOn===null);)kv(g),g.blockedOn===null&&Ua.shift()}var Rl=k.ReactCurrentBatchConfig,Oc=!0;function Wr(u,h,g,j){var M=zn,W=Rl.transition;Rl.transition=null;try{zn=1,Om(u,h,g,j)}finally{zn=M,Rl.transition=W}}function Yj(u,h,g,j){var M=zn,W=Rl.transition;Rl.transition=null;try{zn=4,Om(u,h,g,j)}finally{zn=M,Rl.transition=W}}function Om(u,h,g,j){if(Oc){var M=Ah(u,h,g,j);if(M===null)s2(u,h,j,Gu,g),Tv(u,j);else if(Kj(M,u,h,g,j))j.stopPropagation();else if(Tv(u,j),h&4&&-1<Gj.indexOf(u)){for(;M!==null;){var W=Gm(M);if(W!==null&&Me(W),W=Ah(u,h,g,j),W===null&&s2(u,h,j,Gu,g),W===M)break;M=W}M!==null&&j.stopPropagation()}else s2(u,h,j,null,g)}}var Gu=null;function Ah(u,h,g,j){if(Gu=null,u=pn(j),u=Xu(u),u!==null)if(h=nt(u),h===null)u=null;else if(g=h.tag,g===13){if(u=bn(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Gu=u,null}function Dm(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fi()){case lo:return 1;case Os:return 4;case eo:case re:return 16;case Te:return 536870912;default:return 16}default:return 16}}var as=null,Eh=null,Bo=null;function Mm(){if(Bo)return Bo;var u,h=Eh,g=h.length,j,M="value"in as?as.value:as.textContent,W=M.length;for(u=0;u<g&&h[u]===M[u];u++);var X=g-u;for(j=1;j<=X&&h[g-j]===M[W-j];j++);return Bo=M.slice(u,1<j?1-j:void 0)}function Ih(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function qa(){return!0}function Nm(){return!1}function to(u){function h(g,j,M,W,X){this._reactName=g,this._targetInst=M,this.type=j,this.nativeEvent=W,this.target=X,this.currentTarget=null;for(var ue in u)u.hasOwnProperty(ue)&&(g=u[ue],this[ue]=g?g(W):W[ue]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?qa:Nm,this.isPropagationStopped=Nm,this}return de(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),h}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=to(ba),Ha=de({},ba,{view:0,detail:0}),Xj=to(Ha),kh,Ol,Dc,Ku=de({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Dc&&(Dc&&u.type==="mousemove"?(kh=u.screenX-Dc.screenX,Ol=u.screenY-Dc.screenY):Ol=kh=0,Dc=u),kh)},movementY:function(u){return"movementY"in u?u.movementY:Ol}}),Rh=to(Ku),$m=de({},Ku,{dataTransfer:0}),Ov=to($m),Oh=de({},Ha,{relatedTarget:0}),Dh=to(Oh),Dv=de({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=to(Dv),Mv=de({},ba,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Nv=to(Mv),$v=de({},ba,{data:0}),Lm=to($v),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Lv[u])?!!h[u]:!1}function Ga(){return zv}var _=de({},Ha,{key:function(u){if(u.key){var h=Mh[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ih(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ao[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(u){return u.type==="keypress"?Ih(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ih(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),F=to(_),H=de({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ie=to(H),Ae=de({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Be=to(Ae),bt=de({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),xr=to(bt),Ti=de({},Ku,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Hn=to(Ti),Vi=[9,13,27,32],ji=l&&"CompositionEvent"in window,Ns=null;l&&"documentMode"in document&&(Ns=document.documentMode);var ls=l&&"TextEvent"in window&&!Ns,Yu=l&&(!ji||Ns&&8<Ns&&11>=Ns),Nh=" ",pD=!1;function mD(u,h){switch(u){case"keyup":return Vi.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gD(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var $h=!1;function YQ(u,h){switch(u){case"compositionend":return gD(h);case"keypress":return h.which!==32?null:(pD=!0,Nh);case"textInput":return u=h.data,u===Nh&&pD?null:u;default:return null}}function XQ(u,h){if($h)return u==="compositionend"||!ji&&mD(u,h)?(u=Mm(),Bo=Eh=as=null,$h=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Yu&&h.locale!=="ko"?null:h.data;default:return null}}var QQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xD(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!QQ[u.type]:h==="textarea"}function yD(u,h,g,j){Pn(j),h=Uv(h,"onChange"),0<h.length&&(g=new Th("onChange","change",null,g,j),u.push({event:g,listeners:h}))}var zm=null,Fm=null;function JQ(u){ND(u,0)}function Fv(u){var h=Vh(u);if(pe(h))return u}function ZQ(u,h){if(u==="change")return h}var vD=!1;if(l){var Qj;if(l){var Jj="oninput"in document;if(!Jj){var bD=document.createElement("div");bD.setAttribute("oninput","return;"),Jj=typeof bD.oninput=="function"}Qj=Jj}else Qj=!1;vD=Qj&&(!document.documentMode||9<document.documentMode)}function _D(){zm&&(zm.detachEvent("onpropertychange",wD),Fm=zm=null)}function wD(u){if(u.propertyName==="value"&&Fv(Fm)){var h=[];yD(h,Fm,u,pn(u)),Ut(JQ,h)}}function eJ(u,h,g){u==="focusin"?(_D(),zm=h,Fm=g,zm.attachEvent("onpropertychange",wD)):u==="focusout"&&_D()}function tJ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Fv(Fm)}function nJ(u,h){if(u==="click")return Fv(h)}function rJ(u,h){if(u==="input"||u==="change")return Fv(h)}function iJ(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var _a=typeof Object.is=="function"?Object.is:iJ;function Wm(u,h){if(_a(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),j=Object.keys(h);if(g.length!==j.length)return!1;for(j=0;j<g.length;j++){var M=g[j];if(!c.call(h,M)||!_a(u[M],h[M]))return!1}return!0}function jD(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function SD(u,h){var g=jD(u);u=0;for(var j;g;){if(g.nodeType===3){if(j=u+g.textContent.length,u<=h&&j>=h)return{node:g,offset:h-u};u=j}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=jD(g)}}function CD(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?CD(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function PD(){for(var u=window,h=$e();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=$e(u.document)}return h}function Zj(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function oJ(u){var h=PD(),g=u.focusedElem,j=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&CD(g.ownerDocument.documentElement,g)){if(j!==null&&Zj(g)){if(h=j.start,u=j.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var M=g.textContent.length,W=Math.min(j.start,M);j=j.end===void 0?W:Math.min(j.end,M),!u.extend&&W>j&&(M=j,j=W,W=M),M=SD(g,W);var X=SD(g,j);M&&X&&(u.rangeCount!==1||u.anchorNode!==M.node||u.anchorOffset!==M.offset||u.focusNode!==X.node||u.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(M.node,M.offset),u.removeAllRanges(),W>j?(u.addRange(h),u.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var sJ=l&&"documentMode"in document&&11>=document.documentMode,Lh=null,e2=null,Vm=null,t2=!1;function AD(u,h,g){var j=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;t2||Lh==null||Lh!==$e(j)||(j=Lh,"selectionStart"in j&&Zj(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Vm&&Wm(Vm,j)||(Vm=j,j=Uv(e2,"onSelect"),0<j.length&&(h=new Th("onSelect","select",null,h,g),u.push({event:h,listeners:j}),h.target=Lh)))}function Wv(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var zh={animationend:Wv("Animation","AnimationEnd"),animationiteration:Wv("Animation","AnimationIteration"),animationstart:Wv("Animation","AnimationStart"),transitionend:Wv("Transition","TransitionEnd")},n2={},ED={};l&&(ED=document.createElement("div").style,"AnimationEvent"in window||(delete zh.animationend.animation,delete zh.animationiteration.animation,delete zh.animationstart.animation),"TransitionEvent"in window||delete zh.transitionend.transition);function Vv(u){if(n2[u])return n2[u];if(!zh[u])return u;var h=zh[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in ED)return n2[u]=h[g];return u}var ID=Vv("animationend"),TD=Vv("animationiteration"),kD=Vv("animationstart"),RD=Vv("transitionend"),OD=new Map,DD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mc(u,h){OD.set(u,h),s(h,[u])}for(var r2=0;r2<DD.length;r2++){var i2=DD[r2],aJ=i2.toLowerCase(),lJ=i2[0].toUpperCase()+i2.slice(1);Mc(aJ,"on"+lJ)}Mc(ID,"onAnimationEnd"),Mc(TD,"onAnimationIteration"),Mc(kD,"onAnimationStart"),Mc("dblclick","onDoubleClick"),Mc("focusin","onFocus"),Mc("focusout","onBlur"),Mc(RD,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bm));function MD(u,h,g){var j=u.type||"unknown-event";u.currentTarget=g,kt(j,h,void 0,u),u.currentTarget=null}function ND(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var j=u[g],M=j.event;j=j.listeners;e:{var W=void 0;if(h)for(var X=j.length-1;0<=X;X--){var ue=j[X],xe=ue.instance,Le=ue.currentTarget;if(ue=ue.listener,xe!==W&&M.isPropagationStopped())break e;MD(M,ue,Le),W=xe}else for(X=0;X<j.length;X++){if(ue=j[X],xe=ue.instance,Le=ue.currentTarget,ue=ue.listener,xe!==W&&M.isPropagationStopped())break e;MD(M,ue,Le),W=xe}}}if(Re)throw u=J,Re=!1,J=null,u}function Nr(u,h){var g=h[h2];g===void 0&&(g=h[h2]=new Set);var j=u+"__bubble";g.has(j)||($D(h,u,2,!1),g.add(j))}function o2(u,h,g){var j=0;h&&(j|=4),$D(g,u,j,h)}var Bv="_reactListening"+Math.random().toString(36).slice(2);function Um(u){if(!u[Bv]){u[Bv]=!0,r.forEach(function(g){g!=="selectionchange"&&(cJ.has(g)||o2(g,!1,u),o2(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Bv]||(h[Bv]=!0,o2("selectionchange",!1,h))}}function $D(u,h,g,j){switch(Dm(h)){case 1:var M=Wr;break;case 4:M=Yj;break;default:M=Om}g=M.bind(null,h,g,u),M=void 0,!_e||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(M=!0),j?M!==void 0?u.addEventListener(h,g,{capture:!0,passive:M}):u.addEventListener(h,g,!0):M!==void 0?u.addEventListener(h,g,{passive:M}):u.addEventListener(h,g,!1)}function s2(u,h,g,j,M){var W=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var X=j.tag;if(X===3||X===4){var ue=j.stateNode.containerInfo;if(ue===M||ue.nodeType===8&&ue.parentNode===M)break;if(X===4)for(X=j.return;X!==null;){var xe=X.tag;if((xe===3||xe===4)&&(xe=X.stateNode.containerInfo,xe===M||xe.nodeType===8&&xe.parentNode===M))return;X=X.return}for(;ue!==null;){if(X=Xu(ue),X===null)return;if(xe=X.tag,xe===5||xe===6){j=W=X;continue e}ue=ue.parentNode}}j=j.return}Ut(function(){var Le=W,ot=pn(g),ut=[];e:{var rt=OD.get(u);if(rt!==void 0){var Dt=Th,Wt=u;switch(u){case"keypress":if(Ih(g)===0)break e;case"keydown":case"keyup":Dt=F;break;case"focusin":Wt="focus",Dt=Dh;break;case"focusout":Wt="blur",Dt=Dh;break;case"beforeblur":case"afterblur":Dt=Dh;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=Be;break;case ID:case TD:case kD:Dt=Dl;break;case RD:Dt=xr;break;case"scroll":Dt=Xj;break;case"wheel":Dt=Hn;break;case"copy":case"cut":case"paste":Dt=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=ie}var qt=(h&4)!==0,pi=!qt&&u==="scroll",Ie=qt?rt!==null?rt+"Capture":null:rt;qt=[];for(var we=Le,De;we!==null;){De=we;var ft=De.stateNode;if(De.tag===5&&ft!==null&&(De=ft,Ie!==null&&(ft=an(we,Ie),ft!=null&&qt.push(qm(we,ft,De)))),pi)break;we=we.return}0<qt.length&&(rt=new Dt(rt,Wt,null,g,ot),ut.push({event:rt,listeners:qt}))}}if((h&7)===0){e:{if(rt=u==="mouseover"||u==="pointerover",Dt=u==="mouseout"||u==="pointerout",rt&&g!==yt&&(Wt=g.relatedTarget||g.fromElement)&&(Xu(Wt)||Wt[Ml]))break e;if((Dt||rt)&&(rt=ot.window===ot?ot:(rt=ot.ownerDocument)?rt.defaultView||rt.parentWindow:window,Dt?(Wt=g.relatedTarget||g.toElement,Dt=Le,Wt=Wt?Xu(Wt):null,Wt!==null&&(pi=nt(Wt),Wt!==pi||Wt.tag!==5&&Wt.tag!==6)&&(Wt=null)):(Dt=null,Wt=Le),Dt!==Wt)){if(qt=Rh,ft="onMouseLeave",Ie="onMouseEnter",we="mouse",(u==="pointerout"||u==="pointerover")&&(qt=ie,ft="onPointerLeave",Ie="onPointerEnter",we="pointer"),pi=Dt==null?rt:Vh(Dt),De=Wt==null?rt:Vh(Wt),rt=new qt(ft,we+"leave",Dt,g,ot),rt.target=pi,rt.relatedTarget=De,ft=null,Xu(ot)===Le&&(qt=new qt(Ie,we+"enter",Wt,g,ot),qt.target=De,qt.relatedTarget=pi,ft=qt),pi=ft,Dt&&Wt)t:{for(qt=Dt,Ie=Wt,we=0,De=qt;De;De=Fh(De))we++;for(De=0,ft=Ie;ft;ft=Fh(ft))De++;for(;0<we-De;)qt=Fh(qt),we--;for(;0<De-we;)Ie=Fh(Ie),De--;for(;we--;){if(qt===Ie||Ie!==null&&qt===Ie.alternate)break t;qt=Fh(qt),Ie=Fh(Ie)}qt=null}else qt=null;Dt!==null&&LD(ut,rt,Dt,qt,!1),Wt!==null&&pi!==null&&LD(ut,pi,Wt,qt,!0)}}e:{if(rt=Le?Vh(Le):window,Dt=rt.nodeName&&rt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&rt.type==="file")var Ht=ZQ;else if(xD(rt))if(vD)Ht=rJ;else{Ht=tJ;var rn=eJ}else(Dt=rt.nodeName)&&Dt.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Ht=nJ);if(Ht&&(Ht=Ht(u,Le))){yD(ut,Ht,g,ot);break e}rn&&rn(u,rt,Le),u==="focusout"&&(rn=rt._wrapperState)&&rn.controlled&&rt.type==="number"&&jt(rt,"number",rt.value)}switch(rn=Le?Vh(Le):window,u){case"focusin":(xD(rn)||rn.contentEditable==="true")&&(Lh=rn,e2=Le,Vm=null);break;case"focusout":Vm=e2=Lh=null;break;case"mousedown":t2=!0;break;case"contextmenu":case"mouseup":case"dragend":t2=!1,AD(ut,g,ot);break;case"selectionchange":if(sJ)break;case"keydown":case"keyup":AD(ut,g,ot)}var on;if(ji)e:{switch(u){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else $h?mD(u,g)&&(xn="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(xn="onCompositionStart");xn&&(Yu&&g.locale!=="ko"&&($h||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&$h&&(on=Mm()):(as=ot,Eh="value"in as?as.value:as.textContent,$h=!0)),rn=Uv(Le,xn),0<rn.length&&(xn=new Lm(xn,u,null,g,ot),ut.push({event:xn,listeners:rn}),on?xn.data=on:(on=gD(g),on!==null&&(xn.data=on)))),(on=ls?YQ(u,g):XQ(u,g))&&(Le=Uv(Le,"onBeforeInput"),0<Le.length&&(ot=new Lm("onBeforeInput","beforeinput",null,g,ot),ut.push({event:ot,listeners:Le}),ot.data=on))}ND(ut,h)})}function qm(u,h,g){return{instance:u,listener:h,currentTarget:g}}function Uv(u,h){for(var g=h+"Capture",j=[];u!==null;){var M=u,W=M.stateNode;M.tag===5&&W!==null&&(M=W,W=an(u,g),W!=null&&j.unshift(qm(u,W,M)),W=an(u,h),W!=null&&j.push(qm(u,W,M))),u=u.return}return j}function Fh(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function LD(u,h,g,j,M){for(var W=h._reactName,X=[];g!==null&&g!==j;){var ue=g,xe=ue.alternate,Le=ue.stateNode;if(xe!==null&&xe===j)break;ue.tag===5&&Le!==null&&(ue=Le,M?(xe=an(g,W),xe!=null&&X.unshift(qm(g,xe,ue))):M||(xe=an(g,W),xe!=null&&X.push(qm(g,xe,ue)))),g=g.return}X.length!==0&&u.push({event:h,listeners:X})}var uJ=/\r\n?/g,dJ=/\u0000|\uFFFD/g;function zD(u){return(typeof u=="string"?u:""+u).replace(uJ,`
`).replace(dJ,"")}function qv(u,h,g){if(h=zD(h),zD(u)!==h&&g)throw Error(n(425))}function Hv(){}var a2=null,l2=null;function c2(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var u2=typeof setTimeout=="function"?setTimeout:void 0,hJ=typeof clearTimeout=="function"?clearTimeout:void 0,FD=typeof Promise=="function"?Promise:void 0,fJ=typeof queueMicrotask=="function"?queueMicrotask:typeof FD<"u"?function(u){return FD.resolve(null).then(u).catch(pJ)}:u2;function pJ(u){setTimeout(function(){throw u})}function d2(u,h){var g=h,j=0;do{var M=g.nextSibling;if(u.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(j===0){u.removeChild(M),va(h);return}j--}else g!=="$"&&g!=="$?"&&g!=="$!"||j++;g=M}while(g);va(h)}function Nc(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function WD(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var Wh=Math.random().toString(36).slice(2),Ka="__reactFiber$"+Wh,Hm="__reactProps$"+Wh,Ml="__reactContainer$"+Wh,h2="__reactEvents$"+Wh,mJ="__reactListeners$"+Wh,gJ="__reactHandles$"+Wh;function Xu(u){var h=u[Ka];if(h)return h;for(var g=u.parentNode;g;){if(h=g[Ml]||g[Ka]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=WD(u);u!==null;){if(g=u[Ka])return g;u=WD(u)}return h}u=g,g=u.parentNode}return null}function Gm(u){return u=u[Ka]||u[Ml],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Vh(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Gv(u){return u[Hm]||null}var f2=[],Bh=-1;function $c(u){return{current:u}}function $r(u){0>Bh||(u.current=f2[Bh],f2[Bh]=null,Bh--)}function Ir(u,h){Bh++,f2[Bh]=u.current,u.current=h}var Lc={},uo=$c(Lc),Uo=$c(!1),Qu=Lc;function Uh(u,h){var g=u.type.contextTypes;if(!g)return Lc;var j=u.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===h)return j.__reactInternalMemoizedMaskedChildContext;var M={},W;for(W in g)M[W]=h[W];return j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=M),M}function qo(u){return u=u.childContextTypes,u!=null}function Kv(){$r(Uo),$r(uo)}function VD(u,h,g){if(uo.current!==Lc)throw Error(n(168));Ir(uo,h),Ir(Uo,g)}function BD(u,h,g){var j=u.stateNode;if(h=h.childContextTypes,typeof j.getChildContext!="function")return g;j=j.getChildContext();for(var M in j)if(!(M in h))throw Error(n(108,Se(u)||"Unknown",M));return de({},g,j)}function Yv(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Lc,Qu=uo.current,Ir(uo,u),Ir(Uo,Uo.current),!0}function UD(u,h,g){var j=u.stateNode;if(!j)throw Error(n(169));g?(u=BD(u,h,Qu),j.__reactInternalMemoizedMergedChildContext=u,$r(Uo),$r(uo),Ir(uo,u)):$r(Uo),Ir(Uo,g)}var Nl=null,Xv=!1,p2=!1;function qD(u){Nl===null?Nl=[u]:Nl.push(u)}function xJ(u){Xv=!0,qD(u)}function zc(){if(!p2&&Nl!==null){p2=!0;var u=0,h=zn;try{var g=Nl;for(zn=1;u<g.length;u++){var j=g[u];do j=j(!0);while(j!==null)}Nl=null,Xv=!1}catch(M){throw Nl!==null&&(Nl=Nl.slice(u+1)),gn(lo,zc),M}finally{zn=h,p2=!1}}return null}var qh=[],Hh=0,Qv=null,Jv=0,$s=[],Ls=0,Ju=null,$l=1,Ll="";function Zu(u,h){qh[Hh++]=Jv,qh[Hh++]=Qv,Qv=u,Jv=h}function HD(u,h,g){$s[Ls++]=$l,$s[Ls++]=Ll,$s[Ls++]=Ju,Ju=u;var j=$l;u=Ll;var M=32-Dn(j)-1;j&=~(1<<M),g+=1;var W=32-Dn(h)+M;if(30<W){var X=M-M%5;W=(j&(1<<X)-1).toString(32),j>>=X,M-=X,$l=1<<32-Dn(h)+M|g<<M|j,Ll=W+u}else $l=1<<W|g<<M|j,Ll=u}function m2(u){u.return!==null&&(Zu(u,1),HD(u,1,0))}function g2(u){for(;u===Qv;)Qv=qh[--Hh],qh[Hh]=null,Jv=qh[--Hh],qh[Hh]=null;for(;u===Ju;)Ju=$s[--Ls],$s[Ls]=null,Ll=$s[--Ls],$s[Ls]=null,$l=$s[--Ls],$s[Ls]=null}var cs=null,us=null,Vr=!1,wa=null;function GD(u,h){var g=Vs(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function KD(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,cs=u,us=Nc(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,cs=u,us=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Ju!==null?{id:$l,overflow:Ll}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Vs(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,cs=u,us=null,!0):!1;default:return!1}}function x2(u){return(u.mode&1)!==0&&(u.flags&128)===0}function y2(u){if(Vr){var h=us;if(h){var g=h;if(!KD(u,h)){if(x2(u))throw Error(n(418));h=Nc(g.nextSibling);var j=cs;h&&KD(u,h)?GD(j,g):(u.flags=u.flags&-4097|2,Vr=!1,cs=u)}}else{if(x2(u))throw Error(n(418));u.flags=u.flags&-4097|2,Vr=!1,cs=u}}}function YD(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;cs=u}function Zv(u){if(u!==cs)return!1;if(!Vr)return YD(u),Vr=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!c2(u.type,u.memoizedProps)),h&&(h=us)){if(x2(u))throw XD(),Error(n(418));for(;h;)GD(u,h),h=Nc(h.nextSibling)}if(YD(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){us=Nc(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}us=null}}else us=cs?Nc(u.stateNode.nextSibling):null;return!0}function XD(){for(var u=us;u;)u=Nc(u.nextSibling)}function Gh(){us=cs=null,Vr=!1}function v2(u){wa===null?wa=[u]:wa.push(u)}var yJ=k.ReactCurrentBatchConfig;function Km(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var j=g.stateNode}if(!j)throw Error(n(147,u));var M=j,W=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===W?h.ref:(h=function(X){var ue=M.refs;X===null?delete ue[W]:ue[W]=X},h._stringRef=W,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function e0(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function QD(u){var h=u._init;return h(u._payload)}function JD(u){function h(Ie,we){if(u){var De=Ie.deletions;De===null?(Ie.deletions=[we],Ie.flags|=16):De.push(we)}}function g(Ie,we){if(!u)return null;for(;we!==null;)h(Ie,we),we=we.sibling;return null}function j(Ie,we){for(Ie=new Map;we!==null;)we.key!==null?Ie.set(we.key,we):Ie.set(we.index,we),we=we.sibling;return Ie}function M(Ie,we){return Ie=Gc(Ie,we),Ie.index=0,Ie.sibling=null,Ie}function W(Ie,we,De){return Ie.index=De,u?(De=Ie.alternate,De!==null?(De=De.index,De<we?(Ie.flags|=2,we):De):(Ie.flags|=2,we)):(Ie.flags|=1048576,we)}function X(Ie){return u&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ue(Ie,we,De,ft){return we===null||we.tag!==6?(we=uS(De,Ie.mode,ft),we.return=Ie,we):(we=M(we,De),we.return=Ie,we)}function xe(Ie,we,De,ft){var Ht=De.type;return Ht===E?ot(Ie,we,De.props.children,ft,De.key):we!==null&&(we.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===ne&&QD(Ht)===we.type)?(ft=M(we,De.props),ft.ref=Km(Ie,we,De),ft.return=Ie,ft):(ft=S0(De.type,De.key,De.props,null,Ie.mode,ft),ft.ref=Km(Ie,we,De),ft.return=Ie,ft)}function Le(Ie,we,De,ft){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=dS(De,Ie.mode,ft),we.return=Ie,we):(we=M(we,De.children||[]),we.return=Ie,we)}function ot(Ie,we,De,ft,Ht){return we===null||we.tag!==7?(we=ad(De,Ie.mode,ft,Ht),we.return=Ie,we):(we=M(we,De),we.return=Ie,we)}function ut(Ie,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=uS(""+we,Ie.mode,De),we.return=Ie,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case P:return De=S0(we.type,we.key,we.props,null,Ie.mode,De),De.ref=Km(Ie,null,we),De.return=Ie,De;case R:return we=dS(we,Ie.mode,De),we.return=Ie,we;case ne:var ft=we._init;return ut(Ie,ft(we._payload),De)}if(Mt(we)||Z(we))return we=ad(we,Ie.mode,De,null),we.return=Ie,we;e0(Ie,we)}return null}function rt(Ie,we,De,ft){var Ht=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Ht!==null?null:ue(Ie,we,""+De,ft);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case P:return De.key===Ht?xe(Ie,we,De,ft):null;case R:return De.key===Ht?Le(Ie,we,De,ft):null;case ne:return Ht=De._init,rt(Ie,we,Ht(De._payload),ft)}if(Mt(De)||Z(De))return Ht!==null?null:ot(Ie,we,De,ft,null);e0(Ie,De)}return null}function Dt(Ie,we,De,ft,Ht){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Ie=Ie.get(De)||null,ue(we,Ie,""+ft,Ht);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case P:return Ie=Ie.get(ft.key===null?De:ft.key)||null,xe(we,Ie,ft,Ht);case R:return Ie=Ie.get(ft.key===null?De:ft.key)||null,Le(we,Ie,ft,Ht);case ne:var rn=ft._init;return Dt(Ie,we,De,rn(ft._payload),Ht)}if(Mt(ft)||Z(ft))return Ie=Ie.get(De)||null,ot(we,Ie,ft,Ht,null);e0(we,ft)}return null}function Wt(Ie,we,De,ft){for(var Ht=null,rn=null,on=we,xn=we=0,qi=null;on!==null&&xn<De.length;xn++){on.index>xn?(qi=on,on=null):qi=on.sibling;var tr=rt(Ie,on,De[xn],ft);if(tr===null){on===null&&(on=qi);break}u&&on&&tr.alternate===null&&h(Ie,on),we=W(tr,we,xn),rn===null?Ht=tr:rn.sibling=tr,rn=tr,on=qi}if(xn===De.length)return g(Ie,on),Vr&&Zu(Ie,xn),Ht;if(on===null){for(;xn<De.length;xn++)on=ut(Ie,De[xn],ft),on!==null&&(we=W(on,we,xn),rn===null?Ht=on:rn.sibling=on,rn=on);return Vr&&Zu(Ie,xn),Ht}for(on=j(Ie,on);xn<De.length;xn++)qi=Dt(on,Ie,xn,De[xn],ft),qi!==null&&(u&&qi.alternate!==null&&on.delete(qi.key===null?xn:qi.key),we=W(qi,we,xn),rn===null?Ht=qi:rn.sibling=qi,rn=qi);return u&&on.forEach(function(Kc){return h(Ie,Kc)}),Vr&&Zu(Ie,xn),Ht}function qt(Ie,we,De,ft){var Ht=Z(De);if(typeof Ht!="function")throw Error(n(150));if(De=Ht.call(De),De==null)throw Error(n(151));for(var rn=Ht=null,on=we,xn=we=0,qi=null,tr=De.next();on!==null&&!tr.done;xn++,tr=De.next()){on.index>xn?(qi=on,on=null):qi=on.sibling;var Kc=rt(Ie,on,tr.value,ft);if(Kc===null){on===null&&(on=qi);break}u&&on&&Kc.alternate===null&&h(Ie,on),we=W(Kc,we,xn),rn===null?Ht=Kc:rn.sibling=Kc,rn=Kc,on=qi}if(tr.done)return g(Ie,on),Vr&&Zu(Ie,xn),Ht;if(on===null){for(;!tr.done;xn++,tr=De.next())tr=ut(Ie,tr.value,ft),tr!==null&&(we=W(tr,we,xn),rn===null?Ht=tr:rn.sibling=tr,rn=tr);return Vr&&Zu(Ie,xn),Ht}for(on=j(Ie,on);!tr.done;xn++,tr=De.next())tr=Dt(on,Ie,xn,tr.value,ft),tr!==null&&(u&&tr.alternate!==null&&on.delete(tr.key===null?xn:tr.key),we=W(tr,we,xn),rn===null?Ht=tr:rn.sibling=tr,rn=tr);return u&&on.forEach(function(QJ){return h(Ie,QJ)}),Vr&&Zu(Ie,xn),Ht}function pi(Ie,we,De,ft){if(typeof De=="object"&&De!==null&&De.type===E&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case P:e:{for(var Ht=De.key,rn=we;rn!==null;){if(rn.key===Ht){if(Ht=De.type,Ht===E){if(rn.tag===7){g(Ie,rn.sibling),we=M(rn,De.props.children),we.return=Ie,Ie=we;break e}}else if(rn.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===ne&&QD(Ht)===rn.type){g(Ie,rn.sibling),we=M(rn,De.props),we.ref=Km(Ie,rn,De),we.return=Ie,Ie=we;break e}g(Ie,rn);break}else h(Ie,rn);rn=rn.sibling}De.type===E?(we=ad(De.props.children,Ie.mode,ft,De.key),we.return=Ie,Ie=we):(ft=S0(De.type,De.key,De.props,null,Ie.mode,ft),ft.ref=Km(Ie,we,De),ft.return=Ie,Ie=ft)}return X(Ie);case R:e:{for(rn=De.key;we!==null;){if(we.key===rn)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){g(Ie,we.sibling),we=M(we,De.children||[]),we.return=Ie,Ie=we;break e}else{g(Ie,we);break}else h(Ie,we);we=we.sibling}we=dS(De,Ie.mode,ft),we.return=Ie,Ie=we}return X(Ie);case ne:return rn=De._init,pi(Ie,we,rn(De._payload),ft)}if(Mt(De))return Wt(Ie,we,De,ft);if(Z(De))return qt(Ie,we,De,ft);e0(Ie,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(g(Ie,we.sibling),we=M(we,De),we.return=Ie,Ie=we):(g(Ie,we),we=uS(De,Ie.mode,ft),we.return=Ie,Ie=we),X(Ie)):g(Ie,we)}return pi}var Kh=JD(!0),ZD=JD(!1),t0=$c(null),n0=null,Yh=null,b2=null;function _2(){b2=Yh=n0=null}function w2(u){var h=t0.current;$r(t0),u._currentValue=h}function j2(u,h,g){for(;u!==null;){var j=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),u===g)break;u=u.return}}function Xh(u,h){n0=u,b2=Yh=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(Ho=!0),u.firstContext=null)}function zs(u){var h=u._currentValue;if(b2!==u)if(u={context:u,memoizedValue:h,next:null},Yh===null){if(n0===null)throw Error(n(308));Yh=u,n0.dependencies={lanes:0,firstContext:u}}else Yh=Yh.next=u;return h}var ed=null;function S2(u){ed===null?ed=[u]:ed.push(u)}function e3(u,h,g,j){var M=h.interleaved;return M===null?(g.next=g,S2(h)):(g.next=M.next,M.next=g),h.interleaved=g,zl(u,j)}function zl(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var Fc=!1;function C2(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t3(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fl(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Wc(u,h,g){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(Qn&2)!==0){var M=j.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),j.pending=h,zl(u,g)}return M=j.interleaved,M===null?(h.next=h,S2(j)):(h.next=M.next,M.next=h),j.interleaved=h,zl(u,g)}function r0(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var j=h.lanes;j&=u.pendingLanes,g|=j,h.lanes=g,ma(u,g)}}function n3(u,h){var g=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,g===j)){var M=null,W=null;if(g=g.firstBaseUpdate,g!==null){do{var X={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};W===null?M=W=X:W=W.next=X,g=g.next}while(g!==null);W===null?M=W=h:W=W.next=h}else M=W=h;g={baseState:j.baseState,firstBaseUpdate:M,lastBaseUpdate:W,shared:j.shared,effects:j.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function i0(u,h,g,j){var M=u.updateQueue;Fc=!1;var W=M.firstBaseUpdate,X=M.lastBaseUpdate,ue=M.shared.pending;if(ue!==null){M.shared.pending=null;var xe=ue,Le=xe.next;xe.next=null,X===null?W=Le:X.next=Le,X=xe;var ot=u.alternate;ot!==null&&(ot=ot.updateQueue,ue=ot.lastBaseUpdate,ue!==X&&(ue===null?ot.firstBaseUpdate=Le:ue.next=Le,ot.lastBaseUpdate=xe))}if(W!==null){var ut=M.baseState;X=0,ot=Le=xe=null,ue=W;do{var rt=ue.lane,Dt=ue.eventTime;if((j&rt)===rt){ot!==null&&(ot=ot.next={eventTime:Dt,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var Wt=u,qt=ue;switch(rt=h,Dt=g,qt.tag){case 1:if(Wt=qt.payload,typeof Wt=="function"){ut=Wt.call(Dt,ut,rt);break e}ut=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=qt.payload,rt=typeof Wt=="function"?Wt.call(Dt,ut,rt):Wt,rt==null)break e;ut=de({},ut,rt);break e;case 2:Fc=!0}}ue.callback!==null&&ue.lane!==0&&(u.flags|=64,rt=M.effects,rt===null?M.effects=[ue]:rt.push(ue))}else Dt={eventTime:Dt,lane:rt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ot===null?(Le=ot=Dt,xe=ut):ot=ot.next=Dt,X|=rt;if(ue=ue.next,ue===null){if(ue=M.shared.pending,ue===null)break;rt=ue,ue=rt.next,rt.next=null,M.lastBaseUpdate=rt,M.shared.pending=null}}while(!0);if(ot===null&&(xe=ut),M.baseState=xe,M.firstBaseUpdate=Le,M.lastBaseUpdate=ot,h=M.shared.interleaved,h!==null){M=h;do X|=M.lane,M=M.next;while(M!==h)}else W===null&&(M.shared.lanes=0);rd|=X,u.lanes=X,u.memoizedState=ut}}function r3(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var j=u[h],M=j.callback;if(M!==null){if(j.callback=null,j=g,typeof M!="function")throw Error(n(191,M));M.call(j)}}}var Ym={},Ya=$c(Ym),Xm=$c(Ym),Qm=$c(Ym);function td(u){if(u===Ym)throw Error(n(174));return u}function P2(u,h){switch(Ir(Qm,h),Ir(Xm,u),Ir(Ya,Ym),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:mt(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=mt(h,u)}$r(Ya),Ir(Ya,h)}function Qh(){$r(Ya),$r(Xm),$r(Qm)}function i3(u){td(Qm.current);var h=td(Ya.current),g=mt(h,u.type);h!==g&&(Ir(Xm,u),Ir(Ya,g))}function A2(u){Xm.current===u&&($r(Ya),$r(Xm))}var Qr=$c(0);function o0(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var E2=[];function I2(){for(var u=0;u<E2.length;u++)E2[u]._workInProgressVersionPrimary=null;E2.length=0}var s0=k.ReactCurrentDispatcher,T2=k.ReactCurrentBatchConfig,nd=0,Jr=null,ki=null,Bi=null,a0=!1,Jm=!1,Zm=0,vJ=0;function ho(){throw Error(n(321))}function k2(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!_a(u[g],h[g]))return!1;return!0}function R2(u,h,g,j,M,W){if(nd=W,Jr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,s0.current=u===null||u.memoizedState===null?jJ:SJ,u=g(j,M),Jm){W=0;do{if(Jm=!1,Zm=0,25<=W)throw Error(n(301));W+=1,Bi=ki=null,h.updateQueue=null,s0.current=CJ,u=g(j,M)}while(Jm)}if(s0.current=u0,h=ki!==null&&ki.next!==null,nd=0,Bi=ki=Jr=null,a0=!1,h)throw Error(n(300));return u}function O2(){var u=Zm!==0;return Zm=0,u}function Xa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Jr.memoizedState=Bi=u:Bi=Bi.next=u,Bi}function Fs(){if(ki===null){var u=Jr.alternate;u=u!==null?u.memoizedState:null}else u=ki.next;var h=Bi===null?Jr.memoizedState:Bi.next;if(h!==null)Bi=h,ki=u;else{if(u===null)throw Error(n(310));ki=u,u={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},Bi===null?Jr.memoizedState=Bi=u:Bi=Bi.next=u}return Bi}function eg(u,h){return typeof h=="function"?h(u):h}function D2(u){var h=Fs(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var j=ki,M=j.baseQueue,W=g.pending;if(W!==null){if(M!==null){var X=M.next;M.next=W.next,W.next=X}j.baseQueue=M=W,g.pending=null}if(M!==null){W=M.next,j=j.baseState;var ue=X=null,xe=null,Le=W;do{var ot=Le.lane;if((nd&ot)===ot)xe!==null&&(xe=xe.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),j=Le.hasEagerState?Le.eagerState:u(j,Le.action);else{var ut={lane:ot,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};xe===null?(ue=xe=ut,X=j):xe=xe.next=ut,Jr.lanes|=ot,rd|=ot}Le=Le.next}while(Le!==null&&Le!==W);xe===null?X=j:xe.next=ue,_a(j,h.memoizedState)||(Ho=!0),h.memoizedState=j,h.baseState=X,h.baseQueue=xe,g.lastRenderedState=j}if(u=g.interleaved,u!==null){M=u;do W=M.lane,Jr.lanes|=W,rd|=W,M=M.next;while(M!==u)}else M===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function M2(u){var h=Fs(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var j=g.dispatch,M=g.pending,W=h.memoizedState;if(M!==null){g.pending=null;var X=M=M.next;do W=u(W,X.action),X=X.next;while(X!==M);_a(W,h.memoizedState)||(Ho=!0),h.memoizedState=W,h.baseQueue===null&&(h.baseState=W),g.lastRenderedState=W}return[W,j]}function o3(){}function s3(u,h){var g=Jr,j=Fs(),M=h(),W=!_a(j.memoizedState,M);if(W&&(j.memoizedState=M,Ho=!0),j=j.queue,N2(c3.bind(null,g,j,u),[u]),j.getSnapshot!==h||W||Bi!==null&&Bi.memoizedState.tag&1){if(g.flags|=2048,tg(9,l3.bind(null,g,j,M,h),void 0,null),Ui===null)throw Error(n(349));(nd&30)!==0||a3(g,h,M)}return M}function a3(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=Jr.updateQueue,h===null?(h={lastEffect:null,stores:null},Jr.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function l3(u,h,g,j){h.value=g,h.getSnapshot=j,u3(h)&&d3(u)}function c3(u,h,g){return g(function(){u3(h)&&d3(u)})}function u3(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!_a(u,g)}catch{return!0}}function d3(u){var h=zl(u,1);h!==null&&Pa(h,u,1,-1)}function h3(u){var h=Xa();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:u},h.queue=u,u=u.dispatch=wJ.bind(null,Jr,u),[h.memoizedState,u]}function tg(u,h,g,j){return u={tag:u,create:h,destroy:g,deps:j,next:null},h=Jr.updateQueue,h===null?(h={lastEffect:null,stores:null},Jr.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(j=g.next,g.next=u,u.next=j,h.lastEffect=u)),u}function f3(){return Fs().memoizedState}function l0(u,h,g,j){var M=Xa();Jr.flags|=u,M.memoizedState=tg(1|h,g,void 0,j===void 0?null:j)}function c0(u,h,g,j){var M=Fs();j=j===void 0?null:j;var W=void 0;if(ki!==null){var X=ki.memoizedState;if(W=X.destroy,j!==null&&k2(j,X.deps)){M.memoizedState=tg(h,g,W,j);return}}Jr.flags|=u,M.memoizedState=tg(1|h,g,W,j)}function p3(u,h){return l0(8390656,8,u,h)}function N2(u,h){return c0(2048,8,u,h)}function m3(u,h){return c0(4,2,u,h)}function g3(u,h){return c0(4,4,u,h)}function x3(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function y3(u,h,g){return g=g!=null?g.concat([u]):null,c0(4,4,x3.bind(null,h,u),g)}function $2(){}function v3(u,h){var g=Fs();h=h===void 0?null:h;var j=g.memoizedState;return j!==null&&h!==null&&k2(h,j[1])?j[0]:(g.memoizedState=[u,h],u)}function b3(u,h){var g=Fs();h=h===void 0?null:h;var j=g.memoizedState;return j!==null&&h!==null&&k2(h,j[1])?j[0]:(u=u(),g.memoizedState=[u,h],u)}function _3(u,h,g){return(nd&21)===0?(u.baseState&&(u.baseState=!1,Ho=!0),u.memoizedState=g):(_a(g,h)||(g=Ba(),Jr.lanes|=g,rd|=g,u.baseState=!0),h)}function bJ(u,h){var g=zn;zn=g!==0&&4>g?g:4,u(!0);var j=T2.transition;T2.transition={};try{u(!1),h()}finally{zn=g,T2.transition=j}}function w3(){return Fs().memoizedState}function _J(u,h,g){var j=qc(u);if(g={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null},j3(u))S3(h,g);else if(g=e3(u,h,g,j),g!==null){var M=Io();Pa(g,u,j,M),C3(g,h,j)}}function wJ(u,h,g){var j=qc(u),M={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null};if(j3(u))S3(h,M);else{var W=u.alternate;if(u.lanes===0&&(W===null||W.lanes===0)&&(W=h.lastRenderedReducer,W!==null))try{var X=h.lastRenderedState,ue=W(X,g);if(M.hasEagerState=!0,M.eagerState=ue,_a(ue,X)){var xe=h.interleaved;xe===null?(M.next=M,S2(h)):(M.next=xe.next,xe.next=M),h.interleaved=M;return}}catch{}finally{}g=e3(u,h,M,j),g!==null&&(M=Io(),Pa(g,u,j,M),C3(g,h,j))}}function j3(u){var h=u.alternate;return u===Jr||h!==null&&h===Jr}function S3(u,h){Jm=a0=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function C3(u,h,g){if((g&4194240)!==0){var j=h.lanes;j&=u.pendingLanes,g|=j,h.lanes=g,ma(u,g)}}var u0={readContext:zs,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useInsertionEffect:ho,useLayoutEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useMutableSource:ho,useSyncExternalStore:ho,useId:ho,unstable_isNewReconciler:!1},jJ={readContext:zs,useCallback:function(u,h){return Xa().memoizedState=[u,h===void 0?null:h],u},useContext:zs,useEffect:p3,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,l0(4194308,4,x3.bind(null,h,u),g)},useLayoutEffect:function(u,h){return l0(4194308,4,u,h)},useInsertionEffect:function(u,h){return l0(4,2,u,h)},useMemo:function(u,h){var g=Xa();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var j=Xa();return h=g!==void 0?g(h):h,j.memoizedState=j.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},j.queue=u,u=u.dispatch=_J.bind(null,Jr,u),[j.memoizedState,u]},useRef:function(u){var h=Xa();return u={current:u},h.memoizedState=u},useState:h3,useDebugValue:$2,useDeferredValue:function(u){return Xa().memoizedState=u},useTransition:function(){var u=h3(!1),h=u[0];return u=bJ.bind(null,u[1]),Xa().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var j=Jr,M=Xa();if(Vr){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),Ui===null)throw Error(n(349));(nd&30)!==0||a3(j,h,g)}M.memoizedState=g;var W={value:g,getSnapshot:h};return M.queue=W,p3(c3.bind(null,j,W,u),[u]),j.flags|=2048,tg(9,l3.bind(null,j,W,g,h),void 0,null),g},useId:function(){var u=Xa(),h=Ui.identifierPrefix;if(Vr){var g=Ll,j=$l;g=(j&~(1<<32-Dn(j)-1)).toString(32)+g,h=":"+h+"R"+g,g=Zm++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=vJ++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},SJ={readContext:zs,useCallback:v3,useContext:zs,useEffect:N2,useImperativeHandle:y3,useInsertionEffect:m3,useLayoutEffect:g3,useMemo:b3,useReducer:D2,useRef:f3,useState:function(){return D2(eg)},useDebugValue:$2,useDeferredValue:function(u){var h=Fs();return _3(h,ki.memoizedState,u)},useTransition:function(){var u=D2(eg)[0],h=Fs().memoizedState;return[u,h]},useMutableSource:o3,useSyncExternalStore:s3,useId:w3,unstable_isNewReconciler:!1},CJ={readContext:zs,useCallback:v3,useContext:zs,useEffect:N2,useImperativeHandle:y3,useInsertionEffect:m3,useLayoutEffect:g3,useMemo:b3,useReducer:M2,useRef:f3,useState:function(){return M2(eg)},useDebugValue:$2,useDeferredValue:function(u){var h=Fs();return ki===null?h.memoizedState=u:_3(h,ki.memoizedState,u)},useTransition:function(){var u=M2(eg)[0],h=Fs().memoizedState;return[u,h]},useMutableSource:o3,useSyncExternalStore:s3,useId:w3,unstable_isNewReconciler:!1};function ja(u,h){if(u&&u.defaultProps){h=de({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function L2(u,h,g,j){h=u.memoizedState,g=g(j,h),g=g==null?h:de({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var d0={isMounted:function(u){return(u=u._reactInternals)?nt(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var j=Io(),M=qc(u),W=Fl(j,M);W.payload=h,g!=null&&(W.callback=g),h=Wc(u,W,M),h!==null&&(Pa(h,u,M,j),r0(h,u,M))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var j=Io(),M=qc(u),W=Fl(j,M);W.tag=1,W.payload=h,g!=null&&(W.callback=g),h=Wc(u,W,M),h!==null&&(Pa(h,u,M,j),r0(h,u,M))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Io(),j=qc(u),M=Fl(g,j);M.tag=2,h!=null&&(M.callback=h),h=Wc(u,M,j),h!==null&&(Pa(h,u,j,g),r0(h,u,j))}};function P3(u,h,g,j,M,W,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,W,X):h.prototype&&h.prototype.isPureReactComponent?!Wm(g,j)||!Wm(M,W):!0}function A3(u,h,g){var j=!1,M=Lc,W=h.contextType;return typeof W=="object"&&W!==null?W=zs(W):(M=qo(h)?Qu:uo.current,j=h.contextTypes,W=(j=j!=null)?Uh(u,M):Lc),h=new h(g,W),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=d0,u.stateNode=h,h._reactInternals=u,j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=M,u.__reactInternalMemoizedMaskedChildContext=W),h}function E3(u,h,g,j){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,j),h.state!==u&&d0.enqueueReplaceState(h,h.state,null)}function z2(u,h,g,j){var M=u.stateNode;M.props=g,M.state=u.memoizedState,M.refs={},C2(u);var W=h.contextType;typeof W=="object"&&W!==null?M.context=zs(W):(W=qo(h)?Qu:uo.current,M.context=Uh(u,W)),M.state=u.memoizedState,W=h.getDerivedStateFromProps,typeof W=="function"&&(L2(u,h,W,g),M.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(h=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),h!==M.state&&d0.enqueueReplaceState(M,M.state,null),i0(u,g,M,j),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308)}function Jh(u,h){try{var g="",j=h;do g+=ge(j),j=j.return;while(j);var M=g}catch(W){M=`
Error generating stack: `+W.message+`
`+W.stack}return{value:u,source:h,stack:M,digest:null}}function F2(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function W2(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var PJ=typeof WeakMap=="function"?WeakMap:Map;function I3(u,h,g){g=Fl(-1,g),g.tag=3,g.payload={element:null};var j=h.value;return g.callback=function(){y0||(y0=!0,nS=j),W2(u,h)},g}function T3(u,h,g){g=Fl(-1,g),g.tag=3;var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var M=h.value;g.payload=function(){return j(M)},g.callback=function(){W2(u,h)}}var W=u.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(g.callback=function(){W2(u,h),typeof j!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),g}function k3(u,h,g){var j=u.pingCache;if(j===null){j=u.pingCache=new PJ;var M=new Set;j.set(h,M)}else M=j.get(h),M===void 0&&(M=new Set,j.set(h,M));M.has(g)||(M.add(g),u=FJ.bind(null,u,h,g),h.then(u,u))}function R3(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function O3(u,h,g,j,M){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=Fl(-1,1),h.tag=2,Wc(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=M,u)}var AJ=k.ReactCurrentOwner,Ho=!1;function Eo(u,h,g,j){h.child=u===null?ZD(h,null,g,j):Kh(h,u.child,g,j)}function D3(u,h,g,j,M){g=g.render;var W=h.ref;return Xh(h,M),j=R2(u,h,g,j,W,M),g=O2(),u!==null&&!Ho?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~M,Wl(u,h,M)):(Vr&&g&&m2(h),h.flags|=1,Eo(u,h,j,M),h.child)}function M3(u,h,g,j,M){if(u===null){var W=g.type;return typeof W=="function"&&!cS(W)&&W.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=W,N3(u,h,W,j,M)):(u=S0(g.type,null,j,h,h.mode,M),u.ref=h.ref,u.return=h,h.child=u)}if(W=u.child,(u.lanes&M)===0){var X=W.memoizedProps;if(g=g.compare,g=g!==null?g:Wm,g(X,j)&&u.ref===h.ref)return Wl(u,h,M)}return h.flags|=1,u=Gc(W,j),u.ref=h.ref,u.return=h,h.child=u}function N3(u,h,g,j,M){if(u!==null){var W=u.memoizedProps;if(Wm(W,j)&&u.ref===h.ref)if(Ho=!1,h.pendingProps=j=W,(u.lanes&M)!==0)(u.flags&131072)!==0&&(Ho=!0);else return h.lanes=u.lanes,Wl(u,h,M)}return V2(u,h,g,j,M)}function $3(u,h,g){var j=h.pendingProps,M=j.children,W=u!==null?u.memoizedState:null;if(j.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(ef,ds),ds|=g;else{if((g&1073741824)===0)return u=W!==null?W.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Ir(ef,ds),ds|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=W!==null?W.baseLanes:g,Ir(ef,ds),ds|=j}else W!==null?(j=W.baseLanes|g,h.memoizedState=null):j=g,Ir(ef,ds),ds|=j;return Eo(u,h,M,g),h.child}function L3(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function V2(u,h,g,j,M){var W=qo(g)?Qu:uo.current;return W=Uh(h,W),Xh(h,M),g=R2(u,h,g,j,W,M),j=O2(),u!==null&&!Ho?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~M,Wl(u,h,M)):(Vr&&j&&m2(h),h.flags|=1,Eo(u,h,g,M),h.child)}function z3(u,h,g,j,M){if(qo(g)){var W=!0;Yv(h)}else W=!1;if(Xh(h,M),h.stateNode===null)f0(u,h),A3(h,g,j),z2(h,g,j,M),j=!0;else if(u===null){var X=h.stateNode,ue=h.memoizedProps;X.props=ue;var xe=X.context,Le=g.contextType;typeof Le=="object"&&Le!==null?Le=zs(Le):(Le=qo(g)?Qu:uo.current,Le=Uh(h,Le));var ot=g.getDerivedStateFromProps,ut=typeof ot=="function"||typeof X.getSnapshotBeforeUpdate=="function";ut||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ue!==j||xe!==Le)&&E3(h,X,j,Le),Fc=!1;var rt=h.memoizedState;X.state=rt,i0(h,j,X,M),xe=h.memoizedState,ue!==j||rt!==xe||Uo.current||Fc?(typeof ot=="function"&&(L2(h,g,ot,j),xe=h.memoizedState),(ue=Fc||P3(h,g,ue,j,rt,xe,Le))?(ut||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=xe),X.props=j,X.state=xe,X.context=Le,j=ue):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{X=h.stateNode,t3(u,h),ue=h.memoizedProps,Le=h.type===h.elementType?ue:ja(h.type,ue),X.props=Le,ut=h.pendingProps,rt=X.context,xe=g.contextType,typeof xe=="object"&&xe!==null?xe=zs(xe):(xe=qo(g)?Qu:uo.current,xe=Uh(h,xe));var Dt=g.getDerivedStateFromProps;(ot=typeof Dt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ue!==ut||rt!==xe)&&E3(h,X,j,xe),Fc=!1,rt=h.memoizedState,X.state=rt,i0(h,j,X,M);var Wt=h.memoizedState;ue!==ut||rt!==Wt||Uo.current||Fc?(typeof Dt=="function"&&(L2(h,g,Dt,j),Wt=h.memoizedState),(Le=Fc||P3(h,g,Le,j,rt,Wt,xe)||!1)?(ot||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(j,Wt,xe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(j,Wt,xe)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||ue===u.memoizedProps&&rt===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&rt===u.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=Wt),X.props=j,X.state=Wt,X.context=xe,j=Le):(typeof X.componentDidUpdate!="function"||ue===u.memoizedProps&&rt===u.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&rt===u.memoizedState||(h.flags|=1024),j=!1)}return B2(u,h,g,j,W,M)}function B2(u,h,g,j,M,W){L3(u,h);var X=(h.flags&128)!==0;if(!j&&!X)return M&&UD(h,g,!1),Wl(u,h,W);j=h.stateNode,AJ.current=h;var ue=X&&typeof g.getDerivedStateFromError!="function"?null:j.render();return h.flags|=1,u!==null&&X?(h.child=Kh(h,u.child,null,W),h.child=Kh(h,null,ue,W)):Eo(u,h,ue,W),h.memoizedState=j.state,M&&UD(h,g,!0),h.child}function F3(u){var h=u.stateNode;h.pendingContext?VD(u,h.pendingContext,h.pendingContext!==h.context):h.context&&VD(u,h.context,!1),P2(u,h.containerInfo)}function W3(u,h,g,j,M){return Gh(),v2(M),h.flags|=256,Eo(u,h,g,j),h.child}var U2={dehydrated:null,treeContext:null,retryLane:0};function q2(u){return{baseLanes:u,cachePool:null,transitions:null}}function V3(u,h,g){var j=h.pendingProps,M=Qr.current,W=!1,X=(h.flags&128)!==0,ue;if((ue=X)||(ue=u!==null&&u.memoizedState===null?!1:(M&2)!==0),ue?(W=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(M|=1),Ir(Qr,M&1),u===null)return y2(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=j.children,u=j.fallback,W?(j=h.mode,W=h.child,X={mode:"hidden",children:X},(j&1)===0&&W!==null?(W.childLanes=0,W.pendingProps=X):W=C0(X,j,0,null),u=ad(u,j,g,null),W.return=h,u.return=h,W.sibling=u,h.child=W,h.child.memoizedState=q2(g),h.memoizedState=U2,u):H2(h,X));if(M=u.memoizedState,M!==null&&(ue=M.dehydrated,ue!==null))return EJ(u,h,X,j,ue,M,g);if(W){W=j.fallback,X=h.mode,M=u.child,ue=M.sibling;var xe={mode:"hidden",children:j.children};return(X&1)===0&&h.child!==M?(j=h.child,j.childLanes=0,j.pendingProps=xe,h.deletions=null):(j=Gc(M,xe),j.subtreeFlags=M.subtreeFlags&14680064),ue!==null?W=Gc(ue,W):(W=ad(W,X,g,null),W.flags|=2),W.return=h,j.return=h,j.sibling=W,h.child=j,j=W,W=h.child,X=u.child.memoizedState,X=X===null?q2(g):{baseLanes:X.baseLanes|g,cachePool:null,transitions:X.transitions},W.memoizedState=X,W.childLanes=u.childLanes&~g,h.memoizedState=U2,j}return W=u.child,u=W.sibling,j=Gc(W,{mode:"visible",children:j.children}),(h.mode&1)===0&&(j.lanes=g),j.return=h,j.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=j,h.memoizedState=null,j}function H2(u,h){return h=C0({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function h0(u,h,g,j){return j!==null&&v2(j),Kh(h,u.child,null,g),u=H2(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function EJ(u,h,g,j,M,W,X){if(g)return h.flags&256?(h.flags&=-257,j=F2(Error(n(422))),h0(u,h,X,j)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(W=j.fallback,M=h.mode,j=C0({mode:"visible",children:j.children},M,0,null),W=ad(W,M,X,null),W.flags|=2,j.return=h,W.return=h,j.sibling=W,h.child=j,(h.mode&1)!==0&&Kh(h,u.child,null,X),h.child.memoizedState=q2(X),h.memoizedState=U2,W);if((h.mode&1)===0)return h0(u,h,X,null);if(M.data==="$!"){if(j=M.nextSibling&&M.nextSibling.dataset,j)var ue=j.dgst;return j=ue,W=Error(n(419)),j=F2(W,j,void 0),h0(u,h,X,j)}if(ue=(X&u.childLanes)!==0,Ho||ue){if(j=Ui,j!==null){switch(X&-X){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(j.suspendedLanes|X))!==0?0:M,M!==0&&M!==W.retryLane&&(W.retryLane=M,zl(u,M),Pa(j,u,M,-1))}return lS(),j=F2(Error(n(421))),h0(u,h,X,j)}return M.data==="$?"?(h.flags|=128,h.child=u.child,h=WJ.bind(null,u),M._reactRetry=h,null):(u=W.treeContext,us=Nc(M.nextSibling),cs=h,Vr=!0,wa=null,u!==null&&($s[Ls++]=$l,$s[Ls++]=Ll,$s[Ls++]=Ju,$l=u.id,Ll=u.overflow,Ju=h),h=H2(h,j.children),h.flags|=4096,h)}function B3(u,h,g){u.lanes|=h;var j=u.alternate;j!==null&&(j.lanes|=h),j2(u.return,h,g)}function G2(u,h,g,j,M){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:g,tailMode:M}:(W.isBackwards=h,W.rendering=null,W.renderingStartTime=0,W.last=j,W.tail=g,W.tailMode=M)}function U3(u,h,g){var j=h.pendingProps,M=j.revealOrder,W=j.tail;if(Eo(u,h,j.children,g),j=Qr.current,(j&2)!==0)j=j&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&B3(u,g,h);else if(u.tag===19)B3(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}j&=1}if(Ir(Qr,j),(h.mode&1)===0)h.memoizedState=null;else switch(M){case"forwards":for(g=h.child,M=null;g!==null;)u=g.alternate,u!==null&&o0(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=h.child,h.child=null):(M=g.sibling,g.sibling=null),G2(h,!1,M,g,W);break;case"backwards":for(g=null,M=h.child,h.child=null;M!==null;){if(u=M.alternate,u!==null&&o0(u)===null){h.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}G2(h,!0,g,null,W);break;case"together":G2(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function f0(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Wl(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),rd|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=Gc(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=Gc(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function IJ(u,h,g){switch(h.tag){case 3:F3(h),Gh();break;case 5:i3(h);break;case 1:qo(h.type)&&Yv(h);break;case 4:P2(h,h.stateNode.containerInfo);break;case 10:var j=h.type._context,M=h.memoizedProps.value;Ir(t0,j._currentValue),j._currentValue=M;break;case 13:if(j=h.memoizedState,j!==null)return j.dehydrated!==null?(Ir(Qr,Qr.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?V3(u,h,g):(Ir(Qr,Qr.current&1),u=Wl(u,h,g),u!==null?u.sibling:null);Ir(Qr,Qr.current&1);break;case 19:if(j=(g&h.childLanes)!==0,(u.flags&128)!==0){if(j)return U3(u,h,g);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ir(Qr,Qr.current),j)break;return null;case 22:case 23:return h.lanes=0,$3(u,h,g)}return Wl(u,h,g)}var q3,K2,H3,G3;q3=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},K2=function(){},H3=function(u,h,g,j){var M=u.memoizedProps;if(M!==j){u=h.stateNode,td(Ya.current);var W=null;switch(g){case"input":M=Ce(u,M),j=Ce(u,j),W=[];break;case"select":M=de({},M,{value:void 0}),j=de({},j,{value:void 0}),W=[];break;case"textarea":M=Qe(u,M),j=Qe(u,j),W=[];break;default:typeof M.onClick!="function"&&typeof j.onClick=="function"&&(u.onclick=Hv)}Ue(g,j);var X;g=null;for(Le in M)if(!j.hasOwnProperty(Le)&&M.hasOwnProperty(Le)&&M[Le]!=null)if(Le==="style"){var ue=M[Le];for(X in ue)ue.hasOwnProperty(X)&&(g||(g={}),g[X]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(i.hasOwnProperty(Le)?W||(W=[]):(W=W||[]).push(Le,null));for(Le in j){var xe=j[Le];if(ue=M!=null?M[Le]:void 0,j.hasOwnProperty(Le)&&xe!==ue&&(xe!=null||ue!=null))if(Le==="style")if(ue){for(X in ue)!ue.hasOwnProperty(X)||xe&&xe.hasOwnProperty(X)||(g||(g={}),g[X]="");for(X in xe)xe.hasOwnProperty(X)&&ue[X]!==xe[X]&&(g||(g={}),g[X]=xe[X])}else g||(W||(W=[]),W.push(Le,g)),g=xe;else Le==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,ue=ue?ue.__html:void 0,xe!=null&&ue!==xe&&(W=W||[]).push(Le,xe)):Le==="children"?typeof xe!="string"&&typeof xe!="number"||(W=W||[]).push(Le,""+xe):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(i.hasOwnProperty(Le)?(xe!=null&&Le==="onScroll"&&Nr("scroll",u),W||ue===xe||(W=[])):(W=W||[]).push(Le,xe))}g&&(W=W||[]).push("style",g);var Le=W;(h.updateQueue=Le)&&(h.flags|=4)}},G3=function(u,h,g,j){g!==j&&(h.flags|=4)};function ng(u,h){if(!Vr)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function fo(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,j=0;if(h)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,j|=M.subtreeFlags&14680064,j|=M.flags&14680064,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,j|=M.subtreeFlags,j|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=j,u.childLanes=g,h}function TJ(u,h,g){var j=h.pendingProps;switch(g2(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fo(h),null;case 1:return qo(h.type)&&Kv(),fo(h),null;case 3:return j=h.stateNode,Qh(),$r(Uo),$r(uo),I2(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(u===null||u.child===null)&&(Zv(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wa!==null&&(oS(wa),wa=null))),K2(u,h),fo(h),null;case 5:A2(h);var M=td(Qm.current);if(g=h.type,u!==null&&h.stateNode!=null)H3(u,h,g,j,M),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!j){if(h.stateNode===null)throw Error(n(166));return fo(h),null}if(u=td(Ya.current),Zv(h)){j=h.stateNode,g=h.type;var W=h.memoizedProps;switch(j[Ka]=h,j[Hm]=W,u=(h.mode&1)!==0,g){case"dialog":Nr("cancel",j),Nr("close",j);break;case"iframe":case"object":case"embed":Nr("load",j);break;case"video":case"audio":for(M=0;M<Bm.length;M++)Nr(Bm[M],j);break;case"source":Nr("error",j);break;case"img":case"image":case"link":Nr("error",j),Nr("load",j);break;case"details":Nr("toggle",j);break;case"input":Je(j,W),Nr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!W.multiple},Nr("invalid",j);break;case"textarea":at(j,W),Nr("invalid",j)}Ue(g,W),M=null;for(var X in W)if(W.hasOwnProperty(X)){var ue=W[X];X==="children"?typeof ue=="string"?j.textContent!==ue&&(W.suppressHydrationWarning!==!0&&qv(j.textContent,ue,u),M=["children",ue]):typeof ue=="number"&&j.textContent!==""+ue&&(W.suppressHydrationWarning!==!0&&qv(j.textContent,ue,u),M=["children",""+ue]):i.hasOwnProperty(X)&&ue!=null&&X==="onScroll"&&Nr("scroll",j)}switch(g){case"input":Fe(j),Lt(j,W,!0);break;case"textarea":Fe(j),vn(j);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(j.onclick=Hv)}j=M,h.updateQueue=j,j!==null&&(h.flags|=4)}else{X=M.nodeType===9?M:M.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=zt(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=X.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof j.is=="string"?u=X.createElement(g,{is:j.is}):(u=X.createElement(g),g==="select"&&(X=u,j.multiple?X.multiple=!0:j.size&&(X.size=j.size))):u=X.createElementNS(u,g),u[Ka]=h,u[Hm]=j,q3(u,h,!1,!1),h.stateNode=u;e:{switch(X=it(g,j),g){case"dialog":Nr("cancel",u),Nr("close",u),M=j;break;case"iframe":case"object":case"embed":Nr("load",u),M=j;break;case"video":case"audio":for(M=0;M<Bm.length;M++)Nr(Bm[M],u);M=j;break;case"source":Nr("error",u),M=j;break;case"img":case"image":case"link":Nr("error",u),Nr("load",u),M=j;break;case"details":Nr("toggle",u),M=j;break;case"input":Je(u,j),M=Ce(u,j),Nr("invalid",u);break;case"option":M=j;break;case"select":u._wrapperState={wasMultiple:!!j.multiple},M=de({},j,{value:void 0}),Nr("invalid",u);break;case"textarea":at(u,j),M=Qe(u,j),Nr("invalid",u);break;default:M=j}Ue(g,M),ue=M;for(W in ue)if(ue.hasOwnProperty(W)){var xe=ue[W];W==="style"?ve(u,xe):W==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&lt(u,xe)):W==="children"?typeof xe=="string"?(g!=="textarea"||xe!=="")&&Zt(u,xe):typeof xe=="number"&&Zt(u,""+xe):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?xe!=null&&W==="onScroll"&&Nr("scroll",u):xe!=null&&S(u,W,xe,X))}switch(g){case"input":Fe(u),Lt(u,j,!1);break;case"textarea":Fe(u),vn(u);break;case"option":j.value!=null&&u.setAttribute("value",""+be(j.value));break;case"select":u.multiple=!!j.multiple,W=j.value,W!=null?pt(u,!!j.multiple,W,!1):j.defaultValue!=null&&pt(u,!!j.multiple,j.defaultValue,!0);break;default:typeof M.onClick=="function"&&(u.onclick=Hv)}switch(g){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return fo(h),null;case 6:if(u&&h.stateNode!=null)G3(u,h,u.memoizedProps,j);else{if(typeof j!="string"&&h.stateNode===null)throw Error(n(166));if(g=td(Qm.current),td(Ya.current),Zv(h)){if(j=h.stateNode,g=h.memoizedProps,j[Ka]=h,(W=j.nodeValue!==g)&&(u=cs,u!==null))switch(u.tag){case 3:qv(j.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&qv(j.nodeValue,g,(u.mode&1)!==0)}W&&(h.flags|=4)}else j=(g.nodeType===9?g:g.ownerDocument).createTextNode(j),j[Ka]=h,h.stateNode=j}return fo(h),null;case 13:if($r(Qr),j=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Vr&&us!==null&&(h.mode&1)!==0&&(h.flags&128)===0)XD(),Gh(),h.flags|=98560,W=!1;else if(W=Zv(h),j!==null&&j.dehydrated!==null){if(u===null){if(!W)throw Error(n(318));if(W=h.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(n(317));W[Ka]=h}else Gh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;fo(h),W=!1}else wa!==null&&(oS(wa),wa=null),W=!0;if(!W)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(j=j!==null,j!==(u!==null&&u.memoizedState!==null)&&j&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Qr.current&1)!==0?Ri===0&&(Ri=3):lS())),h.updateQueue!==null&&(h.flags|=4),fo(h),null);case 4:return Qh(),K2(u,h),u===null&&Um(h.stateNode.containerInfo),fo(h),null;case 10:return w2(h.type._context),fo(h),null;case 17:return qo(h.type)&&Kv(),fo(h),null;case 19:if($r(Qr),W=h.memoizedState,W===null)return fo(h),null;if(j=(h.flags&128)!==0,X=W.rendering,X===null)if(j)ng(W,!1);else{if(Ri!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(X=o0(u),X!==null){for(h.flags|=128,ng(W,!1),j=X.updateQueue,j!==null&&(h.updateQueue=j,h.flags|=4),h.subtreeFlags=0,j=g,g=h.child;g!==null;)W=g,u=j,W.flags&=14680066,X=W.alternate,X===null?(W.childLanes=0,W.lanes=u,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=X.childLanes,W.lanes=X.lanes,W.child=X.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=X.memoizedProps,W.memoizedState=X.memoizedState,W.updateQueue=X.updateQueue,W.type=X.type,u=X.dependencies,W.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Ir(Qr,Qr.current&1|2),h.child}u=u.sibling}W.tail!==null&&er()>tf&&(h.flags|=128,j=!0,ng(W,!1),h.lanes=4194304)}else{if(!j)if(u=o0(X),u!==null){if(h.flags|=128,j=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),ng(W,!0),W.tail===null&&W.tailMode==="hidden"&&!X.alternate&&!Vr)return fo(h),null}else 2*er()-W.renderingStartTime>tf&&g!==1073741824&&(h.flags|=128,j=!0,ng(W,!1),h.lanes=4194304);W.isBackwards?(X.sibling=h.child,h.child=X):(g=W.last,g!==null?g.sibling=X:h.child=X,W.last=X)}return W.tail!==null?(h=W.tail,W.rendering=h,W.tail=h.sibling,W.renderingStartTime=er(),h.sibling=null,g=Qr.current,Ir(Qr,j?g&1|2:g&1),h):(fo(h),null);case 22:case 23:return aS(),j=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==j&&(h.flags|=8192),j&&(h.mode&1)!==0?(ds&1073741824)!==0&&(fo(h),h.subtreeFlags&6&&(h.flags|=8192)):fo(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function kJ(u,h){switch(g2(h),h.tag){case 1:return qo(h.type)&&Kv(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Qh(),$r(Uo),$r(uo),I2(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return A2(h),null;case 13:if($r(Qr),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Gh()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return $r(Qr),null;case 4:return Qh(),null;case 10:return w2(h.type._context),null;case 22:case 23:return aS(),null;case 24:return null;default:return null}}var p0=!1,po=!1,RJ=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Zh(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(j){oi(u,h,j)}else g.current=null}function Y2(u,h,g){try{g()}catch(j){oi(u,h,j)}}var K3=!1;function OJ(u,h){if(a2=Oc,u=PD(),Zj(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var j=g.getSelection&&g.getSelection();if(j&&j.rangeCount!==0){g=j.anchorNode;var M=j.anchorOffset,W=j.focusNode;j=j.focusOffset;try{g.nodeType,W.nodeType}catch{g=null;break e}var X=0,ue=-1,xe=-1,Le=0,ot=0,ut=u,rt=null;t:for(;;){for(var Dt;ut!==g||M!==0&&ut.nodeType!==3||(ue=X+M),ut!==W||j!==0&&ut.nodeType!==3||(xe=X+j),ut.nodeType===3&&(X+=ut.nodeValue.length),(Dt=ut.firstChild)!==null;)rt=ut,ut=Dt;for(;;){if(ut===u)break t;if(rt===g&&++Le===M&&(ue=X),rt===W&&++ot===j&&(xe=X),(Dt=ut.nextSibling)!==null)break;ut=rt,rt=ut.parentNode}ut=Dt}g=ue===-1||xe===-1?null:{start:ue,end:xe}}else g=null}g=g||{start:0,end:0}}else g=null;for(l2={focusedElem:u,selectionRange:g},Oc=!1,Nt=h;Nt!==null;)if(h=Nt,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Nt=u;else for(;Nt!==null;){h=Nt;try{var Wt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Wt!==null){var qt=Wt.memoizedProps,pi=Wt.memoizedState,Ie=h.stateNode,we=Ie.getSnapshotBeforeUpdate(h.elementType===h.type?qt:ja(h.type,qt),pi);Ie.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var De=h.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ft){oi(h,h.return,ft)}if(u=h.sibling,u!==null){u.return=h.return,Nt=u;break}Nt=h.return}return Wt=K3,K3=!1,Wt}function rg(u,h,g){var j=h.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var M=j=j.next;do{if((M.tag&u)===u){var W=M.destroy;M.destroy=void 0,W!==void 0&&Y2(h,g,W)}M=M.next}while(M!==j)}}function m0(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var j=g.create;g.destroy=j()}g=g.next}while(g!==h)}}function X2(u){var h=u.ref;if(h!==null){var g=u.stateNode;switch(u.tag){case 5:u=g;break;default:u=g}typeof h=="function"?h(u):h.current=u}}function Y3(u){var h=u.alternate;h!==null&&(u.alternate=null,Y3(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Ka],delete h[Hm],delete h[h2],delete h[mJ],delete h[gJ])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function X3(u){return u.tag===5||u.tag===3||u.tag===4}function Q3(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||X3(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Q2(u,h,g){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Hv));else if(j!==4&&(u=u.child,u!==null))for(Q2(u,h,g),u=u.sibling;u!==null;)Q2(u,h,g),u=u.sibling}function J2(u,h,g){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(j!==4&&(u=u.child,u!==null))for(J2(u,h,g),u=u.sibling;u!==null;)J2(u,h,g),u=u.sibling}var no=null,Sa=!1;function Vc(u,h,g){for(g=g.child;g!==null;)J3(u,h,g),g=g.sibling}function J3(u,h,g){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Kt,g)}catch{}switch(g.tag){case 5:po||Zh(g,h);case 6:var j=no,M=Sa;no=null,Vc(u,h,g),no=j,Sa=M,no!==null&&(Sa?(u=no,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):no.removeChild(g.stateNode));break;case 18:no!==null&&(Sa?(u=no,g=g.stateNode,u.nodeType===8?d2(u.parentNode,g):u.nodeType===1&&d2(u,g),va(u)):d2(no,g.stateNode));break;case 4:j=no,M=Sa,no=g.stateNode.containerInfo,Sa=!0,Vc(u,h,g),no=j,Sa=M;break;case 0:case 11:case 14:case 15:if(!po&&(j=g.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){M=j=j.next;do{var W=M,X=W.destroy;W=W.tag,X!==void 0&&((W&2)!==0||(W&4)!==0)&&Y2(g,h,X),M=M.next}while(M!==j)}Vc(u,h,g);break;case 1:if(!po&&(Zh(g,h),j=g.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=g.memoizedProps,j.state=g.memoizedState,j.componentWillUnmount()}catch(ue){oi(g,h,ue)}Vc(u,h,g);break;case 21:Vc(u,h,g);break;case 22:g.mode&1?(po=(j=po)||g.memoizedState!==null,Vc(u,h,g),po=j):Vc(u,h,g);break;default:Vc(u,h,g)}}function Z3(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new RJ),h.forEach(function(j){var M=VJ.bind(null,u,j);g.has(j)||(g.add(j),j.then(M,M))})}}function Ca(u,h){var g=h.deletions;if(g!==null)for(var j=0;j<g.length;j++){var M=g[j];try{var W=u,X=h,ue=X;e:for(;ue!==null;){switch(ue.tag){case 5:no=ue.stateNode,Sa=!1;break e;case 3:no=ue.stateNode.containerInfo,Sa=!0;break e;case 4:no=ue.stateNode.containerInfo,Sa=!0;break e}ue=ue.return}if(no===null)throw Error(n(160));J3(W,X,M),no=null,Sa=!1;var xe=M.alternate;xe!==null&&(xe.return=null),M.return=null}catch(Le){oi(M,h,Le)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)e6(h,u),h=h.sibling}function e6(u,h){var g=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ca(h,u),Qa(u),j&4){try{rg(3,u,u.return),m0(3,u)}catch(qt){oi(u,u.return,qt)}try{rg(5,u,u.return)}catch(qt){oi(u,u.return,qt)}}break;case 1:Ca(h,u),Qa(u),j&512&&g!==null&&Zh(g,g.return);break;case 5:if(Ca(h,u),Qa(u),j&512&&g!==null&&Zh(g,g.return),u.flags&32){var M=u.stateNode;try{Zt(M,"")}catch(qt){oi(u,u.return,qt)}}if(j&4&&(M=u.stateNode,M!=null)){var W=u.memoizedProps,X=g!==null?g.memoizedProps:W,ue=u.type,xe=u.updateQueue;if(u.updateQueue=null,xe!==null)try{ue==="input"&&W.type==="radio"&&W.name!=null&&ht(M,W),it(ue,X);var Le=it(ue,W);for(X=0;X<xe.length;X+=2){var ot=xe[X],ut=xe[X+1];ot==="style"?ve(M,ut):ot==="dangerouslySetInnerHTML"?lt(M,ut):ot==="children"?Zt(M,ut):S(M,ot,ut,Le)}switch(ue){case"input":Xe(M,W);break;case"textarea":Tt(M,W);break;case"select":var rt=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!W.multiple;var Dt=W.value;Dt!=null?pt(M,!!W.multiple,Dt,!1):rt!==!!W.multiple&&(W.defaultValue!=null?pt(M,!!W.multiple,W.defaultValue,!0):pt(M,!!W.multiple,W.multiple?[]:"",!1))}M[Hm]=W}catch(qt){oi(u,u.return,qt)}}break;case 6:if(Ca(h,u),Qa(u),j&4){if(u.stateNode===null)throw Error(n(162));M=u.stateNode,W=u.memoizedProps;try{M.nodeValue=W}catch(qt){oi(u,u.return,qt)}}break;case 3:if(Ca(h,u),Qa(u),j&4&&g!==null&&g.memoizedState.isDehydrated)try{va(h.containerInfo)}catch(qt){oi(u,u.return,qt)}break;case 4:Ca(h,u),Qa(u);break;case 13:Ca(h,u),Qa(u),M=u.child,M.flags&8192&&(W=M.memoizedState!==null,M.stateNode.isHidden=W,!W||M.alternate!==null&&M.alternate.memoizedState!==null||(tS=er())),j&4&&Z3(u);break;case 22:if(ot=g!==null&&g.memoizedState!==null,u.mode&1?(po=(Le=po)||ot,Ca(h,u),po=Le):Ca(h,u),Qa(u),j&8192){if(Le=u.memoizedState!==null,(u.stateNode.isHidden=Le)&&!ot&&(u.mode&1)!==0)for(Nt=u,ot=u.child;ot!==null;){for(ut=Nt=ot;Nt!==null;){switch(rt=Nt,Dt=rt.child,rt.tag){case 0:case 11:case 14:case 15:rg(4,rt,rt.return);break;case 1:Zh(rt,rt.return);var Wt=rt.stateNode;if(typeof Wt.componentWillUnmount=="function"){j=rt,g=rt.return;try{h=j,Wt.props=h.memoizedProps,Wt.state=h.memoizedState,Wt.componentWillUnmount()}catch(qt){oi(j,g,qt)}}break;case 5:Zh(rt,rt.return);break;case 22:if(rt.memoizedState!==null){r6(ut);continue}}Dt!==null?(Dt.return=rt,Nt=Dt):r6(ut)}ot=ot.sibling}e:for(ot=null,ut=u;;){if(ut.tag===5){if(ot===null){ot=ut;try{M=ut.stateNode,Le?(W=M.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(ue=ut.stateNode,xe=ut.memoizedProps.style,X=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,ue.style.display=G("display",X))}catch(qt){oi(u,u.return,qt)}}}else if(ut.tag===6){if(ot===null)try{ut.stateNode.nodeValue=Le?"":ut.memoizedProps}catch(qt){oi(u,u.return,qt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===u)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===u)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===u)break e;ot===ut&&(ot=null),ut=ut.return}ot===ut&&(ot=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:Ca(h,u),Qa(u),j&4&&Z3(u);break;case 21:break;default:Ca(h,u),Qa(u)}}function Qa(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(X3(g)){var j=g;break e}g=g.return}throw Error(n(160))}switch(j.tag){case 5:var M=j.stateNode;j.flags&32&&(Zt(M,""),j.flags&=-33);var W=Q3(u);J2(u,W,M);break;case 3:case 4:var X=j.stateNode.containerInfo,ue=Q3(u);Q2(u,ue,X);break;default:throw Error(n(161))}}catch(xe){oi(u,u.return,xe)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function DJ(u,h,g){Nt=u,t6(u)}function t6(u,h,g){for(var j=(u.mode&1)!==0;Nt!==null;){var M=Nt,W=M.child;if(M.tag===22&&j){var X=M.memoizedState!==null||p0;if(!X){var ue=M.alternate,xe=ue!==null&&ue.memoizedState!==null||po;ue=p0;var Le=po;if(p0=X,(po=xe)&&!Le)for(Nt=M;Nt!==null;)X=Nt,xe=X.child,X.tag===22&&X.memoizedState!==null?i6(M):xe!==null?(xe.return=X,Nt=xe):i6(M);for(;W!==null;)Nt=W,t6(W),W=W.sibling;Nt=M,p0=ue,po=Le}n6(u)}else(M.subtreeFlags&8772)!==0&&W!==null?(W.return=M,Nt=W):n6(u)}}function n6(u){for(;Nt!==null;){var h=Nt;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:po||m0(5,h);break;case 1:var j=h.stateNode;if(h.flags&4&&!po)if(g===null)j.componentDidMount();else{var M=h.elementType===h.type?g.memoizedProps:ja(h.type,g.memoizedProps);j.componentDidUpdate(M,g.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var W=h.updateQueue;W!==null&&r3(h,W,j);break;case 3:var X=h.updateQueue;if(X!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}r3(h,X,g)}break;case 5:var ue=h.stateNode;if(g===null&&h.flags&4){g=ue;var xe=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&g.focus();break;case"img":xe.src&&(g.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Le=h.alternate;if(Le!==null){var ot=Le.memoizedState;if(ot!==null){var ut=ot.dehydrated;ut!==null&&va(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}po||h.flags&512&&X2(h)}catch(rt){oi(h,h.return,rt)}}if(h===u){Nt=null;break}if(g=h.sibling,g!==null){g.return=h.return,Nt=g;break}Nt=h.return}}function r6(u){for(;Nt!==null;){var h=Nt;if(h===u){Nt=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Nt=g;break}Nt=h.return}}function i6(u){for(;Nt!==null;){var h=Nt;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{m0(4,h)}catch(xe){oi(h,g,xe)}break;case 1:var j=h.stateNode;if(typeof j.componentDidMount=="function"){var M=h.return;try{j.componentDidMount()}catch(xe){oi(h,M,xe)}}var W=h.return;try{X2(h)}catch(xe){oi(h,W,xe)}break;case 5:var X=h.return;try{X2(h)}catch(xe){oi(h,X,xe)}}}catch(xe){oi(h,h.return,xe)}if(h===u){Nt=null;break}var ue=h.sibling;if(ue!==null){ue.return=h.return,Nt=ue;break}Nt=h.return}}var MJ=Math.ceil,g0=k.ReactCurrentDispatcher,Z2=k.ReactCurrentOwner,Ws=k.ReactCurrentBatchConfig,Qn=0,Ui=null,Si=null,ro=0,ds=0,ef=$c(0),Ri=0,ig=null,rd=0,x0=0,eS=0,og=null,Go=null,tS=0,tf=1/0,Vl=null,y0=!1,nS=null,Bc=null,v0=!1,Uc=null,b0=0,sg=0,rS=null,_0=-1,w0=0;function Io(){return(Qn&6)!==0?er():_0!==-1?_0:_0=er()}function qc(u){return(u.mode&1)===0?1:(Qn&2)!==0&&ro!==0?ro&-ro:yJ.transition!==null?(w0===0&&(w0=Ba()),w0):(u=zn,u!==0||(u=window.event,u=u===void 0?16:Dm(u.type)),u)}function Pa(u,h,g,j){if(50<sg)throw sg=0,rS=null,Error(n(185));pa(u,g,j),((Qn&2)===0||u!==Ui)&&(u===Ui&&((Qn&2)===0&&(x0|=g),Ri===4&&Hc(u,ro)),Ko(u,j),g===1&&Qn===0&&(h.mode&1)===0&&(tf=er()+500,Xv&&zc()))}function Ko(u,h){var g=u.callbackNode;Ds(u,h);var j=Va(u,u===Ui?ro:0);if(j===0)g!==null&&Xn(g),u.callbackNode=null,u.callbackPriority=0;else if(h=j&-j,u.callbackPriority!==h){if(g!=null&&Xn(g),h===1)u.tag===0?xJ(s6.bind(null,u)):qD(s6.bind(null,u)),fJ(function(){(Qn&6)===0&&zc()}),g=null;else{switch(z(j)){case 1:g=lo;break;case 4:g=Os;break;case 16:g=eo;break;case 536870912:g=Te;break;default:g=eo}g=p6(g,o6.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function o6(u,h){if(_0=-1,w0=0,(Qn&6)!==0)throw Error(n(327));var g=u.callbackNode;if(nf()&&u.callbackNode!==g)return null;var j=Va(u,u===Ui?ro:0);if(j===0)return null;if((j&30)!==0||(j&u.expiredLanes)!==0||h)h=j0(u,j);else{h=j;var M=Qn;Qn|=2;var W=l6();(Ui!==u||ro!==h)&&(Vl=null,tf=er()+500,od(u,h));do try{LJ();break}catch(ue){a6(u,ue)}while(!0);_2(),g0.current=W,Qn=M,Si!==null?h=0:(Ui=null,ro=0,h=Ri)}if(h!==0){if(h===2&&(M=co(u),M!==0&&(j=M,h=iS(u,M))),h===1)throw g=ig,od(u,0),Hc(u,j),Ko(u,er()),g;if(h===6)Hc(u,j);else{if(M=u.current.alternate,(j&30)===0&&!NJ(M)&&(h=j0(u,j),h===2&&(W=co(u),W!==0&&(j=W,h=iS(u,W))),h===1))throw g=ig,od(u,0),Hc(u,j),Ko(u,er()),g;switch(u.finishedWork=M,u.finishedLanes=j,h){case 0:case 1:throw Error(n(345));case 2:sd(u,Go,Vl);break;case 3:if(Hc(u,j),(j&130023424)===j&&(h=tS+500-er(),10<h)){if(Va(u,0)!==0)break;if(M=u.suspendedLanes,(M&j)!==j){Io(),u.pingedLanes|=u.suspendedLanes&M;break}u.timeoutHandle=u2(sd.bind(null,u,Go,Vl),h);break}sd(u,Go,Vl);break;case 4:if(Hc(u,j),(j&4194240)===j)break;for(h=u.eventTimes,M=-1;0<j;){var X=31-Dn(j);W=1<<X,X=h[X],X>M&&(M=X),j&=~W}if(j=M,j=er()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*MJ(j/1960))-j,10<j){u.timeoutHandle=u2(sd.bind(null,u,Go,Vl),j);break}sd(u,Go,Vl);break;case 5:sd(u,Go,Vl);break;default:throw Error(n(329))}}}return Ko(u,er()),u.callbackNode===g?o6.bind(null,u):null}function iS(u,h){var g=og;return u.current.memoizedState.isDehydrated&&(od(u,h).flags|=256),u=j0(u,h),u!==2&&(h=Go,Go=g,h!==null&&oS(h)),u}function oS(u){Go===null?Go=u:Go.push.apply(Go,u)}function NJ(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var j=0;j<g.length;j++){var M=g[j],W=M.getSnapshot;M=M.value;try{if(!_a(W(),M))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Hc(u,h){for(h&=~eS,h&=~x0,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-Dn(h),j=1<<g;u[g]=-1,h&=~j}}function s6(u){if((Qn&6)!==0)throw Error(n(327));nf();var h=Va(u,0);if((h&1)===0)return Ko(u,er()),null;var g=j0(u,h);if(u.tag!==0&&g===2){var j=co(u);j!==0&&(h=j,g=iS(u,j))}if(g===1)throw g=ig,od(u,0),Hc(u,h),Ko(u,er()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,sd(u,Go,Vl),Ko(u,er()),null}function sS(u,h){var g=Qn;Qn|=1;try{return u(h)}finally{Qn=g,Qn===0&&(tf=er()+500,Xv&&zc())}}function id(u){Uc!==null&&Uc.tag===0&&(Qn&6)===0&&nf();var h=Qn;Qn|=1;var g=Ws.transition,j=zn;try{if(Ws.transition=null,zn=1,u)return u()}finally{zn=j,Ws.transition=g,Qn=h,(Qn&6)===0&&zc()}}function aS(){ds=ef.current,$r(ef)}function od(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,hJ(g)),Si!==null)for(g=Si.return;g!==null;){var j=g;switch(g2(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Kv();break;case 3:Qh(),$r(Uo),$r(uo),I2();break;case 5:A2(j);break;case 4:Qh();break;case 13:$r(Qr);break;case 19:$r(Qr);break;case 10:w2(j.type._context);break;case 22:case 23:aS()}g=g.return}if(Ui=u,Si=u=Gc(u.current,null),ro=ds=h,Ri=0,ig=null,eS=x0=rd=0,Go=og=null,ed!==null){for(h=0;h<ed.length;h++)if(g=ed[h],j=g.interleaved,j!==null){g.interleaved=null;var M=j.next,W=g.pending;if(W!==null){var X=W.next;W.next=M,j.next=X}g.pending=j}ed=null}return u}function a6(u,h){do{var g=Si;try{if(_2(),s0.current=u0,a0){for(var j=Jr.memoizedState;j!==null;){var M=j.queue;M!==null&&(M.pending=null),j=j.next}a0=!1}if(nd=0,Bi=ki=Jr=null,Jm=!1,Zm=0,Z2.current=null,g===null||g.return===null){Ri=1,ig=h,Si=null;break}e:{var W=u,X=g.return,ue=g,xe=h;if(h=ro,ue.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Le=xe,ot=ue,ut=ot.tag;if((ot.mode&1)===0&&(ut===0||ut===11||ut===15)){var rt=ot.alternate;rt?(ot.updateQueue=rt.updateQueue,ot.memoizedState=rt.memoizedState,ot.lanes=rt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var Dt=R3(X);if(Dt!==null){Dt.flags&=-257,O3(Dt,X,ue,W,h),Dt.mode&1&&k3(W,Le,h),h=Dt,xe=Le;var Wt=h.updateQueue;if(Wt===null){var qt=new Set;qt.add(xe),h.updateQueue=qt}else Wt.add(xe);break e}else{if((h&1)===0){k3(W,Le,h),lS();break e}xe=Error(n(426))}}else if(Vr&&ue.mode&1){var pi=R3(X);if(pi!==null){(pi.flags&65536)===0&&(pi.flags|=256),O3(pi,X,ue,W,h),v2(Jh(xe,ue));break e}}W=xe=Jh(xe,ue),Ri!==4&&(Ri=2),og===null?og=[W]:og.push(W),W=X;do{switch(W.tag){case 3:W.flags|=65536,h&=-h,W.lanes|=h;var Ie=I3(W,xe,h);n3(W,Ie);break e;case 1:ue=xe;var we=W.type,De=W.stateNode;if((W.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Bc===null||!Bc.has(De)))){W.flags|=65536,h&=-h,W.lanes|=h;var ft=T3(W,ue,h);n3(W,ft);break e}}W=W.return}while(W!==null)}u6(g)}catch(Ht){h=Ht,Si===g&&g!==null&&(Si=g=g.return);continue}break}while(!0)}function l6(){var u=g0.current;return g0.current=u0,u===null?u0:u}function lS(){(Ri===0||Ri===3||Ri===2)&&(Ri=4),Ui===null||(rd&268435455)===0&&(x0&268435455)===0||Hc(Ui,ro)}function j0(u,h){var g=Qn;Qn|=2;var j=l6();(Ui!==u||ro!==h)&&(Vl=null,od(u,h));do try{$J();break}catch(M){a6(u,M)}while(!0);if(_2(),Qn=g,g0.current=j,Si!==null)throw Error(n(261));return Ui=null,ro=0,Ri}function $J(){for(;Si!==null;)c6(Si)}function LJ(){for(;Si!==null&&!Ii();)c6(Si)}function c6(u){var h=f6(u.alternate,u,ds);u.memoizedProps=u.pendingProps,h===null?u6(u):Si=h,Z2.current=null}function u6(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=TJ(g,h,ds),g!==null){Si=g;return}}else{if(g=kJ(g,h),g!==null){g.flags&=32767,Si=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Ri=6,Si=null;return}}if(h=h.sibling,h!==null){Si=h;return}Si=h=u}while(h!==null);Ri===0&&(Ri=5)}function sd(u,h,g){var j=zn,M=Ws.transition;try{Ws.transition=null,zn=1,zJ(u,h,g,j)}finally{Ws.transition=M,zn=j}return null}function zJ(u,h,g,j){do nf();while(Uc!==null);if((Qn&6)!==0)throw Error(n(327));g=u.finishedWork;var M=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var W=g.lanes|g.childLanes;if(cr(u,W),u===Ui&&(Si=Ui=null,ro=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||v0||(v0=!0,p6(eo,function(){return nf(),null})),W=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||W){W=Ws.transition,Ws.transition=null;var X=zn;zn=1;var ue=Qn;Qn|=4,Z2.current=null,OJ(u,g),e6(g,u),oJ(l2),Oc=!!a2,l2=a2=null,u.current=g,DJ(g),br(),Qn=ue,zn=X,Ws.transition=W}else u.current=g;if(v0&&(v0=!1,Uc=u,b0=M),W=u.pendingLanes,W===0&&(Bc=null),Rt(g.stateNode),Ko(u,er()),h!==null)for(j=u.onRecoverableError,g=0;g<h.length;g++)M=h[g],j(M.value,{componentStack:M.stack,digest:M.digest});if(y0)throw y0=!1,u=nS,nS=null,u;return(b0&1)!==0&&u.tag!==0&&nf(),W=u.pendingLanes,(W&1)!==0?u===rS?sg++:(sg=0,rS=u):sg=0,zc(),null}function nf(){if(Uc!==null){var u=z(b0),h=Ws.transition,g=zn;try{if(Ws.transition=null,zn=16>u?16:u,Uc===null)var j=!1;else{if(u=Uc,Uc=null,b0=0,(Qn&6)!==0)throw Error(n(331));var M=Qn;for(Qn|=4,Nt=u.current;Nt!==null;){var W=Nt,X=W.child;if((Nt.flags&16)!==0){var ue=W.deletions;if(ue!==null){for(var xe=0;xe<ue.length;xe++){var Le=ue[xe];for(Nt=Le;Nt!==null;){var ot=Nt;switch(ot.tag){case 0:case 11:case 15:rg(8,ot,W)}var ut=ot.child;if(ut!==null)ut.return=ot,Nt=ut;else for(;Nt!==null;){ot=Nt;var rt=ot.sibling,Dt=ot.return;if(Y3(ot),ot===Le){Nt=null;break}if(rt!==null){rt.return=Dt,Nt=rt;break}Nt=Dt}}}var Wt=W.alternate;if(Wt!==null){var qt=Wt.child;if(qt!==null){Wt.child=null;do{var pi=qt.sibling;qt.sibling=null,qt=pi}while(qt!==null)}}Nt=W}}if((W.subtreeFlags&2064)!==0&&X!==null)X.return=W,Nt=X;else e:for(;Nt!==null;){if(W=Nt,(W.flags&2048)!==0)switch(W.tag){case 0:case 11:case 15:rg(9,W,W.return)}var Ie=W.sibling;if(Ie!==null){Ie.return=W.return,Nt=Ie;break e}Nt=W.return}}var we=u.current;for(Nt=we;Nt!==null;){X=Nt;var De=X.child;if((X.subtreeFlags&2064)!==0&&De!==null)De.return=X,Nt=De;else e:for(X=we;Nt!==null;){if(ue=Nt,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:m0(9,ue)}}catch(Ht){oi(ue,ue.return,Ht)}if(ue===X){Nt=null;break e}var ft=ue.sibling;if(ft!==null){ft.return=ue.return,Nt=ft;break e}Nt=ue.return}}if(Qn=M,zc(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Kt,u)}catch{}j=!0}return j}finally{zn=g,Ws.transition=h}}return!1}function d6(u,h,g){h=Jh(g,h),h=I3(u,h,1),u=Wc(u,h,1),h=Io(),u!==null&&(pa(u,1,h),Ko(u,h))}function oi(u,h,g){if(u.tag===3)d6(u,u,g);else for(;h!==null;){if(h.tag===3){d6(h,u,g);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Bc===null||!Bc.has(j))){u=Jh(g,u),u=T3(h,u,1),h=Wc(h,u,1),u=Io(),h!==null&&(pa(h,1,u),Ko(h,u));break}}h=h.return}}function FJ(u,h,g){var j=u.pingCache;j!==null&&j.delete(h),h=Io(),u.pingedLanes|=u.suspendedLanes&g,Ui===u&&(ro&g)===g&&(Ri===4||Ri===3&&(ro&130023424)===ro&&500>er()-tS?od(u,0):eS|=g),Ko(u,h)}function h6(u,h){h===0&&((u.mode&1)===0?h=1:(h=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var g=Io();u=zl(u,h),u!==null&&(pa(u,h,g),Ko(u,g))}function WJ(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),h6(u,g)}function VJ(u,h){var g=0;switch(u.tag){case 13:var j=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:j=u.stateNode;break;default:throw Error(n(314))}j!==null&&j.delete(h),h6(u,g)}var f6;f6=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||Uo.current)Ho=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return Ho=!1,IJ(u,h,g);Ho=(u.flags&131072)!==0}else Ho=!1,Vr&&(h.flags&1048576)!==0&&HD(h,Jv,h.index);switch(h.lanes=0,h.tag){case 2:var j=h.type;f0(u,h),u=h.pendingProps;var M=Uh(h,uo.current);Xh(h,g),M=R2(null,h,j,u,M,g);var W=O2();return h.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,qo(j)?(W=!0,Yv(h)):W=!1,h.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,C2(h),M.updater=d0,h.stateNode=M,M._reactInternals=h,z2(h,j,u,g),h=B2(null,h,j,!0,W,g)):(h.tag=0,Vr&&W&&m2(h),Eo(null,h,M,g),h=h.child),h;case 16:j=h.elementType;e:{switch(f0(u,h),u=h.pendingProps,M=j._init,j=M(j._payload),h.type=j,M=h.tag=UJ(j),u=ja(j,u),M){case 0:h=V2(null,h,j,u,g);break e;case 1:h=z3(null,h,j,u,g);break e;case 11:h=D3(null,h,j,u,g);break e;case 14:h=M3(null,h,j,ja(j.type,u),g);break e}throw Error(n(306,j,""))}return h;case 0:return j=h.type,M=h.pendingProps,M=h.elementType===j?M:ja(j,M),V2(u,h,j,M,g);case 1:return j=h.type,M=h.pendingProps,M=h.elementType===j?M:ja(j,M),z3(u,h,j,M,g);case 3:e:{if(F3(h),u===null)throw Error(n(387));j=h.pendingProps,W=h.memoizedState,M=W.element,t3(u,h),i0(h,j,null,g);var X=h.memoizedState;if(j=X.element,W.isDehydrated)if(W={element:j,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=W,h.memoizedState=W,h.flags&256){M=Jh(Error(n(423)),h),h=W3(u,h,j,g,M);break e}else if(j!==M){M=Jh(Error(n(424)),h),h=W3(u,h,j,g,M);break e}else for(us=Nc(h.stateNode.containerInfo.firstChild),cs=h,Vr=!0,wa=null,g=ZD(h,null,j,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Gh(),j===M){h=Wl(u,h,g);break e}Eo(u,h,j,g)}h=h.child}return h;case 5:return i3(h),u===null&&y2(h),j=h.type,M=h.pendingProps,W=u!==null?u.memoizedProps:null,X=M.children,c2(j,M)?X=null:W!==null&&c2(j,W)&&(h.flags|=32),L3(u,h),Eo(u,h,X,g),h.child;case 6:return u===null&&y2(h),null;case 13:return V3(u,h,g);case 4:return P2(h,h.stateNode.containerInfo),j=h.pendingProps,u===null?h.child=Kh(h,null,j,g):Eo(u,h,j,g),h.child;case 11:return j=h.type,M=h.pendingProps,M=h.elementType===j?M:ja(j,M),D3(u,h,j,M,g);case 7:return Eo(u,h,h.pendingProps,g),h.child;case 8:return Eo(u,h,h.pendingProps.children,g),h.child;case 12:return Eo(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(j=h.type._context,M=h.pendingProps,W=h.memoizedProps,X=M.value,Ir(t0,j._currentValue),j._currentValue=X,W!==null)if(_a(W.value,X)){if(W.children===M.children&&!Uo.current){h=Wl(u,h,g);break e}}else for(W=h.child,W!==null&&(W.return=h);W!==null;){var ue=W.dependencies;if(ue!==null){X=W.child;for(var xe=ue.firstContext;xe!==null;){if(xe.context===j){if(W.tag===1){xe=Fl(-1,g&-g),xe.tag=2;var Le=W.updateQueue;if(Le!==null){Le=Le.shared;var ot=Le.pending;ot===null?xe.next=xe:(xe.next=ot.next,ot.next=xe),Le.pending=xe}}W.lanes|=g,xe=W.alternate,xe!==null&&(xe.lanes|=g),j2(W.return,g,h),ue.lanes|=g;break}xe=xe.next}}else if(W.tag===10)X=W.type===h.type?null:W.child;else if(W.tag===18){if(X=W.return,X===null)throw Error(n(341));X.lanes|=g,ue=X.alternate,ue!==null&&(ue.lanes|=g),j2(X,g,h),X=W.sibling}else X=W.child;if(X!==null)X.return=W;else for(X=W;X!==null;){if(X===h){X=null;break}if(W=X.sibling,W!==null){W.return=X.return,X=W;break}X=X.return}W=X}Eo(u,h,M.children,g),h=h.child}return h;case 9:return M=h.type,j=h.pendingProps.children,Xh(h,g),M=zs(M),j=j(M),h.flags|=1,Eo(u,h,j,g),h.child;case 14:return j=h.type,M=ja(j,h.pendingProps),M=ja(j.type,M),M3(u,h,j,M,g);case 15:return N3(u,h,h.type,h.pendingProps,g);case 17:return j=h.type,M=h.pendingProps,M=h.elementType===j?M:ja(j,M),f0(u,h),h.tag=1,qo(j)?(u=!0,Yv(h)):u=!1,Xh(h,g),A3(h,j,M),z2(h,j,M,g),B2(null,h,j,!0,u,g);case 19:return U3(u,h,g);case 22:return $3(u,h,g)}throw Error(n(156,h.tag))};function p6(u,h){return gn(u,h)}function BJ(u,h,g,j){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(u,h,g,j){return new BJ(u,h,g,j)}function cS(u){return u=u.prototype,!(!u||!u.isReactComponent)}function UJ(u){if(typeof u=="function")return cS(u)?1:0;if(u!=null){if(u=u.$$typeof,u===B)return 11;if(u===Y)return 14}return 2}function Gc(u,h){var g=u.alternate;return g===null?(g=Vs(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function S0(u,h,g,j,M,W){var X=2;if(j=u,typeof u=="function")cS(u)&&(X=1);else if(typeof u=="string")X=5;else e:switch(u){case E:return ad(g.children,M,W,h);case O:X=8,M|=8;break;case D:return u=Vs(12,g,h,M|2),u.elementType=D,u.lanes=W,u;case N:return u=Vs(13,g,h,M),u.elementType=N,u.lanes=W,u;case q:return u=Vs(19,g,h,M),u.elementType=q,u.lanes=W,u;case Q:return C0(g,M,W,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case L:X=10;break e;case $:X=9;break e;case B:X=11;break e;case Y:X=14;break e;case ne:X=16,j=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Vs(X,g,h,M),h.elementType=u,h.type=j,h.lanes=W,h}function ad(u,h,g,j){return u=Vs(7,u,j,h),u.lanes=g,u}function C0(u,h,g,j){return u=Vs(22,u,j,h),u.elementType=Q,u.lanes=g,u.stateNode={isHidden:!1},u}function uS(u,h,g){return u=Vs(6,u,null,h),u.lanes=g,u}function dS(u,h,g){return h=Vs(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function qJ(u,h,g,j,M){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=j,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function hS(u,h,g,j,M,W,X,ue,xe){return u=new qJ(u,h,g,ue,xe),h===1?(h=1,W===!0&&(h|=8)):h=0,W=Vs(3,null,null,h),u.current=W,W.stateNode=u,W.memoizedState={element:j,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},C2(W),u}function HJ(u,h,g){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:j==null?null:""+j,children:u,containerInfo:h,implementation:g}}function m6(u){if(!u)return Lc;u=u._reactInternals;e:{if(nt(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(qo(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(qo(g))return BD(u,g,h)}return h}function g6(u,h,g,j,M,W,X,ue,xe){return u=hS(g,j,!0,u,M,W,X,ue,xe),u.context=m6(null),g=u.current,j=Io(),M=qc(g),W=Fl(j,M),W.callback=h??null,Wc(g,W,M),u.current.lanes=M,pa(u,M,j),Ko(u,j),u}function P0(u,h,g,j){var M=h.current,W=Io(),X=qc(M);return g=m6(g),h.context===null?h.context=g:h.pendingContext=g,h=Fl(W,X),h.payload={element:u},j=j===void 0?null:j,j!==null&&(h.callback=j),u=Wc(M,h,X),u!==null&&(Pa(u,M,X,W),r0(u,M,X)),X}function A0(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function x6(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function fS(u,h){x6(u,h),(u=u.alternate)&&x6(u,h)}function GJ(){return null}var y6=typeof reportError=="function"?reportError:function(u){console.error(u)};function pS(u){this._internalRoot=u}E0.prototype.render=pS.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));P0(u,h,null,null)},E0.prototype.unmount=pS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;id(function(){P0(null,u,null,null)}),h[Ml]=null}};function E0(u){this._internalRoot=u}E0.prototype.unstable_scheduleHydration=function(u){if(u){var h=ln();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Ua.length&&h!==0&&h<Ua[g].priority;g++);Ua.splice(g,0,u),g===0&&kv(u)}};function mS(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function I0(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function v6(){}function KJ(u,h,g,j,M){if(M){if(typeof j=="function"){var W=j;j=function(){var Le=A0(X);W.call(Le)}}var X=g6(h,j,u,0,null,!1,!1,"",v6);return u._reactRootContainer=X,u[Ml]=X.current,Um(u.nodeType===8?u.parentNode:u),id(),X}for(;M=u.lastChild;)u.removeChild(M);if(typeof j=="function"){var ue=j;j=function(){var Le=A0(xe);ue.call(Le)}}var xe=hS(u,0,!1,null,null,!1,!1,"",v6);return u._reactRootContainer=xe,u[Ml]=xe.current,Um(u.nodeType===8?u.parentNode:u),id(function(){P0(h,xe,g,j)}),xe}function T0(u,h,g,j,M){var W=g._reactRootContainer;if(W){var X=W;if(typeof M=="function"){var ue=M;M=function(){var xe=A0(X);ue.call(xe)}}P0(h,X,u,M)}else X=KJ(g,h,u,M,j);return A0(X)}Me=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=ha(h.pendingLanes);g!==0&&(ma(h,g|1),Ko(h,er()),(Qn&6)===0&&(tf=er()+500,zc()))}break;case 13:id(function(){var j=zl(u,1);if(j!==null){var M=Io();Pa(j,u,1,M)}}),fS(u,1)}},Ft=function(u){if(u.tag===13){var h=zl(u,134217728);if(h!==null){var g=Io();Pa(h,u,134217728,g)}fS(u,134217728)}},nn=function(u){if(u.tag===13){var h=qc(u),g=zl(u,h);if(g!==null){var j=Io();Pa(g,u,h,j)}fS(u,h)}},ln=function(){return zn},qn=function(u,h){var g=zn;try{return zn=u,h()}finally{zn=g}},Sn=function(u,h,g){switch(h){case"input":if(Xe(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var j=g[h];if(j!==u&&j.form===u.form){var M=Gv(j);if(!M)throw Error(n(90));pe(j),Xe(j,M)}}}break;case"textarea":Tt(u,g);break;case"select":h=g.value,h!=null&&pt(u,!!g.multiple,h,!1)}},Mr=sS,hi=id;var YJ={usingClientEntryPoint:!1,Events:[Gm,Vh,Gv,Pn,Mn,sS]},ag={findFiberByHostInstance:Xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XJ={bundleType:ag.bundleType,version:ag.version,rendererPackageName:ag.rendererPackageName,rendererConfig:ag.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ar(u),u===null?null:u.stateNode},findFiberByHostInstance:ag.findFiberByHostInstance||GJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{Kt=k0.inject(XJ),gt=k0}catch{}}return Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YJ,Yo.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mS(h))throw Error(n(200));return HJ(u,h,null,g)},Yo.createRoot=function(u,h){if(!mS(u))throw Error(n(299));var g=!1,j="",M=y6;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),h=hS(u,1,!1,null,null,g,!1,j,M),u[Ml]=h.current,Um(u.nodeType===8?u.parentNode:u),new pS(h)},Yo.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Ar(h),u=u===null?null:u.stateNode,u},Yo.flushSync=function(u){return id(u)},Yo.hydrate=function(u,h,g){if(!I0(h))throw Error(n(200));return T0(null,u,h,!0,g)},Yo.hydrateRoot=function(u,h,g){if(!mS(u))throw Error(n(405));var j=g!=null&&g.hydratedSources||null,M=!1,W="",X=y6;if(g!=null&&(g.unstable_strictMode===!0&&(M=!0),g.identifierPrefix!==void 0&&(W=g.identifierPrefix),g.onRecoverableError!==void 0&&(X=g.onRecoverableError)),h=g6(h,null,u,1,g??null,M,!1,W,X),u[Ml]=h.current,Um(u),j)for(u=0;u<j.length;u++)g=j[u],M=g._getVersion,M=M(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,M]:h.mutableSourceEagerHydrationData.push(g,M);return new E0(h)},Yo.render=function(u,h,g){if(!I0(h))throw Error(n(200));return T0(null,u,h,!1,g)},Yo.unmountComponentAtNode=function(u){if(!I0(u))throw Error(n(40));return u._reactRootContainer?(id(function(){T0(null,null,u,!1,function(){u._reactRootContainer=null,u[Ml]=null})}),!0):!1},Yo.unstable_batchedUpdates=sS,Yo.unstable_renderSubtreeIntoContainer=function(u,h,g,j){if(!I0(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return T0(u,h,g,!1,j)},Yo.version="18.3.1-next-f1338f8080-20240426",Yo}var E6;function IB(){if(E6)return yS.exports;E6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yS.exports=sZ(),yS.exports}var I6;function aZ(){if(I6)return O0;I6=1;var t=IB();return O0.createRoot=t.createRoot,O0.hydrateRoot=t.hydrateRoot,O0}var lZ=aZ();const cZ=or(lZ),uZ=(t,e,n,r)=>{var s,a,l,c;const i=[n,{code:e,...r||{}}];if((a=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Fd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},T6={},gI=(t,e,n,r)=>{Fd(n)&&T6[n]||(Fd(n)&&(T6[n]=new Date),uZ(t,e,n,r))},TB=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},xI=(t,e,n)=>{t.loadNamespaces(e,TB(t,n))},k6=(t,e,n,r)=>{if(Fd(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return xI(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,TB(t,r))},dZ=(t,e,n={})=>!e.languages||!e.languages.length?(gI(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Fd=t=>typeof t=="string",hZ=t=>typeof t=="object"&&t!==null,fZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},mZ=t=>pZ[t],gZ=t=>t.replace(fZ,mZ);let yI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gZ};const xZ=(t={})=>{yI={...yI,...t}},yZ=()=>yI;let kB;const vZ=t=>{kB=t},bZ=()=>kB,_Z={type:"3rdParty",init(t){xZ(t.options.react),vZ(t)}},wZ=C.createContext();class jZ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const SZ=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},RB=(t,e,n,r)=>t.getFixedT(e,n,r),CZ=(t,e,n,r)=>C.useCallback(RB(t,e,n,r),[t,e,n,r]),Dr=(t,e={})=>{var k,P,R,E;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext(wZ)||{},s=n||r||bZ();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new jZ),!s){gI(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const O=(L,$)=>Fd($)?$:hZ($)&&Fd($.defaultValue)?$.defaultValue:Array.isArray(L)?L[L.length-1]:L,D=[O,{},!1];return D.t=O,D.i18n={},D.ready=!1,D}(k=s.options.react)!=null&&k.wait&&gI(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...yZ(),...s.options.react,...e},{useSuspense:l,keyPrefix:c}=a;let d=i||((P=s.options)==null?void 0:P.defaultNS);d=Fd(d)?[d]:d||["translation"],(E=(R=s.reportNamespaces).addUsedNamespaces)==null||E.call(R,d);const f=(s.isInitialized||s.initializedStoreOnce)&&d.every(O=>dZ(O,s,a)),p=CZ(s,e.lng||null,a.nsMode==="fallback"?d:d[0],c),m=()=>p,y=()=>RB(s,e.lng||null,a.nsMode==="fallback"?d:d[0],c),[x,v]=C.useState(m);let b=d.join();e.lng&&(b=`${e.lng}${b}`);const I=SZ(b),A=C.useRef(!0);C.useEffect(()=>{const{bindI18n:O,bindI18nStore:D}=a;A.current=!0,!f&&!l&&(e.lng?k6(s,e.lng,d,()=>{A.current&&v(y)}):xI(s,d,()=>{A.current&&v(y)})),f&&I&&I!==b&&A.current&&v(y);const L=()=>{A.current&&v(y)};return O&&(s==null||s.on(O,L)),D&&(s==null||s.store.on(D,L)),()=>{A.current=!1,s&&(O==null||O.split(" ").forEach($=>s.off($,L))),D&&s&&D.split(" ").forEach($=>s.store.off($,L))}},[s,b]),C.useEffect(()=>{A.current&&f&&v(m)},[s,c,f]);const S=[x,s,f];if(S.t=x,S.i18n=s,S.ready=f,f||!f&&!l)return S;throw new Promise(O=>{e.lng?k6(s,e.lng,d,()=>O()):xI(s,d,()=>O())})};function hc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const PZ=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"})),op="$$material";function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(null,arguments)}function Ye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function EZ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var IZ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AZ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),xo="-ms-",r1="-moz-",sr="-webkit-",OB="comm",r5="rule",i5="decl",TZ="@import",DB="@keyframes",kZ="@layer",RZ=Math.abs,Q_=String.fromCharCode,OZ=Object.assign;function DZ(t,e){return so(t,0)^45?(((e<<2^so(t,0))<<2^so(t,1))<<2^so(t,2))<<2^so(t,3):0}function MB(t){return t.trim()}function MZ(t,e){return(t=e.exec(t))?t[0]:t}function ar(t,e,n){return t.replace(e,n)}function vI(t,e){return t.indexOf(e)}function so(t,e){return t.charCodeAt(e)|0}function Ex(t,e,n){return t.slice(e,n)}function el(t){return t.length}function o5(t){return t.length}function D0(t,e){return e.push(t),t}function NZ(t,e){return t.map(e).join("")}var J_=1,sp=1,NB=0,rs=0,Ai=0,sm="";function Z_(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:J_,column:sp,length:a,return:""}}function cg(t,e){return OZ(Z_("",null,null,"",null,null,0),t,{length:-t.length},e)}function $Z(){return Ai}function LZ(){return Ai=rs>0?so(sm,--rs):0,sp--,Ai===10&&(sp=1,J_--),Ai}function Ss(){return Ai=rs<NB?so(sm,rs++):0,sp++,Ai===10&&(sp=1,J_++),Ai}function cl(){return so(sm,rs)}function Cb(){return rs}function Wy(t,e){return Ex(sm,t,e)}function Ix(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $B(t){return J_=sp=1,NB=el(sm=t),rs=0,[]}function LB(t){return sm="",t}function Pb(t){return MB(Wy(rs-1,bI(t===91?t+2:t===40?t+1:t)))}function zZ(t){for(;(Ai=cl())&&Ai<33;)Ss();return Ix(t)>2||Ix(Ai)>3?"":" "}function FZ(t,e){for(;--e&&Ss()&&!(Ai<48||Ai>102||Ai>57&&Ai<65||Ai>70&&Ai<97););return Wy(t,Cb()+(e<6&&cl()==32&&Ss()==32))}function bI(t){for(;Ss();)switch(Ai){case t:return rs;case 34:case 39:t!==34&&t!==39&&bI(Ai);break;case 40:t===41&&bI(t);break;case 92:Ss();break}return rs}function WZ(t,e){for(;Ss()&&t+Ai!==57;)if(t+Ai===84&&cl()===47)break;return"/*"+Wy(e,rs-1)+"*"+Q_(t===47?t:Ss())}function VZ(t){for(;!Ix(cl());)Ss();return Wy(t,rs)}function BZ(t){return LB(Ab("",null,null,null,[""],t=$B(t),0,[0],t))}function Ab(t,e,n,r,i,s,a,l,c){for(var d=0,f=0,p=a,m=0,y=0,x=0,v=1,b=1,I=1,A=0,S="",k=i,P=s,R=r,E=S;b;)switch(x=A,A=Ss()){case 40:if(x!=108&&so(E,p-1)==58){vI(E+=ar(Pb(A),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:E+=Pb(A);break;case 9:case 10:case 13:case 32:E+=zZ(x);break;case 92:E+=FZ(Cb()-1,7);continue;case 47:switch(cl()){case 42:case 47:D0(UZ(WZ(Ss(),Cb()),e,n),c);break;default:E+="/"}break;case 123*v:l[d++]=el(E)*I;case 125*v:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+f:I==-1&&(E=ar(E,/\f/g,"")),y>0&&el(E)-p&&D0(y>32?O6(E+";",r,n,p-1):O6(ar(E," ","")+";",r,n,p-2),c);break;case 59:E+=";";default:if(D0(R=R6(E,e,n,d,f,i,l,S,k=[],P=[],p),s),A===123)if(f===0)Ab(E,e,R,R,k,s,p,l,P);else switch(m===99&&so(E,3)===110?100:m){case 100:case 108:case 109:case 115:Ab(t,R,R,r&&D0(R6(t,R,R,0,0,i,l,S,i,k=[],p),P),i,P,p,l,r?k:P);break;default:Ab(E,R,R,R,[""],P,0,l,P)}}d=f=y=0,v=I=1,S=E="",p=a;break;case 58:p=1+el(E),y=x;default:if(v<1){if(A==123)--v;else if(A==125&&v++==0&&LZ()==125)continue}switch(E+=Q_(A),A*v){case 38:I=f>0?1:(E+="\f",-1);break;case 44:l[d++]=(el(E)-1)*I,I=1;break;case 64:cl()===45&&(E+=Pb(Ss())),m=cl(),f=p=el(S=E+=VZ(Cb())),A++;break;case 45:x===45&&el(E)==2&&(v=0)}}return s}function R6(t,e,n,r,i,s,a,l,c,d,f){for(var p=i-1,m=i===0?s:[""],y=o5(m),x=0,v=0,b=0;x<r;++x)for(var I=0,A=Ex(t,p+1,p=RZ(v=a[x])),S=t;I<y;++I)(S=MB(v>0?m[I]+" "+A:ar(A,/&\f/g,m[I])))&&(c[b++]=S);return Z_(t,e,n,i===0?r5:l,c,d,f)}function UZ(t,e,n){return Z_(t,e,n,OB,Q_($Z()),Ex(t,2,-2),0)}function O6(t,e,n,r){return Z_(t,e,n,i5,Ex(t,0,r),Ex(t,r+1,-1),r)}function qf(t,e){for(var n="",r=o5(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function qZ(t,e,n,r){switch(t.type){case kZ:if(t.children.length)break;case TZ:case i5:return t.return=t.return||t.value;case OB:return"";case DB:return t.return=t.value+"{"+qf(t.children,r)+"}";case r5:t.value=t.props.join(",")}return el(n=qf(t.children,r))?t.return=t.value+"{"+n+"}":""}function HZ(t){var e=o5(t);return function(n,r,i,s){for(var a="",l=0;l<e;l++)a+=t[l](n,r,i,s)||"";return a}}function GZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function zB(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KZ=function(e,n,r){for(var i=0,s=0;i=s,s=cl(),i===38&&s===12&&(n[r]=1),!Ix(s);)Ss();return Wy(e,rs)},YZ=function(e,n){var r=-1,i=44;do switch(Ix(i)){case 0:i===38&&cl()===12&&(n[r]=1),e[r]+=KZ(rs-1,n,r);break;case 2:e[r]+=Pb(i);break;case 4:if(i===44){e[++r]=cl()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Q_(i)}while(i=Ss());return e},XZ=function(e,n){return LB(YZ($B(e),n))},D6=new WeakMap,QZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!D6.get(r))&&!i){D6.set(e,!0);for(var s=[],a=XZ(n,s),l=r.props,c=0,d=0;c<a.length;c++)for(var f=0;f<l.length;f++,d++)e.props[d]=s[c]?a[c].replace(/&\f/g,l[f]):l[f]+" "+a[c]}}},JZ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function FB(t,e){switch(DZ(t,e)){case 5103:return sr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return sr+t+r1+t+xo+t+t;case 6828:case 4268:return sr+t+xo+t+t;case 6165:return sr+t+xo+"flex-"+t+t;case 5187:return sr+t+ar(t,/(\w+).+(:[^]+)/,sr+"box-$1$2"+xo+"flex-$1$2")+t;case 5443:return sr+t+xo+"flex-item-"+ar(t,/flex-|-self/,"")+t;case 4675:return sr+t+xo+"flex-line-pack"+ar(t,/align-content|flex-|-self/,"")+t;case 5548:return sr+t+xo+ar(t,"shrink","negative")+t;case 5292:return sr+t+xo+ar(t,"basis","preferred-size")+t;case 6060:return sr+"box-"+ar(t,"-grow","")+sr+t+xo+ar(t,"grow","positive")+t;case 4554:return sr+ar(t,/([^-])(transform)/g,"$1"+sr+"$2")+t;case 6187:return ar(ar(ar(t,/(zoom-|grab)/,sr+"$1"),/(image-set)/,sr+"$1"),t,"")+t;case 5495:case 3959:return ar(t,/(image-set\([^]*)/,sr+"$1$`$1");case 4968:return ar(ar(t,/(.+:)(flex-)?(.*)/,sr+"box-pack:$3"+xo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sr+t+t;case 4095:case 3583:case 4068:case 2532:return ar(t,/(.+)-inline(.+)/,sr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(el(t)-1-e>6)switch(so(t,e+1)){case 109:if(so(t,e+4)!==45)break;case 102:return ar(t,/(.+:)(.+)-([^]+)/,"$1"+sr+"$2-$3$1"+r1+(so(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vI(t,"stretch")?FB(ar(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(so(t,e+1)!==115)break;case 6444:switch(so(t,el(t)-3-(~vI(t,"!important")&&10))){case 107:return ar(t,":",":"+sr)+t;case 101:return ar(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sr+(so(t,14)===45?"inline-":"")+"box$3$1"+sr+"$2$3$1"+xo+"$2box$3")+t}break;case 5936:switch(so(t,e+11)){case 114:return sr+t+xo+ar(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return sr+t+xo+ar(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return sr+t+xo+ar(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return sr+t+xo+t+t}return t}var ZZ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case i5:e.return=FB(e.value,e.length);break;case DB:return qf([cg(e,{value:ar(e.value,"@","@"+sr)})],i);case r5:if(e.length)return NZ(e.props,function(s){switch(MZ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qf([cg(e,{props:[ar(s,/:(read-\w+)/,":"+r1+"$1")]})],i);case"::placeholder":return qf([cg(e,{props:[ar(s,/:(plac\w+)/,":"+sr+"input-$1")]}),cg(e,{props:[ar(s,/:(plac\w+)/,":"+r1+"$1")]}),cg(e,{props:[ar(s,/:(plac\w+)/,xo+"input-$1")]})],i)}return""})}},eee=[ZZ],WB=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||eee,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),I=1;I<b.length;I++)s[b[I]]=!0;l.push(v)});var c,d=[QZ,JZ];{var f,p=[qZ,GZ(function(v){f.insert(v)})],m=HZ(d.concat(i,p)),y=function(b){return qf(BZ(b),m)};c=function(b,I,A,S){f=A,y(b?b+"{"+I.styles+"}":I.styles),S&&(x.inserted[I.name]=!0)}}var x={key:n,sheet:new IZ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return x.sheet.hydrate(l),x},_S={exports:{}},ur={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6;function tee(){if(M6)return ur;M6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,I=t?Symbol.for("react.responder"):60118,A=t?Symbol.for("react.scope"):60119;function S(P){if(typeof P=="object"&&P!==null){var R=P.$$typeof;switch(R){case e:switch(P=P.type,P){case c:case d:case r:case s:case i:case p:return P;default:switch(P=P&&P.$$typeof,P){case l:case f:case x:case y:case a:return P;default:return R}}case n:return R}}}function k(P){return S(P)===d}return ur.AsyncMode=c,ur.ConcurrentMode=d,ur.ContextConsumer=l,ur.ContextProvider=a,ur.Element=e,ur.ForwardRef=f,ur.Fragment=r,ur.Lazy=x,ur.Memo=y,ur.Portal=n,ur.Profiler=s,ur.StrictMode=i,ur.Suspense=p,ur.isAsyncMode=function(P){return k(P)||S(P)===c},ur.isConcurrentMode=k,ur.isContextConsumer=function(P){return S(P)===l},ur.isContextProvider=function(P){return S(P)===a},ur.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},ur.isForwardRef=function(P){return S(P)===f},ur.isFragment=function(P){return S(P)===r},ur.isLazy=function(P){return S(P)===x},ur.isMemo=function(P){return S(P)===y},ur.isPortal=function(P){return S(P)===n},ur.isProfiler=function(P){return S(P)===s},ur.isStrictMode=function(P){return S(P)===i},ur.isSuspense=function(P){return S(P)===p},ur.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===d||P===s||P===i||P===p||P===m||typeof P=="object"&&P!==null&&(P.$$typeof===x||P.$$typeof===y||P.$$typeof===a||P.$$typeof===l||P.$$typeof===f||P.$$typeof===b||P.$$typeof===I||P.$$typeof===A||P.$$typeof===v)},ur.typeOf=S,ur}var N6;function nee(){return N6||(N6=1,_S.exports=tee()),_S.exports}var wS,$6;function ree(){if($6)return wS;$6=1;var t=nee(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function a(x){return t.isMemo(x)?i:s[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(x,v,b){if(typeof v!="string"){if(m){var I=p(v);I&&I!==m&&y(x,I,b)}var A=c(v);d&&(A=A.concat(d(v)));for(var S=a(x),k=a(v),P=0;P<A.length;++P){var R=A[P];if(!n[R]&&!(b&&b[R])&&!(k&&k[R])&&!(S&&S[R])){var E=f(v,R);try{l(x,R,E)}catch{}}}}return x}return wS=y,wS}ree();var iee=!0;function VB(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var s5=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||iee===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},a5=function(e,n,r){s5(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function oee(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var see={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},aee=/[A-Z]|^ms/g,lee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BB=function(e){return e.charCodeAt(1)===45},L6=function(e){return e!=null&&typeof e!="boolean"},jS=zB(function(t){return BB(t)?t:t.replace(aee,"-$&").toLowerCase()}),z6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lee,function(r,i,s){return tl={name:i,styles:s,next:tl},i})}return see[e]!==1&&!BB(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return tl={name:i.name,styles:i.styles,next:tl},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)tl={name:a.name,styles:a.styles,next:tl},a=a.next;var l=s.styles+";";return l}return cee(t,e,n)}case"function":{if(t!==void 0){var c=tl,d=n(t);return tl=c,Tx(t,e,d)}break}}var f=n;if(e==null)return f;var p=e[f];return p!==void 0?p:f}function cee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tx(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":L6(l)&&(r+=jS(s)+":"+z6(s,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)L6(a[c])&&(r+=jS(s)+":"+z6(s,a[c])+";");else{var d=Tx(t,e,a);switch(s){case"animation":case"animationName":{r+=jS(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var F6=/label:\s*([^\s;{]+)\s*(;|$)/g,tl;function ew(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";tl=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Tx(n,e,s);else{var a=s;i+=a[0]}for(var l=1;l<t.length;l++)if(i+=Tx(n,e,t[l]),r){var c=s;i+=c[l]}F6.lastIndex=0;for(var d="",f;(f=F6.exec(i))!==null;)d+="-"+f[1];var p=oee(i)+d;return{name:p,styles:i,next:tl}}var uee=function(e){return e()},UB=mI.useInsertionEffect?mI.useInsertionEffect:!1,qB=UB||uee,W6=UB||C.useLayoutEffect,HB=C.createContext(typeof HTMLElement<"u"?WB({key:"css"}):null),dee=HB.Provider,l5=function(e){return C.forwardRef(function(n,r){var i=C.useContext(HB);return e(n,i,r)})},am=C.createContext({}),c5={}.hasOwnProperty,_I="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hee=function(e,n){var r={};for(var i in n)c5.call(n,i)&&(r[i]=n[i]);return r[_I]=e,r},fee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return s5(n,r,i),qB(function(){return a5(n,r,i)}),null},pee=l5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[_I],s=[r],a="";typeof t.className=="string"?a=VB(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var l=ew(s,void 0,C.useContext(am));a+=e.key+"-"+l.name;var c={};for(var d in t)c5.call(t,d)&&d!=="css"&&d!==_I&&(c[d]=t[d]);return c.className=a,n&&(c.ref=n),C.createElement(C.Fragment,null,C.createElement(fee,{cache:e,serialized:l,isStringTag:typeof i=="string"}),C.createElement(i,c))}),mee=pee,V6=function(e,n){var r=arguments;if(n==null||!c5.call(n,"css"))return C.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=mee,s[1]=hee(e,n);for(var a=2;a<i;a++)s[a]=r[a];return C.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(V6||(V6={}));var gee=l5(function(t,e){var n=t.styles,r=ew([n],void 0,C.useContext(am)),i=C.useRef();return W6(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",s),a.hydrate([c])),i.current=[a,l],function(){a.flush()}},[e]),W6(function(){var s=i.current,a=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&a5(e,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function fc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ew(e)}function La(){var t=fc.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var xee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yee=zB(function(t){return xee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),vee=yee,bee=function(e){return e!=="theme"},B6=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vee:bee},U6=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},_ee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return s5(n,r,i),qB(function(){return a5(n,r,i)}),null},wee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=U6(e,n,r),c=l||B6(i),d=!c("as");return function(){var f=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{var m=f[0];p.push(m[0]);for(var y=f.length,x=1;x<y;x++)p.push(f[x],m[x])}var v=l5(function(b,I,A){var S=d&&b.as||i,k="",P=[],R=b;if(b.theme==null){R={};for(var E in b)R[E]=b[E];R.theme=C.useContext(am)}typeof b.className=="string"?k=VB(I.registered,P,b.className):b.className!=null&&(k=b.className+" ");var O=ew(p.concat(P),I.registered,R);k+=I.key+"-"+O.name,a!==void 0&&(k+=" "+a);var D=d&&l===void 0?B6(S):c,L={};for(var $ in b)d&&$==="as"||D($)&&(L[$]=b[$]);return L.className=k,A&&(L.ref=A),C.createElement(C.Fragment,null,C.createElement(_ee,{cache:I,serialized:O,isStringTag:typeof S=="string"}),C.createElement(S,L))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=p,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(b,I){var A=t(b,U({},n,I,{shouldForwardProp:U6(v,I,!0)}));return A.apply(void 0,p)},v}},jee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wI=wee.bind(null);jee.forEach(function(t){wI[t]=wI(t)});var SS={exports:{}},CS,q6;function See(){if(q6)return CS;q6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return CS=t,CS}var PS,H6;function Cee(){if(H6)return PS;H6=1;var t=See();function e(){}function n(){}return n.resetWarningCache=e,PS=function(){function r(a,l,c,d,f,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},PS}var G6;function Pee(){return G6||(G6=1,SS.exports=Cee()()),SS.exports}var Aee=Pee();const dr=or(Aee);let jI;typeof document=="object"&&(jI=WB({key:"css",prepend:!0}));function Eee(t){const{injectFirst:e,children:n}=t;return e&&jI?o.jsx(dee,{value:jI,children:n}):n}function Iee(t){return t==null||Object.keys(t).length===0}function GB(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Iee(i)?n:i):e;return o.jsx(gee,{styles:r})}function u5(t,e){return wI(t,e)}const KB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Tee=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GB,StyledEngineProvider:Eee,ThemeContext:am,css:fc,default:u5,internal_processStyles:KB,keyframes:La},Symbol.toStringTag,{value:"Module"}));function Kl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function YB(t){if(C.isValidElement(t)||!Kl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=YB(t[n])}),e}function Lo(t,e,n={clone:!0}){const r=n.clone?U({},t):t;return Kl(t)&&Kl(e)&&Object.keys(e).forEach(i=>{C.isValidElement(e[i])?r[i]=e[i]:Kl(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Kl(t[i])?r[i]=Lo(t[i],e[i],n):n.clone?r[i]=Kl(e[i])?YB(e[i]):e[i]:r[i]=e[i]}),r}const kee=Object.freeze(Object.defineProperty({__proto__:null,default:Lo,isPlainObject:Kl},Symbol.toStringTag,{value:"Module"})),Ree=["values","unit","step"],Oee=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>U({},n,{[r.key]:r.val}),{})};function XB(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ye(t,Ree),s=Oee(e),a=Object.keys(s);function l(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function d(m,y){const x=a.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:y)-r/100}${n})`}function f(m){return a.indexOf(m)+1<a.length?d(m,a[a.indexOf(m)+1]):l(m)}function p(m){const y=a.indexOf(m);return y===0?l(a[1]):y===a.length-1?c(a[y]):d(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return U({keys:a,values:s,up:l,down:c,between:d,only:f,not:p,unit:n},i)}const Dee={borderRadius:4};function tx(t,e){return e?Lo(t,e,{clone:!1}):t}const d5={xs:0,sm:600,md:900,lg:1200,xl:1536},K6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${d5[t]}px)`};function is(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||K6;return e.reduce((a,l,c)=>(a[s.up(s.keys[c])]=n(e[c]),a),{})}if(typeof e=="object"){const s=r.breakpoints||K6;return Object.keys(e).reduce((a,l)=>{if(Object.keys(s.values||d5).indexOf(l)!==-1){const c=s.up(l);a[c]=n(e[l],l)}else{const c=l;a[c]=e[c]}return a},{})}return n(e)}function QB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function JB(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Mee(t,...e){const n=QB(t),r=[n,...e].reduce((i,s)=>Lo(i,s),{});return JB(Object.keys(n),r)}function Nee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Wd({values:t,breakpoints:e,base:n}){const r=n||Nee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((a,l,c)=>(Array.isArray(t)?(a[l]=t[c]!=null?t[c]:t[s],s=c):typeof t=="object"?(a[l]=t[l]!=null?t[l]:t[s],s=l):a[l]=t,a),{})}function Ne(t){if(typeof t!="string")throw new Error(hc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const $ee=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"}));function ap(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function i1(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=ap(t,n)||r,e&&(i=e(i,r,t)),i}function wi(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const l=a[e],c=a.theme,d=ap(c,r)||{};return is(a,l,p=>{let m=i1(d,i,p);return p===m&&typeof p=="string"&&(m=i1(d,i,`${e}${p==="default"?"":Ne(p)}`,p)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function Lee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const zee={m:"margin",p:"padding"},Fee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Y6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Wee=Lee(t=>{if(t.length>2)if(Y6[t])t=Y6[t];else return[t];const[e,n]=t.split(""),r=zee[e],i=Fee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),h5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...h5,...f5];function Vy(t,e,n,r){var i;const s=(i=ap(t,e,!1))!=null?i:n;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function p5(t){return Vy(t,"spacing",8)}function Yd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Vee(t,e){return n=>t.reduce((r,i)=>(r[i]=Yd(e,n),r),{})}function Bee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Wee(n),s=Vee(i,r),a=t[n];return is(t,a,s)}function ZB(t,e){const n=p5(t.theme);return Object.keys(t).map(r=>Bee(t,e,r,n)).reduce(tx,{})}function si(t){return ZB(t,h5)}si.propTypes={};si.filterProps=h5;function ai(t){return ZB(t,f5)}ai.propTypes={};ai.filterProps=f5;function Uee(t=8){if(t.mui)return t;const e=p5({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function tw(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?tx(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ks(t){return typeof t!="number"?t:`${t}px solid`}function ua(t,e){return wi({prop:t,themeKey:"borders",transform:e})}const qee=ua("border",Ks),Hee=ua("borderTop",Ks),Gee=ua("borderRight",Ks),Kee=ua("borderBottom",Ks),Yee=ua("borderLeft",Ks),Xee=ua("borderColor"),Qee=ua("borderTopColor"),Jee=ua("borderRightColor"),Zee=ua("borderBottomColor"),ete=ua("borderLeftColor"),tte=ua("outline",Ks),nte=ua("outlineColor"),nw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Vy(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yd(e,r)});return is(t,t.borderRadius,n)}return null};nw.propTypes={};nw.filterProps=["borderRadius"];tw(qee,Hee,Gee,Kee,Yee,Xee,Qee,Jee,Zee,ete,nw,tte,nte);const rw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Vy(t.theme,"spacing",8),n=r=>({gap:Yd(e,r)});return is(t,t.gap,n)}return null};rw.propTypes={};rw.filterProps=["gap"];const iw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Vy(t.theme,"spacing",8),n=r=>({columnGap:Yd(e,r)});return is(t,t.columnGap,n)}return null};iw.propTypes={};iw.filterProps=["columnGap"];const ow=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Vy(t.theme,"spacing",8),n=r=>({rowGap:Yd(e,r)});return is(t,t.rowGap,n)}return null};ow.propTypes={};ow.filterProps=["rowGap"];const rte=wi({prop:"gridColumn"}),ite=wi({prop:"gridRow"}),ote=wi({prop:"gridAutoFlow"}),ste=wi({prop:"gridAutoColumns"}),ate=wi({prop:"gridAutoRows"}),lte=wi({prop:"gridTemplateColumns"}),cte=wi({prop:"gridTemplateRows"}),ute=wi({prop:"gridTemplateAreas"}),dte=wi({prop:"gridArea"});tw(rw,iw,ow,rte,ite,ote,ste,ate,lte,cte,ute,dte);function Hf(t,e){return e==="grey"?e:t}const hte=wi({prop:"color",themeKey:"palette",transform:Hf}),fte=wi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hf}),pte=wi({prop:"backgroundColor",themeKey:"palette",transform:Hf});tw(hte,fte,pte);function _s(t){return t<=1&&t!==0?`${t*100}%`:t}const mte=wi({prop:"width",transform:_s}),m5=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||d5[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:_s(n)}};return is(t,t.maxWidth,e)}return null};m5.filterProps=["maxWidth"];const gte=wi({prop:"minWidth",transform:_s}),xte=wi({prop:"height",transform:_s}),yte=wi({prop:"maxHeight",transform:_s}),vte=wi({prop:"minHeight",transform:_s});wi({prop:"size",cssProperty:"width",transform:_s});wi({prop:"size",cssProperty:"height",transform:_s});const bte=wi({prop:"boxSizing"});tw(mte,m5,gte,xte,yte,vte,bte);const By={border:{themeKey:"borders",transform:Ks},borderTop:{themeKey:"borders",transform:Ks},borderRight:{themeKey:"borders",transform:Ks},borderBottom:{themeKey:"borders",transform:Ks},borderLeft:{themeKey:"borders",transform:Ks},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ks},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nw},color:{themeKey:"palette",transform:Hf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hf},backgroundColor:{themeKey:"palette",transform:Hf},p:{style:ai},pt:{style:ai},pr:{style:ai},pb:{style:ai},pl:{style:ai},px:{style:ai},py:{style:ai},padding:{style:ai},paddingTop:{style:ai},paddingRight:{style:ai},paddingBottom:{style:ai},paddingLeft:{style:ai},paddingX:{style:ai},paddingY:{style:ai},paddingInline:{style:ai},paddingInlineStart:{style:ai},paddingInlineEnd:{style:ai},paddingBlock:{style:ai},paddingBlockStart:{style:ai},paddingBlockEnd:{style:ai},m:{style:si},mt:{style:si},mr:{style:si},mb:{style:si},ml:{style:si},mx:{style:si},my:{style:si},margin:{style:si},marginTop:{style:si},marginRight:{style:si},marginBottom:{style:si},marginLeft:{style:si},marginX:{style:si},marginY:{style:si},marginInline:{style:si},marginInlineStart:{style:si},marginInlineEnd:{style:si},marginBlock:{style:si},marginBlockStart:{style:si},marginBlockEnd:{style:si},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rw},rowGap:{style:ow},columnGap:{style:iw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_s},maxWidth:{style:m5},minWidth:{transform:_s},height:{transform:_s},maxHeight:{transform:_s},minHeight:{transform:_s},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _te(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function wte(t,e){return typeof t=="function"?t(e):t}function e7(){function t(n,r,i,s){const a={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:f,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const m=ap(i,d)||{};return p?p(a):is(a,r,x=>{let v=i1(m,f,x);return x===v&&typeof x=="string"&&(v=i1(m,f,`${n}${x==="default"?"":Ne(x)}`,x)),c===!1?v:{[c]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:By;function l(c){let d=c;if(typeof c=="function")d=c(s);else if(typeof c!="object")return c;if(!d)return null;const f=QB(s.breakpoints),p=Object.keys(f);let m=f;return Object.keys(d).forEach(y=>{const x=wte(d[y],s);if(x!=null)if(typeof x=="object")if(a[y])m=tx(m,t(y,x,s,a));else{const v=is({theme:s},x,b=>({[y]:b}));_te(v,x)?m[y]=e({sx:x,theme:s}):m=tx(m,v)}else m=tx(m,t(y,x,s,a))}),JB(p,m)}return Array.isArray(i)?i.map(l):l(i)}return e}const lm=e7();lm.filterProps=["sx"];function t7(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const jte=["breakpoints","palette","spacing","shape"];function cm(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,a=Ye(t,jte),l=XB(n),c=Uee(i);let d=Lo({breakpoints:l,direction:"ltr",components:{},palette:U({mode:"light"},r),spacing:c,shape:U({},Dee,s)},a);return d.applyStyles=t7,d=e.reduce((f,p)=>Lo(f,p),d),d.unstable_sxConfig=U({},By,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return lm({sx:p,theme:this})},d}const Ste=Object.freeze(Object.defineProperty({__proto__:null,default:cm,private_createBreakpoints:XB,unstable_applyStyles:t7},Symbol.toStringTag,{value:"Module"}));function Cte(t){return Object.keys(t).length===0}function g5(t=null){const e=C.useContext(am);return!e||Cte(e)?t:e}const Pte=cm();function sw(t=Pte){return g5(t)}function Ate({styles:t,themeId:e,defaultTheme:n={}}){const r=sw(n),i=typeof t=="function"?t(e&&r[e]||r):t;return o.jsx(GB,{styles:i})}const Ete=["sx"],Ite=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:By;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Uy(t){const{sx:e}=t,n=Ye(t,Ete),{systemProps:r,otherProps:i}=Ite(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const l=e(...a);return Kl(l)?U({},r,l):r}:s=U({},r,e),U({},i,{sx:s})}const Tte=Object.freeze(Object.defineProperty({__proto__:null,default:lm,extendSxProp:Uy,unstable_createStyleFunctionSx:e7,unstable_defaultSxConfig:By},Symbol.toStringTag,{value:"Module"})),X6=t=>t,kte=()=>{let t=X6;return{configure(e){t=e},generate(e){return t(e)},reset(){t=X6}}},n7=kte();function r7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=r7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=r7(t))&&(r&&(r+=" "),r+=e);return r}const Rte=["className","component"];function Ote(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=u5("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(lm);return C.forwardRef(function(c,d){const f=sw(n),p=Uy(c),{className:m,component:y="div"}=p,x=Ye(p,Rte);return o.jsx(s,U({as:y,ref:d,className:Oe(m,i?i(r):r),theme:e&&f[e]||f},x))})}const Dte={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wt(t,e,n="Mui"){const r=Dte[e];return r?`${n}-${r}`:`${n7.generate(t)}-${e}`}function Ct(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=wt(t,i,n)}),r}var AS={exports:{}},_r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q6;function Mte(){if(Q6)return _r;Q6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case n:case i:case r:case c:case d:case m:return v;default:switch(v=v&&v.$$typeof,v){case a:case l:case p:case f:return v;case s:return v;default:return b}}case e:return b}}}return _r.ContextConsumer=s,_r.ContextProvider=a,_r.Element=t,_r.ForwardRef=l,_r.Fragment=n,_r.Lazy=p,_r.Memo=f,_r.Portal=e,_r.Profiler=i,_r.StrictMode=r,_r.Suspense=c,_r.SuspenseList=d,_r.isContextConsumer=function(v){return x(v)===s},_r.isContextProvider=function(v){return x(v)===a},_r.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},_r.isForwardRef=function(v){return x(v)===l},_r.isFragment=function(v){return x(v)===n},_r.isLazy=function(v){return x(v)===p},_r.isMemo=function(v){return x(v)===f},_r.isPortal=function(v){return x(v)===e},_r.isProfiler=function(v){return x(v)===i},_r.isStrictMode=function(v){return x(v)===r},_r.isSuspense=function(v){return x(v)===c},_r.isSuspenseList=function(v){return x(v)===d},_r.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===c||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===a||v.$$typeof===s||v.$$typeof===l||v.$$typeof===y||v.getModuleId!==void 0)},_r.typeOf=x,_r}var J6;function Nte(){return J6||(J6=1,AS.exports=Mte()),AS.exports}var Z6=Nte();const $te=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i7(t){const e=`${t}`.match($te);return e&&e[1]||""}function o7(t,e=""){return t.displayName||t.name||i7(t)||e}function e4(t,e,n){const r=o7(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function Lte(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return o7(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Z6.ForwardRef:return e4(t,t.render,"ForwardRef");case Z6.Memo:return e4(t,t.type,"memo");default:return}}}const zte=Object.freeze(Object.defineProperty({__proto__:null,default:Lte,getFunctionName:i7},Symbol.toStringTag,{value:"Module"})),Fte=["ownerState"],Wte=["variants"],Vte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Bte(t){return Object.keys(t).length===0}function Ute(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ES(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qte=cm(),Hte=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function M0({defaultTheme:t,theme:e,themeId:n}){return Bte(e)?t:e[n]||e}function Gte(t){return t?(e,n)=>n[t]:null}function Eb(t,e){let{ownerState:n}=e,r=Ye(e,Fte);const i=typeof t=="function"?t(U({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Eb(s,U({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let l=Ye(i,Wte);return s.forEach(c=>{let d=!0;typeof c.props=="function"?d=c.props(U({ownerState:n},r,n)):Object.keys(c.props).forEach(f=>{(n==null?void 0:n[f])!==c.props[f]&&r[f]!==c.props[f]&&(d=!1)}),d&&(Array.isArray(l)||(l=[l]),l.push(typeof c.style=="function"?c.style(U({ownerState:n},r,n)):c.style))}),l}return i}function Kte(t={}){const{themeId:e,defaultTheme:n=qte,rootShouldForwardProp:r=ES,slotShouldForwardProp:i=ES}=t,s=a=>lm(U({},a,{theme:M0(U({},a,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(a,l={})=>{KB(a,P=>P.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:f,skipSx:p,overridesResolver:m=Gte(Hte(d))}=l,y=Ye(l,Vte),x=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,v=p||!1;let b,I=ES;d==="Root"||d==="root"?I=r:d?I=i:Ute(a)&&(I=void 0);const A=u5(a,U({shouldForwardProp:I,label:b},y)),S=P=>typeof P=="function"&&P.__emotion_real!==P||Kl(P)?R=>Eb(P,U({},R,{theme:M0({theme:R.theme,defaultTheme:n,themeId:e})})):P,k=(P,...R)=>{let E=S(P);const O=R?R.map(S):[];c&&m&&O.push($=>{const B=M0(U({},$,{defaultTheme:n,themeId:e}));if(!B.components||!B.components[c]||!B.components[c].styleOverrides)return null;const N=B.components[c].styleOverrides,q={};return Object.entries(N).forEach(([Y,ne])=>{q[Y]=Eb(ne,U({},$,{theme:B}))}),m($,q)}),c&&!x&&O.push($=>{var B;const N=M0(U({},$,{defaultTheme:n,themeId:e})),q=N==null||(B=N.components)==null||(B=B[c])==null?void 0:B.variants;return Eb({variants:q},U({},$,{theme:N}))}),v||O.push(s);const D=O.length-R.length;if(Array.isArray(P)&&D>0){const $=new Array(D).fill("");E=[...P,...$],E.raw=[...P.raw,...$]}const L=A(E,...O);return a.muiName&&(L.muiName=a.muiName),L};return A.withConfig&&(k.withConfig=A.withConfig),k}}const s7=Kte();function kx(t,e){const n=U({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=U({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=U({},s),Object.keys(i).forEach(a=>{n[r][a]=kx(i[a],s[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function a7(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:kx(e.components[n].defaultProps,r)}function l7({props:t,name:e,defaultTheme:n,themeId:r}){let i=sw(n);return r&&(i=i[r]||i),a7({theme:i,name:e,props:t})}const So=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Yte(t,e,n,r,i){const[s,a]=C.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return So(()=>{let l=!0;if(!n)return;const c=n(t),d=()=>{l&&a(c.matches)};return d(),c.addListener(d),()=>{l=!1,c.removeListener(d)}},[t,n]),s}const c7=C.useSyncExternalStore;function Xte(t,e,n,r,i){const s=C.useCallback(()=>e,[e]),a=C.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:f}=r(t);return()=>f}return s},[s,t,r,i,n]),[l,c]=C.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const f=n(t);return[()=>f.matches,p=>(f.addListener(p),()=>{f.removeListener(p)})]},[s,n,t]);return c7(c,l,a)}function o1(t,e={}){const n=g5(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=a7({name:"MuiUseMediaQuery",props:e,theme:n});let c=typeof t=="function"?t(n):t;return c=c.replace(/^@media( ?)/m,""),(c7!==void 0?Xte:Yte)(c,i,s,a,l)}function x5(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Qte=Object.freeze(Object.defineProperty({__proto__:null,default:x5},Symbol.toStringTag,{value:"Module"}));function Jte(t,e=0,n=1){return x5(t,e,n)}function Zte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function u7(t){if(t.type)return t;if(t.charAt(0)==="#")return u7(Zte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(hc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(hc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function ene(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function tne(t,e){return t=u7(t),e=Jte(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ene(t)}function SI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function qy(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function nx(t,e){var n,r;return C.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ri(t){return t&&t.ownerDocument||document}function zo(t){return ri(t).defaultView||window}function CI(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let t4=0;function nne(t){const[e,n]=C.useState(t),r=t||e;return C.useEffect(()=>{e==null&&(t4+=1,n(`mui-${t4}`))},[e]),r}const n4=mI.useId;function Hy(t){if(n4!==void 0){const e=n4();return t??e}return nne(t)}function Xd({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=C.useRef(t!==void 0),[s,a]=C.useState(e),l=i?t:s,c=C.useCallback(d=>{i||a(d)},[]);return[l,c]}function Xi(t){const e=C.useRef(t);return So(()=>{e.current=t}),C.useRef((...n)=>(0,e.current)(...n)).current}function gr(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{CI(n,e)})},t)}const r4={};function rne(t,e){const n=C.useRef(r4);return n.current===r4&&(n.current=t(e)),n}const ine=[];function one(t){C.useEffect(t,ine)}class Gy{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Gy}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Ql(){const t=rne(Gy.create).current;return one(t.disposeEffect),t}let aw=!0,PI=!1;const sne=new Gy,ane={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function lne(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&ane[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function cne(t){t.metaKey||t.altKey||t.ctrlKey||(aw=!0)}function IS(){aw=!1}function une(){this.visibilityState==="hidden"&&PI&&(aw=!0)}function dne(t){t.addEventListener("keydown",cne,!0),t.addEventListener("mousedown",IS,!0),t.addEventListener("pointerdown",IS,!0),t.addEventListener("touchstart",IS,!0),t.addEventListener("visibilitychange",une,!0)}function hne(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return aw||lne(e)}function y5(){const t=C.useCallback(i=>{i!=null&&dne(i.ownerDocument)},[]),e=C.useRef(!1);function n(){return e.current?(PI=!0,sne.start(100,()=>{PI=!1}),e.current=!1,!0):!1}function r(i){return hne(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function d7(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let rf;function h7(){if(rf)return rf;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),rf="reverse",t.scrollLeft>0?rf="default":(t.scrollLeft=1,t.scrollLeft===0&&(rf="negative")),document.body.removeChild(t),rf}function fne(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(h7()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const f7=t=>{const e=C.useRef({});return C.useEffect(()=>{e.current=t}),e.current};function Pt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,a)=>{if(a){const l=e(a);l!==""&&s.push(l),n&&n[a]&&s.push(n[a])}return s},[]).join(" ")}),r}function lp(t){return typeof t=="string"}function Nf(t,e,n){return t===void 0||lp(t)?e:U({},e,{ownerState:U({},e.ownerState,n)})}function s1(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function i4(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function p7(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const y=Oe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),x=U({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=U({},n,i,r);return y.length>0&&(v.className=y),Object.keys(x).length>0&&(v.style=x),{props:v,internalRef:void 0}}const a=s1(U({},i,r)),l=i4(r),c=i4(i),d=e(a),f=Oe(d==null?void 0:d.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=U({},d==null?void 0:d.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=U({},d,n,c,l);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:d.ref}}function m7(t,e,n){return typeof t=="function"?t(e,n):t}const pne=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function os(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,a=Ye(t,pne),l=s?{}:m7(r,i),{props:c,internalRef:d}=p7(U({},a,{externalSlotProps:l})),f=gr(d,l==null?void 0:l.ref,(e=t.additionalProps)==null?void 0:e.ref);return Nf(n,U({},c,{ref:f}),i)}function jc(t){if(parseInt(C.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const g7=C.createContext(null);function x7(){return C.useContext(g7)}const mne=typeof Symbol=="function"&&Symbol.for,gne=mne?Symbol.for("mui.nested"):"__THEME_NESTED__";function xne(t,e){return typeof e=="function"?e(t):U({},t,e)}function yne(t){const{children:e,theme:n}=t,r=x7(),i=C.useMemo(()=>{const s=r===null?n:xne(r,n);return s!=null&&(s[gne]=r!==null),s},[n,r]);return o.jsx(g7.Provider,{value:i,children:e})}const vne=["value"],y7=C.createContext();function bne(t){let{value:e}=t,n=Ye(t,vne);return o.jsx(y7.Provider,U({value:e??!0},n))}const um=()=>{const t=C.useContext(y7);return t??!1},v7=C.createContext(void 0);function _ne({value:t,children:e}){return o.jsx(v7.Provider,{value:t,children:e})}function wne(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?kx(i.defaultProps,r):!i.styleOverrides&&!i.variants?kx(i,r):r}function jne({props:t,name:e}){const n=C.useContext(v7);return wne({props:t,name:e,theme:{components:n}})}const o4={};function s4(t,e,n,r=!1){return C.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),a=t?U({},e,{[t]:s}):s;return r?()=>a:a}return t?U({},e,{[t]:n}):U({},e,n)},[t,e,n,r])}function Sne(t){const{children:e,theme:n,themeId:r}=t,i=g5(o4),s=x7()||o4,a=s4(r,i,n),l=s4(r,s,n,!0),c=a.direction==="rtl";return o.jsx(yne,{theme:l,children:o.jsx(am.Provider,{value:a,children:o.jsx(bne,{value:c,children:o.jsx(_ne,{value:a==null?void 0:a.components,children:e})})})})}const Cne=["className","component","disableGutters","fixed","maxWidth","classes"],Pne=cm(),Ane=s7("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),Ene=t=>l7({props:t,name:"MuiContainer",defaultTheme:Pne}),Ine=(t,e)=>{const n=c=>wt(e,c),{classes:r,fixed:i,disableGutters:s,maxWidth:a}=t,l={root:["root",a&&`maxWidth${Ne(String(a))}`,i&&"fixed",s&&"disableGutters"]};return Pt(l,n,r)};function Tne(t={}){const{createStyledComponent:e=Ane,useThemeProps:n=Ene,componentName:r="MuiContainer"}=t,i=e(({theme:a,ownerState:l})=>U({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const f=d,p=a.breakpoints.values[f];return p!==0&&(c[a.breakpoints.up(f)]={maxWidth:`${p}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>U({},l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}));return C.forwardRef(function(l,c){const d=n(l),{className:f,component:p="div",disableGutters:m=!1,fixed:y=!1,maxWidth:x="lg"}=d,v=Ye(d,Cne),b=U({},d,{component:p,disableGutters:m,fixed:y,maxWidth:x}),I=Ine(b,r);return o.jsx(i,U({as:p,ownerState:b,className:Oe(I.root,f),ref:c},v))})}const kne=["component","direction","spacing","divider","children","className","useFlexGap"],Rne=cm(),One=s7("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Dne(t){return l7({props:t,name:"MuiStack",defaultTheme:Rne})}function Mne(t,e){const n=C.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(C.cloneElement(e,{key:`separator-${s}`})),r),[])}const Nne=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],$ne=({ownerState:t,theme:e})=>{let n=U({display:"flex",flexDirection:"column"},is({theme:e},Wd({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=p5(e),i=Object.keys(e.breakpoints.values).reduce((c,d)=>((typeof t.spacing=="object"&&t.spacing[d]!=null||typeof t.direction=="object"&&t.direction[d]!=null)&&(c[d]=!0),c),{}),s=Wd({values:t.direction,base:i}),a=Wd({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((c,d,f)=>{if(!s[c]){const m=d>0?s[f[d-1]]:"column";s[c]=m}}),n=Lo(n,is({theme:e},a,(c,d)=>t.useFlexGap?{gap:Yd(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Nne(d?s[d]:t.direction)}`]:Yd(r,c)}}))}return n=Mee(e.breakpoints,n),n};function Lne(t={}){const{createStyledComponent:e=One,useThemeProps:n=Dne,componentName:r="MuiStack"}=t,i=()=>Pt({root:["root"]},c=>wt(r,c),{}),s=e($ne);return C.forwardRef(function(c,d){const f=n(c),p=Uy(f),{component:m="div",direction:y="column",spacing:x=0,divider:v,children:b,className:I,useFlexGap:A=!1}=p,S=Ye(p,kne),k={direction:y,spacing:x,useFlexGap:A},P=i();return o.jsx(s,U({as:m,ownerState:k,ref:d,className:Oe(P.root,I)},S,{children:v?Mne(b,v):b}))})}function zne(t,e){return U({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Zr={},TS={exports:{}},a4;function b7(){return a4||(a4=1,function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(TS)),TS.exports}const Fne=Ou(PZ),Wne=Ou(Qte);var l4;function Vne(){if(l4)return Zr;l4=1;var t=b7();Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.alpha=x,Zr.blend=R,Zr.colorChannel=void 0,Zr.darken=b,Zr.decomposeColor=a,Zr.emphasize=k,Zr.getContrastRatio=y,Zr.getLuminance=m,Zr.hexToRgb=i,Zr.hslToRgb=p,Zr.lighten=A,Zr.private_safeAlpha=v,Zr.private_safeColorChannel=void 0,Zr.private_safeDarken=I,Zr.private_safeEmphasize=P,Zr.private_safeLighten=S,Zr.recomposeColor=d,Zr.rgbToHex=f;var e=t(Fne),n=t(Wne);function r(E,O=0,D=1){return(0,n.default)(E,O,D)}function i(E){E=E.slice(1);const O=new RegExp(`.{1,${E.length>=6?2:1}}`,"g");let D=E.match(O);return D&&D[0].length===1&&(D=D.map(L=>L+L)),D?`rgb${D.length===4?"a":""}(${D.map((L,$)=>$<3?parseInt(L,16):Math.round(parseInt(L,16)/255*1e3)/1e3).join(", ")})`:""}function s(E){const O=E.toString(16);return O.length===1?`0${O}`:O}function a(E){if(E.type)return E;if(E.charAt(0)==="#")return a(i(E));const O=E.indexOf("("),D=E.substring(0,O);if(["rgb","rgba","hsl","hsla","color"].indexOf(D)===-1)throw new Error((0,e.default)(9,E));let L=E.substring(O+1,E.length-1),$;if(D==="color"){if(L=L.split(" "),$=L.shift(),L.length===4&&L[3].charAt(0)==="/"&&(L[3]=L[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error((0,e.default)(10,$))}else L=L.split(",");return L=L.map(B=>parseFloat(B)),{type:D,values:L,colorSpace:$}}const l=E=>{const O=a(E);return O.values.slice(0,3).map((D,L)=>O.type.indexOf("hsl")!==-1&&L!==0?`${D}%`:D).join(" ")};Zr.colorChannel=l;const c=(E,O)=>{try{return l(E)}catch{return E}};Zr.private_safeColorChannel=c;function d(E){const{type:O,colorSpace:D}=E;let{values:L}=E;return O.indexOf("rgb")!==-1?L=L.map(($,B)=>B<3?parseInt($,10):$):O.indexOf("hsl")!==-1&&(L[1]=`${L[1]}%`,L[2]=`${L[2]}%`),O.indexOf("color")!==-1?L=`${D} ${L.join(" ")}`:L=`${L.join(", ")}`,`${O}(${L})`}function f(E){if(E.indexOf("#")===0)return E;const{values:O}=a(E);return`#${O.map((D,L)=>s(L===3?Math.round(255*D):D)).join("")}`}function p(E){E=a(E);const{values:O}=E,D=O[0],L=O[1]/100,$=O[2]/100,B=L*Math.min($,1-$),N=(ne,Q=(ne+D/30)%12)=>$-B*Math.max(Math.min(Q-3,9-Q,1),-1);let q="rgb";const Y=[Math.round(N(0)*255),Math.round(N(8)*255),Math.round(N(4)*255)];return E.type==="hsla"&&(q+="a",Y.push(O[3])),d({type:q,values:Y})}function m(E){E=a(E);let O=E.type==="hsl"||E.type==="hsla"?a(p(E)).values:E.values;return O=O.map(D=>(E.type!=="color"&&(D/=255),D<=.03928?D/12.92:((D+.055)/1.055)**2.4)),Number((.2126*O[0]+.7152*O[1]+.0722*O[2]).toFixed(3))}function y(E,O){const D=m(E),L=m(O);return(Math.max(D,L)+.05)/(Math.min(D,L)+.05)}function x(E,O){return E=a(E),O=r(O),(E.type==="rgb"||E.type==="hsl")&&(E.type+="a"),E.type==="color"?E.values[3]=`/${O}`:E.values[3]=O,d(E)}function v(E,O,D){try{return x(E,O)}catch{return E}}function b(E,O){if(E=a(E),O=r(O),E.type.indexOf("hsl")!==-1)E.values[2]*=1-O;else if(E.type.indexOf("rgb")!==-1||E.type.indexOf("color")!==-1)for(let D=0;D<3;D+=1)E.values[D]*=1-O;return d(E)}function I(E,O,D){try{return b(E,O)}catch{return E}}function A(E,O){if(E=a(E),O=r(O),E.type.indexOf("hsl")!==-1)E.values[2]+=(100-E.values[2])*O;else if(E.type.indexOf("rgb")!==-1)for(let D=0;D<3;D+=1)E.values[D]+=(255-E.values[D])*O;else if(E.type.indexOf("color")!==-1)for(let D=0;D<3;D+=1)E.values[D]+=(1-E.values[D])*O;return d(E)}function S(E,O,D){try{return A(E,O)}catch{return E}}function k(E,O=.15){return m(E)>.5?b(E,O):A(E,O)}function P(E,O,D){try{return k(E,O)}catch{return E}}function R(E,O,D,L=1){const $=(Y,ne)=>Math.round((Y**(1/L)*(1-D)+ne**(1/L)*D)**L),B=a(E),N=a(O),q=[$(B.values[0],N.values[0]),$(B.values[1],N.values[1]),$(B.values[2],N.values[2])];return d({type:"rgb",values:q})}return Zr}var Yt=Vne();const Rx={black:"#000",white:"#fff"},Bne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},of={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},sf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ug={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},af={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Une=["mode","contrastThreshold","tonalOffset"],c4={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rx.white,default:Rx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},kS={text:{primary:Rx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function u4(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Yt.lighten(t.main,i):e==="dark"&&(t.dark=Yt.darken(t.main,s)))}function qne(t="light"){return t==="dark"?{main:af[200],light:af[50],dark:af[400]}:{main:af[700],light:af[400],dark:af[800]}}function Hne(t="light"){return t==="dark"?{main:of[200],light:of[50],dark:of[400]}:{main:of[500],light:of[300],dark:of[700]}}function Gne(t="light"){return t==="dark"?{main:sf[500],light:sf[300],dark:sf[700]}:{main:sf[700],light:sf[400],dark:sf[800]}}function Kne(t="light"){return t==="dark"?{main:lf[400],light:lf[300],dark:lf[700]}:{main:lf[700],light:lf[500],dark:lf[900]}}function Yne(t="light"){return t==="dark"?{main:cf[400],light:cf[300],dark:cf[700]}:{main:cf[800],light:cf[500],dark:cf[900]}}function Xne(t="light"){return t==="dark"?{main:ug[400],light:ug[300],dark:ug[700]}:{main:"#ed6c02",light:ug[500],dark:ug[900]}}function Qne(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ye(t,Une),s=t.primary||qne(e),a=t.secondary||Hne(e),l=t.error||Gne(e),c=t.info||Kne(e),d=t.success||Yne(e),f=t.warning||Xne(e);function p(v){return Yt.getContrastRatio(v,kS.text.primary)>=n?kS.text.primary:c4.text.primary}const m=({color:v,name:b,mainShade:I=500,lightShade:A=300,darkShade:S=700})=>{if(v=U({},v),!v.main&&v[I]&&(v.main=v[I]),!v.hasOwnProperty("main"))throw new Error(hc(11,b?` (${b})`:"",I));if(typeof v.main!="string")throw new Error(hc(12,b?` (${b})`:"",JSON.stringify(v.main)));return u4(v,"light",A,r),u4(v,"dark",S,r),v.contrastText||(v.contrastText=p(v.main)),v},y={dark:kS,light:c4};return Lo(U({common:U({},Rx),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:d,name:"success"}),grey:Bne,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},y[e]),i)}const Jne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Zne(t){return Math.round(t*1e5)/1e5}const d4={textTransform:"uppercase"},h4='"Roboto", "Helvetica", "Arial", sans-serif';function ere(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=h4,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:f,pxToRem:p}=n,m=Ye(n,Jne),y=i/14,x=p||(I=>`${I/d*y}rem`),v=(I,A,S,k,P)=>U({fontFamily:r,fontWeight:I,fontSize:x(A),lineHeight:S},r===h4?{letterSpacing:`${Zne(k/A)}em`}:{},P,f),b={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(l,14,1.75,.4,d4),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,d4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lo(U({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},b),m,{clone:!1})}const tre=.2,nre=.14,rre=.12;function Br(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${tre})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${nre})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${rre})`].join(",")}const ire=["none",Br(0,2,1,-1,0,1,1,0,0,1,3,0),Br(0,3,1,-2,0,2,2,0,0,1,5,0),Br(0,3,3,-2,0,3,4,0,0,1,8,0),Br(0,2,4,-1,0,4,5,0,0,1,10,0),Br(0,3,5,-1,0,5,8,0,0,1,14,0),Br(0,3,5,-1,0,6,10,0,0,1,18,0),Br(0,4,5,-2,0,7,10,1,0,2,16,1),Br(0,5,5,-3,0,8,10,1,0,3,14,2),Br(0,5,6,-3,0,9,12,1,0,3,16,2),Br(0,6,6,-3,0,10,14,1,0,4,18,3),Br(0,6,7,-4,0,11,15,1,0,4,20,3),Br(0,7,8,-4,0,12,17,2,0,5,22,4),Br(0,7,8,-4,0,13,19,2,0,5,24,4),Br(0,7,9,-4,0,14,21,2,0,5,26,4),Br(0,8,9,-5,0,15,22,2,0,6,28,5),Br(0,8,10,-5,0,16,24,2,0,6,30,5),Br(0,8,11,-5,0,17,26,2,0,6,32,5),Br(0,9,11,-5,0,18,28,2,0,7,34,6),Br(0,9,12,-6,0,19,29,2,0,7,36,6),Br(0,10,13,-6,0,20,31,3,0,8,38,7),Br(0,10,13,-6,0,21,33,3,0,8,40,7),Br(0,10,14,-6,0,22,35,3,0,8,42,7),Br(0,11,14,-7,0,23,36,3,0,9,44,8),Br(0,11,15,-7,0,24,38,3,0,9,46,8)],ore=["duration","easing","delay"],sre={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function f4(t){return`${Math.round(t)}ms`}function are(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function lre(t){const e=U({},sre,t.easing),n=U({},_7,t.duration);return U({getAutoHeightDuration:are,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:c=0}=s;return Ye(s,ore),(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof a=="string"?a:f4(a)} ${l} ${typeof c=="string"?c:f4(c)}`).join(",")}},t,{easing:e,duration:n})}const cre={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ure=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function v5(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,a=Ye(t,ure);if(t.vars&&t.generateCssVars===void 0)throw new Error(hc(18));const l=Qne(r),c=cm(t);let d=Lo(c,{mixins:zne(c.breakpoints,n),palette:l,shadows:ire.slice(),typography:ere(l,s),transitions:lre(i),zIndex:U({},cre)});return d=Lo(d,a),d=e.reduce((f,p)=>Lo(f,p),d),d.unstable_sxConfig=U({},By,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return lm({sx:p,theme:this})},d}function dre(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function hre(t){return parseFloat(t)}const b5=v5();function Co(){const t=sw(b5);return t[op]||t}var ld={},RS={exports:{}},p4;function fre(){return p4||(p4=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(RS)),RS.exports}var OS={exports:{}},m4;function pre(){return m4||(m4=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(OS)),OS.exports}const w7=Ou(Tee),mre=Ou(kee),gre=Ou($ee),xre=Ou(zte),yre=Ou(Ste),vre=Ou(Tte);var g4;function bre(){if(g4)return ld;g4=1;var t=b7();Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=k,ld.shouldForwardProp=x,ld.systemDefaultTheme=void 0;var e=t(fre()),n=t(pre()),r=p(w7),i=mre;t(gre),t(xre);var s=t(yre),a=t(vre);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(P){if(typeof WeakMap!="function")return null;var R=new WeakMap,E=new WeakMap;return(f=function(O){return O?E:R})(P)}function p(P,R){if(P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var E=f(R);if(E&&E.has(P))return E.get(P);var O={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in P)if(L!=="default"&&Object.prototype.hasOwnProperty.call(P,L)){var $=D?Object.getOwnPropertyDescriptor(P,L):null;$&&($.get||$.set)?Object.defineProperty(O,L,$):O[L]=P[L]}return O.default=P,E&&E.set(P,O),O}function m(P){return Object.keys(P).length===0}function y(P){return typeof P=="string"&&P.charCodeAt(0)>96}function x(P){return P!=="ownerState"&&P!=="theme"&&P!=="sx"&&P!=="as"}const v=ld.systemDefaultTheme=(0,s.default)(),b=P=>P&&P.charAt(0).toLowerCase()+P.slice(1);function I({defaultTheme:P,theme:R,themeId:E}){return m(R)?P:R[E]||R}function A(P){return P?(R,E)=>E[P]:null}function S(P,R){let{ownerState:E}=R,O=(0,n.default)(R,l);const D=typeof P=="function"?P((0,e.default)({ownerState:E},O)):P;if(Array.isArray(D))return D.flatMap(L=>S(L,(0,e.default)({ownerState:E},O)));if(D&&typeof D=="object"&&Array.isArray(D.variants)){const{variants:L=[]}=D;let B=(0,n.default)(D,c);return L.forEach(N=>{let q=!0;typeof N.props=="function"?q=N.props((0,e.default)({ownerState:E},O,E)):Object.keys(N.props).forEach(Y=>{(E==null?void 0:E[Y])!==N.props[Y]&&O[Y]!==N.props[Y]&&(q=!1)}),q&&(Array.isArray(B)||(B=[B]),B.push(typeof N.style=="function"?N.style((0,e.default)({ownerState:E},O,E)):N.style))}),B}return D}function k(P={}){const{themeId:R,defaultTheme:E=v,rootShouldForwardProp:O=x,slotShouldForwardProp:D=x}=P,L=$=>(0,a.default)((0,e.default)({},$,{theme:I((0,e.default)({},$,{defaultTheme:E,themeId:R}))}));return L.__mui_systemSx=!0,($,B={})=>{(0,r.internal_processStyles)($,fe=>fe.filter(Se=>!(Se!=null&&Se.__mui_systemSx)));const{name:N,slot:q,skipVariantsResolver:Y,skipSx:ne,overridesResolver:Q=A(b(q))}=B,ee=(0,n.default)(B,d),Z=Y!==void 0?Y:q&&q!=="Root"&&q!=="root"||!1,de=ne||!1;let K,se=x;q==="Root"||q==="root"?se=O:q?se=D:y($)&&(se=void 0);const le=(0,r.default)($,(0,e.default)({shouldForwardProp:se,label:K},ee)),oe=fe=>typeof fe=="function"&&fe.__emotion_real!==fe||(0,i.isPlainObject)(fe)?Se=>S(fe,(0,e.default)({},Se,{theme:I({theme:Se.theme,defaultTheme:E,themeId:R})})):fe,ge=(fe,...Se)=>{let be=oe(fe);const ce=Se?Se.map(oe):[];N&&Q&&ce.push(pe=>{const $e=I((0,e.default)({},pe,{defaultTheme:E,themeId:R}));if(!$e.components||!$e.components[N]||!$e.components[N].styleOverrides)return null;const Ce=$e.components[N].styleOverrides,Je={};return Object.entries(Ce).forEach(([ht,Xe])=>{Je[ht]=S(Xe,(0,e.default)({},pe,{theme:$e}))}),Q(pe,Je)}),N&&!Z&&ce.push(pe=>{var $e;const Ce=I((0,e.default)({},pe,{defaultTheme:E,themeId:R})),Je=Ce==null||($e=Ce.components)==null||($e=$e[N])==null?void 0:$e.variants;return S({variants:Je},(0,e.default)({},pe,{theme:Ce}))}),de||ce.push(L);const We=ce.length-Se.length;if(Array.isArray(fe)&&We>0){const pe=new Array(We).fill("");be=[...fe,...pe],be.raw=[...fe.raw,...pe]}const Fe=le(be,...ce);return $.muiName&&(Fe.muiName=$.muiName),Fe};return le.withConfig&&(ge.withConfig=le.withConfig),ge}}return ld}var _re=bre();const wre=or(_re);function j7(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Li=t=>j7(t)&&t!=="classes",ze=wre({themeId:op,defaultTheme:b5,rootShouldForwardProp:Li}),jre=["theme"];function Sre(t){let{theme:e}=t,n=Ye(t,jre);const r=e[op];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=U({},r,{vars:null}):e&&!e.vars&&(i=U({},e,{vars:null}))),o.jsx(Sne,U({},n,{themeId:r?op:void 0,theme:i}))}const x4=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function At(t){return jne(t)}function S7(t){return o.jsx(Ate,U({},t,{defaultTheme:b5,themeId:op}))}const Cre=(t,e)=>U({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),Pre=t=>U({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),Are=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([a,l])=>{var c;r[t.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let i=U({html:Cre(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:U({margin:0},Pre(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function Ere(t){const e=At({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return o.jsxs(C.Fragment,{children:[o.jsx(S7,{styles:i=>Are(i,r)}),n]})}const C7=(t="ltr")=>v5({direction:t,palette:{primary:{main:"#1E3A8A",dark:"#1E40AF",light:"#3B82F6"},secondary:{main:"#64748B",light:"#94A3B8",dark:"#475569"},background:{default:"#F8FAFC",paper:"#FFFFFF"},text:{primary:"#1E293B",secondary:"#64748B"},success:{main:"#10B981",light:"#34D399",dark:"#059669"},warning:{main:"#F59E0B",light:"#FCD34D",dark:"#D97706"},error:{main:"#EF4444",light:"#F87171",dark:"#DC2626"},info:{main:"#3B82F6",light:"#60A5FA",dark:"#2563EB"}},typography:{fontFamily:t==="rtl"?'"Cairo", "Amiri", "Noto Sans Arabic", "Inter", "Roboto", "Helvetica", "Arial", sans-serif':'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.25rem",fontWeight:700,lineHeight:1.2,textAlign:t==="rtl"?"right":"left"},h2:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.3,textAlign:t==="rtl"?"right":"left"},h3:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4,textAlign:t==="rtl"?"right":"left"},h4:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4,textAlign:t==="rtl"?"right":"left"},h5:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4,textAlign:t==="rtl"?"right":"left"},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.4,textAlign:t==="rtl"?"right":"left"},body1:{fontSize:"1rem",lineHeight:1.5,textAlign:t==="rtl"?"right":"left"},body2:{fontSize:"0.875rem",lineHeight:1.5,textAlign:t==="rtl"?"right":"left"}},shape:{borderRadius:12},shadows:["none","0px 1px 3px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.06)","0px 4px 6px -1px rgba(0, 0, 0, 0.1), 0px 2px 4px -1px rgba(0, 0, 0, 0.06)","0px 10px 15px -3px rgba(0, 0, 0, 0.1), 0px 4px 6px -2px rgba(0, 0, 0, 0.05)","0px 20px 25px -5px rgba(0, 0, 0, 0.1), 0px 10px 10px -5px rgba(0, 0, 0, 0.04)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)","0px 25px 50px -12px rgba(0, 0, 0, 0.25)"],components:{MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.1), 0px 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none"}}},MuiButton:{styleOverrides:{root:{borderRadius:12,textTransform:"none",fontWeight:600,padding:"10px 24px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.1), 0px 2px 4px -1px rgba(0, 0, 0, 0.06)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12}}}},MuiTypography:{styleOverrides:{root:{textAlign:"inherit"}}}}});C7("ltr");const Ire=({children:t})=>{const{i18n:e}=Dr(),n=e.language==="ar"?"rtl":"ltr",r=C.useMemo(()=>C7(n),[n]);return C.useEffect(()=>{document.dir=n,document.documentElement.setAttribute("dir",n),document.documentElement.setAttribute("lang",e.language);const i=document.getElementById("rtl-styles");if(i&&i.remove(),n==="rtl"){const s=document.createElement("style");s.id="rtl-styles",s.textContent=`
        .MuiDrawer-paperAnchorLeft {
          right: 0 !important;
          left: auto !important;
        }
        .MuiDrawer-paperAnchorDockedLeft {
          border-right: none !important;
          border-left: 1px solid rgba(0, 0, 0, 0.12) !important;
        }
        .MuiTabs-scrollableX .MuiTabs-scrollButtons {
          order: -1;
        }
        .MuiTabs-scrollButtonsHideMobile .MuiTabs-scrollButtons {
          display: flex;
        }
        /* Notification specific RTL adjustments */
        .notification-actions {
          flex-direction: row-reverse;
        }
        .notification-content {
          text-align: right;
        }
        .notification-avatar {
          margin-left: 16px;
          margin-right: 0;
        }
      `,document.head.appendChild(s)}},[n,e.language]),o.jsxs(Sre,{theme:r,children:[o.jsx(Ere,{}),t]})},Tre=()=>{};var y4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},A7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||p==null)throw new Rre;const m=s<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),p!==64){const x=d<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ore=function(t){const e=P7(t);return A7.encodeByteArray(e,!0)},E7=function(t){return Ore(t).replace(/\./g,"")},I7=function(t){try{return A7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dre=()=>T7().__FIREBASE_DEFAULTS__,Mre=()=>{if(typeof process>"u"||typeof y4>"u")return;const t=y4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I7(t[1]);return e&&JSON.parse(e)},lw=()=>{try{return Tre()||Dre()||Mre()||Nre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$re=t=>{var e,n;return(n=(e=lw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},k7=()=>{var t;return(t=lw())===null||t===void 0?void 0:t.config},R7=t=>{var e;return(e=lw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return t.endsWith(".cloudworkstations.dev")}async function O7(t){return(await fetch(t,{credentials:"include"})).ok}const rx={};function zre(){const t={prod:[],emulator:[]};for(const e of Object.keys(rx))rx[e]?t.emulator.push(e):t.prod.push(e);return t}function Fre(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v4=!1;function Wre(t,e){if(typeof window>"u"||typeof document>"u"||!Ky(window.location.host)||rx[t]===e||rx[t]||v4)return;rx[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=zre().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{v4=!0,a()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Fre(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),I=n("preprendIcon"),A=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),f(b,v);const k=d();c(A,I),S.append(A,x,b,k),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($i())}function D7(){var t;const e=(t=lw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ure(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hre(){const t=$i();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M7(){return!D7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N7(){return!D7()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function $7(){try{return typeof indexedDB=="object"}catch{return!1}}function Gre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre="FirebaseError";class Sc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kre,Object.setPrototypeOf(this,Sc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yy.prototype.create)}}class Yy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Yre(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Sc(i,l,r)}}function Yre(t,e){return t.replace(Xre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xre=/\{\$([^}]+)}/g;function Qre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(b4(s)&&b4(a)){if(!Qd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ug(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jre(t,e){const n=new Zre(t,e);return n.subscribe.bind(n)}class Zre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eie(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=DS),i.error===void 0&&(i.error=DS),i.complete===void 0&&(i.complete=DS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function DS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t&&t._delegate?t._delegate:t}class Jd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rie(e))try{this.getOrInitializeService({instanceIdentifier:gd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gd){return this.instances.has(e)}getOptions(e=gd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gd){return this.component?this.component.multipleInstances?e:gd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nie(t){return t===gd?void 0:t}function rie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Vn||(Vn={}));const oie={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},sie=Vn.INFO,aie={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},lie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aie[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let _5=class{constructor(e){this.name=e,this._logLevel=sie,this._logHandler=lie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...e),this._logHandler(this,Vn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...e),this._logHandler(this,Vn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...e),this._logHandler(this,Vn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...e),this._logHandler(this,Vn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...e),this._logHandler(this,Vn.ERROR,...e)}};const cie=(t,e)=>e.some(n=>t instanceof n);let _4,w4;function uie(){return _4||(_4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function die(){return w4||(w4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L7=new WeakMap,AI=new WeakMap,z7=new WeakMap,MS=new WeakMap,w5=new WeakMap;function hie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(vu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&L7.set(n,t)}).catch(()=>{}),w5.set(e,t),e}function fie(t){if(AI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});AI.set(t,e)}let EI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return AI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pie(t){EI=t(EI)}function mie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(NS(this),e,...n);return z7.set(r,e.sort?e.sort():[e]),vu(r)}:die().includes(t)?function(...e){return t.apply(NS(this),e),vu(L7.get(this))}:function(...e){return vu(t.apply(NS(this),e))}}function gie(t){return typeof t=="function"?mie(t):(t instanceof IDBTransaction&&fie(t),cie(t,uie())?new Proxy(t,EI):t)}function vu(t){if(t instanceof IDBRequest)return hie(t);if(MS.has(t))return MS.get(t);const e=gie(t);return e!==t&&(MS.set(t,e),w5.set(e,t)),e}const NS=t=>w5.get(t);function xie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=vu(a);return r&&a.addEventListener("upgradeneeded",c=>{r(vu(a.result),c.oldVersion,c.newVersion,vu(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yie=["get","getKey","getAll","getAllKeys","count"],vie=["put","add","delete","clear"],$S=new Map;function j4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($S.get(e))return $S.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yie.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return $S.set(e,s),s}pie(t=>({...t,get:(e,n,r)=>j4(e,n)||t.get(e,n,r),has:(e,n)=>!!j4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_ie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _ie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const II="@firebase/app",S4="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new _5("@firebase/app"),wie="@firebase/app-compat",jie="@firebase/analytics-compat",Sie="@firebase/analytics",Cie="@firebase/app-check-compat",Pie="@firebase/app-check",Aie="@firebase/auth",Eie="@firebase/auth-compat",Iie="@firebase/database",Tie="@firebase/data-connect",kie="@firebase/database-compat",Rie="@firebase/functions",Oie="@firebase/functions-compat",Die="@firebase/installations",Mie="@firebase/installations-compat",Nie="@firebase/messaging",$ie="@firebase/messaging-compat",Lie="@firebase/performance",zie="@firebase/performance-compat",Fie="@firebase/remote-config",Wie="@firebase/remote-config-compat",Vie="@firebase/storage",Bie="@firebase/storage-compat",Uie="@firebase/firestore",qie="@firebase/ai",Hie="@firebase/firestore-compat",Gie="firebase",Kie="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="[DEFAULT]",Yie={[II]:"fire-core",[wie]:"fire-core-compat",[Sie]:"fire-analytics",[jie]:"fire-analytics-compat",[Pie]:"fire-app-check",[Cie]:"fire-app-check-compat",[Aie]:"fire-auth",[Eie]:"fire-auth-compat",[Iie]:"fire-rtdb",[Tie]:"fire-data-connect",[kie]:"fire-rtdb-compat",[Rie]:"fire-fn",[Oie]:"fire-fn-compat",[Die]:"fire-iid",[Mie]:"fire-iid-compat",[Nie]:"fire-fcm",[$ie]:"fire-fcm-compat",[Lie]:"fire-perf",[zie]:"fire-perf-compat",[Fie]:"fire-rc",[Wie]:"fire-rc-compat",[Vie]:"fire-gcs",[Bie]:"fire-gcs-compat",[Uie]:"fire-fst",[Hie]:"fire-fst-compat",[qie]:"fire-vertex","fire-js":"fire-js",[Gie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,kI=new Map,RI=new Map;function C4(t,e){try{t.container.addComponent(e)}catch(n){pc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function up(t){const e=t.name;if(RI.has(e))return pc.debug(`There were multiple attempts to register component ${e}.`),!1;RI.set(e,t);for(const n of cp.values())C4(n,t);for(const n of kI.values())C4(n,t);return!0}function j5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ys(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bu=new Yy("app","Firebase",Xie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=Kie;function a1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:TI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw bu.create("bad-app-name",{appName:String(i)});if(n||(n=k7()),!n)throw bu.create("no-options");const s=cp.get(i);if(s){if(Qd(n,s.options)&&Qd(r,s.config))return s;throw bu.create("duplicate-app",{appName:i})}const a=new iie(i);for(const c of RI.values())a.addComponent(c);const l=new Qie(n,r,a);return cp.set(i,l),l}function Jie(t=TI){const e=cp.get(t);if(!e&&t===TI&&k7())return a1();if(!e)throw bu.create("no-app",{appName:t});return e}async function P4(t){let e=!1;const n=t.name;cp.has(n)?(e=!0,cp.delete(n)):kI.has(n)&&t.decRefCount()<=0&&(kI.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function _u(t,e,n){var r;let i=(r=Yie[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pc.warn(l.join(" "));return}up(new Jd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie="firebase-heartbeat-database",eoe=1,Ox="firebase-heartbeat-store";let LS=null;function F7(){return LS||(LS=xie(Zie,eoe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ox)}catch(n){console.warn(n)}}}}).catch(t=>{throw bu.create("idb-open",{originalErrorMessage:t.message})})),LS}async function toe(t){try{const n=(await F7()).transaction(Ox),r=await n.objectStore(Ox).get(W7(t));return await n.done,r}catch(e){if(e instanceof Sc)pc.warn(e.message);else{const n=bu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pc.warn(n.message)}}}async function A4(t,e){try{const r=(await F7()).transaction(Ox,"readwrite");await r.objectStore(Ox).put(e,W7(t)),await r.done}catch(n){if(n instanceof Sc)pc.warn(n.message);else{const r=bu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pc.warn(r.message)}}}function W7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=1024,roe=30;class ioe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new soe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>roe){const a=aoe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E4(),{heartbeatsToSend:r,unsentEntries:i}=ooe(this._heartbeatsCache.heartbeats),s=E7(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pc.warn(n),""}}}function E4(){return new Date().toISOString().substring(0,10)}function ooe(t,e=noe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),I4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class soe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $7()?Gre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await toe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I4(t){return E7(JSON.stringify({version:2,heartbeats:t})).length}function aoe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(t){up(new Jd("platform-logger",e=>new bie(e),"PRIVATE")),up(new Jd("heartbeat",e=>new ioe(e),"PRIVATE")),_u(II,S4,t),_u(II,S4,"esm2017"),_u("fire-js","")}loe("");function S5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const coe=V7,B7=new Yy("auth","Firebase",V7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new _5("@firebase/auth");function uoe(t,...e){l1.logLevel<=Vn.WARN&&l1.warn(`Auth (${dm}): ${t}`,...e)}function Ib(t,...e){l1.logLevel<=Vn.ERROR&&l1.error(`Auth (${dm}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw C5(t,...e)}function ul(t,...e){return C5(t,...e)}function U7(t,e,n){const r=Object.assign(Object.assign({},coe()),{[e]:n});return new Yy("auth","Firebase",r).create(e,{appName:t.name})}function ic(t){return U7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B7.create(t,...e)}function en(t,e,...n){if(!t)throw C5(e,...n)}function Jl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ib(e),new Error(e)}function mc(t,e){t||Jl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q7(){return T4()==="http:"||T4()==="https:"}function T4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q7()||Ure()||"connection"in navigator)?navigator.onLine:!0}function hoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.shortDelay=e,this.longDelay=n,mc(n>e,"Short delay should be less than long delay!"),this.isMobile=Vre()||qre()}get(){return doe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){mc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],moe=new Qy(3e4,6e4);function za(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ks(t,e,n,r,i={}){return G7(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Xy(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},s);return Bre()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ky(t.emulatorConfig.host)&&(d.credentials="include"),H7.fetch()(await K7(t,t.config.apiHost,n,l),d)})}async function G7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},foe),e);try{const i=new xoe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw N0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw N0(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw N0(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw N0(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw U7(t,f,d);ia(t,f)}}catch(i){if(i instanceof Sc)throw i;ia(t,"network-request-failed",{message:String(i)})}}async function Jy(t,e,n,r,i={}){const s=await ks(t,e,n,r,i);return"mfaPendingCredential"in s&&ia(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function K7(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?P5(t.config,i):`${t.config.apiScheme}://${i}`;return poe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function goe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ul(this.auth,"network-request-failed")),moe.get())})}}function N0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ul(t,e,r);return i.customData._tokenResponse=n,i}function k4(t){return t!==void 0&&t.enterprise!==void 0}class yoe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return goe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function voe(t,e){return ks(t,"GET","/v2/recaptchaConfig",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function boe(t,e){return ks(t,"POST","/v1/accounts:delete",e)}async function u1(t,e){return ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _oe(t,e=!1){const n=Or(t),r=await n.getIdToken(e),i=A5(r);en(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ix(zS(i.auth_time)),issuedAtTime:ix(zS(i.iat)),expirationTime:ix(zS(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zS(t){return Number(t)*1e3}function A5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ib("JWT malformed, contained fewer than 3 sections"),null;try{const i=I7(n);return i?JSON.parse(i):(Ib("Failed to decode base64 JWT payload"),null)}catch(i){return Ib("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function R4(t){const e=A5(t);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sc&&woe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function woe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ix(this.lastLoginAt),this.creationTime=ix(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zd(t,u1(n,{idToken:r}));en(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Y7(s.providerUserInfo):[],l=Coe(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new OI(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Soe(t){const e=Or(t);await d1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Coe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Y7(t){return t.map(e=>{var{providerId:n}=e,r=S5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e){const n=await G7(t,{},async()=>{const r=Xy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await K7(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",H7.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aoe(t,e){return ks(t,"POST","/v2/accounts:revokeToken",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){en(e.length!==0,"internal-error");const n=R4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Poe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Gf;return r&&(en(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(en(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(en(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gf,this.toJSON())}_performRefresh(){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){en(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Da{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=S5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new joe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zd(this,this.stsTokenManager.getToken(this.auth,e));return en(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _oe(this,e)}reload(){return Soe(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await d1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(ic(this.auth));const e=await this.getIdToken();return await Zd(this,boe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=n.createdAt)!==null&&d!==void 0?d:void 0,A=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:k,isAnonymous:P,providerData:R,stsTokenManager:E}=n;en(S&&E,e,"internal-error");const O=Gf.fromJSON(this.name,E);en(typeof S=="string",e,"internal-error"),Yc(p,e.name),Yc(m,e.name),en(typeof k=="boolean",e,"internal-error"),en(typeof P=="boolean",e,"internal-error"),Yc(y,e.name),Yc(x,e.name),Yc(v,e.name),Yc(b,e.name),Yc(I,e.name),Yc(A,e.name);const D=new Da({uid:S,auth:e,email:m,emailVerified:k,displayName:p,isAnonymous:P,photoURL:x,phoneNumber:y,tenantId:v,stsTokenManager:O,createdAt:I,lastLoginAt:A});return R&&Array.isArray(R)&&(D.providerData=R.map(L=>Object.assign({},L))),b&&(D._redirectEventId=b),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gf;i.updateFromServerResponse(n);const s=new Da({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await d1(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];en(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Y7(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Gf;l.updateFromIdToken(r);const c=new Da({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new OI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Map;function Zl(t){mc(t instanceof Function,"Expected a class definition");let e=O4.get(t);return e?(mc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X7.type="NONE";const D4=X7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e,n){return`firebase:${t}:${e}:${n}`}class Kf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await u1(this.auth,{idToken:e}).catch(()=>{});return n?Da._fromGetAccountInfoResponse(this.auth,n,e):null}return Da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kf(Zl(D4),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Zl(D4);const a=Tb(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let p;if(typeof f=="string"){const m=await u1(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Da._fromGetAccountInfoResponse(e,m,f)}else p=Da._fromJSON(e,f);d!==s&&(l=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Kf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Kf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nU(e))return"Blackberry";if(rU(e))return"Webos";if(J7(e))return"Safari";if((e.includes("chrome/")||Z7(e))&&!e.includes("edge/"))return"Chrome";if(tU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q7(t=$i()){return/firefox\//i.test(t)}function J7(t=$i()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z7(t=$i()){return/crios\//i.test(t)}function eU(t=$i()){return/iemobile/i.test(t)}function tU(t=$i()){return/android/i.test(t)}function nU(t=$i()){return/blackberry/i.test(t)}function rU(t=$i()){return/webos/i.test(t)}function E5(t=$i()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Eoe(t=$i()){var e;return E5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ioe(){return Hre()&&document.documentMode===10}function iU(t=$i()){return E5(t)||tU(t)||rU(t)||nU(t)||/windows phone/i.test(t)||eU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e=[]){let n;switch(t){case"Browser":n=M4($i());break;case"Worker":n=`${M4($i())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function koe(t,e={}){return ks(t,"GET","/v2/passwordPolicy",za(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe=6;class Ooe{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Roe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N4(this),this.idTokenSubscription=new N4(this),this.beforeStateQueue=new Toe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Kf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await u1(this,{idToken:e}),r=await Da._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ys(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ys(this.app))return Promise.reject(ic(this));const n=e?Or(e):null;return n&&en(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(ic(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ys(this.app)?Promise.reject(ic(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await koe(this),n=new Ooe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yy("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zl(e)||this._popupRedirectResolver;en(n,this,"argument-error"),this.redirectPersistenceManager=await Kf.create(this,[Zl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uoe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cc(t){return Or(t)}class N4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jre(n=>this.observer=n)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Moe(t){cw=t}function sU(t){return cw.loadJS(t)}function Noe(){return cw.recaptchaEnterpriseScript}function $oe(){return cw.gapiScript}function Loe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zoe{constructor(){this.enterprise=new Foe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Foe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Woe="recaptcha-enterprise",aU="NO_RECAPTCHA";class Voe{constructor(e){this.type=Woe,this.auth=Cc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{voe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new yoe(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;k4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(aU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zoe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&k4(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Noe();c.length!==0&&(c+=l),sU(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function $4(t,e,n,r=!1,i=!1){const s=new Voe(t);let a;if(i)a=aU;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function h1(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $4(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $4(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(t,e){const n=j5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qd(s,e??{}))return i;ia(i,"already-initialized")}return n.initialize({options:e})}function Uoe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qoe(t,e,n){const r=Cc(t);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=lU(e),{host:a,port:l}=Hoe(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(Qd(d,r.config.emulator)&&Qd(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ky(a)?(O7(`${s}//${a}${c}`),Wre("Auth",!0)):Goe()}function lU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hoe(t){const e=lU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:L4(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:L4(a)}}}function L4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Goe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,n){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){return ks(t,"POST","/v1/accounts:resetPassword",za(t,e))}async function Koe(t,e){return ks(t,"POST","/v1/accounts:update",e)}async function Yoe(t,e){return ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){return Jy(t,"POST","/v1/accounts:signInWithPassword",za(t,e))}async function Qoe(t,e){return ks(t,"POST","/v1/accounts:sendOobCode",za(t,e))}async function Joe(t,e){return Qoe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zoe(t,e){return Jy(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}async function ese(t,e){return Jy(t,"POST","/v1/accounts:signInWithEmailLink",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends I5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dx(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dx(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,n,"signInWithPassword",Xoe);case"emailLink":return Zoe(e,{email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,r,"signUpPassword",Yoe);case"emailLink":return ese(e,{idToken:n,email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t,e){return Jy(t,"POST","/v1/accounts:signInWithIdp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse="http://localhost";class eh extends I5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=S5(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new eh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yf(e,n)}buildRequest(){const e={requestUri:tse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rse(t){const e=Bg(Ug(t)).link,n=e?Bg(Ug(e)).deep_link_id:null,r=Bg(Ug(t)).deep_link_id;return(r?Bg(Ug(r)).link:null)||r||n||e||t}class T5{constructor(e){var n,r,i,s,a,l;const c=Bg(Ug(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,p=nse((i=c.mode)!==null&&i!==void 0?i:null);en(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=rse(e);try{return new T5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.providerId=xh.PROVIDER_ID}static credential(e,n){return Dx._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T5.parseLink(n);return en(r,"argument-error"),Dx._fromEmailAndCode(e,r.code,r.tenantId)}}xh.PROVIDER_ID="password";xh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends uU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Zy{constructor(){super("facebook.com")}static credential(e){return eh._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.FACEBOOK_SIGN_IN_METHOD="facebook.com";su.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Zy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eh._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return au.credential(n,r)}catch{return null}}}au.GOOGLE_SIGN_IN_METHOD="google.com";au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Zy{constructor(){super("github.com")}static credential(e){return eh._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.GITHUB_SIGN_IN_METHOD="github.com";lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Zy{constructor(){super("twitter.com")}static credential(e,n){return eh._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cu.credentialFromTaggedObject(e)}static credentialFromError(e){return cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cu.credential(n,r)}catch{return null}}}cu.TWITTER_SIGN_IN_METHOD="twitter.com";cu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ise(t,e){return Jy(t,"POST","/v1/accounts:signUp",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Da._fromIdTokenResponse(e,r,i),a=z4(r);return new th({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=z4(r);return new th({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function z4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Sc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,f1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new f1(e,n,r,i)}}function dU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?f1._fromErrorAndOperation(t,s,e,r):s})}async function ose(t,e,n=!1){const r=await Zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return th._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e,n=!1){const{auth:r}=t;if(Ys(r.app))return Promise.reject(ic(r));const i="reauthenticate";try{const s=await Zd(t,dU(r,i,e,t),n);en(s.idToken,r,"internal-error");const a=A5(s.idToken);en(a,r,"internal-error");const{sub:l}=a;return en(t.uid===l,r,"user-mismatch"),th._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ia(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e,n=!1){if(Ys(t.app))return Promise.reject(ic(t));const r="signIn",i=await dU(t,r,e),s=await th._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sse(t,e){return fU(Cc(t),e)}async function ase(t,e){return hU(Or(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?R5._fromServerResponse(e,n):"totpInfo"in n?O5._fromServerResponse(e,n):ia(e,"internal-error")}}class R5 extends k5{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new R5(n)}}class O5 extends k5{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new O5(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t){const e=Cc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lse(t,e,n){const r=Cc(t);await h1(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Joe)}async function cse(t,e,n){await cU(Or(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D5(t),r})}async function use(t,e){const n=Or(t),r=await cU(n,{oobCode:e}),i=r.requestType;switch(en(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":en(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":en(r.mfaInfo,n,"internal-error");default:en(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=k5._fromServerResponse(Cc(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function dse(t,e){const{data:n}=await use(Or(t),e);return n.email}async function M5(t,e,n){if(Ys(t.app))return Promise.reject(ic(t));const r=Cc(t),a=await h1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ise).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&D5(t),c}),l=await th._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function uw(t,e,n){return Ys(t.app)?Promise.reject(ic(t)):sse(Or(t),xh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D5(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hse(t,e){return ks(t,"POST","/v1/accounts:createAuthUri",za(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){const n=q7()?c1():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await hse(Or(t),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fse(t,e){return ks(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pse(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Or(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Zd(r,fse(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function mse(t,e){return gse(Or(t),null,e)}async function gse(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Zd(t,Koe(r,s));await t._updateTokensIfNecessary(a,!0)}function xse(t,e,n,r){return Or(t).onIdTokenChanged(e,n,r)}function yse(t,e,n){return Or(t).beforeAuthStateChanged(e,n)}function vse(t,e,n,r){return Or(t).onAuthStateChanged(e,n,r)}function ev(t){return Or(t).signOut()}async function bse(t){return Or(t).delete()}const p1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(p1,"1"),this.storage.removeItem(p1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _se=1e3,wse=10;class gU extends mU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Ioe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_se)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gU.type="LOCAL";const jse=gU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU extends mU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xU.type="SESSION";const yU=xU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await Sse(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=N5("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(){return window}function Pse(t){dl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof dl().WorkerGlobalScope<"u"&&typeof dl().importScripts=="function"}async function Ase(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ese(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ise(){return vU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="firebaseLocalStorageDb",Tse=1,m1="firebaseLocalStorage",_U="fbase_key";class tv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hw(t,e){return t.transaction([m1],e?"readwrite":"readonly").objectStore(m1)}function kse(){const t=indexedDB.deleteDatabase(bU);return new tv(t).toPromise()}function DI(){const t=indexedDB.open(bU,Tse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(m1,{keyPath:_U})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(m1)?e(r):(r.close(),await kse(),e(await DI()))})})}async function F4(t,e,n){const r=hw(t,!0).put({[_U]:e,value:n});return new tv(r).toPromise()}async function Rse(t,e){const n=hw(t,!1).get(e),r=await new tv(n).toPromise();return r===void 0?null:r.value}function W4(t,e){const n=hw(t,!0).delete(e);return new tv(n).toPromise()}const Ose=800,Dse=3;class wU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dw._getInstance(Ise()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ase(),!this.activeServiceWorker)return;this.sender=new Cse(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ese()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DI();return await F4(e,p1,"1"),await W4(e,p1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Rse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hw(i,!1).getAll();return new tv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ose)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wU.type="LOCAL";const Mse=wU;new Qy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t,e){return e?Zl(e):(en(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends I5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $se(t){return fU(t.auth,new $5(t),t.bypassAuthState)}function Lse(t){const{auth:e,user:n}=t;return en(n,e,"internal-error"),hU(n,new $5(t),t.bypassAuthState)}async function zse(t){const{auth:e,user:n}=t;return en(n,e,"internal-error"),ose(n,new $5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $se;case"linkViaPopup":case"linkViaRedirect":return zse;case"reauthViaPopup":case"reauthViaRedirect":return Lse;default:ia(this.auth,"internal-error")}}resolve(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=new Qy(2e3,1e4);class $f extends jU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$f.currentPopupAction&&$f.currentPopupAction.cancel(),$f.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){mc(this.filter.length===1,"Popup operations only handle one event");const e=N5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ul(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ul(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$f.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ul(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fse.get())};e()}}$f.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse="pendingRedirect",kb=new Map;class Vse extends jU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kb.get(this.auth._key());if(!e){try{const r=await Bse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kb.set(this.auth._key(),e)}return this.bypassAuthState||kb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bse(t,e){const n=Hse(e),r=qse(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Use(t,e){kb.set(t._key(),e)}function qse(t){return Zl(t._redirectPersistence)}function Hse(t){return Tb(Wse,t.config.apiKey,t.name)}async function Gse(t,e,n=!1){if(Ys(t.app))return Promise.reject(ic(t));const r=Cc(t),i=Nse(r,e),a=await new Vse(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=10*60*1e3;class Yse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ul(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kse&&this.cachedEventUids.clear(),this.cachedEventUids.has(V4(e))}saveEventToCache(e){this.cachedEventUids.add(V4(e)),this.lastProcessedEventTime=Date.now()}}function V4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qse(t,e={}){return ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zse=/^https?/;async function eae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Qse(t);for(const n of e)try{if(tae(n))return}catch{}ia(t,"unauthorized-domain")}function tae(t){const e=c1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Zse.test(n))return!1;if(Jse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nae=new Qy(3e4,6e4);function B4(){const t=dl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rae(t){return new Promise((e,n)=>{var r,i,s;function a(){B4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B4(),n(ul(t,"network-request-failed"))},timeout:nae.get()})}if(!((i=(r=dl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dl().gapi)===null||s===void 0)&&s.load)a();else{const l=Loe("iframefcb");return dl()[l]=()=>{gapi.load?a():n(ul(t,"network-request-failed"))},sU(`${$oe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Rb=null,e})}let Rb=null;function iae(t){return Rb=Rb||rae(t),Rb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=new Qy(5e3,15e3),sae="__/auth/iframe",aae="emulator/auth/iframe",lae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uae(t){const e=t.config;en(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P5(e,aae):`https://${t.config.authDomain}/${sae}`,r={apiKey:e.apiKey,appName:t.name,v:dm},i=cae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xy(r).slice(1)}`}async function dae(t){const e=await iae(t),n=dl().gapi;return en(n,t,"internal-error"),e.open({where:document.body,url:uae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ul(t,"network-request-failed"),l=dl().setTimeout(()=>{s(a)},oae.get());function c(){dl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fae=500,pae=600,mae="_blank",gae="http://localhost";class U4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xae(t,e,n,r=fae,i=pae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},hae),{width:r.toString(),height:i.toString(),top:s,left:a}),d=$i().toLowerCase();n&&(l=Z7(d)?mae:n),Q7(d)&&(e=e||gae,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(Eoe(d)&&l!=="_self")return yae(e||"",l),new U4(null);const p=window.open(e||"",l,f);en(p,t,"popup-blocked");try{p.focus()}catch{}return new U4(p)}function yae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae="__/auth/handler",bae="emulator/auth/handler",_ae=encodeURIComponent("fac");async function q4(t,e,n,r,i,s){en(t.config.authDomain,t,"auth-domain-config-required"),en(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dm,eventId:i};if(e instanceof uU){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Qre(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof Zy){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${_ae}=${encodeURIComponent(c)}`:"";return`${wae(t)}?${Xy(l).slice(1)}${d}`}function wae({config:t}){return t.emulator?P5(t,bae):`https://${t.authDomain}/${vae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="webStorageSupport";class jae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yU,this._completeRedirectFn=Gse,this._overrideRedirectResult=Use}async _openPopup(e,n,r,i){var s;mc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await q4(e,n,r,c1(),i);return xae(e,a,N5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await q4(e,n,r,c1(),i);return Pse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dae(e),r=new Yse(e);return n.register("authEvent",i=>(en(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(FS,{type:FS},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[FS];a!==void 0&&n(!!a),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iU()||J7()||E5()}}const Sae=jae;var H4="@firebase/auth",G4="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aae(t){up(new Jd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;en(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oU(t)},d=new Doe(r,i,s,c);return Uoe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),up(new Jd("auth-internal",e=>{const n=Cc(e.getProvider("auth").getImmediate());return(r=>new Cae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_u(H4,G4,Pae(t)),_u(H4,G4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae=5*60,Iae=R7("authIdTokenMaxAge")||Eae;let K4=null;const Tae=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iae)return;const i=n==null?void 0:n.token;K4!==i&&(K4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MI(t=Jie()){const e=j5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Boe(t,{popupRedirectResolver:Sae,persistence:[Mse,jse,yU]}),r=R7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Tae(s.toString());yse(n,a,()=>a(n.currentUser)),xse(n,l=>a(l))}}const i=$re("auth");return i&&qoe(n,`http://${i}`),n}function kae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Moe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ul("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aae("Browser");var Rae="firebase",Oae="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_u(Rae,Oae,"app");var Y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wu,CU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,O){function D(){}D.prototype=O.prototype,E.D=O.prototype,E.prototype=new D,E.prototype.constructor=E,E.C=function(L,$,B){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return O.prototype[$].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,O,D){D||(D=0);var L=Array(16);if(typeof O=="string")for(var $=0;16>$;++$)L[$]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for($=0;16>$;++$)L[$]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=E.g[0],D=E.g[1],$=E.g[2];var B=E.g[3],N=O+(B^D&($^B))+L[0]+3614090360&4294967295;O=D+(N<<7&4294967295|N>>>25),N=B+($^O&(D^$))+L[1]+3905402710&4294967295,B=O+(N<<12&4294967295|N>>>20),N=$+(D^B&(O^D))+L[2]+606105819&4294967295,$=B+(N<<17&4294967295|N>>>15),N=D+(O^$&(B^O))+L[3]+3250441966&4294967295,D=$+(N<<22&4294967295|N>>>10),N=O+(B^D&($^B))+L[4]+4118548399&4294967295,O=D+(N<<7&4294967295|N>>>25),N=B+($^O&(D^$))+L[5]+1200080426&4294967295,B=O+(N<<12&4294967295|N>>>20),N=$+(D^B&(O^D))+L[6]+2821735955&4294967295,$=B+(N<<17&4294967295|N>>>15),N=D+(O^$&(B^O))+L[7]+4249261313&4294967295,D=$+(N<<22&4294967295|N>>>10),N=O+(B^D&($^B))+L[8]+1770035416&4294967295,O=D+(N<<7&4294967295|N>>>25),N=B+($^O&(D^$))+L[9]+2336552879&4294967295,B=O+(N<<12&4294967295|N>>>20),N=$+(D^B&(O^D))+L[10]+4294925233&4294967295,$=B+(N<<17&4294967295|N>>>15),N=D+(O^$&(B^O))+L[11]+2304563134&4294967295,D=$+(N<<22&4294967295|N>>>10),N=O+(B^D&($^B))+L[12]+1804603682&4294967295,O=D+(N<<7&4294967295|N>>>25),N=B+($^O&(D^$))+L[13]+4254626195&4294967295,B=O+(N<<12&4294967295|N>>>20),N=$+(D^B&(O^D))+L[14]+2792965006&4294967295,$=B+(N<<17&4294967295|N>>>15),N=D+(O^$&(B^O))+L[15]+1236535329&4294967295,D=$+(N<<22&4294967295|N>>>10),N=O+($^B&(D^$))+L[1]+4129170786&4294967295,O=D+(N<<5&4294967295|N>>>27),N=B+(D^$&(O^D))+L[6]+3225465664&4294967295,B=O+(N<<9&4294967295|N>>>23),N=$+(O^D&(B^O))+L[11]+643717713&4294967295,$=B+(N<<14&4294967295|N>>>18),N=D+(B^O&($^B))+L[0]+3921069994&4294967295,D=$+(N<<20&4294967295|N>>>12),N=O+($^B&(D^$))+L[5]+3593408605&4294967295,O=D+(N<<5&4294967295|N>>>27),N=B+(D^$&(O^D))+L[10]+38016083&4294967295,B=O+(N<<9&4294967295|N>>>23),N=$+(O^D&(B^O))+L[15]+3634488961&4294967295,$=B+(N<<14&4294967295|N>>>18),N=D+(B^O&($^B))+L[4]+3889429448&4294967295,D=$+(N<<20&4294967295|N>>>12),N=O+($^B&(D^$))+L[9]+568446438&4294967295,O=D+(N<<5&4294967295|N>>>27),N=B+(D^$&(O^D))+L[14]+3275163606&4294967295,B=O+(N<<9&4294967295|N>>>23),N=$+(O^D&(B^O))+L[3]+4107603335&4294967295,$=B+(N<<14&4294967295|N>>>18),N=D+(B^O&($^B))+L[8]+1163531501&4294967295,D=$+(N<<20&4294967295|N>>>12),N=O+($^B&(D^$))+L[13]+2850285829&4294967295,O=D+(N<<5&4294967295|N>>>27),N=B+(D^$&(O^D))+L[2]+4243563512&4294967295,B=O+(N<<9&4294967295|N>>>23),N=$+(O^D&(B^O))+L[7]+1735328473&4294967295,$=B+(N<<14&4294967295|N>>>18),N=D+(B^O&($^B))+L[12]+2368359562&4294967295,D=$+(N<<20&4294967295|N>>>12),N=O+(D^$^B)+L[5]+4294588738&4294967295,O=D+(N<<4&4294967295|N>>>28),N=B+(O^D^$)+L[8]+2272392833&4294967295,B=O+(N<<11&4294967295|N>>>21),N=$+(B^O^D)+L[11]+1839030562&4294967295,$=B+(N<<16&4294967295|N>>>16),N=D+($^B^O)+L[14]+4259657740&4294967295,D=$+(N<<23&4294967295|N>>>9),N=O+(D^$^B)+L[1]+2763975236&4294967295,O=D+(N<<4&4294967295|N>>>28),N=B+(O^D^$)+L[4]+1272893353&4294967295,B=O+(N<<11&4294967295|N>>>21),N=$+(B^O^D)+L[7]+4139469664&4294967295,$=B+(N<<16&4294967295|N>>>16),N=D+($^B^O)+L[10]+3200236656&4294967295,D=$+(N<<23&4294967295|N>>>9),N=O+(D^$^B)+L[13]+681279174&4294967295,O=D+(N<<4&4294967295|N>>>28),N=B+(O^D^$)+L[0]+3936430074&4294967295,B=O+(N<<11&4294967295|N>>>21),N=$+(B^O^D)+L[3]+3572445317&4294967295,$=B+(N<<16&4294967295|N>>>16),N=D+($^B^O)+L[6]+76029189&4294967295,D=$+(N<<23&4294967295|N>>>9),N=O+(D^$^B)+L[9]+3654602809&4294967295,O=D+(N<<4&4294967295|N>>>28),N=B+(O^D^$)+L[12]+3873151461&4294967295,B=O+(N<<11&4294967295|N>>>21),N=$+(B^O^D)+L[15]+530742520&4294967295,$=B+(N<<16&4294967295|N>>>16),N=D+($^B^O)+L[2]+3299628645&4294967295,D=$+(N<<23&4294967295|N>>>9),N=O+($^(D|~B))+L[0]+4096336452&4294967295,O=D+(N<<6&4294967295|N>>>26),N=B+(D^(O|~$))+L[7]+1126891415&4294967295,B=O+(N<<10&4294967295|N>>>22),N=$+(O^(B|~D))+L[14]+2878612391&4294967295,$=B+(N<<15&4294967295|N>>>17),N=D+(B^($|~O))+L[5]+4237533241&4294967295,D=$+(N<<21&4294967295|N>>>11),N=O+($^(D|~B))+L[12]+1700485571&4294967295,O=D+(N<<6&4294967295|N>>>26),N=B+(D^(O|~$))+L[3]+2399980690&4294967295,B=O+(N<<10&4294967295|N>>>22),N=$+(O^(B|~D))+L[10]+4293915773&4294967295,$=B+(N<<15&4294967295|N>>>17),N=D+(B^($|~O))+L[1]+2240044497&4294967295,D=$+(N<<21&4294967295|N>>>11),N=O+($^(D|~B))+L[8]+1873313359&4294967295,O=D+(N<<6&4294967295|N>>>26),N=B+(D^(O|~$))+L[15]+4264355552&4294967295,B=O+(N<<10&4294967295|N>>>22),N=$+(O^(B|~D))+L[6]+2734768916&4294967295,$=B+(N<<15&4294967295|N>>>17),N=D+(B^($|~O))+L[13]+1309151649&4294967295,D=$+(N<<21&4294967295|N>>>11),N=O+($^(D|~B))+L[4]+4149444226&4294967295,O=D+(N<<6&4294967295|N>>>26),N=B+(D^(O|~$))+L[11]+3174756917&4294967295,B=O+(N<<10&4294967295|N>>>22),N=$+(O^(B|~D))+L[2]+718787259&4294967295,$=B+(N<<15&4294967295|N>>>17),N=D+(B^($|~O))+L[9]+3951481745&4294967295,E.g[0]=E.g[0]+O&4294967295,E.g[1]=E.g[1]+($+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+$&4294967295,E.g[3]=E.g[3]+B&4294967295}r.prototype.u=function(E,O){O===void 0&&(O=E.length);for(var D=O-this.blockSize,L=this.B,$=this.h,B=0;B<O;){if($==0)for(;B<=D;)i(this,E,B),B+=this.blockSize;if(typeof E=="string"){for(;B<O;)if(L[$++]=E.charCodeAt(B++),$==this.blockSize){i(this,L),$=0;break}}else for(;B<O;)if(L[$++]=E[B++],$==this.blockSize){i(this,L),$=0;break}}this.h=$,this.o+=O},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var O=1;O<E.length-8;++O)E[O]=0;var D=8*this.o;for(O=E.length-8;O<E.length;++O)E[O]=D&255,D/=256;for(this.u(E),E=Array(16),O=D=0;4>O;++O)for(var L=0;32>L;L+=8)E[D++]=this.g[O]>>>L&255;return E};function s(E,O){var D=l;return Object.prototype.hasOwnProperty.call(D,E)?D[E]:D[E]=O(E)}function a(E,O){this.h=O;for(var D=[],L=!0,$=E.length-1;0<=$;$--){var B=E[$]|0;L&&B==O||(D[$]=B,L=!1)}this.g=D}var l={};function c(E){return-128<=E&&128>E?s(E,function(O){return new a([O|0],0>O?-1:0)}):new a([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return b(d(-E));for(var O=[],D=1,L=0;E>=D;L++)O[L]=E/D|0,D*=4294967296;return new a(O,0)}function f(E,O){if(E.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E.charAt(0)=="-")return b(f(E.substring(1),O));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(O,8)),L=p,$=0;$<E.length;$+=8){var B=Math.min(8,E.length-$),N=parseInt(E.substring($,$+B),O);8>B?(B=d(Math.pow(O,B)),L=L.j(B).add(d(N))):(L=L.j(D),L=L.add(d(N)))}return L}var p=c(0),m=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-b(this).m();for(var E=0,O=1,D=0;D<this.g.length;D++){var L=this.i(D);E+=(0<=L?L:4294967296+L)*O,O*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(v(this))return"-"+b(this).toString(E);for(var O=d(Math.pow(E,6)),D=this,L="";;){var $=k(D,O).g;D=I(D,$.j(O));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(E);if(D=$,x(D))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var O=0;O<E.g.length;O++)if(E.g[O]!=0)return!1;return!0}function v(E){return E.h==-1}t.l=function(E){return E=I(this,E),v(E)?-1:x(E)?0:1};function b(E){for(var O=E.g.length,D=[],L=0;L<O;L++)D[L]=~E.g[L];return new a(D,~E.h).add(m)}t.abs=function(){return v(this)?b(this):this},t.add=function(E){for(var O=Math.max(this.g.length,E.g.length),D=[],L=0,$=0;$<=O;$++){var B=L+(this.i($)&65535)+(E.i($)&65535),N=(B>>>16)+(this.i($)>>>16)+(E.i($)>>>16);L=N>>>16,B&=65535,N&=65535,D[$]=N<<16|B}return new a(D,D[D.length-1]&-2147483648?-1:0)};function I(E,O){return E.add(b(O))}t.j=function(E){if(x(this)||x(E))return p;if(v(this))return v(E)?b(this).j(b(E)):b(b(this).j(E));if(v(E))return b(this.j(b(E)));if(0>this.l(y)&&0>E.l(y))return d(this.m()*E.m());for(var O=this.g.length+E.g.length,D=[],L=0;L<2*O;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var $=0;$<E.g.length;$++){var B=this.i(L)>>>16,N=this.i(L)&65535,q=E.i($)>>>16,Y=E.i($)&65535;D[2*L+2*$]+=N*Y,A(D,2*L+2*$),D[2*L+2*$+1]+=B*Y,A(D,2*L+2*$+1),D[2*L+2*$+1]+=N*q,A(D,2*L+2*$+1),D[2*L+2*$+2]+=B*q,A(D,2*L+2*$+2)}for(L=0;L<O;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=O;L<2*O;L++)D[L]=0;return new a(D,0)};function A(E,O){for(;(E[O]&65535)!=E[O];)E[O+1]+=E[O]>>>16,E[O]&=65535,O++}function S(E,O){this.g=E,this.h=O}function k(E,O){if(x(O))throw Error("division by zero");if(x(E))return new S(p,p);if(v(E))return O=k(b(E),O),new S(b(O.g),b(O.h));if(v(O))return O=k(E,b(O)),new S(b(O.g),O.h);if(30<E.g.length){if(v(E)||v(O))throw Error("slowDivide_ only works with positive integers.");for(var D=m,L=O;0>=L.l(E);)D=P(D),L=P(L);var $=R(D,1),B=R(L,1);for(L=R(L,2),D=R(D,2);!x(L);){var N=B.add(L);0>=N.l(E)&&($=$.add(D),B=N),L=R(L,1),D=R(D,1)}return O=I(E,$.j(O)),new S($,O)}for($=p;0<=E.l(O);){for(D=Math.max(1,Math.floor(E.m()/O.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=d(D),N=B.j(O);v(N)||0<N.l(E);)D-=L,B=d(D),N=B.j(O);x(B)&&(B=m),$=$.add(B),E=I(E,N)}return new S($,E)}t.A=function(E){return k(this,E).h},t.and=function(E){for(var O=Math.max(this.g.length,E.g.length),D=[],L=0;L<O;L++)D[L]=this.i(L)&E.i(L);return new a(D,this.h&E.h)},t.or=function(E){for(var O=Math.max(this.g.length,E.g.length),D=[],L=0;L<O;L++)D[L]=this.i(L)|E.i(L);return new a(D,this.h|E.h)},t.xor=function(E){for(var O=Math.max(this.g.length,E.g.length),D=[],L=0;L<O;L++)D[L]=this.i(L)^E.i(L);return new a(D,this.h^E.h)};function P(E){for(var O=E.g.length+1,D=[],L=0;L<O;L++)D[L]=E.i(L)<<1|E.i(L-1)>>>31;return new a(D,E.h)}function R(E,O){var D=O>>5;O%=32;for(var L=E.g.length-D,$=[],B=0;B<L;B++)$[B]=0<O?E.i(B+D)>>>O|E.i(B+D+1)<<32-O:E.i(B+D);return new a($,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CU=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,wu=a}).apply(typeof Y4<"u"?Y4:typeof self<"u"?self:typeof window<"u"?window:{});var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PU,qg,AU,Ob,NI,EU,IU,TU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,F,H){return _==Array.prototype||_==Object.prototype||(_[F]=H.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof $0=="object"&&$0];for(var F=0;F<_.length;++F){var H=_[F];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(_,F){if(F)e:{var H=r;_=_.split(".");for(var ie=0;ie<_.length-1;ie++){var Ae=_[ie];if(!(Ae in H))break e;H=H[Ae]}_=_[_.length-1],ie=H[_],F=F(ie),F!=ie&&F!=null&&e(H,_,{configurable:!0,writable:!0,value:F})}}function s(_,F){_ instanceof String&&(_+="");var H=0,ie=!1,Ae={next:function(){if(!ie&&H<_.length){var Be=H++;return{value:F(Be,_[Be]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(_){return _||function(){return s(this,function(F,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(_){var F=typeof _;return F=F!="object"?F:_?Array.isArray(_)?"array":F:"null",F=="array"||F=="object"&&typeof _.length=="number"}function d(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function f(_,F,H){return _.call.apply(_.bind,arguments)}function p(_,F,H){if(!_)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ie),_.apply(F,Ae)}}return function(){return _.apply(F,arguments)}}function m(_,F,H){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(_,F){var H=Array.prototype.slice.call(arguments,1);return function(){var ie=H.slice();return ie.push.apply(ie,arguments),_.apply(this,ie)}}function x(_,F){function H(){}H.prototype=F.prototype,_.aa=F.prototype,_.prototype=new H,_.prototype.constructor=_,_.Qb=function(ie,Ae,Be){for(var bt=Array(arguments.length-2),xr=2;xr<arguments.length;xr++)bt[xr-2]=arguments[xr];return F.prototype[Ae].apply(ie,bt)}}function v(_){const F=_.length;if(0<F){const H=Array(F);for(let ie=0;ie<F;ie++)H[ie]=_[ie];return H}return[]}function b(_,F){for(let H=1;H<arguments.length;H++){const ie=arguments[H];if(c(ie)){const Ae=_.length||0,Be=ie.length||0;_.length=Ae+Be;for(let bt=0;bt<Be;bt++)_[Ae+bt]=ie[bt]}else _.push(ie)}}class I{constructor(F,H){this.i=F,this.j=H,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function A(_){return/^[\s\xa0]*$/.test(_)}function S(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function k(_){return k[" "](_),_}k[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(_,F,H){for(const ie in _)F.call(H,_[ie],ie,_)}function E(_,F){for(const H in _)F.call(void 0,_[H],H,_)}function O(_){const F={};for(const H in _)F[H]=_[H];return F}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(_,F){let H,ie;for(let Ae=1;Ae<arguments.length;Ae++){ie=arguments[Ae];for(H in ie)_[H]=ie[H];for(let Be=0;Be<D.length;Be++)H=D[Be],Object.prototype.hasOwnProperty.call(ie,H)&&(_[H]=ie[H])}}function $(_){var F=1;_=_.split(":");const H=[];for(;0<F&&_.length;)H.push(_.shift()),F--;return _.length&&H.push(_.join(":")),H}function B(_){l.setTimeout(()=>{throw _},0)}function N(){var _=Z;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class q{constructor(){this.h=this.g=null}add(F,H){const ie=Y.get();ie.set(F,H),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var Y=new I(()=>new ne,_=>_.reset());class ne{constructor(){this.next=this.g=this.h=null}set(F,H){this.h=F,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ee=!1,Z=new q,de=()=>{const _=l.Promise.resolve(void 0);Q=()=>{_.then(K)}};var K=()=>{for(var _;_=N();){try{_.h.call(_.g)}catch(H){B(H)}var F=Y;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}ee=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const H=()=>{};l.addEventListener("test",H,F),l.removeEventListener("test",H,F)}catch{}return _}();function ge(_,F){if(le.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var H=this.type=_.type,ie=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(P){e:{try{k(F.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(F=null)}}else H=="mouseover"?F=_.fromElement:H=="mouseout"&&(F=_.toElement);this.relatedTarget=F,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:fe[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ge.aa.h.call(this)}}x(ge,le);var fe={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),be=0;function ce(_,F,H,ie,Ae){this.listener=_,this.proxy=null,this.src=F,this.type=H,this.capture=!!ie,this.ha=Ae,this.key=++be,this.da=this.fa=!1}function We(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Fe(_){this.src=_,this.g={},this.h=0}Fe.prototype.add=function(_,F,H,ie,Ae){var Be=_.toString();_=this.g[Be],_||(_=this.g[Be]=[],this.h++);var bt=$e(_,F,ie,Ae);return-1<bt?(F=_[bt],H||(F.fa=!1)):(F=new ce(F,this.src,Be,!!ie,Ae),F.fa=H,_.push(F)),F};function pe(_,F){var H=F.type;if(H in _.g){var ie=_.g[H],Ae=Array.prototype.indexOf.call(ie,F,void 0),Be;(Be=0<=Ae)&&Array.prototype.splice.call(ie,Ae,1),Be&&(We(F),_.g[H].length==0&&(delete _.g[H],_.h--))}}function $e(_,F,H,ie){for(var Ae=0;Ae<_.length;++Ae){var Be=_[Ae];if(!Be.da&&Be.listener==F&&Be.capture==!!H&&Be.ha==ie)return Ae}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Je={};function ht(_,F,H,ie,Ae){if(Array.isArray(F)){for(var Be=0;Be<F.length;Be++)ht(_,F[Be],H,ie,Ae);return null}return H=vn(H),_&&_[Se]?_.K(F,H,d(ie)?!!ie.capture:!1,Ae):Xe(_,F,H,!1,ie,Ae)}function Xe(_,F,H,ie,Ae,Be){if(!F)throw Error("Invalid event type");var bt=d(Ae)?!!Ae.capture:!!Ae,xr=at(_);if(xr||(_[Ce]=xr=new Fe(_)),H=xr.add(F,H,ie,bt,Be),H.proxy)return H;if(ie=Lt(),H.proxy=ie,ie.src=_,ie.listener=H,_.addEventListener)oe||(Ae=bt),Ae===void 0&&(Ae=!1),_.addEventListener(F.toString(),ie,Ae);else if(_.attachEvent)_.attachEvent(pt(F.toString()),ie);else if(_.addListener&&_.removeListener)_.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Lt(){function _(H){return F.call(_.src,_.listener,H)}const F=Qe;return _}function jt(_,F,H,ie,Ae){if(Array.isArray(F))for(var Be=0;Be<F.length;Be++)jt(_,F[Be],H,ie,Ae);else ie=d(ie)?!!ie.capture:!!ie,H=vn(H),_&&_[Se]?(_=_.i,F=String(F).toString(),F in _.g&&(Be=_.g[F],H=$e(Be,H,ie,Ae),-1<H&&(We(Be[H]),Array.prototype.splice.call(Be,H,1),Be.length==0&&(delete _.g[F],_.h--)))):_&&(_=at(_))&&(F=_.g[F.toString()],_=-1,F&&(_=$e(F,H,ie,Ae)),(H=-1<_?F[_]:null)&&Mt(H))}function Mt(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[Se])pe(F.i,_);else{var H=_.type,ie=_.proxy;F.removeEventListener?F.removeEventListener(H,ie,_.capture):F.detachEvent?F.detachEvent(pt(H),ie):F.addListener&&F.removeListener&&F.removeListener(ie),(H=at(F))?(pe(H,_),H.h==0&&(H.src=null,F[Ce]=null)):We(_)}}}function pt(_){return _ in Je?Je[_]:Je[_]="on"+_}function Qe(_,F){if(_.da)_=!0;else{F=new ge(F,this);var H=_.listener,ie=_.ha||_.src;_.fa&&Mt(_),_=H.call(ie,F)}return _}function at(_){return _=_[Ce],_ instanceof Fe?_:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(_){return typeof _=="function"?_:(_[Tt]||(_[Tt]=function(F){return _.handleEvent(F)}),_[Tt])}function zt(){se.call(this),this.i=new Fe(this),this.M=this,this.F=null}x(zt,se),zt.prototype[Se]=!0,zt.prototype.removeEventListener=function(_,F,H,ie){jt(this,_,F,H,ie)};function mt(_,F){var H,ie=_.F;if(ie)for(H=[];ie;ie=ie.F)H.push(ie);if(_=_.M,ie=F.type||F,typeof F=="string")F=new le(F,_);else if(F instanceof le)F.target=F.target||_;else{var Ae=F;F=new le(ie,_),L(F,Ae)}if(Ae=!0,H)for(var Be=H.length-1;0<=Be;Be--){var bt=F.g=H[Be];Ae=It(bt,ie,!0,F)&&Ae}if(bt=F.g=_,Ae=It(bt,ie,!0,F)&&Ae,Ae=It(bt,ie,!1,F)&&Ae,H)for(Be=0;Be<H.length;Be++)bt=F.g=H[Be],Ae=It(bt,ie,!1,F)&&Ae}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var _=this.i,F;for(F in _.g){for(var H=_.g[F],ie=0;ie<H.length;ie++)We(H[ie]);delete _.g[F],_.h--}}this.F=null},zt.prototype.K=function(_,F,H,ie){return this.i.add(String(_),F,!1,H,ie)},zt.prototype.L=function(_,F,H,ie){return this.i.add(String(_),F,!0,H,ie)};function It(_,F,H,ie){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();for(var Ae=!0,Be=0;Be<F.length;++Be){var bt=F[Be];if(bt&&!bt.da&&bt.capture==H){var xr=bt.listener,Ti=bt.ha||bt.src;bt.fa&&pe(_.i,bt),Ae=xr.call(Ti,ie)!==!1&&Ae}}return Ae&&!ie.defaultPrevented}function lt(_,F,H){if(typeof _=="function")H&&(_=m(_,H));else if(_&&typeof _.handleEvent=="function")_=m(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:l.setTimeout(_,F||0)}function Zt(_){_.g=lt(()=>{_.g=null,_.i&&(_.i=!1,Zt(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class Xt extends se{constructor(F,H){super(),this.m=F,this.l=H,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(_){se.call(this),this.h=_,this.g={}}x(On,se);var G=[];function ve(_){R(_.g,function(F,H){this.g.hasOwnProperty(H)&&Mt(F)},_),_.g={}}On.prototype.N=function(){On.aa.N.call(this),ve(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=l.JSON.stringify,Ue=l.JSON.parse,it=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function yt(){}yt.prototype.h=null;function pn(_){return _.h||(_.h=_.i())}function Sn(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){le.call(this,"d")}x(Yn,le);function vt(){le.call(this,"c")}x(vt,le);var Pn={},Mn=null;function Mr(){return Mn=Mn||new zt}Pn.La="serverreachability";function hi(_){le.call(this,Pn.La,_)}x(hi,le);function lr(_){const F=Mr();mt(F,new hi(F))}Pn.STAT_EVENT="statevent";function Ut(_,F){le.call(this,Pn.STAT_EVENT,_),this.stat=F}x(Ut,le);function an(_){const F=Mr();mt(F,new Ut(F,_))}Pn.Ma="timingevent";function _e(_,F){le.call(this,Pn.Ma,_),this.size=F}x(_e,le);function ct(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},F)}function Ot(){this.g=!0}Ot.prototype.xa=function(){this.g=!1};function St(_,F,H,ie,Ae,Be){_.info(function(){if(_.g)if(Be)for(var bt="",xr=Be.split("&"),Ti=0;Ti<xr.length;Ti++){var Hn=xr[Ti].split("=");if(1<Hn.length){var Vi=Hn[0];Hn=Hn[1];var ji=Vi.split("_");bt=2<=ji.length&&ji[1]=="type"?bt+(Vi+"="+Hn+"&"):bt+(Vi+"=redacted&")}}else bt=null;else bt=Be;return"XMLHTTP REQ ("+ie+") [attempt "+Ae+"]: "+F+`
`+H+`
`+bt})}function te(_,F,H,ie,Ae,Be,bt){_.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Ae+"]: "+F+`
`+H+`
`+Be+" "+bt})}function Re(_,F,H,ie){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+je(_,H)+(ie?" "+ie:"")})}function J(_,F){_.info(function(){return"TIMEOUT: "+F})}Ot.prototype.info=function(){};function je(_,F){if(!_.g)return F;if(!F)return null;try{var H=JSON.parse(F);if(H){for(_=0;_<H.length;_++)if(Array.isArray(H[_])){var ie=H[_];if(!(2>ie.length)){var Ae=ie[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Be=Ae[0];if(Be!="noop"&&Be!="stop"&&Be!="close")for(var bt=1;bt<Ae.length;bt++)Ae[bt]=""}}}}return ke(H)}catch{return F}}var tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function bn(){}x(bn,yt),bn.prototype.g=function(){return new XMLHttpRequest},bn.prototype.i=function(){return{}},nt=new bn;function mn(_,F,H,ie){this.j=_,this.i=F,this.l=H,this.R=ie||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var Ar={},Bt={};function gn(_,F,H){_.L=1,_.v=ma(co(F)),_.m=H,_.P=!0,Xn(_,null)}function Xn(_,F){_.F=Date.now(),er(_),_.A=co(_.v);var H=_.A,ie=_.R;Array.isArray(ie)||(ie=[String(ie)]),Rc(H.i,"t",ie),_.C=0,H=_.j.J,_.h=new Pr,_.g=$v(_.j,H?F:null,!_.m),0<_.O&&(_.M=new Xt(m(_.Y,_,_.g),_.O)),F=_.U,H=_.g,ie=_.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(G[0]=Ae.toString()),Ae=G);for(var Be=0;Be<Ae.length;Be++){var bt=ht(H,Ae[Be],ie||F.handleEvent,!1,F.h||F);if(!bt)break;F.g[bt.key]=bt}F=_.H?O(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),lr(),St(_.i,_.u,_.A,_.l,_.R,_.m)}mn.prototype.ca=function(_){_=_.target;const F=this.M;F&&Bo(_)==3?F.j():this.Y(_)},mn.prototype.Y=function(_){try{if(_==this.g)e:{const ji=Bo(this.g);var F=this.g.Ba();const Ns=this.g.Z();if(!(3>ji)&&(ji!=3||this.g&&(this.h.h||this.g.oa()||Mm(this.g)))){this.J||ji!=4||F==7||(F==8||0>=Ns?lr(3):lr(2)),lo(this);var H=this.g.Z();this.X=H;t:if(Ii(this)){var ie=Mm(this.g);_="";var Ae=ie.length,Be=Bo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),Os(this);var bt="";break t}this.h.i=new l.TextDecoder}for(F=0;F<Ae;F++)this.h.h=!0,_+=this.h.i.decode(ie[F],{stream:!(Be&&F==Ae-1)});ie.length=0,this.h.g+=_,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=H==200,te(this.i,this.u,this.A,this.l,this.R,ji,H),this.o){if(this.T&&!this.K){t:{if(this.g){var xr,Ti=this.g;if((xr=Ti.g?Ti.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(xr)){var Hn=xr;break t}}Hn=null}if(H=Hn)Re(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,re(this,H);else{this.o=!1,this.s=3,an(12),eo(this),Os(this);break e}}if(this.P){H=!0;let ls;for(;!this.J&&this.C<bt.length;)if(ls=br(this,bt),ls==Bt){ji==4&&(this.s=4,an(14),H=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}else if(ls==Ar){this.s=4,an(15),Re(this.i,this.l,bt,"[Invalid Chunk]"),H=!1;break}else Re(this.i,this.l,ls,null),re(this,ls);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ji!=4||bt.length!=0||this.h.h||(this.s=1,an(16),H=!1),this.o=this.o&&H,!H)Re(this.i,this.l,bt,"[Invalid Chunked Response]"),eo(this),Os(this);else if(0<bt.length&&!this.W){this.W=!0;var Vi=this.j;Vi.g==this&&Vi.ba&&!Vi.M&&(Vi.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),$m(Vi),Vi.M=!0,an(11))}}else Re(this.i,this.l,bt,null),re(this,bt);ji==4&&eo(this),this.o&&!this.J&&(ji==4?Dh(this.j,this):(this.o=!1,er(this)))}else Ih(this.g),H==400&&0<bt.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),eo(this),Os(this)}}}catch{}finally{}};function Ii(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function br(_,F){var H=_.C,ie=F.indexOf(`
`,H);return ie==-1?Bt:(H=Number(F.substring(H,ie)),isNaN(H)?Ar:(ie+=1,ie+H>F.length?Bt:(F=F.slice(ie,ie+H),_.C=ie+H,F)))}mn.prototype.cancel=function(){this.J=!0,eo(this)};function er(_){_.S=Date.now()+_.I,fi(_,_.I)}function fi(_,F){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ct(m(_.ba,_),F)}function lo(_){_.B&&(l.clearTimeout(_.B),_.B=null)}mn.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(J(this.i,this.A),this.L!=2&&(lr(),an(17)),eo(this),this.s=2,Os(this)):fi(this,this.S-_)};function Os(_){_.j.G==0||_.J||Dh(_.j,_)}function eo(_){lo(_);var F=_.M;F&&typeof F.ma=="function"&&F.ma(),_.M=null,ve(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function re(_,F){try{var H=_.j;if(H.G!=0&&(H.g==_||Dn(H.h,_))){if(!_.K&&Dn(H.h,_)&&H.G==3){try{var ie=H.Da.g.parse(F)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Ae=ie;if(Ae[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<_.F)Oh(H),ba(H);else break e;Rh(H),an(18)}}else H.za=Ae[1],0<H.za-H.T&&37500>Ae[2]&&H.F&&H.v==0&&!H.C&&(H.C=ct(m(H.Za,H),6e3));if(1>=Rt(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Dl(H,11)}else if((_.K||H.g==_)&&Oh(H),!A(F))for(Ae=H.Da.g.parse(F),F=0;F<Ae.length;F++){let Hn=Ae[F];if(H.T=Hn[0],Hn=Hn[1],H.G==2)if(Hn[0]=="c"){H.K=Hn[1],H.ia=Hn[2];const Vi=Hn[3];Vi!=null&&(H.la=Vi,H.j.info("VER="+H.la));const ji=Hn[4];ji!=null&&(H.Aa=ji,H.j.info("SVER="+H.Aa));const Ns=Hn[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(ie=1.5*Ns,H.L=ie,H.j.info("backChannelRequestTimeoutMs_="+ie)),ie=H;const ls=_.g;if(ls){const Yu=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var Be=ie.h;Be.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(Er(Be,Be.h),Be.h=null))}if(ie.D){const Nh=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;Nh&&(ie.ya=Nh,cr(ie.I,ie.D,Nh))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-_.F,H.j.info("Handshake RTT: "+H.R+"ms")),ie=H;var bt=_;if(ie.qa=Nv(ie,ie.J?ie.ia:null,ie.W),bt.K){Po(ie.h,bt);var xr=bt,Ti=ie.L;Ti&&(xr.I=Ti),xr.B&&(lo(xr),er(xr)),ie.g=bt}else Ku(ie);0<H.i.length&&Ha(H)}else Hn[0]!="stop"&&Hn[0]!="close"||Dl(H,7);else H.G==3&&(Hn[0]=="stop"||Hn[0]=="close"?Hn[0]=="stop"?Dl(H,7):to(H):Hn[0]!="noop"&&H.l&&H.l.ta(Hn),H.v=0)}}lr(4)}catch{}}var Te=class{constructor(_,F){this.g=_,this.map=F}};function Kt(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gt(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Rt(_){return _.h?1:_.g?_.g.size:0}function Dn(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function Er(_,F){_.g?_.g.add(F):_.h=F}function Po(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}Kt.prototype.cancel=function(){if(this.i=qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function qu(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const H of _.g.values())F=F.concat(H.D);return F}return v(_.i)}function Il(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var F=[],H=_.length,ie=0;ie<H;ie++)F.push(_[ie]);return F}F=[],H=0;for(ie in _)F[H++]=_[ie];return F}function Tl(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var F=[];_=_.length;for(var H=0;H<_;H++)F.push(H);return F}F=[],H=0;for(const ie in _)F[H++]=ie;return F}}}function ha(_,F){if(_.forEach&&typeof _.forEach=="function")_.forEach(F,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,F,void 0);else for(var H=Tl(_),ie=Il(_),Ae=ie.length,Be=0;Be<Ae;Be++)F.call(void 0,ie[Be],H&&H[Be],_)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(_,F){if(_){_=_.split("&");for(var H=0;H<_.length;H++){var ie=_[H].indexOf("="),Ae=null;if(0<=ie){var Be=_[H].substring(0,ie);Ae=_[H].substring(ie+1)}else Be=_[H];F(Be,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function Ds(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Ds){this.h=_.h,Ba(this,_.j),this.o=_.o,this.g=_.g,fa(this,_.s),this.l=_.l;var F=_.i,H=new jr;H.i=F.i,F.g&&(H.g=new Map(F.g),H.h=F.h),pa(this,H),this.m=_.m}else _&&(F=String(_).match(Va))?(this.h=!1,Ba(this,F[1]||"",!0),this.o=zn(F[2]||""),this.g=zn(F[3]||"",!0),fa(this,F[4]),this.l=zn(F[5]||"",!0),pa(this,F[6]||"",!0),this.m=zn(F[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}Ds.prototype.toString=function(){var _=[],F=this.j;F&&_.push(z(F,Ft,!0),":");var H=this.g;return(H||F=="file")&&(_.push("//"),(F=this.o)&&_.push(z(F,Ft,!0),"@"),_.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&_.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&_.push("/"),_.push(z(H,H.charAt(0)=="/"?ln:nn,!0))),(H=this.i.toString())&&_.push("?",H),(H=this.m)&&_.push("#",z(H,Wi)),_.join("")};function co(_){return new Ds(_)}function Ba(_,F,H){_.j=H?zn(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function fa(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function pa(_,F,H){F instanceof jr?(_.i=F,Ua(_.i,_.h)):(H||(F=z(F,qn)),_.i=new jr(F,_.h))}function cr(_,F,H){_.i.set(F,H)}function ma(_){return cr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function zn(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function z(_,F,H){return typeof _=="string"?(_=encodeURI(_).replace(F,Me),H&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Me(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Ft=/[#\/\?@]/g,nn=/[#\?:]/g,ln=/[#\?]/g,qn=/[#\?@]/g,Wi=/#/g;function jr(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function ii(_){_.g||(_.g=new Map,_.h=0,_.i&&Ph(_.i,function(F,H){_.add(decodeURIComponent(F.replace(/\+/g," ")),H)}))}t=jr.prototype,t.add=function(_,F){ii(this),this.i=null,_=Ms(this,_);var H=this.g.get(_);return H||this.g.set(_,H=[]),H.push(F),this.h+=1,this};function ga(_,F){ii(_),F=Ms(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function xa(_,F){return ii(_),F=Ms(_,F),_.g.has(F)}t.forEach=function(_,F){ii(this),this.g.forEach(function(H,ie){H.forEach(function(Ae){_.call(F,Ae,ie,this)},this)},this)},t.na=function(){ii(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),H=[];for(let ie=0;ie<F.length;ie++){const Ae=_[ie];for(let Be=0;Be<Ae.length;Be++)H.push(F[ie])}return H},t.V=function(_){ii(this);let F=[];if(typeof _=="string")xa(this,_)&&(F=F.concat(this.g.get(Ms(this,_))));else{_=Array.from(this.g.values());for(let H=0;H<_.length;H++)F=F.concat(_[H])}return F},t.set=function(_,F){return ii(this),this.i=null,_=Ms(this,_),xa(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},t.get=function(_,F){return _?(_=this.V(_),0<_.length?String(_[0]):F):F};function Rc(_,F,H){ga(_,F),0<H.length&&(_.i=null,_.g.set(Ms(_,F),v(H)),_.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var H=0;H<F.length;H++){var ie=F[H];const Be=encodeURIComponent(String(ie)),bt=this.V(ie);for(ie=0;ie<bt.length;ie++){var Ae=Be;bt[ie]!==""&&(Ae+="="+encodeURIComponent(String(bt[ie]))),_.push(Ae)}}return this.i=_.join("&")};function Ms(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function Ua(_,F){F&&!_.j&&(ii(_),_.i=null,_.g.forEach(function(H,ie){var Ae=ie.toLowerCase();ie!=Ae&&(ga(this,ie),Rc(this,Ae,H))},_)),_.j=F}function Gj(_,F){const H=new Ot;if(l.Image){const ie=new Image;ie.onload=y(Vo,H,"TestLoadImage: loaded",!0,F,ie),ie.onerror=y(Vo,H,"TestLoadImage: error",!1,F,ie),ie.onabort=y(Vo,H,"TestLoadImage: abort",!1,F,ie),ie.ontimeout=y(Vo,H,"TestLoadImage: timeout",!1,F,ie),l.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=_}else F(!1)}function Tv(_,F){const H=new Ot,ie=new AbortController,Ae=setTimeout(()=>{ie.abort(),Vo(H,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:ie.signal}).then(Be=>{clearTimeout(Ae),Be.ok?Vo(H,"TestPingServer: ok",!0,F):Vo(H,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ae),Vo(H,"TestPingServer: error",!1,F)})}function Vo(_,F,H,ie,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ie(H)}catch{}}function Kj(){this.g=new it}function kv(_,F,H){const ie=H||"";try{ha(_,function(Ae,Be){let bt=Ae;d(Ae)&&(bt=ke(Ae)),F.push(ie+Be+"="+encodeURIComponent(bt))})}catch(Ae){throw F.push(ie+"type="+encodeURIComponent("_badmap")),Ae}}function kl(_){this.l=_.Ub||null,this.j=_.eb||!1}x(kl,yt),kl.prototype.g=function(){return new Hu(this.l,this.j)},kl.prototype.i=function(_){return function(){return _}}({});function Hu(_,F){zt.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hu,zt),t=Hu.prototype,t.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,va(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||l).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rv(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rv(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?ya(this):va(this),this.readyState==3&&Rv(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,ya(this))},t.Qa=function(_){this.g&&(this.response=_,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(_){_.readyState=4,_.l=null,_.j=null,_.v=null,va(_)}t.setRequestHeader=function(_,F){this.u.append(_,F)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var H=F.next();!H.done;)H=H.value,_.push(H[0]+": "+H[1]),H=F.next();return _.join(`\r
`)};function va(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Rl(_){let F="";return R(_,function(H,ie){F+=ie,F+=":",F+=H,F+=`\r
`}),F}function Oc(_,F,H){e:{for(ie in H){var ie=!1;break e}ie=!0}ie||(H=Rl(H),typeof _=="string"?H!=null&&encodeURIComponent(String(H)):cr(_,F,H))}function Wr(_){zt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Wr,zt);var Yj=/^https?$/i,Om=["POST","PUT"];t=Wr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,F,H,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?pn(this.o):pn(nt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(Be){Gu(this,Be);return}if(_=H||"",H=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Ae in ie)H.set(Ae,ie[Ae]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Be of ie.keys())H.set(Be,ie.get(Be));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(H.keys()).find(Be=>Be.toLowerCase()=="content-type"),Ae=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Om,F,void 0))||ie||Ae||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,bt]of H)this.g.setRequestHeader(Be,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eh(this),this.u=!0,this.g.send(_),this.u=!1}catch(Be){Gu(this,Be)}};function Gu(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,Ah(_),as(_)}function Ah(_){_.A||(_.A=!0,mt(_,"complete"),mt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,mt(this,"complete"),mt(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Wr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dm(this):this.bb())},t.bb=function(){Dm(this)};function Dm(_){if(_.h&&typeof a<"u"&&(!_.v[1]||Bo(_)!=4||_.Z()!=2)){if(_.u&&Bo(_)==4)lt(_.Ea,0,_);else if(mt(_,"readystatechange"),Bo(_)==4){_.h=!1;try{const bt=_.Z();e:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var H;if(!(H=F)){var ie;if(ie=bt===0){var Ae=String(_.D).match(Va)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),ie=!Yj.test(Ae?Ae.toLowerCase():"")}H=ie}if(H)mt(_,"complete"),mt(_,"success");else{_.m=6;try{var Be=2<Bo(_)?_.g.statusText:""}catch{Be=""}_.l=Be+" ["+_.Z()+"]",Ah(_)}}finally{as(_)}}}}function as(_,F){if(_.g){Eh(_);const H=_.g,ie=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||mt(_,"ready");try{H.onreadystatechange=ie}catch{}}}function Eh(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Bo(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Bo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),Ue(F)}};function Mm(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(_){const F={};_=(_.g&&2<=Bo(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<_.length;ie++){if(A(_[ie]))continue;var H=$(_[ie]);const Ae=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Be=F[Ae]||[];F[Ae]=Be,Be.push(H)}E(F,function(ie){return ie.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(_,F,H){return H&&H.internalChannelParams&&H.internalChannelParams[_]||F}function Nm(_){this.Aa=0,this.i=[],this.j=new Ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,_),this.cb=qa("retryDelaySeedMs",1e4,_),this.Wa=qa("forwardChannelMaxRetries",2,_),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Kt(_&&_.concurrentRequestLimit),this.Da=new Kj,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nm.prototype,t.la=8,t.G=1,t.connect=function(_,F,H,ie){an(0),this.W=_,this.H=F||{},H&&ie!==void 0&&(this.H.OSID=H,this.H.OAID=ie),this.F=this.X,this.I=Nv(this,null,this.W),Ha(this)};function to(_){if(Th(_),_.G==3){var F=_.U++,H=co(_.I);if(cr(H,"SID",_.K),cr(H,"RID",F),cr(H,"TYPE","terminate"),Ol(_,H),F=new mn(_,_.j,F),F.L=2,F.v=ma(co(H)),H=!1,l.navigator&&l.navigator.sendBeacon)try{H=l.navigator.sendBeacon(F.v.toString(),"")}catch{}!H&&l.Image&&(new Image().src=F.v,H=!0),H||(F.g=$v(F.j,null),F.g.ea(F.v)),F.F=Date.now(),er(F)}Mv(_)}function ba(_){_.g&&($m(_),_.g.cancel(),_.g=null)}function Th(_){ba(_),_.u&&(l.clearTimeout(_.u),_.u=null),Oh(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Ha(_){if(!gt(_.h)&&!_.s){_.s=!0;var F=_.Ga;Q||de(),ee||(Q(),ee=!0),Z.add(F,_),_.B=0}}function Xj(_,F){return Rt(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=F.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ct(m(_.Ga,_,F),Dv(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ae=new mn(this,this.j,_);let Be=this.o;if(this.S&&(Be?(Be=O(Be),L(Be,this.S)):Be=this.S),this.m!==null||this.O||(Ae.H=Be,Be=null),this.P)e:{for(var F=0,H=0;H<this.i.length;H++){t:{var ie=this.i[H];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(F+=ie,4096<F){F=H;break e}if(F===4096||H===this.i.length-1){F=H+1;break e}}F=1e3}else F=1e3;F=Dc(this,Ae,F),H=co(this.I),cr(H,"RID",_),cr(H,"CVER",22),this.D&&cr(H,"X-HTTP-Session-Id",this.D),Ol(this,H),Be&&(this.O?F="headers="+encodeURIComponent(String(Rl(Be)))+"&"+F:this.m&&Oc(H,this.m,Be)),Er(this.h,Ae),this.Ua&&cr(H,"TYPE","init"),this.P?(cr(H,"$req",F),cr(H,"SID","null"),Ae.T=!0,gn(Ae,H,null)):gn(Ae,H,F),this.G=2}}else this.G==3&&(_?kh(this,_):this.i.length==0||gt(this.h)||kh(this))};function kh(_,F){var H;F?H=F.l:H=_.U++;const ie=co(_.I);cr(ie,"SID",_.K),cr(ie,"RID",H),cr(ie,"AID",_.T),Ol(_,ie),_.m&&_.o&&Oc(ie,_.m,_.o),H=new mn(_,_.j,H,_.B+1),_.m===null&&(H.H=_.o),F&&(_.i=F.D.concat(_.i)),F=Dc(_,H,1e3),H.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Er(_.h,H),gn(H,ie,F)}function Ol(_,F){_.H&&R(_.H,function(H,ie){cr(F,ie,H)}),_.l&&ha({},function(H,ie){cr(F,ie,H)})}function Dc(_,F,H){H=Math.min(_.i.length,H);var ie=_.l?m(_.l.Na,_.l,_):null;e:{var Ae=_.i;let Be=-1;for(;;){const bt=["count="+H];Be==-1?0<H?(Be=Ae[0].g,bt.push("ofs="+Be)):Be=0:bt.push("ofs="+Be);let xr=!0;for(let Ti=0;Ti<H;Ti++){let Hn=Ae[Ti].g;const Vi=Ae[Ti].map;if(Hn-=Be,0>Hn)Be=Math.max(0,Ae[Ti].g-100),xr=!1;else try{kv(Vi,bt,"req"+Hn+"_")}catch{ie&&ie(Vi)}}if(xr){ie=bt.join("&");break e}}}return _=_.i.splice(0,H),F.D=_,ie}function Ku(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;Q||de(),ee||(Q(),ee=!0),Z.add(F,_),_.v=0}}function Rh(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ct(m(_.Fa,_),Dv(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Ov(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ct(m(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),ba(this),Ov(this))};function $m(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function Ov(_){_.g=new mn(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var F=co(_.qa);cr(F,"RID","rpc"),cr(F,"SID",_.K),cr(F,"AID",_.T),cr(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&cr(F,"TO",_.ja),cr(F,"TYPE","xmlhttp"),Ol(_,F),_.m&&_.o&&Oc(F,_.m,_.o),_.L&&(_.g.I=_.L);var H=_.g;_=_.ia,H.L=1,H.v=ma(co(F)),H.m=null,H.P=!0,Xn(H,_)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),Rh(this),an(19))};function Oh(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Dh(_,F){var H=null;if(_.g==F){Oh(_),$m(_),_.g=null;var ie=2}else if(Dn(_.h,F))H=F.D,Po(_.h,F),ie=1;else return;if(_.G!=0){if(F.o)if(ie==1){H=F.m?F.m.length:0,F=Date.now()-F.F;var Ae=_.B;ie=Mr(),mt(ie,new _e(ie,H)),Ha(_)}else Ku(_);else if(Ae=F.s,Ae==3||Ae==0&&0<F.X||!(ie==1&&Xj(_,F)||ie==2&&Rh(_)))switch(H&&0<H.length&&(F=_.h,F.i=F.i.concat(H)),Ae){case 1:Dl(_,5);break;case 4:Dl(_,10);break;case 3:Dl(_,6);break;default:Dl(_,2)}}}function Dv(_,F){let H=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(H*=2),H*F}function Dl(_,F){if(_.j.info("Error code "+F),F==2){var H=m(_.fb,_),ie=_.Xa;const Ae=!ie;ie=new Ds(ie||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ba(ie,"https"),ma(ie),Ae?Gj(ie.toString(),H):Tv(ie.toString(),H)}else an(2);_.G=0,_.l&&_.l.sa(F),Mv(_),Th(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Mv(_){if(_.G=0,_.ka=[],_.l){const F=qu(_.h);(F.length!=0||_.i.length!=0)&&(b(_.ka,F),b(_.ka,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.ra()}}function Nv(_,F,H){var ie=H instanceof Ds?co(H):new Ds(H);if(ie.g!="")F&&(ie.g=F+"."+ie.g),fa(ie,ie.s);else{var Ae=l.location;ie=Ae.protocol,F=F?F+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Be=new Ds(null);ie&&Ba(Be,ie),F&&(Be.g=F),Ae&&fa(Be,Ae),H&&(Be.l=H),ie=Be}return H=_.D,F=_.ya,H&&F&&cr(ie,H,F),cr(ie,"VER",_.la),Ol(_,ie),ie}function $v(_,F,H){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Ca&&!_.pa?new Wr(new kl({eb:H})):new Wr(_.pa),F.Ha(_.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lm(){}t=Lm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mh(){}Mh.prototype.g=function(_,F){return new Ao(_,F)};function Ao(_,F){zt.call(this),this.g=new Nm(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!A(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!A(F)&&(this.g.D=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new Ga(this)}x(Ao,zt),Ao.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ao.prototype.close=function(){to(this.g)},Ao.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var H={};H.__data__=_,_=H}else this.u&&(H={},H.__data__=ke(_),_=H);F.i.push(new Te(F.Ya++,_)),F.G==3&&Ha(F)},Ao.prototype.N=function(){this.g.l=null,delete this.j,to(this.g),delete this.g,Ao.aa.N.call(this)};function Lv(_){Yn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const H in F){_=H;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}x(Lv,Yn);function zv(){vt.call(this),this.status=1}x(zv,vt);function Ga(_){this.g=_}x(Ga,Lm),Ga.prototype.ua=function(){mt(this.g,"a")},Ga.prototype.ta=function(_){mt(this.g,new Lv(_))},Ga.prototype.sa=function(_){mt(this.g,new zv)},Ga.prototype.ra=function(){mt(this.g,"b")},Mh.prototype.createWebChannel=Mh.prototype.g,Ao.prototype.send=Ao.prototype.o,Ao.prototype.open=Ao.prototype.m,Ao.prototype.close=Ao.prototype.close,TU=function(){return new Mh},IU=function(){return Mr()},EU=Pn,NI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tt.NO_ERROR=0,tt.TIMEOUT=8,tt.HTTP_ERROR=6,Ob=tt,kt.COMPLETE="complete",AU=kt,Sn.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",zt.prototype.listen=zt.prototype.K,qg=Sn,Wr.prototype.listenOnce=Wr.prototype.L,Wr.prototype.getLastError=Wr.prototype.Ka,Wr.prototype.getLastErrorCode=Wr.prototype.Ba,Wr.prototype.getStatus=Wr.prototype.Z,Wr.prototype.getResponseJson=Wr.prototype.Oa,Wr.prototype.getResponseText=Wr.prototype.oa,Wr.prototype.send=Wr.prototype.ea,Wr.prototype.setWithCredentials=Wr.prototype.Ha,PU=Wr}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});const X4="@firebase/firestore",Q4="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ro.UNAUTHENTICATED=new Ro(null),Ro.GOOGLE_CREDENTIALS=new Ro("google-credentials-uid"),Ro.FIRST_PARTY=new Ro("first-party-uid"),Ro.MOCK_USER=new Ro("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new _5("@firebase/firestore");function Cf(){return nh.logLevel}function dt(t,...e){if(nh.logLevel<=Vn.DEBUG){const n=e.map(L5);nh.debug(`Firestore (${hm}): ${t}`,...n)}}function Do(t,...e){if(nh.logLevel<=Vn.ERROR){const n=e.map(L5);nh.error(`Firestore (${hm}): ${t}`,...n)}}function dp(t,...e){if(nh.logLevel<=Vn.WARN){const n=e.map(L5);nh.warn(`Firestore (${hm}): ${t}`,...n)}}function L5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kU(t,r,n)}function kU(t,e,n){let r=`FIRESTORE (${hm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Do(r),new Error(r)}function Gt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kU(e,i,r)}function Cn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Sc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ro.UNAUTHENTICATED))}shutdown(){}}class Mae{constructor(e){this.t=e,this.currentUser=Ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new Dae(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ro(e)}}class Nae{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ro.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $ae{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nae(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lae{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ys(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Gt(this.o===void 0,3512);const r=s=>{s.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,dt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new J4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fn(t,e){return t<e?-1:t>e?1:0}function $I(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fn(r,i);{const s=OU(),a=Fae(s.encode(Z4(t,n)),s.encode(Z4(e,n)));return a!==0?a:fn(r,i)}}n+=r>65535?2:1}return fn(t.length,e.length)}function Z4(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Fae(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fn(t[n],e[n]);return fn(t.length,e.length)}function hp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function DU(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=-62135596800,tM=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tM);return new Kr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eM)throw new _t(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tM}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Kr(0,0))}static max(){return new Jt(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__name__";class Za{constructor(e,n,r){n===void 0?n=0:n>e.length&&Vt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Vt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return fn(e.length,n.length)}static compareSegments(e,n){const r=Za.isNumericId(e),i=Za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Za.extractNumericId(e).compare(Za.extractNumericId(n)):$I(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wu.fromString(e.substring(4,e.length-2))}}class mr extends Za{construct(e,n,r){return new mr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _t(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mr(n)}static emptyPath(){return new mr([])}}const Wae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends Za{construct(e,n,r){return new Hr(e,n,r)}static isValidIdentifier(e){return Wae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nM}static keyField(){return new Hr([nM])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new _t(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new _t(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _t(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new _t(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hr(n)}static emptyPath(){return new Hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(mr.fromString(e))}static fromName(e){return new Et(mr.fromString(e).popFirst(5))}static empty(){return new Et(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new mr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=-1;class g1{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function LI(t){return t.fields.find(e=>e.kind===2)}function xd(t){return t.fields.filter(e=>e.kind!==2)}g1.UNKNOWN_ID=-1;class Db{constructor(e,n){this.fieldPath=e,this.kind=n}}class Nx{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nx(0,Is.min())}}function Vae(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new Kr(n+1,0):new Kr(n,r));return new Is(i,Et.empty(),e)}function MU(t){return new Is(t.readTime,t.key,Mx)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Jt.min(),Et.empty(),Mx)}static max(){return new Is(Jt.max(),Et.empty(),Mx)}}function F5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:fn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $U{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==NU)throw t;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(i=>i?Ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(f=>{a[d]=f,++l,l===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new Ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="SimpleDb";class fw{static open(e,n,r,i){try{return new fw(n,e.transaction(i,r))}catch(s){throw new ox(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new hl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ox(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=W5(r.target.error);this.S.reject(new ox(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(dt(vs,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Uae(n)}}class ju{static delete(e){return dt(vs,"Removing database:",e),jd(T7().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!$7())return!1;if(ju.F())return!0;const e=$i(),n=ju.M(e),r=0<n&&n<10,i=LU(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,ju.M($i())===12.2&&Do("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(dt(vs,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new ox(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new _t(Ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new _t(Ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ox(e,a))},i.onupgradeneeded=s=>{dt(vs,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${a.version}`);this.B.q(a,i.transaction,s.oldVersion,this.version).next(()=>{dt(vs,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.k(e);const l=fw.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(d=>(l.v(),d)).catch(d=>(l.abort(d),Ee.reject(d))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&a<3;if(dt(vs,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function LU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Bae{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return jd(this.K.delete())}}class ox extends _t{constructor(e,n){super(Ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Du(t){return t.name==="IndexedDbTransactionError"}class Uae{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(dt(vs,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(dt(vs,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jd(r)}add(e){return dt(vs,"ADD",this.store.name,e,e),jd(this.store.add(e))}get(e){return jd(this.store.get(e)).next(n=>(n===void 0&&(n=null),dt(vs,"GET",this.store.name,e,n),n))}delete(e){return dt(vs,"DELETE",this.store.name,e),jd(this.store.delete(e))}count(){return dt(vs,"COUNT",this.store.name),jd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ee((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}})}{const s=this.cursor(r),a=[];return this.Y(s,(l,c)=>{a.push(c)}).next(()=>a)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ee((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}X(e,n){dt(vs,"DELETE ALL",this.store.name);const r=this.options(e,n);r.ee=!1;const i=this.cursor(r);return this.Y(i,(s,a,l)=>l.delete())}te(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.Y(i,n)}ne(e){const n=this.cursor({});return new Ee((r,i)=>{n.onerror=s=>{const a=W5(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}Y(e,n){const r=[];return new Ee((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new Bae(l),d=n(l.primaryKey,l.value,c);if(d instanceof Ee){const f=d.catch(p=>(c.done(),Ee.reject(p)));r.push(f)}c.isDone?i():c.j===null?l.continue():l.continue(c.j)}}).next(()=>Ee.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function jd(t){return new Ee((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=W5(r.target.error);n(i)}})}let rM=!1;function W5(t){const e=ju.M($i());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rM||(rM=!0,setTimeout(()=>{throw r},0)),r}}return t}const sx="IndexBackfiller";class qae{constructor(e,n){this.asyncQueue=e,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){dt(sx,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.re.se();dt(sx,`Documents written: ${n}`)}catch(n){Du(n)?dt(sx,"Ignoring IndexedDB error during index backfill: ",n):await yh(n)}await this.ie(6e4)})}}class Hae{constructor(e,n){this.localStore=e,this.persistence=n}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,e))}oe(e,n){const r=new Set;let i=n,s=!0;return Ee.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return dt(sx,`Processing collection: ${a}`),this._e(e,a,i).next(l=>{i-=l,r.add(a)});s=!1})).next(()=>n-i)}_e(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.ae(i,s)).next(l=>(dt(sx,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>a.size)}))}ae(e,n){let r=e;return n.changes.forEach((i,s)=>{const a=MU(s);F5(a,r)>0&&(r=a)}),new Is(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qs.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=-1;function pw(t){return t==null}function $x(t){return t===0&&1/t==-1/0}function Gae(t){return typeof t=="number"&&Number.isInteger(t)&&!$x(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function wo(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iM(e)),e=Kae(t.get(n),e);return iM(e)}function Kae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case x1:n+="";break;default:n+=s}}return n}function iM(t){return t+x1+""}function rl(t){const e=t.length;if(Gt(e>=2,64408,{path:t}),e===2)return Gt(t.charAt(0)===x1&&t.charAt(1)==="",56145,{path:t}),mr.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(x1,s);switch((a<0||a>n)&&Vt(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Vt(61167,{path:t})}s=a+2}return new mr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="remoteDocuments",nv="owner",uf="owner",Lx="mutationQueues",Yae="userId",Ia="mutations",oM="batchId",kd="userMutationsIndex",sM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){return[t,wo(e)]}function zU(t,e,n){return[t,wo(e),n]}const Xae={},fp="documentMutations",y1="remoteDocumentsV14",Qae=["prefixPath","collectionGroup","readTime","documentId"],Nb="documentKeyIndex",Jae=["prefixPath","collectionGroup","documentId"],FU="collectionGroupIndex",Zae=["collectionGroup","readTime","prefixPath","documentId"],zx="remoteDocumentGlobal",zI="remoteDocumentGlobalKey",pp="targets",WU="queryTargetsIndex",ele=["canonicalId","targetId"],mp="targetDocuments",tle=["targetId","path"],V5="documentTargetsIndex",nle=["path","targetId"],v1="targetGlobalKey",Bd="targetGlobal",Fx="collectionParents",rle=["collectionId","parent"],gp="clientMetadata",ile="clientId",mw="bundles",ole="bundleId",gw="namedQueries",sle="name",B5="indexConfiguration",ale="indexId",FI="collectionGroupIndex",lle="collectionGroup",ax="indexState",cle=["indexId","uid"],VU="sequenceNumberIndex",ule=["uid","sequenceNumber"],lx="indexEntries",dle=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BU="documentKeyIndex",hle=["indexId","uid","orderedDocumentKey"],xw="documentOverlays",fle=["userId","collectionPath","documentId"],WI="collectionPathOverlayIndex",ple=["userId","collectionPath","largestBatchId"],UU="collectionGroupOverlayIndex",mle=["userId","collectionGroup","largestBatchId"],U5="globals",gle="name",qU=[Lx,Ia,fp,yd,pp,nv,Bd,mp,gp,zx,Fx,mw,gw],xle=[...qU,xw],HU=[Lx,Ia,fp,y1,pp,nv,Bd,mp,gp,zx,Fx,mw,gw,xw],GU=HU,q5=[...GU,B5,ax,lx],yle=q5,KU=[...q5,U5],vle=KU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends $U{constructor(e,n){super(),this.he=e,this.currentSequenceNumber=n}}function zi(t,e){const n=Cn(t);return ju.N(n.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.comparator=e,this.root=n||oo.EMPTY}insert(e,n){return new Xr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oo.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new L0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new L0(this.root,e,this.comparator,!1)}getReverseIterator(){return new L0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new L0(this.root,e,this.comparator,!0)}}class L0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oo{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??oo.RED,this.left=i??oo.EMPTY,this.right=s??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new oo(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return oo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}}oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1;oo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new oo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lM(this.data.getIterator())}getIteratorFrom(e){return new lM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vr(this.comparator);return n.data=e,n}}class lM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function df(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.fields=e,e.sort(Hr.comparator)}static empty(){return new Zo([])}unionWith(e){let n=new vr(Hr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XU("Invalid base64 string: "+s):s}}(e);return new _i(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new _i(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const ble=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(t){if(Gt(!!t,39018),typeof t=="string"){let e=0;const n=ble.exec(t);if(Gt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qr(t.seconds),nanos:qr(t.nanos)}}function qr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xc(t){return typeof t=="string"?_i.fromBase64String(t):_i.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="server_timestamp",JU="__type__",ZU="__previous_value__",eq="__local_write_time__";function H5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JU])===null||n===void 0?void 0:n.stringValue)===QU}function yw(t){const e=t.mapValue.fields[ZU];return H5(e)?yw(e):e}function Wx(t){const e=gc(t.mapValue.fields[eq].timestampValue);return new Kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e,n,r,i,s,a,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const b1="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||b1}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===b1}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="__type__",tq="__max__",hu={mapValue:{fields:{__type__:{stringValue:tq}}}},K5="__vector__",xp="value",$b={nullValue:"NULL_VALUE"};function Iu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H5(t)?4:nq(t)?9007199254740991:vw(t)?10:11:Vt(28295,{value:t})}function yl(t,e){if(t===e)return!0;const n=Iu(t);if(n!==Iu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wx(t).isEqual(Wx(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=gc(i.timestampValue),l=gc(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xc(i.bytesValue).isEqual(xc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qr(i.geoPointValue.latitude)===qr(s.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qr(i.integerValue)===qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=qr(i.doubleValue),l=qr(s.doubleValue);return a===l?$x(a)===$x(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return hp(t.arrayValue.values||[],e.arrayValue.values||[],yl);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(aM(a)!==aM(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!yl(a[c],l[c])))return!1;return!0}(t,e);default:return Vt(52216,{left:t})}}function Vx(t,e){return(t.values||[]).find(n=>yl(n,e))!==void 0}function Tu(t,e){if(t===e)return 0;const n=Iu(t),r=Iu(e);if(n!==r)return fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fn(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=qr(s.integerValue||s.doubleValue),c=qr(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return cM(t.timestampValue,e.timestampValue);case 4:return cM(Wx(t),Wx(e));case 5:return $I(t.stringValue,e.stringValue);case 6:return function(s,a){const l=xc(s),c=xc(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=fn(l[d],c[d]);if(f!==0)return f}return fn(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=fn(qr(s.latitude),qr(a.latitude));return l!==0?l:fn(qr(s.longitude),qr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uM(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,d,f;const p=s.fields||{},m=a.fields||{},y=(l=p[xp])===null||l===void 0?void 0:l.arrayValue,x=(c=m[xp])===null||c===void 0?void 0:c.arrayValue,v=fn(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return v!==0?v:uM(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===hu.mapValue&&a===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(a===hu.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=$I(c[p],f[p]);if(m!==0)return m;const y=Tu(l[c[p]],d[f[p]]);if(y!==0)return y}return fn(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Vt(23264,{Pe:n})}}function cM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fn(t,e);const n=gc(t),r=gc(e),i=fn(n.seconds,r.seconds);return i!==0?i:fn(n.nanos,r.nanos)}function uM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Tu(n[i],r[i]);if(s)return s}return fn(n.length,r.length)}function yp(t){return BI(t)}function BI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=BI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${BI(n.fields[a])}`;return i+"}"}(t.mapValue):Vt(61005,{value:t})}function Lb(t){switch(Iu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yw(t);return e?16+Lb(e):16;case 5:return 2*t.stringValue.length;case 6:return xc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Lb(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mu(r.fields,(s,a)=>{i+=s.length+Lb(a)}),i}(t.mapValue);default:throw Vt(13486,{value:t})}}function Bx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UI(t){return!!t&&"integerValue"in t}function Ux(t){return!!t&&"arrayValue"in t}function dM(t){return!!t&&"nullValue"in t}function hM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zb(t){return!!t&&"mapValue"in t}function vw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[G5])===null||n===void 0?void 0:n.stringValue)===K5}function cx(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cx(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cx(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tq}const rq={mapValue:{fields:{[G5]:{stringValue:K5},[xp]:{arrayValue:{}}}}};function wle(t){return"nullValue"in t?$b:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bx(Eu.empty(),Et.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?vw(t)?rq:{mapValue:{}}:Vt(35942,{value:t})}function jle(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bx(Eu.empty(),Et.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?rq:"mapValue"in t?vw(t)?{mapValue:{}}:hu:Vt(61959,{value:t})}function fM(t,e){const n=Tu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pM(t,e){const n=Tu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.value=e}static empty(){return new bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cx(n)}setAll(e){let n=Hr.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=cx(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bo(cx(this.value))}}function iq(t){const e=[];return Mu(t.fields,(n,r)=>{const i=new Hr([n]);if(zb(r)){const s=iq(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Zo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ui(e,0,Jt.min(),Jt.min(),Jt.min(),bo.empty(),0)}static newFoundDocument(e,n,r,i){return new ui(e,1,n,Jt.min(),r,i,0)}static newNoDocument(e,n){return new ui(e,2,n,Jt.min(),Jt.min(),bo.empty(),0)}static newUnknownDocument(e,n){return new ui(e,3,n,Jt.min(),Jt.min(),bo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.position=e,this.inclusive=n}}function mM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(a.referenceValue),n.key):r=Tu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{}class Un extends oq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cle(e,n,r):n==="array-contains"?new Ele(e,r):n==="in"?new dq(e,r):n==="not-in"?new Ile(e,r):n==="array-contains-any"?new Tle(e,r):new Un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ple(e,r):new Ale(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tu(n,this.value)):n!==null&&Iu(this.value)===Iu(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends oq{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new yr(e,n)}matches(e){return bp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bp(t){return t.op==="and"}function qI(t){return t.op==="or"}function Y5(t){return sq(t)&&bp(t)}function sq(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function HI(t){if(t instanceof Un)return t.field.canonicalString()+t.op.toString()+yp(t.value);if(Y5(t))return t.filters.map(e=>HI(e)).join(",");{const e=t.filters.map(n=>HI(n)).join(",");return`${t.op}(${e})`}}function aq(t,e){return t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.field.isEqual(i.field)&&yl(r.value,i.value)}(t,e):t instanceof yr?function(r,i){return i instanceof yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&aq(a,i.filters[l]),!0):!1}(t,e):void Vt(19439)}function lq(t,e){const n=t.filters.concat(e);return yr.create(n,t.op)}function cq(t){return t instanceof Un?function(n){return`${n.field.canonicalString()} ${n.op} ${yp(n.value)}`}(t):t instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(cq).join(" ,")+"}"}(t):"Filter"}class Cle extends Un{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ple extends Un{constructor(e,n){super(e,"in",n),this.keys=uq("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ale extends Un{constructor(e,n){super(e,"not-in",n),this.keys=uq("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uq(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Et.fromName(r.referenceValue))}class Ele extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ux(n)&&Vx(n.arrayValue,this.value)}}class dq extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vx(this.value.arrayValue,n)}}class Ile extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vx(this.value.arrayValue,n)}}class Tle extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ux(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vx(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function GI(t,e=null,n=[],r=[],i=null,s=null,a=null){return new kle(t,e,n,r,i,s,a)}function rh(t){const e=Cn(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>HI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yp(r)).join(",")),e.Ie=n}return e.Ie}function rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gM(t.startAt,e.startAt)&&gM(t.endAt,e.endAt)}function _1(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function w1(t,e){return t.filters.filter(n=>n instanceof Un&&n.field.isEqual(e))}function xM(t,e,n){let r=$b,i=!0;for(const s of w1(t,e)){let a=$b,l=!0;switch(s.op){case"<":case"<=":a=wle(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=$b}fM({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];fM({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function yM(t,e,n){let r=hu,i=!0;for(const s of w1(t,e)){let a=hu,l=!0;switch(s.op){case">=":case">":a=jle(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=hu}pM({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];pM({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Rle(t,e,n,r,i,s,a,l){return new fm(t,e,n,r,i,s,a,l)}function bw(t){return new fm(t)}function vM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hq(t){return t.collectionGroup!==null}function ux(t){const e=Cn(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new vr(Hr.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new qx(s,r))}),n.has(Hr.keyField().canonicalString())||e.Ee.push(new qx(Hr.keyField(),r))}return e.Ee}function ea(t){const e=Cn(t);return e.de||(e.de=Ole(e,ux(t))),e.de}function Ole(t,e){if(t.limitType==="F")return GI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qx(i.field,s)});const n=t.endAt?new vp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vp(t.startAt.position,t.startAt.inclusive):null;return GI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function KI(t,e){const n=t.filters.concat([e]);return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function YI(t,e,n){return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _w(t,e){return rv(ea(t),ea(e))&&t.limitType===e.limitType}function fq(t){return`${rh(ea(t))}|lt:${t.limitType}`}function Pf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cq(i)).join(", ")}]`),pw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yp(i)).join(",")),`Target(${r})`}(ea(t))}; limitType=${t.limitType})`}function iv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ux(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const d=mM(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,ux(r),i)||r.endAt&&!function(a,l,c){const d=mM(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,ux(r),i))}(t,e)}function Dle(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pq(t){return(e,n)=>{let r=!1;for(const i of ux(t)){const s=Mle(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Mle(t,e,n){const r=t.field.isKeyField()?Et.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Tu(c,d):Vt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return YU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=new Xr(Et.comparator);function js(){return Nle}const mq=new Xr(Et.comparator);function Hg(...t){let e=mq;for(const n of t)e=e.insert(n.key,n);return e}function gq(t){let e=mq;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function il(){return dx()}function xq(){return dx()}function dx(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const $le=new Xr(Et.comparator),Lle=new vr(Et.comparator);function Ln(...t){let e=Lle;for(const n of t)e=e.add(n);return e}const zle=new vr(fn);function Fle(){return zle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$x(e)?"-0":e}}function yq(t){return{integerValue:""+t}}function Wle(t,e){return Gae(e)?yq(e):X5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this._=void 0}}function Vle(t,e,n){return t instanceof _p?function(i,s){const a={fields:{[JU]:{stringValue:QU},[eq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&H5(s)&&(s=yw(s)),s&&(a.fields[ZU]=s),{mapValue:a}}(n,e):t instanceof wp?bq(t,e):t instanceof jp?_q(t,e):function(i,s){const a=vq(i,s),l=bM(a)+bM(i.Re);return UI(a)&&UI(i.Re)?yq(l):X5(i.serializer,l)}(t,e)}function Ble(t,e,n){return t instanceof wp?bq(t,e):t instanceof jp?_q(t,e):n}function vq(t,e){return t instanceof Hx?function(r){return UI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _p extends ww{}class wp extends ww{constructor(e){super(),this.elements=e}}function bq(t,e){const n=wq(e);for(const r of t.elements)n.some(i=>yl(i,r))||n.push(r);return{arrayValue:{values:n}}}class jp extends ww{constructor(e){super(),this.elements=e}}function _q(t,e){let n=wq(e);for(const r of t.elements)n=n.filter(i=>!yl(i,r));return{arrayValue:{values:n}}}class Hx extends ww{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bM(t){return qr(t.integerValue||t.doubleValue)}function wq(t){return Ux(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n){this.field=e,this.transform=n}}function Ule(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wp&&i instanceof wp||r instanceof jp&&i instanceof jp?hp(r.elements,i.elements,yl):r instanceof Hx&&i instanceof Hx?yl(r.Re,i.Re):r instanceof _p&&i instanceof _p}(t.transform,e.transform)}class qle{constructor(e,n){this.version=e,this.transformResults=n}}class _o{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _o}static exists(e){return new _o(void 0,e)}static updateTime(e){return new _o(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jw{}function Sq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sw(t.key,_o.none()):new pm(t.key,t.data,_o.none());{const n=t.data,r=bo.empty();let i=new vr(Hr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ac(t.key,r,new Zo(i.toArray()),_o.none())}}function Hle(t,e,n){t instanceof pm?function(i,s,a){const l=i.value.clone(),c=wM(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,s,a){if(!Fb(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=wM(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Cq(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function hx(t,e,n,r){return t instanceof pm?function(s,a,l,c){if(!Fb(s.precondition,a))return l;const d=s.value.clone(),f=jM(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(s,a,l,c){if(!Fb(s.precondition,a))return l;const d=jM(s.fieldTransforms,c,a),f=a.data;return f.setAll(Cq(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,a,l){return Fb(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Gle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vq(r.transform,i||null);s!=null&&(n===null&&(n=bo.empty()),n.set(r.field,s))}return n||null}function _M(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hp(r,i,(s,a)=>Ule(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pm extends jw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends jw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Cq(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wM(t,e,n){const r=new Map;Gt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Ble(a,l,n[i]))}return r}function jM(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Vle(s,a,e))}return r}class Sw extends jw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pq extends jw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hle(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hx(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hx(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xq();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=Sq(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Jt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ln())}isEqual(e){return this.batchId===e.batchId&&hp(this.mutations,e.mutations,(n,r)=>_M(n,r))&&hp(this.baseMutations,e.baseMutations,(n,r)=>_M(n,r))}}class J5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return $le}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new J5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Gn;function Yle(t){switch(t){case Ge.OK:return Vt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Vt(15467,{code:t})}}function Aq(t){if(t===void 0)return Do("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case Ci.OK:return Ge.OK;case Ci.CANCELLED:return Ge.CANCELLED;case Ci.UNKNOWN:return Ge.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return Ge.INTERNAL;case Ci.UNAVAILABLE:return Ge.UNAVAILABLE;case Ci.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Ci.NOT_FOUND:return Ge.NOT_FOUND;case Ci.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Ci.ABORTED:return Ge.ABORTED;case Ci.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Ci.DATA_LOSS:return Ge.DATA_LOSS;default:return Vt(39323,{code:t})}}(Gn=Ci||(Ci={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle=new wu([4294967295,4294967295],0);function SM(t){const e=OU().encode(t),n=new CU;return n.update(e),new Uint8Array(n.digest())}function CM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wu([n,r],0),new wu([i,s],0)]}class eR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gg(`Invalid padding: ${n}`);if(r<0)throw new Gg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gg(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=wu.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(wu.fromNumber(r)));return i.compare(Xle)===1&&(i=new wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=SM(e),[r,i]=CM(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new eR(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=SM(e),[r,i]=CM(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ov.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cw(Jt.min(),i,new Xr(fn),js(),Ln())}}class ov{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ov(r,n,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class Eq{constructor(e,n){this.targetId=e,this.Ce=n}}class Iq{constructor(e,n,r=_i.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PM{constructor(){this.Fe=0,this.Me=AM(),this.xe=_i.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ln(),n=Ln(),r=Ln();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Vt(38017,{changeType:s})}}),new ov(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=AM()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qle{constructor(e){this.ze=e,this.je=new Map,this.He=js(),this.Je=z0(),this.Ye=z0(),this.Ze=new Xr(fn)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Vt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(_1(s))if(r===0){const a=new Et(s.path);this.tt(n,a,ui.newNoDocument(a,Jt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=xc(r).toUint8Array()}catch(c){if(c instanceof XU)return dp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new eR(a,i,s)}catch(c){return dp(c instanceof Gg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&_1(l.target)){const c=new Et(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,ui.newNoDocument(c,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=Ln();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new Cw(e,n,this.Ze,this.He,r);return this.He=js(),this.Je=z0(),this.Ye=z0(),this.Ze=new Xr(fn),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new PM,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new vr(fn),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new vr(fn),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new PM),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function z0(){return new Xr(Et.comparator)}function AM(){return new Xr(Et.comparator)}const Jle={asc:"ASCENDING",desc:"DESCENDING"},Zle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ece={and:"AND",or:"OR"};class tce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function XI(t,e){return t.useProto3Json||pw(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nce(t,e){return Sp(t,e.toTimestamp())}function Fo(t){return Gt(!!t,49232),Jt.fromTimestamp(function(n){const r=gc(n);return new Kr(r.seconds,r.nanos)}(t))}function tR(t,e){return QI(t,e).canonicalString()}function QI(t,e){const n=function(i){return new mr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kq(t){const e=mr.fromString(t);return Gt(Fq(e),10190,{key:e.toString()}),e}function j1(t,e){return tR(t.databaseId,e.path)}function Ud(t,e){const n=kq(e);if(n.get(1)!==t.databaseId.projectId)throw new _t(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _t(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(Dq(n))}function Rq(t,e){return tR(t.databaseId,e)}function Oq(t){const e=kq(t);return e.length===4?mr.emptyPath():Dq(e)}function JI(t){return new mr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dq(t){return Gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EM(t,e,n){return{name:j1(t,e),fields:n.value.mapValue.fields}}function rce(t,e,n){const r=Ud(t,e.name),i=Fo(e.updateTime),s=e.createTime?Fo(e.createTime):Jt.min(),a=new bo({mapValue:{fields:e.fields}}),l=ui.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function ice(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Vt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Gt(f===void 0||typeof f=="string",58123),_i.fromBase64String(f||"")):(Gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),_i.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const f=d.code===void 0?Ge.UNKNOWN:Aq(d.code);return new _t(f,d.message||"")}(a);n=new Iq(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ud(t,r.document.name),s=Fo(r.document.updateTime),a=r.document.createTime?Fo(r.document.createTime):Jt.min(),l=new bo({mapValue:{fields:r.document.fields}}),c=ui.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Wb(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ud(t,r.document),s=r.readTime?Fo(r.readTime):Jt.min(),a=ui.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Wb([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ud(t,r.document),s=r.removedTargetIds||[];n=new Wb([],s,i,null)}else{if(!("filter"in e))return Vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Kle(i,s),l=r.targetId;n=new Eq(l,a)}}return n}function S1(t,e){let n;if(e instanceof pm)n={update:EM(t,e.key,e.value)};else if(e instanceof Sw)n={delete:j1(t,e.key)};else if(e instanceof Ac)n={update:EM(t,e.key,e.data),updateMask:uce(e.fieldMask)};else{if(!(e instanceof Pq))return Vt(16599,{ft:e.type});n={verify:j1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof _p)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof wp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hx)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Vt(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nce(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Vt(27497)}(t,e.precondition)),n}function ZI(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?_o.updateTime(Fo(s.updateTime)):s.exists!==void 0?_o.exists(s.exists):_o.none()}(e.currentDocument):_o.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let c=null;if("setToServerValue"in l)Gt(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new _p;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new wp(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new jp(f)}else"increment"in l?c=new Hx(a,l.increment):Vt(16584,{proto:l});const d=Hr.fromServerFormat(l.fieldPath);return new jq(d,c)}(t,i)):[];if(e.update){e.update.name;const i=Ud(t,e.update.name),s=new bo({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const d=c.fieldPaths||[];return new Zo(d.map(f=>Hr.fromServerFormat(f)))}(e.updateMask);return new Ac(i,s,a,n,r)}return new pm(i,s,n,r)}if(e.delete){const i=Ud(t,e.delete);return new Sw(i,n)}if(e.verify){const i=Ud(t,e.verify);return new Pq(i,n)}return Vt(1463,{proto:e})}function oce(t,e){return t&&t.length>0?(Gt(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Fo(i.updateTime):Fo(s);return a.isEqual(Jt.min())&&(a=Fo(s)),new qle(a,i.transformResults||[])}(n,e))):[]}function Mq(t,e){return{documents:[Rq(t,e.path)]}}function Nq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rq(t,i);const s=function(d){if(d.length!==0)return zq(yr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(f=>function(m){return{field:Af(m.field),direction:ace(m.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=XI(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:i}}function $q(t){let e=Oq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=Lq(p);return m instanceof yr&&Y5(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(x){return new qx(Ef(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,pw(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new vp(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,y=p.values||[];return new vp(y,m)}(n.endAt)),Rle(e,i,a,s,l,"F",c,d)}function sce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lq(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ef(n.unaryFilter.field);return Un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ef(n.unaryFilter.field);return Un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ef(n.unaryFilter.field);return Un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ef(n.unaryFilter.field);return Un.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Un.create(Ef(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(r=>Lq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}}(n.compositeFilter.op))}(t):Vt(30097,{filter:t})}function ace(t){return Jle[t]}function lce(t){return Zle[t]}function cce(t){return ece[t]}function Af(t){return{fieldPath:t.canonicalString()}}function Ef(t){return Hr.fromServerFormat(t.fieldPath)}function zq(t){return t instanceof Un?function(n){if(n.op==="=="){if(hM(n.value))return{unaryFilter:{field:Af(n.field),op:"IS_NAN"}};if(dM(n.value))return{unaryFilter:{field:Af(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hM(n.value))return{unaryFilter:{field:Af(n.field),op:"IS_NOT_NAN"}};if(dM(n.value))return{unaryFilter:{field:Af(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(n.field),op:lce(n.op),value:n.value}}}(t):t instanceof yr?function(n){const r=n.getFilters().map(i=>zq(i));return r.length===1?r[0]:{compositeFilter:{op:cce(n.op),filters:r}}}(t):Vt(54877,{filter:t})}function uce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,i,s=Jt.min(),a=Jt.min(),l=_i.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.wt=e}}function dce(t,e){let n;if(e.document)n=rce(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Et.fromSegments(e.noDocument.path),i=oh(e.noDocument.readTime);n=ui.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vt(56709);{const r=Et.fromSegments(e.unknownDocument.path),i=oh(e.unknownDocument.version);n=ui.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Kr(i[0],i[1]);return Jt.fromTimestamp(s)}(e.readTime)),n}function IM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:C1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,a){return{name:j1(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Sp(s,a.version.toTimestamp()),createTime:Sp(s,a.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ih(e.version)};else{if(!e.isUnknownDocument())return Vt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ih(e.version)}}return r}function C1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ih(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oh(t){const e=new Kr(t.seconds,t.nanoseconds);return Jt.fromTimestamp(e)}function Sd(t,e){const n=(e.baseMutations||[]).map(s=>ZI(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>ZI(t.wt,s)),i=Kr.fromMillis(e.localWriteTimeMs);return new Q5(e.batchId,i,n,r)}function Kg(t){const e=oh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?oh(t.lastLimboFreeSnapshotVersion):Jt.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const a=s.documents.length;return Gt(a===1,1966,{count:a}),ea(bw(Oq(s.documents[0])))}(t.query):function(s){return ea($q(s))}(t.query),new ec(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,_i.fromBase64String(t.resumeToken))}function Vq(t,e){const n=ih(e.snapshotVersion),r=ih(e.lastLimboFreeSnapshotVersion);let i;i=_1(e.target)?Mq(t.wt,e.target):Nq(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rh(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Bq(t){const e=$q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?YI(e,e.limit,"L"):e}function WS(t,e){return new Z5(e.largestBatchId,ZI(t.wt,e.overlayMutation))}function TM(t,e){const n=e.path.lastSegment();return[t,wo(e.path.popLast()),n]}function kM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ih(r.readTime),documentKey:wo(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{getBundleMetadata(e,n){return RM(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:oh(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return RM(e).put(function(i){return{bundleId:i.id,createTime:ih(Fo(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return OM(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Bq(s.bundledQuery),readTime:oh(s.readTime)}}(r)})}saveNamedQuery(e,n){return OM(e).put(function(i){return{name:i.name,readTime:ih(Fo(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function RM(t){return zi(t,mw)}function OM(t){return zi(t,gw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.serializer=e,this.userId=n}static bt(e,n){const r=n.uid||"";return new Pw(e,r)}getOverlay(e,n){return dg(e).get(TM(this.userId,n)).next(r=>r?WS(this.serializer,r):null)}getOverlays(e,n){const r=il();return Ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,a)=>{const l=new Z5(n,a);i.push(this.St(e,l))}),Ee.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(wo(a.getCollectionPath())));const s=[];return i.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(dg(e).X(WI,l))}),Ee.waitFor(s)}getOverlaysForCollection(e,n,r){const i=il(),s=wo(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return dg(e).J(WI,a).next(l=>{for(const c of l){const d=WS(this.serializer,c);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=il();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return dg(e).te({index:UU,range:l},(c,d,f)=>{const p=WS(this.serializer,d);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):f.done()}).next(()=>s)}St(e,n){return dg(e).put(function(i,s,a){const[l,c,d]=TM(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:S1(i.wt,a.mutation)}}(this.serializer,this.userId,n))}}function dg(t){return zi(t,xw)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fce{Dt(e){return zi(e,U5)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?_i.fromUint8Array(r):_i.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(qr(e.integerValue));else if("doubleValue"in e){const r=qr(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),$x(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=gc(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(xc(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?nq(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):vw(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):Vt(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;const s=e.fields||{};this.Mt(n,53);const a=xp,l=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(qr(l)),this.Nt(a,n),this.Ct(s[a],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),Et.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}Cd.Wt=new Cd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=255;function pce(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function DM(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const a=pce(255&r[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class mce{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=n.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const n=this.tn(e),r=DM(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}rn(e){const n=this.tn(e),r=DM(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}sn(){this._n(hf),this._n(255)}an(){this.un(hf),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const n=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}zt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===hf?(this._n(hf),this._n(0)):this._n(n)}Jt(e){const n=255&e;n===0?(this.un(0),this.un(255)):n===hf?(this.un(hf),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class gce{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class xce{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class hg{constructor(){this.ln=new mce,this.hn=new gce(this.ln),this.Pn=new xce(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i){this.In=e,this.En=n,this.dn=r,this.An=i}Rn(){const e=this.An.length,n=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.An,0),n!==e?r.set([0],this.An.length):++r[r.length-1],new Pd(this.In,this.En,this.dn,r)}Vn(e,n,r){return{indexId:this.In,uid:e,arrayValue:Vb(this.dn),directionalValue:Vb(this.An),orderedDocumentKey:Vb(n),documentKey:r.path.toArray()}}mn(e,n,r){const i=this.Vn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Xc(t,e){let n=t.In-e.In;return n!==0?n:(n=MM(t.dn,e.dn),n!==0?n:(n=MM(t.An,e.An),n!==0?n:Et.comparator(t.En,e.En)))}function MM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vb(t){return N7()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function NM(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class $M{constructor(e){this.fn=new vr((n,r)=>Hr.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const n of e.filters){const r=n;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Gt(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const n=LI(e);if(n!==void 0&&!this.bn(n))return!1;const r=xd(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.bn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.Sn(l,c)||!this.Dn(this.gn[a++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.gn.length||!this.Dn(this.gn[a++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new vr(Hr.comparator);const n=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Db(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Db(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Db(r.field,r.dir==="asc"?0:1)));return new g1(g1.UNKNOWN_ID,this.collectionId,n,Nx.empty())}bn(e){for(const n of this.pn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Dn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t){var e,n;if(Gt(t instanceof Un||t instanceof yr,20012),t instanceof Un){if(t instanceof dq){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Un.create(t.field,"==",s)))||[];return yr.create(i,"or")}return t}const r=t.filters.map(i=>Uq(i));return yr.create(r,t.op)}function yce(t){if(t.getFilters().length===0)return[];const e=nT(Uq(t));return Gt(qq(e),7391),eT(e)||tT(e)?[e]:e.getFilters()}function eT(t){return t instanceof Un}function tT(t){return t instanceof yr&&Y5(t)}function qq(t){return eT(t)||tT(t)||function(n){if(n instanceof yr&&qI(n)){for(const r of n.getFilters())if(!eT(r)&&!tT(r))return!1;return!0}return!1}(t)}function nT(t){if(Gt(t instanceof Un||t instanceof yr,34018),t instanceof Un)return t;if(t.filters.length===1)return nT(t.filters[0]);const e=t.filters.map(r=>nT(r));let n=yr.create(e,t.op);return n=P1(n),qq(n)?n:(Gt(n instanceof yr,64498),Gt(bp(n),40251),Gt(n.filters.length>1,57927),n.filters.reduce((r,i)=>nR(r,i)))}function nR(t,e){let n;return Gt(t instanceof Un||t instanceof yr,38388),Gt(e instanceof Un||e instanceof yr,25473),n=t instanceof Un?e instanceof Un?function(i,s){return yr.create([i,s],"and")}(t,e):LM(t,e):e instanceof Un?LM(e,t):function(i,s){if(Gt(i.filters.length>0&&s.filters.length>0,48005),bp(i)&&bp(s))return lq(i,s.getFilters());const a=qI(i)?i:s,l=qI(i)?s:i,c=a.filters.map(d=>nR(d,l));return yr.create(c,"or")}(t,e),P1(n)}function LM(t,e){if(bp(e))return lq(e,t.getFilters());{const n=e.filters.map(r=>nR(t,r));return yr.create(n,"or")}}function P1(t){if(Gt(t instanceof Un||t instanceof yr,11850),t instanceof Un)return t;const e=t.getFilters();if(e.length===1)return P1(e[0]);if(sq(t))return t;const n=e.map(i=>P1(i)),r=[];return n.forEach(i=>{i instanceof Un?r.push(i):i instanceof yr&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:yr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(){this.Cn=new rR}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Is.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class rR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vr(mr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vr(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="IndexedDbIndexManager",F0=new Uint8Array(0);class bce{constructor(e,n){this.databaseId=n,this.Fn=new rR,this.Mn=new Pc(r=>rh(r),(r,i)=>rv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Fn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Fn.add(n)});const s={collectionId:r,parent:wo(i)};return FM(e).put(s)}return Ee.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[DU(n),""],!1,!0);return FM(e).J(i).next(s=>{for(const a of s){if(a.collectionId!==n)break;r.push(rl(a.parent))}return r})}addFieldIndex(e,n){const r=fg(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=pf(e);return s.next(l=>{a.put(kM(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=fg(e),i=pf(e),s=ff(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=fg(e),r=ff(e),i=pf(e);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,n){return Ee.forEach(this.xn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new $M(r).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ff(e);let i=!0;const s=new Map;return Ee.forEach(this.xn(n),a=>this.On(e,a).next(l=>{i&&(i=!!l),s.set(a,l)})).next(()=>{if(i){let a=Ln();const l=[];return Ee.forEach(s,(c,d)=>{dt(zM,`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(c)} to execute ${rh(n)}`);const f=function(S,k){const P=LI(k);if(P===void 0)return null;for(const R of w1(S,P.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(d,c),p=function(S,k){const P=new Map;for(const R of xd(k))for(const E of w1(S,R.fieldPath))switch(E.op){case"==":case"in":P.set(R.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return P.set(R.fieldPath.canonicalString(),E.value),Array.from(P.values())}return null}(d,c),m=function(S,k){const P=[];let R=!0;for(const E of xd(k)){const O=E.kind===0?xM(S,E.fieldPath,S.startAt):yM(S,E.fieldPath,S.startAt);P.push(O.value),R&&(R=O.inclusive)}return new vp(P,R)}(d,c),y=function(S,k){const P=[];let R=!0;for(const E of xd(k)){const O=E.kind===0?yM(S,E.fieldPath,S.endAt):xM(S,E.fieldPath,S.endAt);P.push(O.value),R&&(R=O.inclusive)}return new vp(P,R)}(d,c),x=this.Nn(c,d,m),v=this.Nn(c,d,y),b=this.Bn(c,d,p),I=this.Ln(c.indexId,f,x,m.inclusive,v,y.inclusive,b);return Ee.forEach(I,A=>r.Z(A,n.limit).next(S=>{S.forEach(k=>{const P=Et.fromSegments(k.documentKey);a.has(P)||(a=a.add(P),l.push(P))})}))}).next(()=>l)}return Ee.resolve(null)})}xn(e){let n=this.Mn.get(e);return n||(e.filters.length===0?n=[e]:n=yce(yr.create(e.filters,"and")).map(r=>GI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,n),n)}Ln(e,n,r,i,s,a,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),d=c/(n!=null?n.length:1),f=[];for(let p=0;p<c;++p){const m=n?this.kn(n[p/d]):F0,y=this.qn(e,m,r[p%d],i),x=this.Qn(e,m,s[p%d],a),v=l.map(b=>this.qn(e,m,b,!0));f.push(...this.createRange(y,x,v))}return f}qn(e,n,r,i){const s=new Pd(e,Et.empty(),n,r);return i?s:s.Rn()}Qn(e,n,r,i){const s=new Pd(e,Et.empty(),n,r);return i?s.Rn():s}On(e,n){const r=new $M(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const l of s)r.wn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,n){let r=2;const i=this.xn(n);return Ee.forEach(i,s=>this.On(e,s).next(a=>{a?r!==0&&a.fields.length<function(c){let d=new vr(Hr.comparator),f=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?f=!0:d=d.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}$n(e,n){const r=new hg;for(const i of xd(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Tn(i.kind);Cd.Wt.vt(s,a)}return r.cn()}kn(e){const n=new hg;return Cd.Wt.vt(e,n.Tn(0)),n.cn()}Un(e,n){const r=new hg;return Cd.Wt.vt(Bx(this.databaseId,n),r.Tn(function(s){const a=xd(s);return a.length===0?0:a[a.length-1].kind}(e))),r.cn()}Bn(e,n,r){if(r===null)return[];let i=[];i.push(new hg);let s=0;for(const a of xd(e)){const l=r[s++];for(const c of i)if(this.Kn(n,a.fieldPath)&&Ux(l))i=this.Wn(i,a,l);else{const d=c.Tn(a.kind);Cd.Wt.vt(l,d)}}return this.Gn(i)}Nn(e,n,r){return this.Bn(e,n,r.position)}Gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].cn();return n}Wn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const c=new hg;c.seed(l.cn()),Cd.Wt.vt(a,c.Tn(n.kind)),s.push(c)}return s}Kn(e,n){return!!e.filters.find(r=>r instanceof Un&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=fg(e),i=pf(e);return(n?r.J(FI,IDBKeyRange.bound(n,n)):r.J()).next(s=>{const a=[];return Ee.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{a.push(function(f,p){const m=p?new Nx(p.sequenceNumber,new Is(oh(p.readTime),new Et(rl(p.documentKey)),p.largestBatchId)):Nx.empty(),y=f.fields.map(([x,v])=>new Db(Hr.fromServerFormat(x),v));return new g1(f.indexId,f.collectionGroup,y,m)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:fn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=fg(e),s=pf(e);return this.zn(e).next(a=>i.J(FI,IDBKeyRange.bound(n,n)).next(l=>Ee.forEach(l,c=>s.put(kM(c.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return Ee.forEach(n,(i,s)=>{const a=r.get(i.collectionGroup);return(a?Ee.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),Ee.forEach(l,c=>this.jn(e,i,c).next(d=>{const f=this.Hn(s,c);return d.isEqual(f)?Ee.resolve():this.Jn(e,s,c,d,f)}))))})}Yn(e,n,r,i){return ff(e).put(i.Vn(this.uid,this.Un(r,n.key),n.key))}Zn(e,n,r,i){return ff(e).delete(i.mn(this.uid,this.Un(r,n.key),n.key))}jn(e,n,r){const i=ff(e);let s=new vr(Xc);return i.te({index:BU,range:IDBKeyRange.only([r.indexId,this.uid,Vb(this.Un(r,n))])},(a,l)=>{s=s.add(new Pd(r.indexId,n,NM(l.arrayValue),NM(l.directionalValue)))}).next(()=>s)}Hn(e,n){let r=new vr(Xc);const i=this.$n(n,e);if(i==null)return r;const s=LI(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Ux(a))for(const l of a.arrayValue.values||[])r=r.add(new Pd(n.indexId,e.key,this.kn(l),i))}else r=r.add(new Pd(n.indexId,e.key,F0,i));return r}Jn(e,n,r,i,s){dt(zM,"Updating index entries for document '%s'",n.key);const a=[];return function(c,d,f,p,m){const y=c.getIterator(),x=d.getIterator();let v=df(y),b=df(x);for(;v||b;){let I=!1,A=!1;if(v&&b){const S=f(v,b);S<0?A=!0:S>0&&(I=!0)}else v!=null?A=!0:I=!0;I?(p(b),b=df(x)):A?(m(v),v=df(y)):(v=df(y),b=df(x))}}(i,s,Xc,l=>{a.push(this.Yn(e,n,r,l))},l=>{a.push(this.Zn(e,n,r,l))}),Ee.waitFor(a)}zn(e){let n=1;return pf(e).te({index:VU,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,l)=>Xc(a,l)).filter((a,l,c)=>!l||Xc(a,c[l-1])!==0);const i=[];i.push(e);for(const a of r){const l=Xc(a,e),c=Xc(a,n);if(l===0)i[0]=e.Rn();else if(l>0&&c<0)i.push(a),i.push(a.Rn());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Xn(i[a],i[a+1]))return[];const l=i[a].mn(this.uid,F0,Et.empty()),c=i[a+1].mn(this.uid,F0,Et.empty());s.push(IDBKeyRange.bound(l,c))}return s}Xn(e,n){return Xc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(WM)}getMinOffset(e,n){return Ee.mapArray(this.xn(n),r=>this.On(e,r).next(i=>i||Vt(44426))).next(WM)}}function FM(t){return zi(t,Fx)}function ff(t){return zi(t,lx)}function fg(t){return zi(t,B5)}function pf(t){return zi(t,ax)}function WM(t){Gt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;F5(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Is(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hq=41943040;class vo{static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t,e,n){const r=t.store(Ia),i=t.store(fp),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=r.te({range:a},(f,p,m)=>(l++,m.delete()));s.push(c.next(()=>{Gt(l===1,47070,{batchId:n.batchId})}));const d=[];for(const f of n.mutations){const p=zU(e,f.key.path,n.batchId);s.push(i.delete(p)),d.push(f.key)}return Ee.waitFor(s).next(()=>d)}function A1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Vt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(Hq,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class Aw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.er={}}static bt(e,n,r,i){Gt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Aw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qc(e).te({index:kd,range:r},(i,s,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=If(e),a=Qc(e);return a.add({}).next(l=>{Gt(typeof l=="number",49019);const c=new Q5(l,n,r,i),d=function(y,x,v){const b=v.baseMutations.map(A=>S1(y.wt,A)),I=v.mutations.map(A=>S1(y.wt,A));return{userId:x,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:b,mutations:I}}(this.serializer,this.userId,c),f=[];let p=new vr((m,y)=>fn(m.canonicalString(),y.canonicalString()));for(const m of i){const y=zU(this.userId,m.key.path,l);p=p.add(m.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,Xae))}return p.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),Ee.waitFor(f).next(()=>c)})}lookupMutationBatch(e,n){return Qc(e).get(n).next(r=>r?(Gt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Sd(this.serializer,r)):null)}tr(e,n){return this.er[n]?Ee.resolve(this.er[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.er[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Qc(e).te({index:kd,range:i},(a,l,c)=>{l.userId===this.userId&&(Gt(l.batchId>=r,47524,{nr:r}),s=Sd(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Vd;return Qc(e).te({index:kd,range:n,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Vd],[this.userId,Number.POSITIVE_INFINITY]);return Qc(e).J(kd,n).next(r=>r.map(i=>Sd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mb(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return If(e).te({range:i},(a,l,c)=>{const[d,f,p]=a,m=rl(f);if(d===this.userId&&n.path.isEqual(m))return Qc(e).get(p).next(y=>{if(!y)throw Vt(61480,{rr:a,batchId:p});Gt(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:p}),s.push(Sd(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vr(fn);const i=[];return n.forEach(s=>{const a=Mb(this.userId,s.path),l=IDBKeyRange.lowerBound(a),c=If(e).te({range:l},(d,f,p)=>{const[m,y,x]=d,v=rl(y);m===this.userId&&s.path.isEqual(v)?r=r.add(x):p.done()});i.push(c)}),Ee.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Mb(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new vr(fn);return If(e).te({range:a},(c,d,f)=>{const[p,m,y]=c,x=rl(m);p===this.userId&&r.isPrefixOf(x)?x.length===i&&(l=l.add(y)):f.done()}).next(()=>this.ir(e,l))}ir(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Qc(e).get(s).next(a=>{if(a===null)throw Vt(35274,{batchId:s});Gt(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Sd(this.serializer,a))}))}),Ee.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Gq(e.he,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.sr(n.batchId)}),Ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ee.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return If(e).te({range:r},(s,a,l)=>{if(s[0]===this.userId){const c=rl(s[1]);i.push(c)}else l.done()}).next(()=>{Gt(i.length===0,56720,{_r:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return Kq(e,this.userId,n)}ar(e){return Yq(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Vd,lastStreamToken:""})}}function Kq(t,e,n){const r=Mb(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return If(t).te({range:s,ee:!0},(l,c,d)=>{const[f,p,m]=l;f===e&&p===i&&(a=!0),d.done()}).next(()=>a)}function Qc(t){return zi(t,Ia)}function If(t){return zi(t,fp)}function Yq(t){return zi(t,Lx)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sh(0)}static lr(){return new sh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.hr(e).next(n=>{const r=new sh(n.highestTargetId);return n.highestTargetId=r.next(),this.Pr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(n=>Jt.fromTimestamp(new Kr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pr(e,i)))}addTargetData(e,n){return this.Tr(e,n).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(n,r),this.Pr(e,r))))}updateTargetData(e,n){return this.Tr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>mf(e).delete(n.targetId)).next(()=>this.hr(e)).next(r=>(Gt(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return mf(e).te((a,l)=>{const c=Kg(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>Ee.waitFor(s)).next(()=>i)}forEachTarget(e,n){return mf(e).te((r,i)=>{const s=Kg(i);n(s)})}hr(e){return BM(e).get(v1).next(n=>(Gt(n!==null,2888),n))}Pr(e,n){return BM(e).put(v1,n)}Tr(e,n){return mf(e).put(Vq(this.serializer,n))}Ir(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=rh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return mf(e).te({range:i,index:WU},(a,l,c)=>{const d=Kg(l);rv(n,d.target)&&(s=d,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=uu(e);return n.forEach(a=>{const l=wo(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))}),Ee.waitFor(i)}removeMatchingKeys(e,n,r){const i=uu(e);return Ee.forEach(n,s=>{const a=wo(s.path);return Ee.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=uu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=uu(e);let s=Ln();return i.te({range:r,ee:!0},(a,l,c)=>{const d=rl(a[1]),f=new Et(d);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=wo(n.path),i=IDBKeyRange.bound([r],[DU(r)],!1,!0);let s=0;return uu(e).te({index:V5,ee:!0,range:i},([a,l],c,d)=>{a!==0&&(s++,d.done())}).next(()=>s>0)}Rt(e,n){return mf(e).get(n).next(r=>r?Kg(r):null)}}function mf(t){return zi(t,pp)}function BM(t){return zi(t,Bd)}function uu(t){return zi(t,mp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="LruGarbageCollector",Xq=1048576;function qM([t,e],[n,r]){const i=fn(t,n);return i===0?fn(e,r):i}class wce{constructor(e){this.Er=e,this.buffer=new vr(qM),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){dt(UM,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Du(n)?dt(UM,"Ignoring IndexedDB error during garbage collection: ",n):await yh(n)}await this.mr(3e5)})}}class jce{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(Qs.le);const r=new wce(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(VM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VM):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Cf()<=Vn.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function Jq(t,e){return new jce(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(e,n){this.db=e,this.garbageCollector=Jq(this,n)}pr(e){const n=this.br(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}yr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return W0(e,r)}removeReference(e,n,r){return W0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return W0(e,n)}Dr(e,n){return function(i,s){let a=!1;return Yq(i).ne(l=>Kq(i,l,s).next(c=>(c&&(a=!0),Ee.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(a,l)=>{if(l<=n){const c=this.Dr(e,a).next(d=>{if(!d)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,Jt.min()),uu(e).delete(function(p){return[0,wo(p.path)]}(a))))});i.push(c)}}).next(()=>Ee.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return W0(e,n)}Sr(e,n){const r=uu(e);let i,s=Qs.le;return r.te({index:V5},([a,l],{path:c,sequenceNumber:d})=>{a===0?(s!==Qs.le&&n(new Et(rl(i)),s),s=d,i=c):s=Qs.le}).next(()=>{s!==Qs.le&&n(new Et(rl(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function W0(t,e){return uu(t).put(function(r,i){return{targetId:0,path:wo(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ui.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return cd(e).put(r)}removeEntry(e,n,r){return cd(e).delete(function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],C1(a),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.vr(e,r)))}getEntry(e,n){let r=ui.newInvalidDocument(n);return cd(e).te({index:Nb,range:IDBKeyRange.only(pg(n))},(i,s)=>{r=this.Cr(n,s)}).next(()=>r)}Fr(e,n){let r={size:0,document:ui.newInvalidDocument(n)};return cd(e).te({index:Nb,range:IDBKeyRange.only(pg(n))},(i,s)=>{r={document:this.Cr(n,s),size:A1(s)}}).next(()=>r)}getEntries(e,n){let r=js();return this.Mr(e,n,(i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)}).next(()=>r)}Or(e,n){let r=js(),i=new Xr(Et.comparator);return this.Mr(e,n,(s,a)=>{const l=this.Cr(s,a);r=r.insert(s,l),i=i.insert(s,A1(a))}).next(()=>({documents:r,Nr:i}))}Mr(e,n,r){if(n.isEmpty())return Ee.resolve();let i=new vr(KM);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(pg(i.first()),pg(i.last())),a=i.getIterator();let l=a.getNext();return cd(e).te({index:Nb,range:s},(c,d,f)=>{const p=Et.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&KM(l,p)<0;)r(l,null),l=a.getNext();l&&l.isEqual(p)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.H(pg(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),C1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cd(e).J(IDBKeyRange.bound(l,c,!0)).next(d=>{s==null||s.incrementDocumentReadCount(d.length);let f=js();for(const p of d){const m=this.Cr(Et.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(iv(n,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=js();const a=GM(n,r),l=GM(n,Is.max());return cd(e).te({index:FU,range:IDBKeyRange.bound(a,l,!0)},(c,d,f)=>{const p=this.Cr(Et.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new Pce(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return HM(e).get(zI).next(n=>(Gt(!!n,20021),n))}vr(e,n){return HM(e).put(zI,n)}Cr(e,n){if(n){const r=dce(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Jt.min())))return r}return ui.newInvalidDocument(e)}}function eH(t){return new Cce(t)}class Pce extends Zq{constructor(e,n){super(),this.Br=e,this.trackRemovals=n,this.Lr=new Pc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new vr((s,a)=>fn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const l=this.Lr.get(s);if(n.push(this.Br.removeEntry(e,s,l.readTime)),a.isValidDocument()){const c=IM(this.Br.serializer,a);i=i.add(s.path.popLast());const d=A1(c);r+=d-l.size,n.push(this.Br.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=IM(this.Br.serializer,a.convertToNoDocument(Jt.min()));n.push(this.Br.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Br.updateMetadata(e,r)),Ee.waitFor(n)}getFromCache(e,n){return this.Br.Fr(e,n).next(r=>(this.Lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Br.Or(e,n).next(({documents:r,Nr:i})=>(i.forEach((s,a)=>{this.Lr.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function HM(t){return zi(t,zx)}function cd(t){return zi(t,y1)}function pg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GM(t,e){const n=e.documentKey.path.toArray();return[t,C1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function KM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=fn(n[s],r[s]),i)return i;return i=fn(n.length,r.length),i||(i=fn(n[n.length-2],r[r.length-2]),i||fn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hx(r.mutation,i,Zo.empty(),Kr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ln()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ln()){const i=il();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Hg();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=il();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ln()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=js();const a=dx(),l=function(){return dx()}();return n.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ac)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),hx(f.mutation,d,f.mutation.getFieldMask(),Kr.now())):a.set(d.key,Zo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var p;return l.set(d,new Ace(f,(p=a.get(d))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=dx();let i=new Xr((a,l)=>a-l),s=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Zo.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(i.get(l.batchId)||Ln()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=xq();f.forEach(m=>{if(!s.has(m)){const y=Sq(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ee.resolve(il());let l=Mx,c=s;return a.next(d=>Ee.forEach(d,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?Ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Ln())).next(f=>({batchId:l,changes:gq(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next(r=>{let i=Hg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Hg();return this.indexManager.getCollectionParents(e,s).next(l=>Ee.forEach(l,c=>{const d=function(p,m){return new fm(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,ui.newInvalidDocument(f)))});let l=Hg();return a.forEach((c,d)=>{const f=s.get(c);f!==void 0&&hx(f.mutation,d,Zo.empty(),Kr.now()),iv(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fo(i.createTime)}}(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:Bq(i.bundledQuery),readTime:Fo(i.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(){this.overlays=new Xr(Et.comparator),this.Qr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=il();return Ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=il(),s=n.length+1,a=new Et(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xr((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=il(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=il(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return Ee.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Z5(n,r));let s=this.Qr.get(n);s===void 0&&(s=Ln(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(){this.sessionToken=_i.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.$r=new vr(Gi.Ur),this.Kr=new vr(Gi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Gi(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Gi(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Et(new mr([])),r=new Gi(n,e),i=new Gi(n,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Et(new mr([])),r=new Gi(n,e),i=new Gi(n,e+1);let s=Ln();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Gi(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gi{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Et.comparator(e.key,n.key)||fn(e.Zr,n.Zr)}static Wr(e,n){return fn(e.Zr,n.Zr)||Et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new vr(Gi.Ur)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Q5(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Xr=this.Xr.add(new Gi(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,n){return Ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return Ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?Vd:this.nr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gi(n,0),i=new Gi(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const l=this.ei(a.Zr);s.push(l)}),Ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vr(fn);return n.forEach(i=>{const s=new Gi(i,0),a=new Gi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{r=r.add(l.Zr)})}),Ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const a=new Gi(new Et(s),0);let l=new vr(fn);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Zr)),!0)},a),Ee.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ee.forEach(n.mutations,i=>{const s=new Gi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Gi(n,0),i=this.Xr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rce{constructor(e){this.ii=e,this.docs=function(){return new Xr(Et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(n))}getEntries(e,n){let r=js();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ui.newInvalidDocument(i))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=js();const a=n.path,l=new Et(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||F5(MU(f),r)<=0||(i.has(f.key)||iv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Vt(9500)}si(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Oce(this)}getSize(e){return Ee.resolve(this.size)}}class Oce extends Zq{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(e){this.persistence=e,this.oi=new Pc(n=>rh(n),rv),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this._i=0,this.ai=new iR,this.targetCount=0,this.ui=sh.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new sh(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Tr(n),Ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Ee.waitFor(s).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.ci={},this.overlays={},this.li=new Qs(0),this.hi=!1,this.hi=!0,this.Pi=new Tce,this.referenceDelegate=e(this),this.Ti=new Dce(this),this.indexManager=new vce,this.remoteDocumentCache=function(i){return new Rce(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Wq(n),this.Ei=new Ece(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ice,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new kce(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){dt("MemoryPersistence","Starting transaction:",e);const i=new Mce(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return Ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Mce extends $U{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Vi=new iR,this.mi=null}static fi(e){return new Ew(e)}get gi(){if(this.mi)return this.mi;throw Vt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.gi,r=>{const i=Et.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,Jt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ee.or([()=>Ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class E1{constructor(e,n){this.persistence=e,this.yi=new Pc(r=>wo(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Jq(this,n)}static fi(e,n){return new E1(e,n)}di(){}Ai(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ee.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?Ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Jt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lb(e.data.value)),n}Dr(e,n,r){return Ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return Ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e){this.serializer=e}q(e,n,r,i){const s=new fw("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(nv)}(e),function(c){c.createObjectStore(Lx,{keyPath:Yae}),c.createObjectStore(Ia,{keyPath:oM,autoIncrement:!0}).createIndex(kd,sM,{unique:!0}),c.createObjectStore(fp)}(e),YM(e),function(c){c.createObjectStore(yd)}(e));let a=Ee.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(mp),c.deleteObjectStore(pp),c.deleteObjectStore(Bd)}(e),YM(e)),a=a.next(()=>function(c){const d=c.store(Bd),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return d.put(v1,f)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(c,d){return d.store(Ia).J().next(p=>{c.deleteObjectStore(Ia),c.createObjectStore(Ia,{keyPath:oM,autoIncrement:!0}).createIndex(kd,sM,{unique:!0});const m=d.store(Ia),y=p.map(x=>m.put(x));return Ee.waitFor(y)})}(e,s))),a=a.next(()=>{(function(c){c.createObjectStore(gp,{keyPath:ile})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.wi(s))),r<6&&i>=6&&(a=a.next(()=>(function(c){c.createObjectStore(zx)}(e),this.bi(s)))),r<7&&i>=7&&(a=a.next(()=>this.Si(s))),r<8&&i>=8&&(a=a.next(()=>this.Di(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.Ci(s))),r<11&&i>=11&&(a=a.next(()=>{(function(c){c.createObjectStore(mw,{keyPath:ole})})(e),function(c){c.createObjectStore(gw,{keyPath:sle})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(c){const d=c.createObjectStore(xw,{keyPath:fle});d.createIndex(WI,ple,{unique:!1}),d.createIndex(UU,mle,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(c){const d=c.createObjectStore(y1,{keyPath:Qae});d.createIndex(Nb,Jae),d.createIndex(FU,Zae)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(yd))),r<14&&i>=14&&(a=a.next(()=>this.Mi(e,s))),r<15&&i>=15&&(a=a.next(()=>function(c){c.createObjectStore(B5,{keyPath:ale,autoIncrement:!0}).createIndex(FI,lle,{unique:!1}),c.createObjectStore(ax,{keyPath:cle}).createIndex(VU,ule,{unique:!1}),c.createObjectStore(lx,{keyPath:dle}).createIndex(BU,hle,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore(ax).clear()}).next(()=>{n.objectStore(lx).clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(c){c.createObjectStore(U5,{keyPath:gle})})(e)})),r<18&&i>=18&&N7()&&(a=a.next(()=>{n.objectStore(ax).clear()}).next(()=>{n.objectStore(lx).clear()})),a}bi(e){let n=0;return e.store(yd).te((r,i)=>{n+=A1(i)}).next(()=>{const r={byteSize:n};return e.store(zx).put(zI,r)})}wi(e){const n=e.store(Lx),r=e.store(Ia);return n.J().next(i=>Ee.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,Vd],[s.userId,s.lastAcknowledgedBatchId]);return r.J(kd,a).next(l=>Ee.forEach(l,c=>{Gt(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=Sd(this.serializer,c);return Gq(e,s.userId,d).next(()=>{})}))}))}Si(e){const n=e.store(mp),r=e.store(yd);return e.store(Bd).get(v1).next(i=>{const s=[];return r.te((a,l)=>{const c=new mr(a),d=function(p){return[0,wo(p)]}(c);s.push(n.get(d).next(f=>f?Ee.resolve():(p=>n.put({targetId:0,path:wo(p),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>Ee.waitFor(s))})}Di(e,n){e.createObjectStore(Fx,{keyPath:rle});const r=n.store(Fx),i=new rR,s=a=>{if(i.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:wo(c)})}};return n.store(yd).te({ee:!0},(a,l)=>{const c=new mr(a);return s(c.popLast())}).next(()=>n.store(fp).te({ee:!0},([a,l,c],d)=>{const f=rl(l);return s(f.popLast())}))}Ci(e){const n=e.store(pp);return n.te((r,i)=>{const s=Kg(i),a=Vq(this.serializer,s);return n.put(a)})}Fi(e,n){const r=n.store(yd),i=[];return r.te((s,a)=>{const l=n.store(y1),c=function(p){return p.document?new Et(mr.fromString(p.document.name).popFirst(5)):p.noDocument?Et.fromSegments(p.noDocument.path):p.unknownDocument?Et.fromSegments(p.unknownDocument.path):Vt(36783)}(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(d))}).next(()=>Ee.waitFor(i))}Mi(e,n){const r=n.store(Ia),i=eH(this.serializer),s=new oR(Ew.fi,this.serializer.wt);return r.J().next(a=>{const l=new Map;return a.forEach(c=>{var d;let f=(d=l.get(c.userId))!==null&&d!==void 0?d:Ln();Sd(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),Ee.forEach(l,(c,d)=>{const f=new Ro(d),p=Pw.bt(this.serializer,f),m=s.getIndexManager(f),y=Aw.bt(f,this.serializer,m,s.referenceDelegate);return new tH(i,y,p,m).recalculateAndSaveOverlaysForDocumentKeys(new VI(n,Qs.le),c).next()})})}}function YM(t){t.createObjectStore(mp,{keyPath:tle}).createIndex(V5,nle,{unique:!0}),t.createObjectStore(pp,{keyPath:"targetId"}).createIndex(WU,ele,{unique:!0}),t.createObjectStore(Bd)}const Jc="IndexedDbPersistence",VS=18e5,BS=5e3,US="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$ce="main";class sR{constructor(e,n,r,i,s,a,l,c,d,f,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.xi=s,this.window=a,this.document=l,this.Oi=d,this.Ni=f,this.Bi=p,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=m=>Promise.resolve(),!sR.C())throw new _t(Ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sce(this,i),this.Ui=n+$ce,this.serializer=new Wq(c),this.Ki=new ju(this.Ui,this.Bi,new Nce(this.serializer)),this.Pi=new fce,this.Ti=new _ce(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eH(this.serializer),this.Ei=new hce,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,f===!1&&Do(Jc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(Ge.FAILED_PRECONDITION,US);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Qs(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>V0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(n=>{n||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(n=>this.isPrimary&&!n?this.Xi(e).next(()=>!1):!!n&&this.es(e).next(()=>!0))).catch(e=>{if(Du(e))return dt(Jc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return dt(Jc,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return mg(e).get(uf).next(n=>Ee.resolve(this.ts(n)))}ns(e){return V0(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,VS)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=zi(n,gp);return r.J().next(i=>{const s=this._s(i,VS),a=i.filter(l=>s.indexOf(l)===-1);return Ee.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Wi)for(const n of e)this.Wi.removeItem(this.us(n.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?Ee.resolve(!0):mg(e).get(uf).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,BS)&&!this.cs(n.ownerId)){if(this.ts(n)&&this.networkEnabled)return!0;if(!this.ts(n)){if(!n.allowTabSynchronization)throw new _t(Ge.FAILED_PRECONDITION,US);return!1}}return!(!this.networkEnabled||!this.inForeground)||V0(e).J().next(r=>this._s(r,BS).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&dt(Jc,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[nv,gp],e=>{const n=new VI(e,Qs.le);return this.Xi(n).next(()=>this.ns(n))}),this.Ki.close(),this.Ts()}_s(e,n){return e.filter(r=>this.ss(r.updateTimeMs,n)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>V0(e).J().next(n=>this._s(n,VS).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,n){return Aw.bt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bce(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Pw.bt(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,n,r){dt(Jc,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===18?vle:c===17?KU:c===16?yle:c===15?q5:c===14?GU:c===13?HU:c===12?xle:c===11?qU:void Vt(60245)}(this.Bi);let a;return this.Ki.runTransaction(e,i,s,l=>(a=new VI(l,this.li?this.li.next():Qs.le),n==="readwrite-primary"?this.Yi(a).next(c=>!!c||this.Zi(a)).next(c=>{if(!c)throw Do(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new _t(Ge.FAILED_PRECONDITION,NU);return r(a)}).next(c=>this.es(a).next(()=>c)):this.Es(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Es(e){return mg(e).get(uf).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,BS)&&!this.cs(n.ownerId)&&!this.ts(n)&&!(this.Ni||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(Ge.FAILED_PRECONDITION,US)})}es(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mg(e).put(uf,n)}static C(){return ju.C()}Xi(e){const n=mg(e);return n.get(uf).next(r=>this.ts(r)?(dt(Jc,"Releasing primary lease."),n.delete(uf)):Ee.resolve())}ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Do(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const n=/(?:Version|Mobile)\/1[456]/;M7()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var n;try{const r=((n=this.Wi)===null||n===void 0?void 0:n.getItem(this.us(e)))!==null;return dt(Jc,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Do(Jc,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Do("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mg(t){return zi(t,nv)}function V0(t){return zi(t,gp)}function Lce(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ln(),i=Ln();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new aR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return M7()?8:LU($i())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new zce;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Cf()<=Vn.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Pf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ee.resolve()):(Cf()<=Vn.DEBUG&&dt("QueryEngine","Query:",Pf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Cf()<=Vn.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Pf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(n))):Ee.resolve())}ws(e,n){if(vM(n))return Ee.resolve(null);let r=ea(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=YI(n,null,"F"),r=ea(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ln(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,a,c.readTime)?this.ws(e,YI(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,i){return vM(n)||i.isEqual(Jt.min())?Ee.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,r,i)?Ee.resolve(null):(Cf()<=Vn.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pf(n)),this.Fs(e,a,n,Vae(i,Mx)).next(l=>l))})}vs(e,n){let r=new vr(pq(e));return n.forEach((i,s)=>{iv(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Cf()<=Vn.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Pf(n)),this.ys.getDocumentsMatchingQuery(e,n,Is.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="LocalStore",Fce=3e8;class Wce{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Xr(fn),this.Os=new Pc(s=>rh(s),rv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tH(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function rH(t,e,n,r){return new Wce(t,e,n,r)}async function iH(t,e){const n=Cn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=Ln();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:l}))})})}function Vce(t,e){const n=Cn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const p=d.batch,m=p.keys();let y=Ee.resolve();return m.forEach(x=>{y=y.next(()=>f.getEntry(c,x)).next(v=>{const b=d.docVersions.get(x);Gt(b!==null,48541),v.version.compareTo(b)<0&&(p.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),f.addEntry(v)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ln();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oH(t){const e=Cn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Bce(t,e){const n=Cn(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(_i.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(v,b,I){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Fce?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,y,f)&&l.push(n.Ti.updateTargetData(s,y))});let c=js(),d=Ln();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Uce(s,a,e.documentUpdates).next(f=>{c=f.qs,d=f.Qs})),!r.isEqual(Jt.min())){const f=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return Ee.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.xs=i,s))}function Uce(t,e,n){let r=Ln(),i=Ln();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=js();return n.forEach((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Jt.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):dt(lR,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:a,Qs:i}})}function qce(t,e){const n=Cn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hce(t,e){const n=Cn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,Ee.resolve(i)):n.Ti.allocateTargetId(r).next(a=>(i=new ec(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function rT(t,e,n){const r=Cn(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Du(a))throw a;dt(lR,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function XM(t,e,n){const r=Cn(t);let i=Jt.min(),s=Ln();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,f){const p=Cn(c),m=p.Os.get(f);return m!==void 0?Ee.resolve(p.xs.get(m)):p.Ti.getTargetData(d,f)}(r,a,ea(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?i:Jt.min(),n?s:Ln())).next(l=>(Gce(r,Dle(e),l),{documents:l,$s:s})))}function Gce(t,e,n){let r=t.Ns.get(e)||Jt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class QM{constructor(){this.activeTargetIds=Fle()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sH{constructor(){this.xo=new QM,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new QM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="ConnectivityMonitor";class ZM{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(JM,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){dt(JM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0=null;function iT(){return B0===null?B0=function(){return 268435456+Math.round(2147483648*Math.random())}():B0++,"0x"+B0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="RestConnection",Yce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xce{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===b1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const a=iT(),l=this.jo(e,n.toUriEncodedString());dt(qS,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:d}=new URL(l),f=Ky(d);return this.Jo(e,l,c,r,f).then(p=>(dt(qS,`Received RPC '${e}' ${a}: `,p),p),p=>{throw dp(qS,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,n,r,i,s,a){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=Yce[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="WebChannelConnection";class Jce extends Xce{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=iT();return new Promise((l,c)=>{const d=new PU;d.setWithCredentials(!0),d.listenOnce(AU.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ob.NO_ERROR:const p=d.getResponseJson();dt(mo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ob.TIMEOUT:dt(mo,`RPC '${e}' ${a} timed out`),c(new _t(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ob.HTTP_ERROR:const m=d.getStatus();if(dt(mo,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const v=function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(A)>=0?A:Ge.UNKNOWN}(x.status);c(new _t(v,x.message))}else c(new _t(Ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new _t(Ge.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{dt(mo,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);dt(mo,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)})}I_(e,n,r){const i=iT(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TU(),l=IU(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");dt(mo,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=a.createWebChannel(f,c);this.E_(p);let m=!1,y=!1;const x=new Qce({Zo:b=>{y?dt(mo,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(dt(mo,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),dt(mo,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Xo:()=>p.close()}),v=(b,I,A)=>{b.listen(I,S=>{try{A(S)}catch(k){setTimeout(()=>{throw k},0)}})};return v(p,qg.EventType.OPEN,()=>{y||(dt(mo,`RPC '${e}' stream ${i} transport opened.`),x.__())}),v(p,qg.EventType.CLOSE,()=>{y||(y=!0,dt(mo,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(p))}),v(p,qg.EventType.ERROR,b=>{y||(y=!0,dp(mo,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),x.u_(new _t(Ge.UNAVAILABLE,"The operation could not be completed")))}),v(p,qg.EventType.MESSAGE,b=>{var I;if(!y){const A=b.data[0];Gt(!!A,16349);const S=A,k=(S==null?void 0:S.error)||((I=S[0])===null||I===void 0?void 0:I.error);if(k){dt(mo,`RPC '${e}' stream ${i} received error:`,k);const P=k.status;let R=function(D){const L=Ci[D];if(L!==void 0)return Aq(L)}(P),E=k.message;R===void 0&&(R=Ge.INTERNAL,E="Unknown error status: "+P+" with message "+k.message),y=!0,x.u_(new _t(R,E)),p.close()}else dt(mo,`RPC '${e}' stream ${i} received:`,A),x.c_(A)}}),v(l,EU.STAT_EVENT,b=>{b.stat===NI.PROXY?dt(mo,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===NI.NOPROXY&&dt(mo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zce(){return typeof window<"u"?window:null}function Bb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){return new tce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="PersistentStream";class lH{constructor(e,n,r,i,s,a,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new aH(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(Do(n.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new _t(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return dt(eN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(dt(eN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eue extends lH{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=ice(this.serializer,e),r=function(s){if(!("targetChange"in s))return Jt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Jt.min():a.readTime?Fo(a.readTime):Jt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=JI(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=_1(c)?{documents:Mq(s,c)}:{query:Nq(s,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Tq(s,a.resumeToken);const d=XI(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Jt.min())>0){l.readTime=Sp(s,a.snapshotVersion.toTimestamp());const d=XI(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=sce(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=JI(this.serializer),n.removeTarget=e,this.Q_(n)}}class tue extends lH{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oce(e.writeResults,e.commitTime),r=Fo(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=JI(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S1(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{}class rue extends nue{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new _t(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,QI(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _t(Ge.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,QI(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _t(Ge.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class iue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Do(n),this.ua=!1):dt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="RemoteStore";class oue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{vh(this)&&(dt(ah,"Restarting streams for network reachability change."),await async function(c){const d=Cn(c);d.da.add(4),await sv(d),d.Va.set("Unknown"),d.da.delete(4),await Tw(d)}(this))})}),this.Va=new iue(r,i)}}async function Tw(t){if(vh(t))for(const e of t.Aa)await e(!0)}async function sv(t){for(const e of t.Aa)await e(!1)}function cH(t,e){const n=Cn(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),hR(n)?dR(n):mm(n).N_()&&uR(n,e))}function cR(t,e){const n=Cn(t),r=mm(n);n.Ea.delete(e),r.N_()&&uH(n,e),n.Ea.size===0&&(r.N_()?r.k_():vh(n)&&n.Va.set("Unknown"))}function uR(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mm(t).Z_(e)}function uH(t,e){t.ma.Ke(e),mm(t).X_(e)}function dR(t){t.ma=new Qle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),mm(t).start(),t.Va.ca()}function hR(t){return vh(t)&&!mm(t).O_()&&t.Ea.size>0}function vh(t){return Cn(t).da.size===0}function dH(t){t.ma=void 0}async function sue(t){t.Va.set("Online")}async function aue(t){t.Ea.forEach((e,n)=>{uR(t,e)})}async function lue(t,e){dH(t),hR(t)?(t.Va.Pa(e),dR(t)):t.Va.set("Unknown")}async function cue(t,e,n){if(t.Va.set("Online"),e instanceof Iq&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){dt(ah,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await I1(t,r)}else if(e instanceof Wb?t.ma.Xe(e):e instanceof Eq?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Jt.min()))try{const r=await oH(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ea.get(d);f&&s.Ea.set(d,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const f=s.Ea.get(c);if(!f)return;s.Ea.set(c,f.withResumeToken(_i.EMPTY_BYTE_STRING,f.snapshotVersion)),uH(s,c);const p=new ec(f.target,c,d,f.sequenceNumber);uR(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){dt(ah,"Failed to raise snapshot:",r),await I1(t,r)}}async function I1(t,e,n){if(!Du(e))throw e;t.da.add(1),await sv(t),t.Va.set("Offline"),n||(n=()=>oH(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{dt(ah,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Tw(t)})}function hH(t,e){return e().catch(n=>I1(t,n,e))}async function av(t){const e=Cn(t),n=ku(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Vd;for(;uue(e);)try{const i=await qce(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,due(e,i)}catch(i){await I1(e,i)}fH(e)&&pH(e)}function uue(t){return vh(t)&&t.Ia.length<10}function due(t,e){t.Ia.push(e);const n=ku(t);n.N_()&&n.ea&&n.ta(e.mutations)}function fH(t){return vh(t)&&!ku(t).O_()&&t.Ia.length>0}function pH(t){ku(t).start()}async function hue(t){ku(t).ia()}async function fue(t){const e=ku(t);for(const n of t.Ia)e.ta(n.mutations)}async function pue(t,e,n){const r=t.Ia.shift(),i=J5.from(r,e,n);await hH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await av(t)}async function mue(t,e){e&&ku(t).ea&&await async function(r,i){if(function(a){return Yle(a)&&a!==Ge.ABORTED}(i.code)){const s=r.Ia.shift();ku(r).L_(),await hH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await av(r)}}(t,e),fH(t)&&pH(t)}async function tN(t,e){const n=Cn(t);n.asyncQueue.verifyOperationInProgress(),dt(ah,"RemoteStore received new credentials");const r=vh(n);n.da.add(3),await sv(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Tw(n)}async function gue(t,e){const n=Cn(t);e?(n.da.delete(2),await Tw(n)):e||(n.da.add(2),await sv(n),n.Va.set("Unknown"))}function mm(t){return t.fa||(t.fa=function(n,r,i){const s=Cn(n);return s.oa(),new eue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:sue.bind(null,t),n_:aue.bind(null,t),i_:lue.bind(null,t),Y_:cue.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),hR(t)?dR(t):t.Va.set("Unknown")):(await t.fa.stop(),dH(t))})),t.fa}function ku(t){return t.ga||(t.ga=function(n,r,i){const s=Cn(n);return s.oa(),new tue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:hue.bind(null,t),i_:mue.bind(null,t),na:fue.bind(null,t),ra:pue.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await av(t)):(await t.ga.stop(),t.Ia.length>0&&(dt(ah,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new fR(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pR(t,e){if(Do("AsyncQueue",`${e}: ${t}`),Du(t))return new _t(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{static emptySet(e){return new Xf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=Hg(),this.sortedSet=new Xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.pa=new Xr(Et.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Vt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cp{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Cp(e,n,Xf.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_w(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class yue{constructor(){this.queries=rN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Cn(n),s=i.queries;i.queries=rN(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new _t(Ge.ABORTED,"Firestore shutting down"))}}function rN(){return new Pc(t=>fq(t),_w)}async function mH(t,e){const n=Cn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new xue,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=pR(a,`Initialization of query '${Pf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&mR(n)}async function gH(t,e){const n=Cn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vue(t,e){const n=Cn(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(i)&&(r=!0);a.ba=i}}r&&mR(n)}function bue(t,e,n){const r=Cn(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function mR(t){t.Ca.forEach(e=>{e.next()})}var oT,iN;(iN=oT||(oT={})).xa="default",iN.Cache="cache";class xH{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==oT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.key=e}}class vH{constructor(e){this.key=e}}class _ue{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ln(),this.mutatedKeys=Ln(),this.Za=pq(e),this.Xa=new Xf(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new nN,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),y=iv(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;m&&y?m.data.isEqual(y.data)?x!==v&&(r.track({type:3,doc:y}),b=!0):this.ru(m,y)||(r.track({type:2,doc:y}),b=!0,(c&&this.Za(y,c)>0||d&&this.Za(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),b=!0):m&&!y&&(r.track({type:1,doc:m}),b=!0,(c||d)&&(l=!0)),b&&(y?(a=a.add(y),s=v?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Xa:a,nu:r,Cs:l,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((f,p)=>function(y,x){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:b})}};return v(y)-v(x)}(f.type,p.type)||this.Za(f.doc,p.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Ja;return this.Ja=c,a.length!==0||d?{snapshot:new Cp(this.query,e.Xa,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ln(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new vH(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new yH(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ln();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Cp.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const gR="SyncEngine";class wue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jue{constructor(e){this.key=e,this.cu=!1}}class Sue{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Pc(l=>fq(l),_w),this.Pu=new Map,this.Tu=new Set,this.Iu=new Xr(Et.comparator),this.Eu=new Map,this.du=new iR,this.Au={},this.Ru=new Map,this.Vu=sh.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Cue(t,e,n=!0){const r=CH(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await bH(r,e,n,!0),i}async function Pue(t,e){const n=CH(t);await bH(n,e,!0,!1)}async function bH(t,e,n,r){const i=await Hce(t.localStore,ea(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await Aue(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&cH(t.remoteStore,i),l}async function Aue(t,e,n,r,i){t.fu=(p,m,y)=>async function(v,b,I,A){let S=b.view.tu(I);S.Cs&&(S=await XM(v.localStore,b.query,!1).then(({documents:E})=>b.view.tu(E,S)));const k=A&&A.targetChanges.get(b.targetId),P=A&&A.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(S,v.isPrimaryClient,k,P);return sN(v,b.targetId,R.ou),R.snapshot}(t,p,m,y);const s=await XM(t.localStore,e,!0),a=new _ue(e,s.$s),l=a.tu(s.documents),c=ov.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);sN(t,n,d.ou);const f=new wue(e,n,a);return t.hu.set(e,f),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function Eue(t,e,n){const r=Cn(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(a=>!_w(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cR(r.remoteStore,i.targetId),sT(r,i.targetId)}).catch(yh)):(sT(r,i.targetId),await rT(r.localStore,i.targetId,!0))}async function Iue(t,e){const n=Cn(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cR(n.remoteStore,r.targetId))}async function Tue(t,e,n){const r=PH(t);try{const i=await function(a,l){const c=Cn(a),d=Kr.now(),f=l.reduce((y,x)=>y.add(x.key),Ln());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=js(),v=Ln();return c.Bs.getEntries(y,f).next(b=>{x=b,x.forEach((I,A)=>{A.isValidDocument()||(v=v.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(b=>{p=b;const I=[];for(const A of l){const S=Gle(A,p.get(A.key).overlayedDocument);S!=null&&I.push(new Ac(A.key,S,iq(S.value.mapValue),_o.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,I,l)}).next(b=>{m=b;const I=b.applyToLocalDocumentSet(p,v);return c.documentOverlayCache.saveOverlays(y,b.batchId,I)})}).then(()=>({batchId:m.batchId,changes:gq(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let d=a.Au[a.currentUser.toKey()];d||(d=new Xr(fn)),d=d.insert(l,c),a.Au[a.currentUser.toKey()]=d}(r,i.batchId,n),await lv(r,i.changes),await av(r.remoteStore)}catch(i){const s=pR(i,"Failed to persist write");n.reject(s)}}async function _H(t,e){const n=Cn(t);try{const r=await Bce(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Eu.get(s);a&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.cu=!0:i.modifiedDocuments.size>0?Gt(a.cu,14607):i.removedDocuments.size>0&&(Gt(a.cu,42227),a.cu=!1))}),await lv(n,r,e)}catch(r){await yh(r)}}function oN(t,e,n){const r=Cn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,a)=>{const l=a.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=Cn(a);c.onlineState=l;let d=!1;c.queries.forEach((f,p)=>{for(const m of p.Sa)m.Fa(l)&&(d=!0)}),d&&mR(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kue(t,e,n){const r=Cn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new Xr(Et.comparator);a=a.insert(s,ui.newNoDocument(s,Jt.min()));const l=Ln().add(s),c=new Cw(Jt.min(),new Map,new Xr(fn),a,l);await _H(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),xR(r)}else await rT(r.localStore,e,!1).then(()=>sT(r,e,n)).catch(yh)}async function Rue(t,e){const n=Cn(t),r=e.batch.batchId;try{const i=await Vce(n.localStore,e);jH(n,r,null),wH(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lv(n,i)}catch(i){await yh(i)}}async function Oue(t,e,n){const r=Cn(t);try{const i=await function(a,l){const c=Cn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(p=>(Gt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);jH(r,e,n),wH(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lv(r,i)}catch(i){await yh(i)}}function wH(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function jH(t,e,n){const r=Cn(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function sT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||SH(t,r)})}function SH(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(cR(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),xR(t))}function sN(t,e,n){for(const r of n)r instanceof yH?(t.du.addReference(r.key,e),Due(t,r)):r instanceof vH?(dt(gR,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||SH(t,r.key)):Vt(19791,{pu:r})}function Due(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(dt(gR,"New document in limbo: "+n),t.Tu.add(r),xR(t))}function xR(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Et(mr.fromString(e)),r=t.Vu.next();t.Eu.set(r,new jue(n)),t.Iu=t.Iu.insert(n,r),cH(t.remoteStore,new ec(ea(bw(n.path)),r,"TargetPurposeLimboResolution",Qs.le))}}async function lv(t,e,n){const r=Cn(t),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=aR.Rs(c.targetId,d);s.push(p)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(c,d){const f=Cn(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ee.forEach(d,m=>Ee.forEach(m.ds,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>Ee.forEach(m.As,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Du(p))throw p;dt(lR,"Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const y=f.xs.get(m),x=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(x);f.xs=f.xs.insert(m,v)}}}(r.localStore,s))}async function Mue(t,e){const n=Cn(t);if(!n.currentUser.isEqual(e)){dt(gR,"User change. New user:",e.toKey());const r=await iH(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(c=>{c.reject(new _t(Ge.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lv(n,r.ks)}}function Nue(t,e){const n=Cn(t),r=n.Eu.get(e);if(r&&r.cu)return Ln().add(r.key);{let i=Ln();const s=n.Pu.get(e);if(!s)return i;for(const a of s){const l=n.hu.get(a);i=i.unionWith(l.view.eu)}return i}}function CH(t){const e=Cn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_H.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kue.bind(null,e),e.lu.Y_=vue.bind(null,e.eventManager),e.lu.gu=bue.bind(null,e.eventManager),e}function PH(t){const e=Cn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oue.bind(null,e),e}class Gx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iw(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return rH(this.persistence,new nH,e.initialUser,this.serializer)}Su(e){return new oR(Ew.fi,this.serializer)}bu(e){return new sH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gx.provider={build:()=>new Gx};class $ue extends Gx{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Gt(this.persistence.referenceDelegate instanceof E1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Qq(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new oR(r=>E1.fi(r,n),this.serializer)}}class Lue extends Gx{constructor(e,n,r){super(),this.Fu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Fu.initialize(this,e),await PH(this.Fu.syncEngine),await av(this.Fu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Du(e){return rH(this.persistence,new nH,e.initialUser,this.serializer)}vu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Qq(r,e.asyncQueue,n)}Cu(e,n){const r=new Hae(n,this.persistence);return new qae(e.asyncQueue,r)}Su(e){const n=Lce(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new sR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Zce(),Bb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new sH}}class T1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mue.bind(null,this.syncEngine),await gue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yue}()}createDatastore(e){const n=Iw(e.databaseInfo.databaseId),r=function(s){return new Jce(s)}(e.databaseInfo);return function(s,a,l,c){return new rue(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new oue(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>oN(this.syncEngine,n,0),function(){return ZM.C()?new ZM:new Kce}())}createSyncEngine(e,n){return function(i,s,a,l,c,d,f){const p=new Sue(i,s,a,l,c,d);return f&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Cn(i);dt(ah,"RemoteStore shutting down."),s.da.add(5),await sv(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}T1.provider={build:()=>new T1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="FirestoreClient";class zue{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ro.UNAUTHENTICATED,this.clientId=z5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{dt(Ru,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(dt(Ru,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HS(t,e){t.asyncQueue.verifyOperationInProgress(),dt(Ru,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iH(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fue(t);dt(Ru,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tN(e.remoteStore,i)),t._onlineComponents=e}async function Fue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){dt(Ru,"Using user provided OfflineComponentProvider");try{await HS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;dp("Error using user provided cache. Falling back to memory cache: "+n),await HS(t,new Gx)}}else dt(Ru,"Using default OfflineComponentProvider"),await HS(t,new $ue(void 0));return t._offlineComponents}async function EH(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(dt(Ru,"Using user provided OnlineComponentProvider"),await aN(t,t._uninitializedComponentsProvider._online)):(dt(Ru,"Using default OnlineComponentProvider"),await aN(t,new T1))),t._onlineComponents}function Wue(t){return EH(t).then(e=>e.syncEngine)}async function IH(t){const e=await EH(t),n=e.eventManager;return n.onListen=Cue.bind(null,e.syncEngine),n.onUnlisten=Eue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Iue.bind(null,e.syncEngine),n}function Vue(t,e,n={}){const r=new hl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,d){const f=new AH({next:m=>{f.xu(),a.enqueueAndForget(()=>gH(s,p));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new _t(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new _t(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new xH(bw(l.path),f,{includeMetadataChanges:!0,Qa:!0});return mH(s,p)}(await IH(t),t.asyncQueue,e,n,r)),r.promise}function Bue(t,e,n={}){const r=new hl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,d){const f=new AH({next:m=>{f.xu(),a.enqueueAndForget(()=>gH(s,p)),m.fromCache&&c.source==="server"?d.reject(new _t(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new xH(l,f,{includeMetadataChanges:!0,Qa:!0});return mH(s,p)}(await IH(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(t,e,n){if(!n)throw new _t(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RH(t,e,n,r){if(e===!0&&r===!0)throw new _t(Ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cN(t){if(!Et.isDocumentKey(t))throw new _t(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uN(t){if(Et.isDocumentKey(t))throw new _t(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vt(12329,{type:typeof t})}function Na(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _t(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kw(t);throw new _t(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue="firestore.googleapis.com",dN=!0;class hN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _t(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uue,this.ssl=dN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xq)throw new _t(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TH((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _t(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RU;switch(r.type){case"firstParty":return new $ae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lN.get(n);r&&(dt("ComponentProvider","Removing Datastore"),lN.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nu(this.firestore,e,this._query)}}class jo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jo(this.firestore,e,this._key)}}class oc extends Nu{constructor(e,n,r){super(e,n,bw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jo(this.firestore,null,new Et(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function Qf(t,e,...n){if(t=Or(t),kH("collection","path",e),t instanceof yR){const r=mr.fromString(e,...n);return uN(r),new oc(t,null,r)}{if(!(t instanceof jo||t instanceof oc))throw new _t(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return uN(r),new oc(t.firestore,null,r)}}function Di(t,e,...n){if(t=Or(t),arguments.length===1&&(e=z5.newId()),kH("doc","path",e),t instanceof yR){const r=mr.fromString(e,...n);return cN(r),new jo(t,null,new Et(r))}{if(!(t instanceof jo||t instanceof oc))throw new _t(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return cN(r),new jo(t.firestore,t instanceof oc?t.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="AsyncQueue";class pN{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new aH(this,"async_queue_retry"),this.rc=()=>{const r=Bb();r&&dt(fN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Bb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Bb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new hl;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Du(e))throw e;dt(fN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Do("INTERNAL UNHANDLED ERROR: ",mN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=fR.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Vt(47125,{cc:mN(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function mN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $u extends yR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pN(e),this._firestoreClient=void 0,await e}}}function OH(t,e,n){n||(n=b1);const r=j5(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Qd(s,e))return i;throw new _t(Ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new _t(Ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xq)throw new _t(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ky(e.host)&&O7(e.host),r.initialize({options:e,instanceIdentifier:n})}function Rw(t){if(t._terminated)throw new _t(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||que(t),t._firestoreClient}function que(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,d,f){return new _le(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,TH(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zue(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lh(_i.fromBase64String(e))}catch(n){throw new _t(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lh(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _t(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue=/^__.*__$/;class Gue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new pm(e,this.data,n,this.fieldTransforms)}}class DH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ic:t})}}class vR{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new vR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return k1(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MH(this.Ic)&&Hue.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Kue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iw(e)}bc(e,n,r,i=!1){return new vR({Ic:e,methodName:n,wc:r,path:Hr.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mw(t){const e=t._freezeSettings(),n=Iw(t._databaseId);return new Kue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NH(t,e,n,r,i,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,i);_R("Data must be an object, but it was:",a,r);const l=$H(r,a);let c,d;if(s.merge)c=new Zo(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=aT(e,p,n);if(!a.contains(m))throw new _t(Ge.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);zH(f,m)||f.push(m)}c=new Zo(f),d=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=a.fieldTransforms;return new Gue(new bo(l),c,d)}class Nw extends uv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}class bR extends uv{_toFieldTransform(e){return new jq(e.path,new _p)}isEqual(e){return e instanceof bR}}function Yue(t,e,n,r){const i=t.bc(1,e,n);_R("Data must be an object, but it was:",i,r);const s=[],a=bo.empty();Mu(r,(c,d)=>{const f=wR(e,c,n);d=Or(d);const p=i.mc(f);if(d instanceof Nw)s.push(f);else{const m=dv(d,p);m!=null&&(s.push(f),a.set(f,m))}});const l=new Zo(s);return new DH(a,l,i.fieldTransforms)}function Xue(t,e,n,r,i,s){const a=t.bc(1,e,n),l=[aT(e,r,n)],c=[i];if(s.length%2!=0)throw new _t(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(aT(e,s[m])),c.push(s[m+1]);const d=[],f=bo.empty();for(let m=l.length-1;m>=0;--m)if(!zH(d,l[m])){const y=l[m];let x=c[m];x=Or(x);const v=a.mc(y);if(x instanceof Nw)d.push(y);else{const b=dv(x,v);b!=null&&(d.push(y),f.set(y,b))}}const p=new Zo(d);return new DH(f,p,a.fieldTransforms)}function Que(t,e,n,r=!1){return dv(n,t.bc(r?4:3,e))}function dv(t,e){if(LH(t=Or(t)))return _R("Unsupported field value:",e,t),$H(t,e);if(t instanceof uv)return function(r,i){if(!MH(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=dv(l,i.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wle(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kr.fromDate(r);return{timestampValue:Sp(i.serializer,s)}}if(r instanceof Kr){const s=new Kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(i.serializer,s)}}if(r instanceof Ow)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lh)return{bytesValue:Tq(i.serializer,r._byteString)};if(r instanceof jo){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dw)return function(a,l){return{mapValue:{fields:{[G5]:{stringValue:K5},[xp]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return X5(l.serializer,d)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${kw(r)}`)}(t,e)}function $H(t,e){const n={};return YU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mu(t,(r,i)=>{const s=dv(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LH(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof Ow||t instanceof lh||t instanceof jo||t instanceof uv||t instanceof Dw)}function _R(t,e,n){if(!LH(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kw(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function aT(t,e,n){if((e=Or(e))instanceof cv)return e._internalPath;if(typeof e=="string")return wR(t,e);throw k1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jue=new RegExp("[~\\*/\\[\\]]");function wR(t,e,n){if(e.search(Jue)>=0)throw k1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cv(...e.split("."))._internalPath}catch{throw k1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function k1(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new _t(Ge.INVALID_ARGUMENT,l+t+c)}function zH(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($w("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zue extends FH{data(){return super.data()}}function $w(t,e){return typeof e=="string"?wR(t,e):e instanceof cv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ede(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _t(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jR{}class SR extends jR{}function R1(t,e,...n){let r=[];e instanceof jR&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof Lw).length,l=s.filter(c=>c instanceof hv).length;if(a>1||a>0&&l>0)throw new _t(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hv extends SR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hv(e,n,r)}_apply(e){const n=this._parse(e);return WH(e._query,n),new Nu(e.firestore,e.converter,KI(e._query,n))}_parse(e){const n=Mw(e.firestore);return function(s,a,l,c,d,f,p){let m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new _t(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){xN(p,f);const x=[];for(const v of p)x.push(gN(c,s,v));m={arrayValue:{values:x}}}else m=gN(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||xN(p,f),m=Que(l,a,p,f==="in"||f==="not-in");return Un.create(d,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ub(t,e,n){const r=e,i=$w("where",t);return hv._create(i,r,n)}class Lw extends jR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)WH(a,c),a=KI(a,c)}(e._query,n),new Nu(e.firestore,e.converter,KI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zw extends SR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zw(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new _t(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _t(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qx(s,a)}(e._query,this._field,this._direction);return new Nu(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new fm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function lT(t,e="asc"){const n=e,r=$w("orderBy",t);return zw._create(r,n)}function gN(t,e,n){if(typeof(n=Or(n))=="string"){if(n==="")throw new _t(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hq(e)&&n.indexOf("/")!==-1)throw new _t(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mr.fromString(n));if(!Et.isDocumentKey(r))throw new _t(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bx(t,new Et(r))}if(n instanceof jo)return Bx(t,n._key);throw new _t(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kw(n)}.`)}function xN(t,e){if(!Array.isArray(t)||t.length===0)throw new _t(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WH(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _t(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _t(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VH{convertValue(e,n="none"){switch(Iu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>qr(a.doubleValue));return new Dw(s)}convertGeoPoint(e){return new Ow(qr(e.latitude),qr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wx(e));default:return null}}convertTimestamp(e){const n=gc(e);return new Kr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mr.fromString(e);Gt(Fq(r),9688,{name:e});const i=new Eu(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(n)||Do(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CR extends FH{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($w("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fx extends CR{data(e={}){return super.data(e)}}class UH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fx(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new fx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new fx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:tde(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){t=Na(t,jo);const e=Na(t.firestore,$u);return Vue(Rw(e),t._key).then(n=>nde(e,t,n))}class qH extends VH{constructor(e){super(),this.firestore=e}convertBytes(e){return new lh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jo(this.firestore,null,n)}}function O1(t){t=Na(t,Nu);const e=Na(t.firestore,$u),n=Rw(e),r=new qH(e);return ede(t._query),Bue(n,t._query).then(i=>new UH(e,r,t,i))}function fv(t,e,n){t=Na(t,jo);const r=Na(t.firestore,$u),i=BH(t.converter,e);return pv(r,[NH(Mw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_o.none())])}function Ad(t,e,n,...r){t=Na(t,jo);const i=Na(t.firestore,$u),s=Mw(i);let a;return a=typeof(e=Or(e))=="string"||e instanceof cv?Xue(s,"updateDoc",t._key,e,n,r):Yue(s,"updateDoc",t._key,e),pv(i,[a.toMutation(t._key,_o.exists(!0))])}function cT(t){return pv(Na(t.firestore,$u),[new Sw(t._key,_o.none())])}function PR(t,e){const n=Na(t.firestore,$u),r=Di(t),i=BH(t.converter,e);return pv(n,[NH(Mw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_o.exists(!1))]).then(()=>r)}function pv(t,e){return function(r,i){const s=new hl;return r.asyncQueue.enqueueAndForget(async()=>Tue(await Wue(r),i,s)),s.promise}(Rw(t),e)}function nde(t,e,n){const r=n.docs.get(e._key),i=new qH(t);return new CR(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}class rde{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=AR(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function HH(t){return new rde(t)}class ide{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=T1.provider,this._offlineComponentProvider={build:n=>new Lue(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function AR(t){return new ide(t==null?void 0:t.forceOwnership)}function xs(){return new bR("serverTimestamp")}(function(e,n=!0){(function(i){hm=i})(dm),up(new Jd("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new $u(new Mae(r.getProvider("auth-internal")),new Lae(a,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(d.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),_u(X4,Q4,e),_u(X4,Q4,"esm2017")})();const ode=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:VH,Bytes:lh,CollectionReference:oc,DocumentReference:jo,DocumentSnapshot:CR,FieldPath:cv,FieldValue:uv,Firestore:$u,FirestoreError:_t,GeoPoint:Ow,Query:Nu,QueryCompositeFilterConstraint:Lw,QueryConstraint:SR,QueryDocumentSnapshot:fx,QueryFieldFilterConstraint:hv,QueryOrderByConstraint:zw,QuerySnapshot:UH,SnapshotMetadata:Lf,Timestamp:Kr,VectorValue:Dw,_AutoId:z5,_ByteString:_i,_DatabaseId:Eu,_DocumentKey:Et,_EmptyAuthCredentialsProvider:RU,_FieldPath:Hr,_cast:Na,_logWarn:dp,_validateIsNotUsedTogether:RH,addDoc:PR,collection:Qf,deleteDoc:cT,doc:Di,ensureFirestoreConfigured:Rw,executeWrite:pv,getDoc:Pp,getDocs:O1,initializeFirestore:OH,orderBy:lT,persistentLocalCache:HH,persistentSingleTabManager:AR,query:R1,serverTimestamp:xs,setDoc:fv,updateDoc:Ad,where:Ub},Symbol.toStringTag,{value:"Module"})),D1={apiKey:"AIzaSyDotAr3OZOao6-2EGsg6xusem8ENdgRa-E",authDomain:"clinic-d9c0a.firebaseapp.com",projectId:"clinic-d9c0a",storageBucket:"clinic-d9c0a.firebasestorage.app",messagingSenderId:"430481926571",appId:"1:430481926571:web:4ac32749d6b0f674868aee",measurementId:"G-PKFMPKHVTZ"},GH=a1(D1),KH=OH(GH,{localCache:HH({tabManager:AR({})})}),bi=MI(GH),qb={signIn:async(t,e)=>await uw(bi,t,e),signUp:async(t,e)=>await M5(bi,t,e),signOut:async()=>await ev(bi)},ni=KH,YH=Object.freeze(Object.defineProperty({__proto__:null,auth:bi,authHelpers:qb,db:ni,firebaseConfig:D1,firestore:KH},Symbol.toStringTag,{value:"Module"}));function sde(t){return wt("MuiSvgIcon",t)}Ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ade=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],lde=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ne(e)}`,`fontSize${Ne(n)}`]};return Pt(i,sde,r)},cde=ze("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ne(n.color)}`],e[`fontSize${Ne(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,a,l,c,d,f,p,m,y,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=t.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[e.fontSize],color:(p=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?p:{action:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),uT=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:f=!1,titleAccess:p,viewBox:m="0 0 24 24"}=r,y=Ye(r,ade),x=C.isValidElement(i)&&i.type==="svg",v=U({},r,{color:a,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:x}),b={};f||(b.viewBox=m);const I=lde(v);return o.jsxs(cde,U({as:l,className:Oe(I.root,s),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},b,y,x&&i.props,{ownerState:v,children:[x?i.props.children:i,p?o.jsx("title",{children:p}):null]}))});uT.muiName="SvgIcon";function et(t,e){function n(r,i){return o.jsx(uT,U({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=uT.muiName,C.memo(C.forwardRef(n))}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dT(t,e)}function XH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dT(t,e)}var M1=IB();const U0=or(M1),yN={disabled:!1},N1=he.createContext(null);var ude=function(e){return e.scrollTop},Yg="unmounted",vd="exited",bd="entering",Tf="entered",hT="exiting",Rs=function(t){XH(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=vd,s.appearStatus=bd):c=Tf:r.unmountOnExit||r.mountOnEnter?c=Yg:c=vd,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Yg?{status:vd}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==bd&&a!==Tf&&(s=bd):(a===bd||a===Tf)&&(s=hT)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,l;return s=a=l=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:U0.findDOMNode(this);a&&ude(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vd&&this.setState({status:Yg})},n.performEnter=function(i){var s=this,a=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[U0.findDOMNode(this),l],d=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!a||yN.disabled){this.safeSetState({status:Tf},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:bd},function(){s.props.onEntering(d,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Tf},function(){s.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:U0.findDOMNode(this);if(!s||yN.disabled){this.safeSetState({status:vd},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:hT},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:vd},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:U0.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],f=c[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Yg)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=Ye(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return he.createElement(N1.Provider,{value:null},typeof a=="function"?a(i,l):he.cloneElement(he.Children.only(a),l))},e}(he.Component);Rs.contextType=N1;Rs.propTypes={};function gf(){}Rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gf,onEntering:gf,onEntered:gf,onExit:gf,onExiting:gf,onExited:gf};Rs.UNMOUNTED=Yg;Rs.EXITED=vd;Rs.ENTERING=bd;Rs.ENTERED=Tf;Rs.EXITING=hT;function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(t,e){var n=function(s){return e&&C.isValidElement(s)?e(s):s},r=Object.create(null);return t&&C.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function hde(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var c in e){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function Rd(t,e,n){return n[e]!=null?n[e]:t.props[e]}function fde(t,e){return ER(t.children,function(n){return C.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Rd(n,"appear",t),enter:Rd(n,"enter",t),exit:Rd(n,"exit",t)})})}function pde(t,e,n){var r=ER(t.children),i=hde(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(C.isValidElement(a)){var l=s in e,c=s in r,d=e[s],f=C.isValidElement(d)&&!d.props.in;c&&(!l||f)?i[s]=C.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Rd(a,"exit",t),enter:Rd(a,"enter",t)}):!c&&l&&!f?i[s]=C.cloneElement(a,{in:!1}):c&&l&&C.isValidElement(d)&&(i[s]=C.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Rd(a,"exit",t),enter:Rd(a,"enter",t)}))}}),i}var mde=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},gde={component:"div",childFactory:function(e){return e}},IR=function(t){XH(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(dde(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,c=s.firstRender;return{children:c?fde(i,l):pde(i,a,l),firstRender:!1}},n.handleExited=function(i,s){var a=ER(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var c=U({},l.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=Ye(i,["component","childFactory"]),c=this.state.contextValue,d=mde(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?he.createElement(N1.Provider,{value:c},d):he.createElement(N1.Provider,{value:c},he.createElement(s,l,d))},e}(he.Component);IR.propTypes={};IR.defaultProps=gde;const Fw=t=>t.scrollTop;function $a(t,e){var n,r;const{timeout:i,easing:s,style:a={}}=t;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:a.transitionDelay}}function xde(t){return wt("MuiCollapse",t)}Ct("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const yde=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],vde=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Pt(r,xde,n)},bde=ze("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>U({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&U({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),_de=ze("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>U({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),wde=ze("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>U({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),px=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:a,collapsedSize:l="0px",component:c,easing:d,in:f,onEnter:p,onEntered:m,onEntering:y,onExit:x,onExited:v,onExiting:b,orientation:I="vertical",style:A,timeout:S=_7.standard,TransitionComponent:k=Rs}=r,P=Ye(r,yde),R=U({},r,{orientation:I,collapsedSize:l}),E=vde(R),O=Co(),D=Ql(),L=C.useRef(null),$=C.useRef(),B=typeof l=="number"?`${l}px`:l,N=I==="horizontal",q=N?"width":"height",Y=C.useRef(null),ne=gr(n,Y),Q=fe=>Se=>{if(fe){const be=Y.current;Se===void 0?fe(be):fe(be,Se)}},ee=()=>L.current?L.current[N?"clientWidth":"clientHeight"]:0,Z=Q((fe,Se)=>{L.current&&N&&(L.current.style.position="absolute"),fe.style[q]=B,p&&p(fe,Se)}),de=Q((fe,Se)=>{const be=ee();L.current&&N&&(L.current.style.position="");const{duration:ce,easing:We}=$a({style:A,timeout:S,easing:d},{mode:"enter"});if(S==="auto"){const Fe=O.transitions.getAutoHeightDuration(be);fe.style.transitionDuration=`${Fe}ms`,$.current=Fe}else fe.style.transitionDuration=typeof ce=="string"?ce:`${ce}ms`;fe.style[q]=`${be}px`,fe.style.transitionTimingFunction=We,y&&y(fe,Se)}),K=Q((fe,Se)=>{fe.style[q]="auto",m&&m(fe,Se)}),se=Q(fe=>{fe.style[q]=`${ee()}px`,x&&x(fe)}),le=Q(v),oe=Q(fe=>{const Se=ee(),{duration:be,easing:ce}=$a({style:A,timeout:S,easing:d},{mode:"exit"});if(S==="auto"){const We=O.transitions.getAutoHeightDuration(Se);fe.style.transitionDuration=`${We}ms`,$.current=We}else fe.style.transitionDuration=typeof be=="string"?be:`${be}ms`;fe.style[q]=B,fe.style.transitionTimingFunction=ce,b&&b(fe)}),ge=fe=>{S==="auto"&&D.start($.current||0,fe),i&&i(Y.current,fe)};return o.jsx(k,U({in:f,onEnter:Z,onEntered:K,onEntering:de,onExit:se,onExited:le,onExiting:oe,addEndListener:ge,nodeRef:Y,timeout:S==="auto"?null:S},P,{children:(fe,Se)=>o.jsx(bde,U({as:c,className:Oe(E.root,a,{entered:E.entered,exited:!f&&B==="0px"&&E.hidden}[fe]),style:U({[N?"minWidth":"minHeight"]:B},A),ref:ne},Se,{ownerState:U({},R,{state:fe}),children:o.jsx(_de,{ownerState:U({},R,{state:fe}),className:E.wrapper,ref:L,children:o.jsx(wde,{ownerState:U({},R,{state:fe}),className:E.wrapperInner,children:s})})}))}))});px.muiSupportAuto=!0;function jde(t){return wt("MuiPaper",t)}Ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Sde=["className","component","elevation","square","variant"],Cde=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Pt(s,jde,i)},Pde=ze("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return U({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&U({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Yt.alpha("#fff",x4(e.elevation))}, ${Yt.alpha("#fff",x4(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Qi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,d=Ye(r,Sde),f=U({},r,{component:s,elevation:a,square:l,variant:c}),p=Cde(f);return o.jsx(Pde,U({as:s,ownerState:f,className:Oe(p.root,i),ref:n},d))}),QH=C.createContext({}),Ade=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Ede=["component","slots","slotProps"],Ide=["component"];function $1(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:l}=e,c=Ye(e,Ade),{component:d,slots:f={[t]:void 0},slotProps:p={[t]:void 0}}=s,m=Ye(s,Ede),y=f[t]||r,x=m7(p[t],i),v=p7(U({className:n},c,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:x})),{props:{component:b},internalRef:I}=v,A=Ye(v.props,Ide),S=gr(I,x==null?void 0:x.ref,e.ref),k=a?a(A):{},P=U({},i,k),R=t==="root"?b||d:b,E=Nf(y,U({},t==="root"&&!d&&!f[t]&&l,t!=="root"&&!f[t]&&l,A,R&&{as:R},{ref:S}),P);return Object.keys(k).forEach(O=>{delete E[O]}),[y,E]}function Tde(t){return wt("MuiAccordion",t)}const q0=Ct("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),kde=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Rde=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:s}=t;return Pt({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!s&&"gutters"],region:["region"]},Tde,e)},Ode=ze(Qi,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${q0.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${q0.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${q0.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${q0.expanded}`]:{margin:"16px 0"}}}]})),Dde=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:a=!1,disabled:l=!1,disableGutters:c=!1,expanded:d,onChange:f,square:p=!1,slots:m={},slotProps:y={},TransitionComponent:x,TransitionProps:v}=r,b=Ye(r,kde),[I,A]=Xd({controlled:d,default:a,name:"Accordion",state:"expanded"}),S=C.useCallback(N=>{A(!I),f&&f(N,!I)},[I,f,A]),[k,...P]=C.Children.toArray(i),R=C.useMemo(()=>({expanded:I,disabled:l,disableGutters:c,toggle:S}),[I,l,c,S]),E=U({},r,{square:p,disabled:l,disableGutters:c,expanded:I}),O=Rde(E),D=U({transition:x},m),L=U({transition:v},y),[$,B]=$1("transition",{elementType:px,externalForwardedProps:{slots:D,slotProps:L},ownerState:E});return o.jsxs(Ode,U({className:Oe(O.root,s),ref:n,ownerState:E,square:p},b,{children:[o.jsx(QH.Provider,{value:R,children:k}),o.jsx($,U({in:I,timeout:"auto"},B,{children:o.jsx("div",{"aria-labelledby":k.props.id,id:k.props["aria-controls"],role:"region",className:O.region,children:P})}))]}))});function Mde(t){return wt("MuiAccordionDetails",t)}Ct("MuiAccordionDetails",["root"]);const Nde=["className"],$de=t=>{const{classes:e}=t;return Pt({root:["root"]},Mde,e)},Lde=ze("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),zde=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAccordionDetails"}),{className:i}=r,s=Ye(r,Nde),a=r,l=$de(a);return o.jsx(Lde,U({className:Oe(l.root,i),ref:n,ownerState:a},s))});function Fde(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:d}=t,[f,p]=C.useState(!1),m=Oe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},x=Oe(n.child,f&&n.childLeaving,r&&n.childPulsate);return!l&&!f&&p(!0),C.useEffect(()=>{if(!l&&c!=null){const v=setTimeout(c,d);return()=>{clearTimeout(v)}}},[c,l,d]),o.jsx("span",{className:m,style:y,children:o.jsx("span",{className:x})})}const Gs=Ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Wde=["center","classes","className"];let Ww=t=>t,vN,bN,_N,wN;const fT=550,Vde=80,Bde=La(vN||(vN=Ww`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Ude=La(bN||(bN=Ww`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),qde=La(_N||(_N=Ww`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Hde=ze("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Gde=ze(Fde,{name:"MuiTouchRipple",slot:"Ripple"})(wN||(wN=Ww`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Gs.rippleVisible,Bde,fT,({theme:t})=>t.transitions.easing.easeInOut,Gs.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Gs.child,Gs.childLeaving,Ude,fT,({theme:t})=>t.transitions.easing.easeInOut,Gs.childPulsate,qde,({theme:t})=>t.transitions.easing.easeInOut),Kde=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a}=r,l=Ye(r,Wde),[c,d]=C.useState([]),f=C.useRef(0),p=C.useRef(null);C.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const m=C.useRef(!1),y=Ql(),x=C.useRef(null),v=C.useRef(null),b=C.useCallback(k=>{const{pulsate:P,rippleX:R,rippleY:E,rippleSize:O,cb:D}=k;d(L=>[...L,o.jsx(Gde,{classes:{ripple:Oe(s.ripple,Gs.ripple),rippleVisible:Oe(s.rippleVisible,Gs.rippleVisible),ripplePulsate:Oe(s.ripplePulsate,Gs.ripplePulsate),child:Oe(s.child,Gs.child),childLeaving:Oe(s.childLeaving,Gs.childLeaving),childPulsate:Oe(s.childPulsate,Gs.childPulsate)},timeout:fT,pulsate:P,rippleX:R,rippleY:E,rippleSize:O},f.current)]),f.current+=1,p.current=D},[s]),I=C.useCallback((k={},P={},R=()=>{})=>{const{pulsate:E=!1,center:O=i||P.pulsate,fakeElement:D=!1}=P;if((k==null?void 0:k.type)==="mousedown"&&m.current){m.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(m.current=!0);const L=D?null:v.current,$=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,N,q;if(O||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)B=Math.round($.width/2),N=Math.round($.height/2);else{const{clientX:Y,clientY:ne}=k.touches&&k.touches.length>0?k.touches[0]:k;B=Math.round(Y-$.left),N=Math.round(ne-$.top)}if(O)q=Math.sqrt((2*$.width**2+$.height**2)/3),q%2===0&&(q+=1);else{const Y=Math.max(Math.abs((L?L.clientWidth:0)-B),B)*2+2,ne=Math.max(Math.abs((L?L.clientHeight:0)-N),N)*2+2;q=Math.sqrt(Y**2+ne**2)}k!=null&&k.touches?x.current===null&&(x.current=()=>{b({pulsate:E,rippleX:B,rippleY:N,rippleSize:q,cb:R})},y.start(Vde,()=>{x.current&&(x.current(),x.current=null)})):b({pulsate:E,rippleX:B,rippleY:N,rippleSize:q,cb:R})},[i,b,y]),A=C.useCallback(()=>{I({},{pulsate:!0})},[I]),S=C.useCallback((k,P)=>{if(y.clear(),(k==null?void 0:k.type)==="touchend"&&x.current){x.current(),x.current=null,y.start(0,()=>{S(k,P)});return}x.current=null,d(R=>R.length>0?R.slice(1):R),p.current=P},[y]);return C.useImperativeHandle(n,()=>({pulsate:A,start:I,stop:S}),[A,I,S]),o.jsx(Hde,U({className:Oe(Gs.root,s.root,a),ref:v},l,{children:o.jsx(IR,{component:null,exit:!0,children:c})}))});function Yde(t){return wt("MuiButtonBase",t)}const Xde=Ct("MuiButtonBase",["root","disabled","focusVisible"]),Qde=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Jde=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Pt({root:["root",e&&"disabled",n&&"focusVisible"]},Yde,i);return n&&r&&(a.root+=` ${r}`),a},Zde=ze("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Xde.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),oa=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:m=!1,LinkComponent:y="a",onBlur:x,onClick:v,onContextMenu:b,onDragLeave:I,onFocus:A,onFocusVisible:S,onKeyDown:k,onKeyUp:P,onMouseDown:R,onMouseLeave:E,onMouseUp:O,onTouchEnd:D,onTouchMove:L,onTouchStart:$,tabIndex:B=0,TouchRippleProps:N,touchRippleRef:q,type:Y}=r,ne=Ye(r,Qde),Q=C.useRef(null),ee=C.useRef(null),Z=gr(ee,q),{isFocusVisibleRef:de,onFocus:K,onBlur:se,ref:le}=y5(),[oe,ge]=C.useState(!1);d&&oe&&ge(!1),C.useImperativeHandle(i,()=>({focusVisible:()=>{ge(!0),Q.current.focus()}}),[]);const[fe,Se]=C.useState(!1);C.useEffect(()=>{Se(!0)},[]);const be=fe&&!f&&!d;C.useEffect(()=>{oe&&m&&!f&&fe&&ee.current.pulsate()},[f,m,oe,fe]);function ce(lt,Zt,Xt=p){return Xi(On=>(Zt&&Zt(On),!Xt&&ee.current&&ee.current[lt](On),!0))}const We=ce("start",R),Fe=ce("stop",b),pe=ce("stop",I),$e=ce("stop",O),Ce=ce("stop",lt=>{oe&&lt.preventDefault(),E&&E(lt)}),Je=ce("start",$),ht=ce("stop",D),Xe=ce("stop",L),Lt=ce("stop",lt=>{se(lt),de.current===!1&&ge(!1),x&&x(lt)},!1),jt=Xi(lt=>{Q.current||(Q.current=lt.currentTarget),K(lt),de.current===!0&&(ge(!0),S&&S(lt)),A&&A(lt)}),Mt=()=>{const lt=Q.current;return c&&c!=="button"&&!(lt.tagName==="A"&&lt.href)},pt=C.useRef(!1),Qe=Xi(lt=>{m&&!pt.current&&oe&&ee.current&&lt.key===" "&&(pt.current=!0,ee.current.stop(lt,()=>{ee.current.start(lt)})),lt.target===lt.currentTarget&&Mt()&&lt.key===" "&&lt.preventDefault(),k&&k(lt),lt.target===lt.currentTarget&&Mt()&&lt.key==="Enter"&&!d&&(lt.preventDefault(),v&&v(lt))}),at=Xi(lt=>{m&&lt.key===" "&&ee.current&&oe&&!lt.defaultPrevented&&(pt.current=!1,ee.current.stop(lt,()=>{ee.current.pulsate(lt)})),P&&P(lt),v&&lt.target===lt.currentTarget&&Mt()&&lt.key===" "&&!lt.defaultPrevented&&v(lt)});let Tt=c;Tt==="button"&&(ne.href||ne.to)&&(Tt=y);const vn={};Tt==="button"?(vn.type=Y===void 0?"button":Y,vn.disabled=d):(!ne.href&&!ne.to&&(vn.role="button"),d&&(vn["aria-disabled"]=d));const zt=gr(n,le,Q),mt=U({},r,{centerRipple:s,component:c,disabled:d,disableRipple:f,disableTouchRipple:p,focusRipple:m,tabIndex:B,focusVisible:oe}),It=Jde(mt);return o.jsxs(Zde,U({as:Tt,className:Oe(It.root,l),ownerState:mt,onBlur:Lt,onClick:v,onContextMenu:Fe,onFocus:jt,onKeyDown:Qe,onKeyUp:at,onMouseDown:We,onMouseLeave:Ce,onMouseUp:$e,onDragLeave:pe,onTouchEnd:ht,onTouchMove:Xe,onTouchStart:Je,ref:zt,tabIndex:d?-1:B,type:Y},vn,ne,{children:[a,be?o.jsx(Kde,U({ref:Z,center:s},N)):null]}))});function ehe(t){return wt("MuiAccordionSummary",t)}const zf=Ct("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),the=["children","className","expandIcon","focusVisibleClassName","onClick"],nhe=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return Pt({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},ehe,e)},rhe=ze(oa,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${zf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${zf.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${zf.expanded}`]:{minHeight:64}}}]}}),ihe=ze("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${zf.expanded}`]:{margin:"20px 0"}}}]})),ohe=ze("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${zf.expanded}`]:{transform:"rotate(180deg)"}})),she=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:a,focusVisibleClassName:l,onClick:c}=r,d=Ye(r,the),{disabled:f=!1,disableGutters:p,expanded:m,toggle:y}=C.useContext(QH),x=I=>{y&&y(I),c&&c(I)},v=U({},r,{expanded:m,disabled:f,disableGutters:p}),b=nhe(v);return o.jsxs(rhe,U({focusRipple:!1,disableRipple:!0,disabled:f,component:"div","aria-expanded":m,className:Oe(b.root,s),focusVisibleClassName:Oe(b.focusVisible,l),onClick:x,ref:n,ownerState:v},d,{children:[o.jsx(ihe,{className:b.content,ownerState:v,children:i}),a&&o.jsx(ohe,{className:b.expandIconWrapper,ownerState:v,children:a})]}))});function ahe(t){return wt("MuiAlert",t)}const jN=Ct("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lhe(t){return wt("MuiIconButton",t)}const che=Ct("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),uhe=["edge","children","className","color","disabled","disableFocusRipple","size"],dhe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${Ne(r)}`,i&&`edge${Ne(i)}`,`size${Ne(s)}`]};return Pt(a,lhe,e)},hhe=ze(oa,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ne(n.color)}`],n.edge&&e[`edge${Ne(n.edge)}`],e[`size${Ne(n.size)}`]]}})(({theme:t,ownerState:e})=>U({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return U({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&U({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":U({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${che.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),qe=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:f="medium"}=r,p=Ye(r,uhe),m=U({},r,{edge:i,color:l,disabled:c,disableFocusRipple:d,size:f}),y=dhe(m);return o.jsx(hhe,U({className:Oe(y.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:n},p,{ownerState:m,children:s}))}),fhe=et(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),phe=et(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),mhe=et(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ghe=et(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),xhe=et(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),yhe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],vhe=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${Ne(n||r)}`,`${e}${Ne(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Pt(s,ahe,i)},bhe=ze(Qi,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ne(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?Yt.darken:Yt.lighten,n=t.palette.mode==="light"?Yt.lighten:Yt.darken;return U({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${jN.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${jN.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:U({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),_he=ze("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),whe=ze("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),SN=ze("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),CN={success:o.jsx(fhe,{fontSize:"inherit"}),warning:o.jsx(phe,{fontSize:"inherit"}),error:o.jsx(mhe,{fontSize:"inherit"}),info:o.jsx(ghe,{fontSize:"inherit"})},Zn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAlert"}),{action:i,children:s,className:a,closeText:l="Close",color:c,components:d={},componentsProps:f={},icon:p,iconMapping:m=CN,onClose:y,role:x="alert",severity:v="success",slotProps:b={},slots:I={},variant:A="standard"}=r,S=Ye(r,yhe),k=U({},r,{color:c,severity:v,variant:A,colorSeverity:c||v}),P=vhe(k),R={slots:U({closeButton:d.CloseButton,closeIcon:d.CloseIcon},I),slotProps:U({},f,b)},[E,O]=$1("closeButton",{elementType:qe,externalForwardedProps:R,ownerState:k}),[D,L]=$1("closeIcon",{elementType:xhe,externalForwardedProps:R,ownerState:k});return o.jsxs(bhe,U({role:x,elevation:0,ownerState:k,className:Oe(P.root,a),ref:n},S,{children:[p!==!1?o.jsx(_he,{ownerState:k,className:P.icon,children:p||m[v]||CN[v]}):null,o.jsx(whe,{ownerState:k,className:P.message,children:s}),i!=null?o.jsx(SN,{ownerState:k,className:P.action,children:i}):null,i==null&&y?o.jsx(SN,{ownerState:k,className:P.action,children:o.jsx(E,U({size:"small","aria-label":l,title:l,color:"inherit",onClick:y},O,{children:o.jsx(D,U({fontSize:"small"},L))}))}):null]}))});function jhe(t){return wt("MuiTypography",t)}Ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const She=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Che=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,l={root:["root",s,t.align!=="inherit"&&`align${Ne(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Pt(l,jhe,a)},Phe=ze("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ne(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>U({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),PN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ahe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ehe=t=>Ahe[t]||t,w=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTypography"}),i=Ehe(r.color),s=Uy(U({},r,{color:i})),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:f=!1,paragraph:p=!1,variant:m="body1",variantMapping:y=PN}=s,x=Ye(s,She),v=U({},s,{align:a,color:i,className:l,component:c,gutterBottom:d,noWrap:f,paragraph:p,variant:m,variantMapping:y}),b=c||(p?"p":y[m]||PN[m])||"span",I=Che(v);return o.jsx(Phe,U({as:b,ref:n,ownerState:v,className:Oe(I.root,l)},x))});function Ihe(t){return wt("MuiAppBar",t)}Ct("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const The=["className","color","enableColorOnDark","position"],khe=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Ne(e)}`,`position${Ne(n)}`]};return Pt(i,Ihe,r)},H0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Rhe=ze(Qi,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ne(n.position)}`],e[`color${Ne(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return U({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&U({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&U({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&U({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:H0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:H0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:H0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:H0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),JH=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:l="fixed"}=r,c=Ye(r,The),d=U({},r,{color:s,position:l,enableColorOnDark:a}),f=khe(d);return o.jsx(Rhe,U({square:!0,component:"header",ownerState:d,elevation:4,className:Oe(f.root,i,l==="fixed"&&"mui-fixed"),ref:n},c))});var gg={},AN;function Ohe(){if(AN)return gg;AN=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.default=void 0;var t=r(X_()),e=w7;function n(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(n=function(d){return d?c:l})(a)}function r(a,l){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var c=n(l);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var m=f?Object.getOwnPropertyDescriptor(a,p):null;m&&(m.get||m.set)?Object.defineProperty(d,p,m):d[p]=a[p]}return d.default=a,c&&c.set(a,d),d}function i(a){return Object.keys(a).length===0}function s(a=null){const l=t.useContext(e.ThemeContext);return!l||i(l)?a:l}return gg.default=s,gg}var Dhe=Ohe();const Mhe=or(Dhe);var ts="top",sa="bottom",aa="right",ns="left",TR="auto",mv=[ts,sa,aa,ns],Ap="start",Kx="end",Nhe="clippingParents",ZH="viewport",xg="popper",$he="reference",EN=mv.reduce(function(t,e){return t.concat([e+"-"+Ap,e+"-"+Kx])},[]),eG=[].concat(mv,[TR]).reduce(function(t,e){return t.concat([e,e+"-"+Ap,e+"-"+Kx])},[]),Lhe="beforeRead",zhe="read",Fhe="afterRead",Whe="beforeMain",Vhe="main",Bhe="afterMain",Uhe="beforeWrite",qhe="write",Hhe="afterWrite",Ghe=[Lhe,zhe,Fhe,Whe,Vhe,Bhe,Uhe,qhe,Hhe];function vl(t){return t?(t.nodeName||"").toLowerCase():null}function Ts(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ch(t){var e=Ts(t).Element;return t instanceof e||t instanceof Element}function ta(t){var e=Ts(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function kR(t){if(typeof ShadowRoot>"u")return!1;var e=Ts(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Khe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ta(s)||!vl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var l=i[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function Yhe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(c,d){return c[d]="",c},{});!ta(i)||!vl(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const Xhe={name:"applyStyles",enabled:!0,phase:"write",fn:Khe,effect:Yhe,requires:["computeStyles"]};function fl(t){return t.split("-")[0]}var qd=Math.max,L1=Math.min,Ep=Math.round;function pT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tG(){return!/^((?!chrome|android).)*safari/i.test(pT())}function Ip(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ta(t)&&(i=t.offsetWidth>0&&Ep(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ep(r.height)/t.offsetHeight||1);var a=ch(t)?Ts(t):window,l=a.visualViewport,c=!tG()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/i,f=(r.top+(c&&l?l.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d,x:d,y:f}}function RR(t){var e=Ip(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function nG(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&kR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yc(t){return Ts(t).getComputedStyle(t)}function Qhe(t){return["table","td","th"].indexOf(vl(t))>=0}function Lu(t){return((ch(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vw(t){return vl(t)==="html"?t:t.assignedSlot||t.parentNode||(kR(t)?t.host:null)||Lu(t)}function IN(t){return!ta(t)||yc(t).position==="fixed"?null:t.offsetParent}function Jhe(t){var e=/firefox/i.test(pT()),n=/Trident/i.test(pT());if(n&&ta(t)){var r=yc(t);if(r.position==="fixed")return null}var i=Vw(t);for(kR(i)&&(i=i.host);ta(i)&&["html","body"].indexOf(vl(i))<0;){var s=yc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gv(t){for(var e=Ts(t),n=IN(t);n&&Qhe(n)&&yc(n).position==="static";)n=IN(n);return n&&(vl(n)==="html"||vl(n)==="body"&&yc(n).position==="static")?e:n||Jhe(t)||e}function OR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function mx(t,e,n){return qd(t,L1(e,n))}function Zhe(t,e,n){var r=mx(t,e,n);return r>n?n:r}function rG(){return{top:0,right:0,bottom:0,left:0}}function iG(t){return Object.assign({},rG(),t)}function oG(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var efe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,iG(typeof e!="number"?e:oG(e,mv))};function tfe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=fl(n.placement),c=OR(l),d=[ns,aa].indexOf(l)>=0,f=d?"height":"width";if(!(!s||!a)){var p=efe(i.padding,n),m=RR(s),y=c==="y"?ts:ns,x=c==="y"?sa:aa,v=n.rects.reference[f]+n.rects.reference[c]-a[c]-n.rects.popper[f],b=a[c]-n.rects.reference[c],I=gv(s),A=I?c==="y"?I.clientHeight||0:I.clientWidth||0:0,S=v/2-b/2,k=p[y],P=A-m[f]-p[x],R=A/2-m[f]/2+S,E=mx(k,R,P),O=c;n.modifiersData[r]=(e={},e[O]=E,e.centerOffset=E-R,e)}}function nfe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||nG(e.elements.popper,i)&&(e.elements.arrow=i))}const rfe={name:"arrow",enabled:!0,phase:"main",fn:tfe,effect:nfe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tp(t){return t.split("-")[1]}var ife={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ofe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ep(n*i)/i||0,y:Ep(r*i)/i||0}}function TN(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=a.x,y=m===void 0?0:m,x=a.y,v=x===void 0?0:x,b=typeof f=="function"?f({x:y,y:v}):{x:y,y:v};y=b.x,v=b.y;var I=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),S=ns,k=ts,P=window;if(d){var R=gv(n),E="clientHeight",O="clientWidth";if(R===Ts(n)&&(R=Lu(n),yc(R).position!=="static"&&l==="absolute"&&(E="scrollHeight",O="scrollWidth")),R=R,i===ts||(i===ns||i===aa)&&s===Kx){k=sa;var D=p&&R===P&&P.visualViewport?P.visualViewport.height:R[E];v-=D-r.height,v*=c?1:-1}if(i===ns||(i===ts||i===sa)&&s===Kx){S=aa;var L=p&&R===P&&P.visualViewport?P.visualViewport.width:R[O];y-=L-r.width,y*=c?1:-1}}var $=Object.assign({position:l},d&&ife),B=f===!0?ofe({x:y,y:v},Ts(n)):{x:y,y:v};if(y=B.x,v=B.y,c){var N;return Object.assign({},$,(N={},N[k]=A?"0":"",N[S]=I?"0":"",N.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",N))}return Object.assign({},$,(e={},e[k]=A?v+"px":"",e[S]=I?y+"px":"",e.transform="",e))}function sfe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:fl(e.placement),variation:Tp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,TN(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,TN(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const afe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sfe,data:{}};var G0={passive:!0};function lfe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,l=a===void 0?!0:a,c=Ts(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",n.update,G0)}),l&&c.addEventListener("resize",n.update,G0),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",n.update,G0)}),l&&c.removeEventListener("resize",n.update,G0)}}const cfe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lfe,data:{}};var ufe={left:"right",right:"left",bottom:"top",top:"bottom"};function Hb(t){return t.replace(/left|right|bottom|top/g,function(e){return ufe[e]})}var dfe={start:"end",end:"start"};function kN(t){return t.replace(/start|end/g,function(e){return dfe[e]})}function DR(t){var e=Ts(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function MR(t){return Ip(Lu(t)).left+DR(t).scrollLeft}function hfe(t,e){var n=Ts(t),r=Lu(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;var d=tG();(d||!d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l+MR(t),y:c}}function ffe(t){var e,n=Lu(t),r=DR(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=qd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=qd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+MR(t),c=-r.scrollTop;return yc(i||n).direction==="rtl"&&(l+=qd(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:l,y:c}}function NR(t){var e=yc(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function sG(t){return["html","body","#document"].indexOf(vl(t))>=0?t.ownerDocument.body:ta(t)&&NR(t)?t:sG(Vw(t))}function gx(t,e){var n;e===void 0&&(e=[]);var r=sG(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ts(r),a=i?[s].concat(s.visualViewport||[],NR(r)?r:[]):r,l=e.concat(a);return i?l:l.concat(gx(Vw(a)))}function mT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pfe(t,e){var n=Ip(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function RN(t,e,n){return e===ZH?mT(hfe(t,n)):ch(e)?pfe(e,n):mT(ffe(Lu(t)))}function mfe(t){var e=gx(Vw(t)),n=["absolute","fixed"].indexOf(yc(t).position)>=0,r=n&&ta(t)?gv(t):t;return ch(r)?e.filter(function(i){return ch(i)&&nG(i,r)&&vl(i)!=="body"}):[]}function gfe(t,e,n,r){var i=e==="clippingParents"?mfe(t):[].concat(e),s=[].concat(i,[n]),a=s[0],l=s.reduce(function(c,d){var f=RN(t,d,r);return c.top=qd(f.top,c.top),c.right=L1(f.right,c.right),c.bottom=L1(f.bottom,c.bottom),c.left=qd(f.left,c.left),c},RN(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function aG(t){var e=t.reference,n=t.element,r=t.placement,i=r?fl(r):null,s=r?Tp(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case ts:c={x:a,y:e.y-n.height};break;case sa:c={x:a,y:e.y+e.height};break;case aa:c={x:e.x+e.width,y:l};break;case ns:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var d=i?OR(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case Ap:c[d]=c[d]-(e[f]/2-n[f]/2);break;case Kx:c[d]=c[d]+(e[f]/2-n[f]/2);break}}return c}function Yx(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?Nhe:l,d=n.rootBoundary,f=d===void 0?ZH:d,p=n.elementContext,m=p===void 0?xg:p,y=n.altBoundary,x=y===void 0?!1:y,v=n.padding,b=v===void 0?0:v,I=iG(typeof b!="number"?b:oG(b,mv)),A=m===xg?$he:xg,S=t.rects.popper,k=t.elements[x?A:m],P=gfe(ch(k)?k:k.contextElement||Lu(t.elements.popper),c,f,a),R=Ip(t.elements.reference),E=aG({reference:R,element:S,placement:i}),O=mT(Object.assign({},S,E)),D=m===xg?O:R,L={top:P.top-D.top+I.top,bottom:D.bottom-P.bottom+I.bottom,left:P.left-D.left+I.left,right:D.right-P.right+I.right},$=t.modifiersData.offset;if(m===xg&&$){var B=$[i];Object.keys(L).forEach(function(N){var q=[aa,sa].indexOf(N)>=0?1:-1,Y=[ts,sa].indexOf(N)>=0?"y":"x";L[N]+=B[Y]*q})}return L}function xfe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?eG:c,f=Tp(r),p=f?l?EN:EN.filter(function(x){return Tp(x)===f}):mv,m=p.filter(function(x){return d.indexOf(x)>=0});m.length===0&&(m=p);var y=m.reduce(function(x,v){return x[v]=Yx(t,{placement:v,boundary:i,rootBoundary:s,padding:a})[fl(v)],x},{});return Object.keys(y).sort(function(x,v){return y[x]-y[v]})}function yfe(t){if(fl(t)===TR)return[];var e=Hb(t);return[kN(t),e,kN(e)]}function vfe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,x=y===void 0?!0:y,v=n.allowedAutoPlacements,b=e.options.placement,I=fl(b),A=I===b,S=c||(A||!x?[Hb(b)]:yfe(b)),k=[b].concat(S).reduce(function(oe,ge){return oe.concat(fl(ge)===TR?xfe(e,{placement:ge,boundary:f,rootBoundary:p,padding:d,flipVariations:x,allowedAutoPlacements:v}):ge)},[]),P=e.rects.reference,R=e.rects.popper,E=new Map,O=!0,D=k[0],L=0;L<k.length;L++){var $=k[L],B=fl($),N=Tp($)===Ap,q=[ts,sa].indexOf(B)>=0,Y=q?"width":"height",ne=Yx(e,{placement:$,boundary:f,rootBoundary:p,altBoundary:m,padding:d}),Q=q?N?aa:ns:N?sa:ts;P[Y]>R[Y]&&(Q=Hb(Q));var ee=Hb(Q),Z=[];if(s&&Z.push(ne[B]<=0),l&&Z.push(ne[Q]<=0,ne[ee]<=0),Z.every(function(oe){return oe})){D=$,O=!1;break}E.set($,Z)}if(O)for(var de=x?3:1,K=function(ge){var fe=k.find(function(Se){var be=E.get(Se);if(be)return be.slice(0,ge).every(function(ce){return ce})});if(fe)return D=fe,"break"},se=de;se>0;se--){var le=K(se);if(le==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const bfe={name:"flip",enabled:!0,phase:"main",fn:vfe,requiresIfExists:["offset"],data:{_skip:!1}};function ON(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function DN(t){return[ts,aa,sa,ns].some(function(e){return t[e]>=0})}function _fe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Yx(e,{elementContext:"reference"}),l=Yx(e,{altBoundary:!0}),c=ON(a,r),d=ON(l,i,s),f=DN(c),p=DN(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const wfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_fe};function jfe(t,e,n){var r=fl(t),i=[ns,ts].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*i,[ns,aa].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Sfe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=eG.reduce(function(f,p){return f[p]=jfe(p,e.rects,s),f},{}),l=a[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const Cfe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Sfe};function Pfe(t){var e=t.state,n=t.name;e.modifiersData[n]=aG({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Afe={name:"popperOffsets",enabled:!0,phase:"read",fn:Pfe,data:{}};function Efe(t){return t==="x"?"y":"x"}function Ife(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,x=n.tetherOffset,v=x===void 0?0:x,b=Yx(e,{boundary:c,rootBoundary:d,padding:p,altBoundary:f}),I=fl(e.placement),A=Tp(e.placement),S=!A,k=OR(I),P=Efe(k),R=e.modifiersData.popperOffsets,E=e.rects.reference,O=e.rects.popper,D=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(R){if(s){var N,q=k==="y"?ts:ns,Y=k==="y"?sa:aa,ne=k==="y"?"height":"width",Q=R[k],ee=Q+b[q],Z=Q-b[Y],de=y?-O[ne]/2:0,K=A===Ap?E[ne]:O[ne],se=A===Ap?-O[ne]:-E[ne],le=e.elements.arrow,oe=y&&le?RR(le):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rG(),fe=ge[q],Se=ge[Y],be=mx(0,E[ne],oe[ne]),ce=S?E[ne]/2-de-be-fe-L.mainAxis:K-be-fe-L.mainAxis,We=S?-E[ne]/2+de+be+Se+L.mainAxis:se+be+Se+L.mainAxis,Fe=e.elements.arrow&&gv(e.elements.arrow),pe=Fe?k==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,$e=(N=$==null?void 0:$[k])!=null?N:0,Ce=Q+ce-$e-pe,Je=Q+We-$e,ht=mx(y?L1(ee,Ce):ee,Q,y?qd(Z,Je):Z);R[k]=ht,B[k]=ht-Q}if(l){var Xe,Lt=k==="x"?ts:ns,jt=k==="x"?sa:aa,Mt=R[P],pt=P==="y"?"height":"width",Qe=Mt+b[Lt],at=Mt-b[jt],Tt=[ts,ns].indexOf(I)!==-1,vn=(Xe=$==null?void 0:$[P])!=null?Xe:0,zt=Tt?Qe:Mt-E[pt]-O[pt]-vn+L.altAxis,mt=Tt?Mt+E[pt]+O[pt]-vn-L.altAxis:at,It=y&&Tt?Zhe(zt,Mt,mt):mx(y?zt:Qe,Mt,y?mt:at);R[P]=It,B[P]=It-Mt}e.modifiersData[r]=B}}const Tfe={name:"preventOverflow",enabled:!0,phase:"main",fn:Ife,requiresIfExists:["offset"]};function kfe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Rfe(t){return t===Ts(t)||!ta(t)?DR(t):kfe(t)}function Ofe(t){var e=t.getBoundingClientRect(),n=Ep(e.width)/t.offsetWidth||1,r=Ep(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Dfe(t,e,n){n===void 0&&(n=!1);var r=ta(e),i=ta(e)&&Ofe(e),s=Lu(e),a=Ip(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((vl(e)!=="body"||NR(s))&&(l=Rfe(e)),ta(e)?(c=Ip(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=MR(s))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function Mfe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Nfe(t){var e=Mfe(t);return Ghe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function $fe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Lfe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var MN={placement:"bottom",modifiers:[],strategy:"absolute"};function NN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zfe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?MN:i;return function(l,c,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},MN,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:f,setOptions:function(I){var A=typeof I=="function"?I(f.options):I;v(),f.options=Object.assign({},s,f.options,A),f.scrollParents={reference:ch(l)?gx(l):l.contextElement?gx(l.contextElement):[],popper:gx(c)};var S=Nfe(Lfe([].concat(r,f.options.modifiers)));return f.orderedModifiers=S.filter(function(k){return k.enabled}),x(),y.update()},forceUpdate:function(){if(!m){var I=f.elements,A=I.reference,S=I.popper;if(NN(A,S)){f.rects={reference:Dfe(A,gv(S),f.options.strategy==="fixed"),popper:RR(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(L){return f.modifiersData[L.name]=Object.assign({},L.data)});for(var k=0;k<f.orderedModifiers.length;k++){if(f.reset===!0){f.reset=!1,k=-1;continue}var P=f.orderedModifiers[k],R=P.fn,E=P.options,O=E===void 0?{}:E,D=P.name;typeof R=="function"&&(f=R({state:f,options:O,name:D,instance:y})||f)}}}},update:$fe(function(){return new Promise(function(b){y.forceUpdate(),b(f)})}),destroy:function(){v(),m=!0}};if(!NN(l,c))return y;y.setOptions(d).then(function(b){!m&&d.onFirstUpdate&&d.onFirstUpdate(b)});function x(){f.orderedModifiers.forEach(function(b){var I=b.name,A=b.options,S=A===void 0?{}:A,k=b.effect;if(typeof k=="function"){var P=k({state:f,name:I,instance:y,options:S}),R=function(){};p.push(P||R)}})}function v(){p.forEach(function(b){return b()}),p=[]}return y}}var Ffe=[cfe,Afe,afe,Xhe,Cfe,bfe,Tfe,rfe,wfe],Wfe=zfe({defaultModifiers:Ffe});function Vfe(t){return typeof t=="function"?t():t}const lG=C.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,l]=C.useState(null),c=gr(C.isValidElement(r)?jc(r):null,n);if(So(()=>{s||l(Vfe(i)||document.body)},[i,s]),So(()=>{if(a&&!s)return CI(n,a),()=>{CI(n,null)}},[n,a,s]),s){if(C.isValidElement(r)){const d={ref:c};return C.cloneElement(r,d)}return o.jsx(C.Fragment,{children:r})}return o.jsx(C.Fragment,{children:a&&M1.createPortal(r,a)})});function Bfe(t){return wt("MuiPopper",t)}Ct("MuiPopper",["root"]);const Ufe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],qfe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Hfe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function gT(t){return typeof t=="function"?t():t}function Gfe(t){return t.nodeType!==void 0}const Kfe=t=>{const{classes:e}=t;return Pt({root:["root"]},Bfe,e)},Yfe={},Xfe=C.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:a,disablePortal:l,modifiers:c,open:d,placement:f,popperOptions:p,popperRef:m,slotProps:y={},slots:x={},TransitionProps:v}=e,b=Ye(e,Ufe),I=C.useRef(null),A=gr(I,n),S=C.useRef(null),k=gr(S,m),P=C.useRef(k);So(()=>{P.current=k},[k]),C.useImperativeHandle(m,()=>S.current,[]);const R=Hfe(f,a),[E,O]=C.useState(R),[D,L]=C.useState(gT(i));C.useEffect(()=>{S.current&&S.current.forceUpdate()}),C.useEffect(()=>{i&&L(gT(i))},[i]),So(()=>{if(!D||!d)return;const Y=ee=>{O(ee.placement)};let ne=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{Y(ee)}}];c!=null&&(ne=ne.concat(c)),p&&p.modifiers!=null&&(ne=ne.concat(p.modifiers));const Q=Wfe(D,I.current,U({placement:R},p,{modifiers:ne}));return P.current(Q),()=>{Q.destroy(),P.current(null)}},[D,l,c,d,p,R]);const $={placement:E};v!==null&&($.TransitionProps=v);const B=Kfe(e),N=(r=x.root)!=null?r:"div",q=os({elementType:N,externalSlotProps:y.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:B.root});return o.jsx(N,U({},q,{children:typeof s=="function"?s($):s}))}),Qfe=C.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:d,open:f,placement:p="bottom",popperOptions:m=Yfe,popperRef:y,style:x,transition:v=!1,slotProps:b={},slots:I={}}=e,A=Ye(e,qfe),[S,k]=C.useState(!0),P=()=>{k(!1)},R=()=>{k(!0)};if(!c&&!f&&(!v||S))return null;let E;if(s)E=s;else if(r){const L=gT(r);E=L&&Gfe(L)?ri(L).body:ri(null).body}const O=!f&&c&&(!v||S)?"none":void 0,D=v?{in:f,onEnter:P,onExited:R}:void 0;return o.jsx(lG,{disablePortal:l,container:E,children:o.jsx(Xfe,U({anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:v?!S:f,placement:p,popperOptions:m,popperRef:y,slotProps:b,slots:I},A,{style:U({position:"fixed",top:0,left:0,display:O},x),TransitionProps:D,children:i}))})}),Jfe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Zfe=ze(Qfe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cG=C.forwardRef(function(e,n){var r;const i=Mhe(),s=At({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:f,disablePortal:p,keepMounted:m,modifiers:y,open:x,placement:v,popperOptions:b,popperRef:I,transition:A,slots:S,slotProps:k}=s,P=Ye(s,Jfe),R=(r=S==null?void 0:S.root)!=null?r:c==null?void 0:c.Root,E=U({anchorEl:a,container:f,disablePortal:p,keepMounted:m,modifiers:y,open:x,placement:v,popperOptions:b,popperRef:I,transition:A},P);return o.jsx(Zfe,U({as:l,direction:i==null?void 0:i.direction,slots:{root:R},slotProps:k??d},E,{ref:n}))}),epe=et(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function tpe(t){return wt("MuiChip",t)}const nr=Ct("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),npe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],rpe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:a,clickable:l,variant:c}=t,d={root:["root",c,n&&"disabled",`size${Ne(r)}`,`color${Ne(i)}`,l&&"clickable",l&&`clickableColor${Ne(i)}`,a&&"deletable",a&&`deletableColor${Ne(i)}`,`${c}${Ne(i)}`],label:["label",`label${Ne(r)}`],avatar:["avatar",`avatar${Ne(r)}`,`avatarColor${Ne(i)}`],icon:["icon",`icon${Ne(r)}`,`iconColor${Ne(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Ne(r)}`,`deleteIconColor${Ne(i)}`,`deleteIcon${Ne(c)}Color${Ne(i)}`]};return Pt(d,tpe,e)},ipe=ze("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:a,size:l,variant:c}=n;return[{[`& .${nr.avatar}`]:e.avatar},{[`& .${nr.avatar}`]:e[`avatar${Ne(l)}`]},{[`& .${nr.avatar}`]:e[`avatarColor${Ne(r)}`]},{[`& .${nr.icon}`]:e.icon},{[`& .${nr.icon}`]:e[`icon${Ne(l)}`]},{[`& .${nr.icon}`]:e[`iconColor${Ne(i)}`]},{[`& .${nr.deleteIcon}`]:e.deleteIcon},{[`& .${nr.deleteIcon}`]:e[`deleteIcon${Ne(l)}`]},{[`& .${nr.deleteIcon}`]:e[`deleteIconColor${Ne(r)}`]},{[`& .${nr.deleteIcon}`]:e[`deleteIcon${Ne(c)}Color${Ne(r)}`]},e.root,e[`size${Ne(l)}`],e[`color${Ne(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${Ne(r)})`],a&&e.deletable,a&&r!=="default"&&e[`deletableColor${Ne(r)}`],e[c],e[`${c}${Ne(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return U({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${nr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${nr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${nr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${nr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${nr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${nr.icon}`]:U({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&U({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${nr.deleteIcon}`]:U({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Yt.alpha(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Yt.alpha(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Yt.alpha(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${nr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Yt.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${nr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>U({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Yt.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${nr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Yt.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${nr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>U({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${nr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${nr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${nr.avatar}`]:{marginLeft:4},[`& .${nr.avatarSmall}`]:{marginLeft:2},[`& .${nr.icon}`]:{marginLeft:4},[`& .${nr.iconSmall}`]:{marginLeft:2},[`& .${nr.deleteIcon}`]:{marginRight:5},[`& .${nr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Yt.alpha(t.palette[e.color].main,.7)}`,[`&.${nr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${nr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Yt.alpha(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${nr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Yt.alpha(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),ope=ze("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ne(r)}`]]}})(({ownerState:t})=>U({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function $N(t){return t.key==="Backspace"||t.key==="Delete"}const Ke=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:f=!1,icon:p,label:m,onClick:y,onDelete:x,onKeyDown:v,onKeyUp:b,size:I="medium",variant:A="filled",tabIndex:S,skipFocusWhenDisabled:k=!1}=r,P=Ye(r,npe),R=C.useRef(null),E=gr(R,n),O=Z=>{Z.stopPropagation(),x&&x(Z)},D=Z=>{Z.currentTarget===Z.target&&$N(Z)&&Z.preventDefault(),v&&v(Z)},L=Z=>{Z.currentTarget===Z.target&&(x&&$N(Z)?x(Z):Z.key==="Escape"&&R.current&&R.current.blur()),b&&b(Z)},$=a!==!1&&y?!0:a,B=$||x?oa:c||"div",N=U({},r,{component:B,disabled:f,size:I,color:l,iconColor:C.isValidElement(p)&&p.props.color||l,onDelete:!!x,clickable:$,variant:A}),q=rpe(N),Y=B===oa?U({component:c||"div",focusVisibleClassName:q.focusVisible},x&&{disableRipple:!0}):{};let ne=null;x&&(ne=d&&C.isValidElement(d)?C.cloneElement(d,{className:Oe(d.props.className,q.deleteIcon),onClick:O}):o.jsx(epe,{className:Oe(q.deleteIcon),onClick:O}));let Q=null;i&&C.isValidElement(i)&&(Q=C.cloneElement(i,{className:Oe(q.avatar,i.props.className)}));let ee=null;return p&&C.isValidElement(p)&&(ee=C.cloneElement(p,{className:Oe(q.icon,p.props.className)})),o.jsxs(ipe,U({as:B,className:Oe(q.root,s),disabled:$&&f?!0:void 0,onClick:y,onKeyDown:D,onKeyUp:L,ref:E,tabIndex:k&&f?-1:S,ownerState:N},Y,P,{children:[Q||ee,o.jsx(ope,{className:Oe(q.label),ownerState:N,children:m}),ne]}))}),spe=["onChange","maxRows","minRows","style","value"];function K0(t){return parseInt(t,10)||0}const ape={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function lpe(t){for(const e in t)return!1;return!0}function LN(t){return lpe(t)||t.outerHeightStyle===0&&!t.overflowing}const cpe=C.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:l}=e,c=Ye(e,spe),{current:d}=C.useRef(l!=null),f=C.useRef(null),p=gr(n,f),m=C.useRef(null),y=C.useRef(null),x=C.useCallback(()=>{const S=f.current,k=y.current;if(!S||!k)return;const R=zo(S).getComputedStyle(S);if(R.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=R.width,k.value=S.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const E=R.boxSizing,O=K0(R.paddingBottom)+K0(R.paddingTop),D=K0(R.borderBottomWidth)+K0(R.borderTopWidth),L=k.scrollHeight;k.value="x";const $=k.scrollHeight;let B=L;s&&(B=Math.max(Number(s)*$,B)),i&&(B=Math.min(Number(i)*$,B)),B=Math.max(B,$);const N=B+(E==="border-box"?O+D:0),q=Math.abs(B-L)<=1;return{outerHeightStyle:N,overflowing:q}},[i,s,e.placeholder]),v=Xi(()=>{const S=f.current,k=x();if(!S||!k||LN(k))return!1;const P=k.outerHeightStyle;return m.current!=null&&m.current!==P}),b=C.useCallback(()=>{const S=f.current,k=x();if(!S||!k||LN(k))return;const P=k.outerHeightStyle;m.current!==P&&(m.current=P,S.style.height=`${P}px`),S.style.overflow=k.overflowing?"hidden":""},[x]),I=C.useRef(-1);So(()=>{const S=qy(b),k=f==null?void 0:f.current;if(!k)return;const P=zo(k);P.addEventListener("resize",S);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(()=>{v()&&(R.unobserve(k),cancelAnimationFrame(I.current),b(),I.current=requestAnimationFrame(()=>{R.observe(k)}))}),R.observe(k)),()=>{S.clear(),cancelAnimationFrame(I.current),P.removeEventListener("resize",S),R&&R.disconnect()}},[x,b,v]),So(()=>{b()});const A=S=>{d||b(),r&&r(S)};return o.jsxs(C.Fragment,{children:[o.jsx("textarea",U({value:l,onChange:A,ref:p,rows:s,style:a},c)),o.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:U({},ape.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function zu({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Bw=C.createContext(void 0);function Sl(){return C.useContext(Bw)}function zN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function z1(t,e=!1){return t&&(zN(t.value)&&t.value!==""||e&&zN(t.defaultValue)&&t.defaultValue!=="")}function upe(t){return t.startAdornment}function dpe(t){return wt("MuiInputBase",t)}const kp=Ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),hpe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Uw=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ne(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},qw=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},fpe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:f,readOnly:p,size:m,startAdornment:y,type:x}=t,v={root:["root",`color${Ne(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",m&&m!=="medium"&&`size${Ne(m)}`,f&&"multiline",y&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",y&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return Pt(v,dpe,e)},Hw=ze("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Uw})(({theme:t,ownerState:e})=>U({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${kp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&U({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Gw=ze("input",{name:"MuiInputBase",slot:"Input",overridesResolver:qw})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=U({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return U({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${kp.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${kp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),ppe=o.jsx(S7,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$R=C.forwardRef(function(e,n){var r;const i=At({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:l,className:c,components:d={},componentsProps:f={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:y,endAdornment:x,fullWidth:v=!1,id:b,inputComponent:I="input",inputProps:A={},inputRef:S,maxRows:k,minRows:P,multiline:R=!1,name:E,onBlur:O,onChange:D,onClick:L,onFocus:$,onKeyDown:B,onKeyUp:N,placeholder:q,readOnly:Y,renderSuffix:ne,rows:Q,slotProps:ee={},slots:Z={},startAdornment:de,type:K="text",value:se}=i,le=Ye(i,hpe),oe=A.value!=null?A.value:se,{current:ge}=C.useRef(oe!=null),fe=C.useRef(),Se=C.useCallback(It=>{},[]),be=gr(fe,S,A.ref,Se),[ce,We]=C.useState(!1),Fe=Sl(),pe=zu({props:i,muiFormControl:Fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=Fe?Fe.focused:ce,C.useEffect(()=>{!Fe&&m&&ce&&(We(!1),O&&O())},[Fe,m,ce,O]);const $e=Fe&&Fe.onFilled,Ce=Fe&&Fe.onEmpty,Je=C.useCallback(It=>{z1(It)?$e&&$e():Ce&&Ce()},[$e,Ce]);So(()=>{ge&&Je({value:oe})},[oe,Je,ge]);const ht=It=>{if(pe.disabled){It.stopPropagation();return}$&&$(It),A.onFocus&&A.onFocus(It),Fe&&Fe.onFocus?Fe.onFocus(It):We(!0)},Xe=It=>{O&&O(It),A.onBlur&&A.onBlur(It),Fe&&Fe.onBlur?Fe.onBlur(It):We(!1)},Lt=(It,...lt)=>{if(!ge){const Zt=It.target||fe.current;if(Zt==null)throw new Error(hc(1));Je({value:Zt.value})}A.onChange&&A.onChange(It,...lt),D&&D(It,...lt)};C.useEffect(()=>{Je(fe.current)},[]);const jt=It=>{fe.current&&It.currentTarget===It.target&&fe.current.focus(),L&&L(It)};let Mt=I,pt=A;R&&Mt==="input"&&(Q?pt=U({type:void 0,minRows:Q,maxRows:Q},pt):pt=U({type:void 0,maxRows:k,minRows:P},pt),Mt=cpe);const Qe=It=>{Je(It.animationName==="mui-auto-fill-cancel"?fe.current:{value:"x"})};C.useEffect(()=>{Fe&&Fe.setAdornedStart(!!de)},[Fe,de]);const at=U({},i,{color:pe.color||"primary",disabled:pe.disabled,endAdornment:x,error:pe.error,focused:pe.focused,formControl:Fe,fullWidth:v,hiddenLabel:pe.hiddenLabel,multiline:R,size:pe.size,startAdornment:de,type:K}),Tt=fpe(at),vn=Z.root||d.Root||Hw,zt=ee.root||f.root||{},mt=Z.input||d.Input||Gw;return pt=U({},pt,(r=ee.input)!=null?r:f.input),o.jsxs(C.Fragment,{children:[!y&&ppe,o.jsxs(vn,U({},zt,!lp(vn)&&{ownerState:U({},at,zt.ownerState)},{ref:n,onClick:jt},le,{className:Oe(Tt.root,zt.className,c,Y&&"MuiInputBase-readOnly"),children:[de,o.jsx(Bw.Provider,{value:null,children:o.jsx(mt,U({ownerState:at,"aria-invalid":pe.error,"aria-describedby":s,autoComplete:a,autoFocus:l,defaultValue:p,disabled:pe.disabled,id:b,onAnimationStart:Qe,name:E,placeholder:q,readOnly:Y,required:pe.required,rows:Q,value:oe,onKeyDown:B,onKeyUp:N,type:K},pt,!lp(mt)&&{as:Mt,ownerState:U({},at,pt.ownerState)},{ref:be,className:Oe(Tt.input,pt.className,Y&&"MuiInputBase-readOnly"),onBlur:Xe,onChange:Lt,onFocus:ht}))}),x,ne?ne(U({},pe,{startAdornment:de})):null]}))]})});function mpe(t){return wt("MuiInput",t)}const yg=U({},kp,Ct("MuiInput",["root","underline","input"]));function gpe(t){return wt("MuiOutlinedInput",t)}const Zc=U({},kp,Ct("MuiOutlinedInput",["root","notchedOutline","input"]));function xpe(t){return wt("MuiFilledInput",t)}const ud=U({},kp,Ct("MuiFilledInput",["root","underline","input"])),ype=et(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vpe=et(o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function bpe(t){return wt("MuiAvatar",t)}Ct("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _pe=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],wpe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Pt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},bpe,e)},jpe=ze("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:U({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:U({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),Spe=ze("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Cpe=ze(vpe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Ppe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=C.useState(!1);return C.useEffect(()=>{if(!n&&!r)return;s(!1);let a=!0;const l=new Image;return l.onload=()=>{a&&s("loaded")},l.onerror=()=>{a&&s("error")},l.crossOrigin=t,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const dn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:a,component:l="div",slots:c={},slotProps:d={},imgProps:f,sizes:p,src:m,srcSet:y,variant:x="circular"}=r,v=Ye(r,_pe);let b=null;const I=Ppe(U({},f,{src:m,srcSet:y})),A=m||y,S=A&&I!=="error",k=U({},r,{colorDefault:!S,component:l,variant:x}),P=wpe(k),[R,E]=$1("img",{className:P.img,elementType:Spe,externalForwardedProps:{slots:c,slotProps:{img:U({},f,d.img)}},additionalProps:{alt:i,src:m,srcSet:y,sizes:p},ownerState:k});return S?b=o.jsx(R,U({},E)):s||s===0?b=s:A&&i?b=i[0]:b=o.jsx(Cpe,{ownerState:k,className:P.fallback}),o.jsx(jpe,U({as:l,ownerState:k,className:Oe(P.root,a),ref:n},v,{children:b}))}),Ape=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Epe={entering:{opacity:1},entered:{opacity:1}},F1=C.forwardRef(function(e,n){const r=Co(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:c,in:d,onEnter:f,onEntered:p,onEntering:m,onExit:y,onExited:x,onExiting:v,style:b,timeout:I=i,TransitionComponent:A=Rs}=e,S=Ye(e,Ape),k=C.useRef(null),P=gr(k,jc(l),n),R=q=>Y=>{if(q){const ne=k.current;Y===void 0?q(ne):q(ne,Y)}},E=R(m),O=R((q,Y)=>{Fw(q);const ne=$a({style:b,timeout:I,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",ne),q.style.transition=r.transitions.create("opacity",ne),f&&f(q,Y)}),D=R(p),L=R(v),$=R(q=>{const Y=$a({style:b,timeout:I,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",Y),q.style.transition=r.transitions.create("opacity",Y),y&&y(q)}),B=R(x),N=q=>{s&&s(k.current,q)};return o.jsx(A,U({appear:a,in:d,nodeRef:k,onEnter:O,onEntered:D,onEntering:E,onExit:$,onExited:B,onExiting:L,addEndListener:N,timeout:I},S,{children:(q,Y)=>C.cloneElement(l,U({style:U({opacity:0,visibility:q==="exited"&&!d?"hidden":void 0},Epe[q],b,l.props.style),ref:P},Y))}))});function Ipe(t){return wt("MuiBackdrop",t)}Ct("MuiBackdrop",["root","invisible"]);const Tpe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],kpe=t=>{const{classes:e,invisible:n}=t;return Pt({root:["root",n&&"invisible"]},Ipe,e)},Rpe=ze("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>U({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Kw=C.forwardRef(function(e,n){var r,i,s;const a=At({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:d="div",components:f={},componentsProps:p={},invisible:m=!1,open:y,slotProps:x={},slots:v={},TransitionComponent:b=F1,transitionDuration:I}=a,A=Ye(a,Tpe),S=U({},a,{component:d,invisible:m}),k=kpe(S),P=(r=x.root)!=null?r:p.root;return o.jsx(b,U({in:y,timeout:I},A,{children:o.jsx(Rpe,U({"aria-hidden":!0},P,{as:(i=(s=v.root)!=null?s:f.Root)!=null?i:d,className:Oe(k.root,c,P==null?void 0:P.className),ownerState:U({},S,P==null?void 0:P.ownerState),classes:k,ref:n,children:l}))}))});function Ope(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,s=f7({badgeContent:e,max:r});let a=n;n===!1&&e===0&&!i&&(a=!0);const{badgeContent:l,max:c=r}=a?s:t,d=l&&Number(l)>c?`${c}+`:l;return{badgeContent:l,invisible:a,max:c,displayValue:d}}function Dpe(t){return wt("MuiBadge",t)}const eu=Ct("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Mpe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],GS=10,KS=4,Npe=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:s,classes:a={}}=t,l={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${Ne(n.vertical)}${Ne(n.horizontal)}`,`anchorOrigin${Ne(n.vertical)}${Ne(n.horizontal)}${Ne(i)}`,`overlap${Ne(i)}`,e!=="default"&&`color${Ne(e)}`]};return Pt(l,Dpe,a)},$pe=ze("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Lpe=ze("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Ne(n.anchorOrigin.vertical)}${Ne(n.anchorOrigin.horizontal)}${Ne(n.overlap)}`],n.color!=="default"&&e[`color${Ne(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:GS*2,lineHeight:1,padding:"0 6px",height:GS*2,borderRadius:GS,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,i;return((r=t.vars)!=null?r:t).palette[n].main&&((i=t.vars)!=null?i:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:KS,height:KS*2,minWidth:KS*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),uG=C.forwardRef(function(e,n){var r,i,s,a,l,c;const d=At({props:e,name:"MuiBadge"}),{anchorOrigin:f={vertical:"top",horizontal:"right"},className:p,component:m,components:y={},componentsProps:x={},children:v,overlap:b="rectangular",color:I="default",invisible:A=!1,max:S=99,badgeContent:k,slots:P,slotProps:R,showZero:E=!1,variant:O="standard"}=d,D=Ye(d,Mpe),{badgeContent:L,invisible:$,max:B,displayValue:N}=Ope({max:S,invisible:A,badgeContent:k,showZero:E}),q=f7({anchorOrigin:f,color:I,overlap:b,variant:O,badgeContent:k}),Y=$||L==null&&O!=="dot",{color:ne=I,overlap:Q=b,anchorOrigin:ee=f,variant:Z=O}=Y?q:d,de=Z!=="dot"?N:void 0,K=U({},d,{badgeContent:L,invisible:Y,max:B,displayValue:de,showZero:E,anchorOrigin:ee,color:ne,overlap:Q,variant:Z}),se=Npe(K),le=(r=(i=P==null?void 0:P.root)!=null?i:y.Root)!=null?r:$pe,oe=(s=(a=P==null?void 0:P.badge)!=null?a:y.Badge)!=null?s:Lpe,ge=(l=R==null?void 0:R.root)!=null?l:x.root,fe=(c=R==null?void 0:R.badge)!=null?c:x.badge,Se=os({elementType:le,externalSlotProps:ge,externalForwardedProps:D,additionalProps:{ref:n,as:m},ownerState:K,className:Oe(ge==null?void 0:ge.className,se.root,p)}),be=os({elementType:oe,externalSlotProps:fe,ownerState:K,className:Oe(se.badge,fe==null?void 0:fe.className)});return o.jsxs(le,U({},Se,{children:[v,o.jsx(oe,U({},be,{children:de}))]}))}),zpe=Ct("MuiBox",["root"]),Fpe=v5(),T=Ote({themeId:op,defaultTheme:Fpe,defaultClassName:zpe.root,generateClassName:n7.generate});function Wpe(t){return wt("MuiButton",t)}const Y0=Ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vpe=C.createContext({}),Bpe=C.createContext(void 0),Upe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],qpe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=t,l={root:["root",s,`${s}${Ne(e)}`,`size${Ne(i)}`,`${s}Size${Ne(i)}`,`color${Ne(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ne(i)}`],endIcon:["icon","endIcon",`iconSize${Ne(i)}`]},c=Pt(l,Wpe,a);return U({},a,c)},dG=t=>U({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Hpe=ze(oa,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ne(n.color)}`],e[`size${Ne(n.size)}`],e[`${n.variant}Size${Ne(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return U({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":U({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":U({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Y0.focusVisible}`]:U({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Y0.disabled}`]:U({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Yt.alpha(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Y0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Y0.disabled}`]:{boxShadow:"none"}}),Gpe=ze("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ne(n.size)}`]]}})(({ownerState:t})=>U({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},dG(t))),Kpe=ze("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ne(n.size)}`]]}})(({ownerState:t})=>U({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},dG(t))),me=C.forwardRef(function(e,n){const r=C.useContext(Vpe),i=C.useContext(Bpe),s=kx(r,e),a=At({props:s,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:f,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:x,focusVisibleClassName:v,fullWidth:b=!1,size:I="medium",startIcon:A,type:S,variant:k="text"}=a,P=Ye(a,Upe),R=U({},a,{color:c,component:d,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:b,size:I,type:S,variant:k}),E=qpe(R),O=A&&o.jsx(Gpe,{className:E.startIcon,ownerState:R,children:A}),D=x&&o.jsx(Kpe,{className:E.endIcon,ownerState:R,children:x}),L=i||"";return o.jsxs(Hpe,U({ownerState:R,className:Oe(r.className,E.root,f,L),component:d,disabled:p,focusRipple:!y,focusVisibleClassName:Oe(E.focusVisible,v),ref:n,type:S},P,{classes:E,children:[O,l,D]}))});function Ype(t){return wt("MuiCard",t)}Ct("MuiCard",["root"]);const Xpe=["className","raised"],Qpe=t=>{const{classes:e}=t;return Pt({root:["root"]},Ype,e)},Jpe=ze(Qi,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Ve=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,a=Ye(r,Xpe),l=U({},r,{raised:s}),c=Qpe(l);return o.jsx(Jpe,U({className:Oe(c.root,i),elevation:s?8:void 0,ref:n,ownerState:l},a))});function Zpe(t){return wt("MuiCardContent",t)}Ct("MuiCardContent",["root"]);const eme=["className","component"],tme=t=>{const{classes:e}=t;return Pt({root:["root"]},Zpe,e)},nme=ze("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),st=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,a=Ye(r,eme),l=U({},r,{component:s}),c=tme(l);return o.jsx(nme,U({as:s,className:Oe(c.root,i),ownerState:l,ref:n},a))});function rme(t){return wt("PrivateSwitchBase",t)}Ct("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ime=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ome=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ne(i)}`],input:["input"]};return Pt(s,rme,e)},sme=ze(oa)(({ownerState:t})=>U({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),ame=ze("input",{shouldForwardProp:Li})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),hG=C.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,className:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:f=!1,icon:p,id:m,inputProps:y,inputRef:x,name:v,onBlur:b,onChange:I,onFocus:A,readOnly:S,required:k=!1,tabIndex:P,type:R,value:E}=e,O=Ye(e,ime),[D,L]=Xd({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),$=Sl(),B=Z=>{A&&A(Z),$&&$.onFocus&&$.onFocus(Z)},N=Z=>{b&&b(Z),$&&$.onBlur&&$.onBlur(Z)},q=Z=>{if(Z.nativeEvent.defaultPrevented)return;const de=Z.target.checked;L(de),I&&I(Z,de)};let Y=c;$&&typeof Y>"u"&&(Y=$.disabled);const ne=R==="checkbox"||R==="radio",Q=U({},e,{checked:D,disabled:Y,disableFocusRipple:d,edge:f}),ee=ome(Q);return o.jsxs(sme,U({component:"span",className:Oe(ee.root,a),centerRipple:!0,focusRipple:!d,disabled:Y,tabIndex:null,role:void 0,onFocus:B,onBlur:N,ownerState:Q,ref:n},O,{children:[o.jsx(ame,U({autoFocus:r,checked:i,defaultChecked:l,className:ee.input,disabled:Y,id:ne?m:void 0,name:v,onChange:q,readOnly:S,ref:x,required:k,ownerState:Q,tabIndex:P,type:R},R==="checkbox"&&E===void 0?{}:{value:E},y)),D?s:p]}))});function lme(t){return wt("MuiCircularProgress",t)}Ct("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cme=["className","color","disableShrink","size","style","thickness","value","variant"];let Yw=t=>t,FN,WN,VN,BN;const tu=44,ume=La(FN||(FN=Yw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),dme=La(WN||(WN=Yw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),hme=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Ne(r)}`],svg:["svg"],circle:["circle",`circle${Ne(n)}`,i&&"circleDisableShrink"]};return Pt(s,lme,e)},fme=ze("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ne(n.color)}`]]}})(({ownerState:t,theme:e})=>U({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&fc(VN||(VN=Yw`
      animation: ${0} 1.4s linear infinite;
    `),ume)),pme=ze("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),mme=ze("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ne(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>U({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&fc(BN||(BN=Yw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),dme)),Jn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:f=0,variant:p="indeterminate"}=r,m=Ye(r,cme),y=U({},r,{color:s,disableShrink:a,size:l,thickness:d,value:f,variant:p}),x=hme(y),v={},b={},I={};if(p==="determinate"){const A=2*Math.PI*((tu-d)/2);v.strokeDasharray=A.toFixed(3),I["aria-valuenow"]=Math.round(f),v.strokeDashoffset=`${((100-f)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return o.jsx(fme,U({className:Oe(x.root,i),style:U({width:l,height:l},b,c),ownerState:y,ref:n,role:"progressbar"},I,m,{children:o.jsx(pme,{className:x.svg,ownerState:y,viewBox:`${tu/2} ${tu/2} ${tu} ${tu}`,children:o.jsx(mme,{className:x.circle,style:v,ownerState:y,cx:tu,cy:tu,r:(tu-d)/2,fill:"none",strokeWidth:d})})}))});function UN(t){return t.substring(2).toLowerCase()}function gme(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function xme(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,a=C.useRef(!1),l=C.useRef(null),c=C.useRef(!1),d=C.useRef(!1);C.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const f=gr(jc(e),l),p=Xi(x=>{const v=d.current;d.current=!1;const b=ri(l.current);if(!c.current||!l.current||"clientX"in x&&gme(x,b))return;if(a.current){a.current=!1;return}let I;x.composedPath?I=x.composedPath().indexOf(l.current)>-1:I=!b.documentElement.contains(x.target)||l.current.contains(x.target),!I&&(n||!v)&&i(x)}),m=x=>v=>{d.current=!0;const b=e.props[x];b&&b(v)},y={ref:f};return s!==!1&&(y[s]=m(s)),C.useEffect(()=>{if(s!==!1){const x=UN(s),v=ri(l.current),b=()=>{a.current=!0};return v.addEventListener(x,p),v.addEventListener("touchmove",b),()=>{v.removeEventListener(x,p),v.removeEventListener("touchmove",b)}}},[p,s]),r!==!1&&(y[r]=m(r)),C.useEffect(()=>{if(r!==!1){const x=UN(r),v=ri(l.current);return v.addEventListener(x,p),()=>{v.removeEventListener(x,p)}}},[p,r]),o.jsx(C.Fragment,{children:C.cloneElement(e,y)})}const di=Tne({createStyledComponent:ze("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ne(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>At({props:t,name:"MuiContainer"})});function yme(t){const e=ri(t);return e.body===t?zo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xx(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function qN(t){return parseInt(zo(t).getComputedStyle(t).paddingRight,10)||0}function vme(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function HN(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,a=>{const l=s.indexOf(a)===-1,c=!vme(a);l&&c&&xx(a,i)})}function YS(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function bme(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(yme(r)){const a=d7(ri(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${qN(r)+a}px`;const l=ri(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${qN(c)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ri(r).body;else{const a=r.parentElement,l=zo(r);s=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:l})=>{s?a.style.setProperty(l,s):a.style.removeProperty(l)})}}function _me(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class wme{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&xx(e.modalRef,!1);const i=_me(n);HN(n,e.mount,e.modalRef,i,!0);const s=YS(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=YS(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=bme(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=YS(this.containers,a=>a.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&xx(e.modalRef,n),HN(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&xx(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const jme=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Sme(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Cme(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Pme(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Cme(t))}function Ame(t){const e=[],n=[];return Array.from(t.querySelectorAll(jme)).forEach((r,i)=>{const s=Sme(r);s===-1||!Pme(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Eme(){return!0}function Ime(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Ame,isEnabled:a=Eme,open:l}=t,c=C.useRef(!1),d=C.useRef(null),f=C.useRef(null),p=C.useRef(null),m=C.useRef(null),y=C.useRef(!1),x=C.useRef(null),v=gr(jc(e),x),b=C.useRef(null);C.useEffect(()=>{!l||!x.current||(y.current=!n)},[n,l]),C.useEffect(()=>{if(!l||!x.current)return;const S=ri(x.current);return x.current.contains(S.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),y.current&&x.current.focus()),()=>{i||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),C.useEffect(()=>{if(!l||!x.current)return;const S=ri(x.current),k=E=>{b.current=E,!(r||!a()||E.key!=="Tab")&&S.activeElement===x.current&&E.shiftKey&&(c.current=!0,f.current&&f.current.focus())},P=()=>{const E=x.current;if(E===null)return;if(!S.hasFocus()||!a()||c.current){c.current=!1;return}if(E.contains(S.activeElement)||r&&S.activeElement!==d.current&&S.activeElement!==f.current)return;if(S.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let O=[];if((S.activeElement===d.current||S.activeElement===f.current)&&(O=s(x.current)),O.length>0){var D,L;const $=!!((D=b.current)!=null&&D.shiftKey&&((L=b.current)==null?void 0:L.key)==="Tab"),B=O[0],N=O[O.length-1];typeof B!="string"&&typeof N!="string"&&($?N.focus():B.focus())}else E.focus()};S.addEventListener("focusin",P),S.addEventListener("keydown",k,!0);const R=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(R),S.removeEventListener("focusin",P),S.removeEventListener("keydown",k,!0)}},[n,r,i,a,l,s]);const I=S=>{p.current===null&&(p.current=S.relatedTarget),y.current=!0,m.current=S.target;const k=e.props.onFocus;k&&k(S)},A=S=>{p.current===null&&(p.current=S.relatedTarget),y.current=!0};return o.jsxs(C.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:d,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:v,onFocus:I}),o.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:f,"data-testid":"sentinelEnd"})]})}function Tme(t){return typeof t=="function"?t():t}function kme(t){return t?t.props.hasOwnProperty("in"):!1}const Rme=new wme;function Ome(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Rme,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:f,rootRef:p}=t,m=C.useRef({}),y=C.useRef(null),x=C.useRef(null),v=gr(x,p),[b,I]=C.useState(!f),A=kme(c);let S=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(S=!1);const k=()=>ri(y.current),P=()=>(m.current.modalRef=x.current,m.current.mount=y.current,m.current),R=()=>{i.mount(P(),{disableScrollLock:r}),x.current&&(x.current.scrollTop=0)},E=Xi(()=>{const ne=Tme(e)||k().body;i.add(P(),ne),x.current&&R()}),O=C.useCallback(()=>i.isTopModal(P()),[i]),D=Xi(ne=>{y.current=ne,ne&&(f&&O()?R():x.current&&xx(x.current,S))}),L=C.useCallback(()=>{i.remove(P(),S)},[S,i]);C.useEffect(()=>()=>{L()},[L]),C.useEffect(()=>{f?E():(!A||!s)&&L()},[f,L,A,s,E]);const $=ne=>Q=>{var ee;(ee=ne.onKeyDown)==null||ee.call(ne,Q),!(Q.key!=="Escape"||Q.which===229||!O())&&(n||(Q.stopPropagation(),d&&d(Q,"escapeKeyDown")))},B=ne=>Q=>{var ee;(ee=ne.onClick)==null||ee.call(ne,Q),Q.target===Q.currentTarget&&d&&d(Q,"backdropClick")};return{getRootProps:(ne={})=>{const Q=s1(t);delete Q.onTransitionEnter,delete Q.onTransitionExited;const ee=U({},Q,ne);return U({role:"presentation"},ee,{onKeyDown:$(ee),ref:v})},getBackdropProps:(ne={})=>{const Q=ne;return U({"aria-hidden":!0},Q,{onClick:B(Q),open:f})},getTransitionProps:()=>{const ne=()=>{I(!1),a&&a()},Q=()=>{I(!0),l&&l(),s&&L()};return{onEnter:SI(ne,c==null?void 0:c.props.onEnter),onExited:SI(Q,c==null?void 0:c.props.onExited)}},rootRef:v,portalRef:D,isTopModal:O,exited:b,hasTransition:A}}function Dme(t){return wt("MuiModal",t)}Ct("MuiModal",["root","hidden","backdrop"]);const Mme=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Nme=t=>{const{open:e,exited:n,classes:r}=t;return Pt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Dme,r)},$me=ze("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>U({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Lme=ze(Kw,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),LR=C.forwardRef(function(e,n){var r,i,s,a,l,c;const d=At({name:"MuiModal",props:e}),{BackdropComponent:f=Lme,BackdropProps:p,className:m,closeAfterTransition:y=!1,children:x,container:v,component:b,components:I={},componentsProps:A={},disableAutoFocus:S=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:P=!1,disablePortal:R=!1,disableRestoreFocus:E=!1,disableScrollLock:O=!1,hideBackdrop:D=!1,keepMounted:L=!1,onBackdropClick:$,open:B,slotProps:N,slots:q}=d,Y=Ye(d,Mme),ne=U({},d,{closeAfterTransition:y,disableAutoFocus:S,disableEnforceFocus:k,disableEscapeKeyDown:P,disablePortal:R,disableRestoreFocus:E,disableScrollLock:O,hideBackdrop:D,keepMounted:L}),{getRootProps:Q,getBackdropProps:ee,getTransitionProps:Z,portalRef:de,isTopModal:K,exited:se,hasTransition:le}=Ome(U({},ne,{rootRef:n})),oe=U({},ne,{exited:se}),ge=Nme(oe),fe={};if(x.props.tabIndex===void 0&&(fe.tabIndex="-1"),le){const{onEnter:$e,onExited:Ce}=Z();fe.onEnter=$e,fe.onExited=Ce}const Se=(r=(i=q==null?void 0:q.root)!=null?i:I.Root)!=null?r:$me,be=(s=(a=q==null?void 0:q.backdrop)!=null?a:I.Backdrop)!=null?s:f,ce=(l=N==null?void 0:N.root)!=null?l:A.root,We=(c=N==null?void 0:N.backdrop)!=null?c:A.backdrop,Fe=os({elementType:Se,externalSlotProps:ce,externalForwardedProps:Y,getSlotProps:Q,additionalProps:{ref:n,as:b},ownerState:oe,className:Oe(m,ce==null?void 0:ce.className,ge==null?void 0:ge.root,!oe.open&&oe.exited&&(ge==null?void 0:ge.hidden))}),pe=os({elementType:be,externalSlotProps:We,additionalProps:p,getSlotProps:$e=>ee(U({},$e,{onClick:Ce=>{$&&$(Ce),$e!=null&&$e.onClick&&$e.onClick(Ce)}})),className:Oe(We==null?void 0:We.className,p==null?void 0:p.className,ge==null?void 0:ge.backdrop),ownerState:oe});return!L&&!B&&(!le||se)?null:o.jsx(lG,{ref:de,container:v,disablePortal:R,children:o.jsxs(Se,U({},Fe,{children:[!D&&f?o.jsx(be,U({},pe)):null,o.jsx(Ime,{disableEnforceFocus:k,disableAutoFocus:S,disableRestoreFocus:E,isEnabled:K,open:B,children:C.cloneElement(x,fe)})]}))})});function zme(t){return wt("MuiDialog",t)}const XS=Ct("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fG=C.createContext({}),Fme=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Wme=ze(Kw,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Vme=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,a={root:["root"],container:["container",`scroll${Ne(n)}`],paper:["paper",`paperScroll${Ne(n)}`,`paperWidth${Ne(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Pt(a,zme,e)},Bme=ze(LR,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Ume=ze("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ne(n.scroll)}`]]}})(({ownerState:t})=>U({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),qme=ze(Qi,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ne(n.scroll)}`],e[`paperWidth${Ne(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>U({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${XS.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${XS.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${XS.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),In=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDialog"}),i=Co(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,BackdropComponent:c,BackdropProps:d,children:f,className:p,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:x=!1,maxWidth:v="sm",onBackdropClick:b,onClick:I,onClose:A,open:S,PaperComponent:k=Qi,PaperProps:P={},scroll:R="paper",TransitionComponent:E=F1,transitionDuration:O=s,TransitionProps:D}=r,L=Ye(r,Fme),$=U({},r,{disableEscapeKeyDown:m,fullScreen:y,fullWidth:x,maxWidth:v,scroll:R}),B=Vme($),N=C.useRef(),q=ee=>{N.current=ee.target===ee.currentTarget},Y=ee=>{I&&I(ee),N.current&&(N.current=null,b&&b(ee),A&&A(ee,"backdropClick"))},ne=Hy(l),Q=C.useMemo(()=>({titleId:ne}),[ne]);return o.jsx(Bme,U({className:Oe(B.root,p),closeAfterTransition:!0,components:{Backdrop:Wme},componentsProps:{backdrop:U({transitionDuration:O,as:c},d)},disableEscapeKeyDown:m,onClose:A,open:S,ref:n,onClick:Y,ownerState:$},L,{children:o.jsx(E,U({appear:!0,in:S,timeout:O,role:"presentation"},D,{children:o.jsx(Ume,{className:Oe(B.container),onMouseDown:q,ownerState:$,children:o.jsx(qme,U({as:k,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":ne},P,{className:Oe(B.paper,P.className),ownerState:$,children:o.jsx(fG.Provider,{value:Q,children:f})}))})}))}))});function Hme(t){return wt("MuiDialogActions",t)}Ct("MuiDialogActions",["root","spacing"]);const Gme=["className","disableSpacing"],Kme=t=>{const{classes:e,disableSpacing:n}=t;return Pt({root:["root",!n&&"spacing"]},Hme,e)},Yme=ze("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>U({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),$n=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,a=Ye(r,Gme),l=U({},r,{disableSpacing:s}),c=Kme(l);return o.jsx(Yme,U({className:Oe(c.root,i),ownerState:l,ref:n},a))});function Xme(t){return wt("MuiDialogContent",t)}Ct("MuiDialogContent",["root","dividers"]);function Qme(t){return wt("MuiDialogTitle",t)}const Jme=Ct("MuiDialogTitle",["root"]),Zme=["className","dividers"],ege=t=>{const{classes:e,dividers:n}=t;return Pt({root:["root",n&&"dividers"]},Xme,e)},tge=ze("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>U({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Jme.root} + &`]:{paddingTop:0}})),Tn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,a=Ye(r,Zme),l=U({},r,{dividers:s}),c=ege(l);return o.jsx(tge,U({className:Oe(c.root,i),ownerState:l,ref:n},a))}),nge=["className","id"],rge=t=>{const{classes:e}=t;return Pt({root:["root"]},Qme,e)},ige=ze(w,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),kn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,a=Ye(r,nge),l=r,c=rge(l),{titleId:d=s}=C.useContext(fG);return o.jsx(ige,U({component:"h2",className:Oe(c.root,i),ownerState:l,ref:n,variant:"h6",id:s??d},a))});function oge(t){return wt("MuiDivider",t)}const GN=Ct("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),sge=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],age=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:a,textAlign:l,variant:c}=t;return Pt({root:["root",e&&"absolute",c,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},oge,r)},lge=ze("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>U({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Yt.alpha(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>U({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>U({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>U({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>U({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),cge=ze("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>U({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Nn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,component:l=s?"div":"hr",flexItem:c=!1,light:d=!1,orientation:f="horizontal",role:p=l!=="hr"?"separator":void 0,textAlign:m="center",variant:y="fullWidth"}=r,x=Ye(r,sge),v=U({},r,{absolute:i,component:l,flexItem:c,light:d,orientation:f,role:p,textAlign:m,variant:y}),b=age(v);return o.jsx(lge,U({as:l,className:Oe(b.root,a),role:p,ref:n,ownerState:v},x,{children:s?o.jsx(cge,{className:b.wrapper,ownerState:v,children:s}):null}))});Nn.muiSkipListHighlight=!0;const uge=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function dge(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=zo(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const d=s.getComputedStyle(e);a=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let l=0,c=0;if(a&&a!=="none"&&typeof a=="string"){const d=a.split("(")[1].split(")")[0].split(",");l=parseInt(d[4],10),c=parseInt(d[5],10)}return t==="left"?i?`translateX(${i.right+l-r.left}px)`:`translateX(${s.innerWidth+l-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:t==="up"?i?`translateY(${i.bottom+c-r.top}px)`:`translateY(${s.innerHeight+c-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function hge(t){return typeof t=="function"?t():t}function X0(t,e,n){const r=hge(n),i=dge(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const zR=C.forwardRef(function(e,n){const r=Co(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,container:d,direction:f="down",easing:p=i,in:m,onEnter:y,onEntered:x,onEntering:v,onExit:b,onExited:I,onExiting:A,style:S,timeout:k=s,TransitionComponent:P=Rs}=e,R=Ye(e,uge),E=C.useRef(null),O=gr(jc(c),E,n),D=ee=>Z=>{ee&&(Z===void 0?ee(E.current):ee(E.current,Z))},L=D((ee,Z)=>{X0(f,ee,d),Fw(ee),y&&y(ee,Z)}),$=D((ee,Z)=>{const de=$a({timeout:k,style:S,easing:p},{mode:"enter"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",U({},de)),ee.style.transition=r.transitions.create("transform",U({},de)),ee.style.webkitTransform="none",ee.style.transform="none",v&&v(ee,Z)}),B=D(x),N=D(A),q=D(ee=>{const Z=$a({timeout:k,style:S,easing:p},{mode:"exit"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",Z),ee.style.transition=r.transitions.create("transform",Z),X0(f,ee,d),b&&b(ee)}),Y=D(ee=>{ee.style.webkitTransition="",ee.style.transition="",I&&I(ee)}),ne=ee=>{a&&a(E.current,ee)},Q=C.useCallback(()=>{E.current&&X0(f,E.current,d)},[f,d]);return C.useEffect(()=>{if(m||f==="down"||f==="right")return;const ee=qy(()=>{E.current&&X0(f,E.current,d)}),Z=zo(E.current);return Z.addEventListener("resize",ee),()=>{ee.clear(),Z.removeEventListener("resize",ee)}},[f,m,d]),C.useEffect(()=>{m||Q()},[m,Q]),o.jsx(P,U({nodeRef:E,onEnter:L,onEntered:B,onEntering:$,onExit:q,onExited:Y,onExiting:N,addEndListener:ne,appear:l,in:m,timeout:k},R,{children:(ee,Z)=>C.cloneElement(c,U({ref:O,style:U({visibility:ee==="exited"&&!m?"hidden":void 0},S,c.props.style)},Z))}))});function fge(t){return wt("MuiDrawer",t)}Ct("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const pge=["BackdropProps"],mge=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],pG=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},gge=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ne(n)}`,r!=="temporary"&&`paperAnchorDocked${Ne(n)}`]};return Pt(i,fge,e)},xge=ze(LR,{name:"MuiDrawer",slot:"Root",overridesResolver:pG})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),KN=ze("div",{shouldForwardProp:Li,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:pG})({flex:"0 0 auto"}),yge=ze(Qi,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${Ne(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${Ne(n.anchor)}`]]}})(({theme:t,ownerState:e})=>U({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),mG={left:"right",right:"left",top:"down",bottom:"up"};function Ed(t){return["left","right"].indexOf(t)!==-1}function Xg({direction:t},e){return t==="rtl"&&Ed(e)?mG[e]:e}const gG=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiDrawer"}),i=Co(),s=um(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:c,children:d,className:f,elevation:p=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y}={},onClose:x,open:v=!1,PaperProps:b={},SlideProps:I,TransitionComponent:A=zR,transitionDuration:S=a,variant:k="temporary"}=r,P=Ye(r.ModalProps,pge),R=Ye(r,mge),E=C.useRef(!1);C.useEffect(()=>{E.current=!0},[]);const O=Xg({direction:s?"rtl":"ltr"},l),L=U({},r,{anchor:l,elevation:p,open:v,variant:k},R),$=gge(L),B=o.jsx(yge,U({elevation:k==="temporary"?p:0,square:!0},b,{className:Oe($.paper,b.className),ownerState:L,children:d}));if(k==="permanent")return o.jsx(KN,U({className:Oe($.root,$.docked,f),ownerState:L,ref:n},R,{children:B}));const N=o.jsx(A,U({in:v,direction:mG[O],timeout:S,appear:E.current},I,{children:B}));return k==="persistent"?o.jsx(KN,U({className:Oe($.root,$.docked,f),ownerState:L,ref:n},R,{children:N})):o.jsx(xge,U({BackdropProps:U({},c,y,{transitionDuration:S}),className:Oe($.root,$.modal,f),open:v,ownerState:L,onClose:x,hideBackdrop:m,ref:n},R,P,{children:N}))});function vge(t){return wt("MuiFab",t)}const YN=Ct("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),bge=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],_ge=t=>{const{color:e,variant:n,classes:r,size:i}=t,s={root:["root",n,`size${Ne(i)}`,e==="inherit"?"colorInherit":e]},a=Pt(s,vge,r);return U({},r,a)},wge=ze(oa,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Li(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ne(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ne(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return U({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${YN.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>U({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${YN.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),FR=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiFab"}),{children:i,className:s,color:a="default",component:l="button",disabled:c=!1,disableFocusRipple:d=!1,focusVisibleClassName:f,size:p="large",variant:m="circular"}=r,y=Ye(r,bge),x=U({},r,{color:a,component:l,disabled:c,disableFocusRipple:d,size:p,variant:m}),v=_ge(x);return o.jsx(wge,U({className:Oe(v.root,s),component:l,disabled:c,focusRipple:!d,focusVisibleClassName:Oe(v.focusVisible,f),ownerState:x,ref:n},y,{classes:v,children:i}))}),jge=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Sge=t=>{const{classes:e,disableUnderline:n}=t,i=Pt({root:["root",!n&&"underline"],input:["input"]},xpe,e);return U({},e,i)},Cge=ze(Hw,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Uw(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return U({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ud.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ud.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ud.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ud.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ud.disabled}, .${ud.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ud.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&U({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Pge=ze(Gw,{name:"MuiFilledInput",slot:"Input",overridesResolver:qw})(({theme:t,ownerState:e})=>U({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),WR=C.forwardRef(function(e,n){var r,i,s,a;const l=At({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:f=!1,inputComponent:p="input",multiline:m=!1,slotProps:y,slots:x={},type:v="text"}=l,b=Ye(l,jge),I=U({},l,{fullWidth:f,inputComponent:p,multiline:m,type:v}),A=Sge(l),S={root:{ownerState:I},input:{ownerState:I}},k=y??d?Lo(S,y??d):S,P=(r=(i=x.root)!=null?i:c.Root)!=null?r:Cge,R=(s=(a=x.input)!=null?a:c.Input)!=null?s:Pge;return o.jsx($R,U({slots:{root:P,input:R},componentsProps:k,fullWidth:f,inputComponent:p,multiline:m,ref:n,type:v},b,{classes:A}))});WR.muiName="Input";function Age(t){return wt("MuiFormControl",t)}Ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ege=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ige=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ne(n)}`,r&&"fullWidth"]};return Pt(i,Age,e)},Tge=ze("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>U({},e.root,e[`margin${Ne(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>U({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),hn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:f,fullWidth:p=!1,hiddenLabel:m=!1,margin:y="none",required:x=!1,size:v="medium",variant:b="outlined"}=r,I=Ye(r,Ege),A=U({},r,{color:a,component:l,disabled:c,error:d,fullWidth:p,hiddenLabel:m,margin:y,required:x,size:v,variant:b}),S=Ige(A),[k,P]=C.useState(()=>{let N=!1;return i&&C.Children.forEach(i,q=>{if(!nx(q,["Input","Select"]))return;const Y=nx(q,["Select"])?q.props.input:q;Y&&upe(Y.props)&&(N=!0)}),N}),[R,E]=C.useState(()=>{let N=!1;return i&&C.Children.forEach(i,q=>{nx(q,["Input","Select"])&&(z1(q.props,!0)||z1(q.props.inputProps,!0))&&(N=!0)}),N}),[O,D]=C.useState(!1);c&&O&&D(!1);const L=f!==void 0&&!c?f:O;let $;const B=C.useMemo(()=>({adornedStart:k,setAdornedStart:P,color:a,disabled:c,error:d,filled:R,focused:L,fullWidth:p,hiddenLabel:m,size:v,onBlur:()=>{D(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{D(!0)},registerEffect:$,required:x,variant:b}),[k,a,c,d,R,L,p,m,$,x,v,b]);return o.jsx(Bw.Provider,{value:B,children:o.jsx(Tge,U({as:l,ownerState:A,className:Oe(S.root,s),ref:n},I,{children:i}))})}),kf=Lne({createStyledComponent:ze("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>At({props:t,name:"MuiStack"})});function kge(t){return wt("MuiFormControlLabel",t)}const Qg=Ct("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Rge=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Oge=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,a={root:["root",n&&"disabled",`labelPlacement${Ne(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Pt(a,kge,e)},Dge=ze("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Qg.label}`]:e.label},e.root,e[`labelPlacement${Ne(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>U({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Qg.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Qg.label}`]:{[`&.${Qg.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Mge=ze("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Qg.error}`]:{color:(t.vars||t).palette.error.main}})),ei=C.forwardRef(function(e,n){var r,i;const s=At({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:l={},control:c,disabled:d,disableTypography:f,label:p,labelPlacement:m="end",required:y,slotProps:x={}}=s,v=Ye(s,Rge),b=Sl(),I=(r=d??c.props.disabled)!=null?r:b==null?void 0:b.disabled,A=y??c.props.required,S={disabled:I,required:A};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof c.props[D]>"u"&&typeof s[D]<"u"&&(S[D]=s[D])});const k=zu({props:s,muiFormControl:b,states:["error"]}),P=U({},s,{disabled:I,labelPlacement:m,required:A,error:k.error}),R=Oge(P),E=(i=x.typography)!=null?i:l.typography;let O=p;return O!=null&&O.type!==w&&!f&&(O=o.jsx(w,U({component:"span"},E,{className:Oe(R.label,E==null?void 0:E.className),children:O}))),o.jsxs(Dge,U({className:Oe(R.root,a),ownerState:P,ref:n},v,{children:[C.cloneElement(c,S),A?o.jsxs(kf,{display:"block",children:[O,o.jsxs(Mge,{ownerState:P,"aria-hidden":!0,className:R.asterisk,children:[" ","*"]})]}):O]}))});function Nge(t){return wt("MuiFormGroup",t)}Ct("MuiFormGroup",["root","row","error"]);const $ge=["className","row"],Lge=t=>{const{classes:e,row:n,error:r}=t;return Pt({root:["root",n&&"row",r&&"error"]},Nge,e)},zge=ze("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>U({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Fge=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,a=Ye(r,$ge),l=Sl(),c=zu({props:r,muiFormControl:l,states:["error"]}),d=U({},r,{row:s,error:c.error}),f=Lge(d);return o.jsx(zge,U({className:Oe(f.root,i),ownerState:d,ref:n},a))});function Wge(t){return wt("MuiFormHelperText",t)}const XN=Ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var QN;const Vge=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Bge=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:a,focused:l,required:c}=t,d={root:["root",i&&"disabled",s&&"error",r&&`size${Ne(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return Pt(d,Wge,e)},Uge=ze("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ne(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>U({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${XN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${XN.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),xT=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p"}=r,l=Ye(r,Vge),c=Sl(),d=zu({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),f=U({},r,{component:a,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=Bge(f);return o.jsx(Uge,U({as:a,ownerState:f,className:Oe(p.root,s),ref:n},l,{children:i===" "?QN||(QN=o.jsx("span",{className:"notranslate",children:"​"})):i}))});function qge(t){return wt("MuiFormLabel",t)}const yx=Ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Hge=["children","className","color","component","disabled","error","filled","focused","required"],Gge=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:a,required:l}=t,c={root:["root",`color${Ne(n)}`,i&&"disabled",s&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return Pt(c,qge,e)},Kge=ze("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>U({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>U({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yx.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${yx.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yx.error}`]:{color:(t.vars||t).palette.error.main}})),Yge=ze("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${yx.error}`]:{color:(t.vars||t).palette.error.main}})),Xge=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:a="label"}=r,l=Ye(r,Hge),c=Sl(),d=zu({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),f=U({},r,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=Gge(f);return o.jsxs(Kge,U({as:a,ownerState:f,className:Oe(p.root,s),ref:n},l,{children:[i,d.required&&o.jsxs(Yge,{ownerState:f,"aria-hidden":!0,className:p.asterisk,children:[" ","*"]})]}))}),JN=C.createContext();function Qge(t){return wt("MuiGrid",t)}const Jge=[0,1,2,3,4,5,6,7,8,9,10],Zge=["column-reverse","column","row-reverse","row"],exe=["nowrap","wrap-reverse","wrap"],vg=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Xx=Ct("MuiGrid",["root","container","item","zeroMinWidth",...Jge.map(t=>`spacing-xs-${t}`),...Zge.map(t=>`direction-xs-${t}`),...exe.map(t=>`wrap-xs-${t}`),...vg.map(t=>`grid-xs-${t}`),...vg.map(t=>`grid-sm-${t}`),...vg.map(t=>`grid-md-${t}`),...vg.map(t=>`grid-lg-${t}`),...vg.map(t=>`grid-xl-${t}`)]),txe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Jf(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function nxe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=Wd({values:e.columns,breakpoints:t.breakpoints.values}),l=typeof a=="object"?a[i]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let d={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const p=`calc(${c} + ${Jf(f)})`;d={flexBasis:p,maxWidth:p}}}s=U({flexBasis:c,flexGrow:0,maxWidth:c},d)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function rxe({theme:t,ownerState:e}){const n=Wd({values:e.direction,breakpoints:t.breakpoints.values});return is({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Xx.item}`]={maxWidth:"none"}),i})}function xG({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function ixe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Wd({values:r,breakpoints:t.breakpoints.values});let a;typeof s=="object"&&(a=xG({breakpoints:t.breakpoints.values,values:s})),i=is({theme:t},s,(l,c)=>{var d;const f=t.spacing(l);return f!=="0px"?{marginTop:`-${Jf(f)}`,[`& > .${Xx.item}`]:{paddingTop:Jf(f)}}:(d=a)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Xx.item}`]:{paddingTop:0}}})}return i}function oxe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Wd({values:r,breakpoints:t.breakpoints.values});let a;typeof s=="object"&&(a=xG({breakpoints:t.breakpoints.values,values:s})),i=is({theme:t},s,(l,c)=>{var d;const f=t.spacing(l);return f!=="0px"?{width:`calc(100% + ${Jf(f)})`,marginLeft:`-${Jf(f)}`,[`& > .${Xx.item}`]:{paddingLeft:Jf(f)}}:(d=a)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Xx.item}`]:{paddingLeft:0}}})}return i}function sxe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const axe=ze("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=n;let f=[];r&&(f=sxe(a,d,e));const p=[];return d.forEach(m=>{const y=n[m];y&&p.push(e[`grid-${m}-${String(y)}`])}),[e.root,r&&e.container,s&&e.item,c&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],l!=="wrap"&&e[`wrap-xs-${String(l)}`],...p]}})(({ownerState:t})=>U({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),rxe,ixe,oxe,nxe);function lxe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const cxe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=t;let d=[];n&&(d=lxe(s,c));const f=[];c.forEach(m=>{const y=t[m];y&&f.push(`grid-${m}-${String(y)}`)});const p={root:["root",n&&"container",i&&"item",l&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...f]};return Pt(p,Qge,e)},V=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiGrid"}),{breakpoints:i}=Co(),s=Uy(r),{className:a,columns:l,columnSpacing:c,component:d="div",container:f=!1,direction:p="row",item:m=!1,rowSpacing:y,spacing:x=0,wrap:v="wrap",zeroMinWidth:b=!1}=s,I=Ye(s,txe),A=y||x,S=c||x,k=C.useContext(JN),P=f?l||12:k,R={},E=U({},I);i.keys.forEach(L=>{I[L]!=null&&(R[L]=I[L],delete E[L])});const O=U({},s,{columns:P,container:f,direction:p,item:m,rowSpacing:A,columnSpacing:S,wrap:v,zeroMinWidth:b,spacing:x},R,{breakpoints:i.keys}),D=cxe(O);return o.jsx(JN.Provider,{value:P,children:o.jsx(axe,U({ownerState:O,className:Oe(D.root,a),as:d,ref:n},E))})}),uxe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function yT(t){return`scale(${t}, ${t**2})`}const dxe={entering:{opacity:1,transform:yT(1)},entered:{opacity:1,transform:"none"}},QS=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Qx=C.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:l,onEnter:c,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:x,timeout:v="auto",TransitionComponent:b=Rs}=e,I=Ye(e,uxe),A=Ql(),S=C.useRef(),k=Co(),P=C.useRef(null),R=gr(P,jc(s),n),E=Y=>ne=>{if(Y){const Q=P.current;ne===void 0?Y(Q):Y(Q,ne)}},O=E(f),D=E((Y,ne)=>{Fw(Y);const{duration:Q,delay:ee,easing:Z}=$a({style:x,timeout:v,easing:a},{mode:"enter"});let de;v==="auto"?(de=k.transitions.getAutoHeightDuration(Y.clientHeight),S.current=de):de=Q,Y.style.transition=[k.transitions.create("opacity",{duration:de,delay:ee}),k.transitions.create("transform",{duration:QS?de:de*.666,delay:ee,easing:Z})].join(","),c&&c(Y,ne)}),L=E(d),$=E(y),B=E(Y=>{const{duration:ne,delay:Q,easing:ee}=$a({style:x,timeout:v,easing:a},{mode:"exit"});let Z;v==="auto"?(Z=k.transitions.getAutoHeightDuration(Y.clientHeight),S.current=Z):Z=ne,Y.style.transition=[k.transitions.create("opacity",{duration:Z,delay:Q}),k.transitions.create("transform",{duration:QS?Z:Z*.666,delay:QS?Q:Q||Z*.333,easing:ee})].join(","),Y.style.opacity=0,Y.style.transform=yT(.75),p&&p(Y)}),N=E(m),q=Y=>{v==="auto"&&A.start(S.current||0,Y),r&&r(P.current,Y)};return o.jsx(b,U({appear:i,in:l,nodeRef:P,onEnter:D,onEntered:L,onEntering:O,onExit:B,onExited:N,onExiting:$,addEndListener:q,timeout:v==="auto"?null:v},I,{children:(Y,ne)=>C.cloneElement(s,U({style:U({opacity:0,transform:yT(.75),visibility:Y==="exited"&&!l?"hidden":void 0},dxe[Y],x,s.props.style),ref:R},ne))}))});Qx.muiSupportAuto=!0;const hxe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],fxe=t=>{const{classes:e,disableUnderline:n}=t,i=Pt({root:["root",!n&&"underline"],input:["input"]},mpe,e);return U({},e,i)},pxe=ze(Hw,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Uw(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),U({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yg.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yg.disabled}, .${yg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${yg.disabled}:before`]:{borderBottomStyle:"dotted"}})}),mxe=ze(Gw,{name:"MuiInput",slot:"Input",overridesResolver:qw})({}),VR=C.forwardRef(function(e,n){var r,i,s,a;const l=At({props:e,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:f,fullWidth:p=!1,inputComponent:m="input",multiline:y=!1,slotProps:x,slots:v={},type:b="text"}=l,I=Ye(l,hxe),A=fxe(l),k={root:{ownerState:{disableUnderline:c}}},P=x??f?Lo(x??f,k):k,R=(r=(i=v.root)!=null?i:d.Root)!=null?r:pxe,E=(s=(a=v.input)!=null?a:d.Input)!=null?s:mxe;return o.jsx($R,U({slots:{root:R,input:E},slotProps:P,fullWidth:p,inputComponent:m,multiline:y,ref:n,type:b},I,{classes:A}))});VR.muiName="Input";function gxe(t){return wt("MuiInputAdornment",t)}const ZN=Ct("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var e$;const xxe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],yxe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ne(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},vxe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:a}=t,l={root:["root",n&&"disablePointerEvents",i&&`position${Ne(i)}`,a,r&&"hiddenLabel",s&&`size${Ne(s)}`]};return Pt(l,gxe,e)},bxe=ze("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:yxe})(({theme:t,ownerState:e})=>U({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${ZN.positionStart}&:not(.${ZN.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Bn=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:d,variant:f}=r,p=Ye(r,xxe),m=Sl()||{};let y=f;f&&m.variant,m&&!y&&(y=m.variant);const x=U({},r,{hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:l,position:d,variant:y}),v=vxe(x);return o.jsx(Bw.Provider,{value:null,children:o.jsx(bxe,U({as:a,ownerState:x,className:Oe(v.root,s),ref:n},p,{children:typeof i=="string"&&!c?o.jsx(w,{color:"text.secondary",children:i}):o.jsxs(C.Fragment,{children:[d==="start"?e$||(e$=o.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})});function _xe(t){return wt("MuiInputLabel",t)}Ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wxe=["disableAnimation","margin","shrink","variant","className"],jxe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ne(r)}`,a],asterisk:[l&&"asterisk"]},d=Pt(c,_xe,e);return U({},e,d)},Sxe=ze(Xge,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${yx.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>U({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&U({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&U({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&U({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),jn=C.forwardRef(function(e,n){const r=At({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:a}=r,l=Ye(r,wxe),c=Sl();let d=s;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const f=zu({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=U({},r,{disableAnimation:i,formControl:c,shrink:d,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=jxe(p);return o.jsx(Sxe,U({"data-shrink":d,ownerState:p,ref:n,className:Oe(m.root,a)},l,{classes:m}))});function Cxe(t){return wt("MuiLinearProgress",t)}Ct("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Pxe=["className","color","value","valueBuffer","variant"];let gm=t=>t,t$,n$,r$,i$,o$,s$;const vT=4,Axe=La(t$||(t$=gm`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Exe=La(n$||(n$=gm`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Ixe=La(r$||(r$=gm`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Txe=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${Ne(r)}`,n],dashed:["dashed",`dashedColor${Ne(r)}`],bar1:["bar",`barColor${Ne(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Ne(r)}`,n==="buffer"&&`color${Ne(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Pt(i,Cxe,e)},BR=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?Yt.lighten(t.palette[e].main,.62):Yt.darken(t.palette[e].main,.5),kxe=ze("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ne(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>U({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:BR(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Rxe=ze("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Ne(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=BR(e,t.color);return U({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},fc(i$||(i$=gm`
    animation: ${0} 3s infinite linear;
  `),Ixe)),Oxe=ze("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Ne(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>U({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${vT}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${vT}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&fc(o$||(o$=gm`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Axe)),Dxe=ze("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Ne(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>U({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:BR(e,t.color),transition:`transform .${vT}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&fc(s$||(s$=gm`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Exe)),Od=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=r,d=Ye(r,Pxe),f=U({},r,{color:s,variant:c}),p=Txe(f),m=um(),y={},x={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){y["aria-valuenow"]=Math.round(a),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let v=a-100;m&&(v=-v),x.bar1.transform=`translateX(${v}%)`}if(c==="buffer"&&l!==void 0){let v=(l||0)-100;m&&(v=-v),x.bar2.transform=`translateX(${v}%)`}return o.jsxs(kxe,U({className:Oe(p.root,i),ownerState:f,role:"progressbar"},y,{ref:n},d,{children:[c==="buffer"?o.jsx(Rxe,{className:p.dashed,ownerState:f}):null,o.jsx(Oxe,{className:p.bar1,ownerState:f,style:x.bar1}),c==="determinate"?null:o.jsx(Dxe,{className:p.bar2,ownerState:f,style:x.bar2})]}))});function Mxe(t){return wt("MuiLink",t)}const Nxe=Ct("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),yG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$xe=t=>yG[t]||t,Lxe=({theme:t,ownerState:e})=>{const n=$xe(e.color),r=ap(t,`palette.${n}`,!1)||e.color,i=ap(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Yt.alpha(r,.4)},zxe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Fxe=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${Ne(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Pt(s,Mxe,e)},Wxe=ze(w,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ne(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>U({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&U({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:Lxe({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Nxe.focusVisible}`]:{outline:"auto"}})),Vxe=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:d,underline:f="always",variant:p="inherit",sx:m}=r,y=Ye(r,zxe),{isFocusVisibleRef:x,onBlur:v,onFocus:b,ref:I}=y5(),[A,S]=C.useState(!1),k=gr(n,I),P=D=>{v(D),x.current===!1&&S(!1),l&&l(D)},R=D=>{b(D),x.current===!0&&S(!0),c&&c(D)},E=U({},r,{color:s,component:a,focusVisible:A,underline:f,variant:p}),O=Fxe(E);return o.jsx(Wxe,U({color:s,className:Oe(O.root,i),classes:d,component:a,onBlur:P,onFocus:R,ref:k,ownerState:E,variant:p,sx:[...Object.keys(yG).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},y))}),na=C.createContext({});function Bxe(t){return wt("MuiList",t)}Ct("MuiList",["root","padding","dense","subheader"]);const Uxe=["children","className","component","dense","disablePadding","subheader"],qxe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Pt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Bxe,e)},Hxe=ze("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>U({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),mi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=r,f=Ye(r,Uxe),p=C.useMemo(()=>({dense:l}),[l]),m=U({},r,{component:a,dense:l,disablePadding:c}),y=qxe(m);return o.jsx(na.Provider,{value:p,children:o.jsxs(Hxe,U({as:a,className:Oe(y.root,s),ref:n,ownerState:m},f,{children:[d,i]}))})});function Gxe(t){return wt("MuiListItem",t)}const Rf=Ct("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function Kxe(t){return wt("MuiListItemButton",t)}const Of=Ct("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Yxe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Xxe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Qxe=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:a,selected:l}=t,d=Pt({root:["root",r&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},Kxe,n);return U({},n,d)},Jxe=ze(oa,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Xxe})(({theme:t,ownerState:e})=>U({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Of.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Of.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Of.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Of.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Of.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Zxe=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:l,dense:c=!1,disableGutters:d=!1,divider:f=!1,focusVisibleClassName:p,selected:m=!1,className:y}=r,x=Ye(r,Yxe),v=C.useContext(na),b=C.useMemo(()=>({dense:c||v.dense||!1,alignItems:i,disableGutters:d}),[i,v.dense,c,d]),I=C.useRef(null);So(()=>{s&&I.current&&I.current.focus()},[s]);const A=U({},r,{alignItems:i,dense:b.dense,disableGutters:d,divider:f,selected:m}),S=Qxe(A),k=gr(I,n);return o.jsx(na.Provider,{value:b,children:o.jsx(Jxe,U({ref:k,href:x.href||x.to,component:(x.href||x.to)&&a==="div"?"button":a,focusVisibleClassName:Oe(S.focusVisible,p),ownerState:A,className:Oe(S.root,y)},x,{classes:S,children:l}))})});function eye(t){return wt("MuiListItemSecondaryAction",t)}Ct("MuiListItemSecondaryAction",["root","disableGutters"]);const tye=["className"],nye=t=>{const{disableGutters:e,classes:n}=t;return Pt({root:["root",e&&"disableGutters"]},eye,n)},rye=ze("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>U({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),ol=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=Ye(r,tye),a=C.useContext(na),l=U({},r,{disableGutters:a.disableGutters}),c=nye(l);return o.jsx(rye,U({className:Oe(c.root,i),ownerState:l,ref:n},s))});ol.muiName="ListItemSecondaryAction";const iye=["className"],oye=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],sye=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},aye=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:a,disablePadding:l,divider:c,hasSecondaryAction:d,selected:f}=t;return Pt({root:["root",i&&"dense",!a&&"gutters",!l&&"padding",c&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",f&&"selected"],container:["container"]},Gxe,r)},lye=ze("div",{name:"MuiListItem",slot:"Root",overridesResolver:sye})(({theme:t,ownerState:e})=>U({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&U({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Of.root}`]:{paddingRight:48}},{[`&.${Rf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Rf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Rf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Rf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),cye=ze("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),An=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:a=!1,children:l,className:c,component:d,components:f={},componentsProps:p={},ContainerComponent:m="li",ContainerProps:{className:y}={},dense:x=!1,disabled:v=!1,disableGutters:b=!1,disablePadding:I=!1,divider:A=!1,focusVisibleClassName:S,secondaryAction:k,selected:P=!1,slotProps:R={},slots:E={}}=r,O=Ye(r.ContainerProps,iye),D=Ye(r,oye),L=C.useContext(na),$=C.useMemo(()=>({dense:x||L.dense||!1,alignItems:i,disableGutters:b}),[i,L.dense,x,b]),B=C.useRef(null);So(()=>{s&&B.current&&B.current.focus()},[s]);const N=C.Children.toArray(l),q=N.length&&nx(N[N.length-1],["ListItemSecondaryAction"]),Y=U({},r,{alignItems:i,autoFocus:s,button:a,dense:$.dense,disabled:v,disableGutters:b,disablePadding:I,divider:A,hasSecondaryAction:q,selected:P}),ne=aye(Y),Q=gr(B,n),ee=E.root||f.Root||lye,Z=R.root||p.root||{},de=U({className:Oe(ne.root,Z.className,c),disabled:v},D);let K=d||"li";return a&&(de.component=d||"div",de.focusVisibleClassName=Oe(Rf.focusVisible,S),K=oa),q?(K=!de.component&&!d?"div":K,m==="li"&&(K==="li"?K="div":de.component==="li"&&(de.component="div")),o.jsx(na.Provider,{value:$,children:o.jsxs(cye,U({as:m,className:Oe(ne.container,y),ref:Q,ownerState:Y},O,{children:[o.jsx(ee,U({},Z,!lp(ee)&&{as:K,ownerState:U({},Y,Z.ownerState)},de,{children:N})),N.pop()]}))})):o.jsx(na.Provider,{value:$,children:o.jsxs(ee,U({},Z,{as:K,ref:Q},!lp(ee)&&{ownerState:U({},Y,Z.ownerState)},de,{children:[N,k&&o.jsx(ol,{children:k})]}))})});function uye(t){return wt("MuiListItemAvatar",t)}Ct("MuiListItemAvatar",["root","alignItemsFlexStart"]);const dye=["className"],hye=t=>{const{alignItems:e,classes:n}=t;return Pt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},uye,n)},fye=ze("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>U({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),W1=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItemAvatar"}),{className:i}=r,s=Ye(r,dye),a=C.useContext(na),l=U({},r,{alignItems:a.alignItems}),c=hye(l);return o.jsx(fye,U({className:Oe(c.root,i),ownerState:l,ref:n},s))});function pye(t){return wt("MuiListItemIcon",t)}const a$=Ct("MuiListItemIcon",["root","alignItemsFlexStart"]),mye=["className"],gye=t=>{const{alignItems:e,classes:n}=t;return Pt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},pye,n)},xye=ze("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>U({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Xo=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItemIcon"}),{className:i}=r,s=Ye(r,mye),a=C.useContext(na),l=U({},r,{alignItems:a.alignItems}),c=gye(l);return o.jsx(xye,U({className:Oe(c.root,i),ownerState:l,ref:n},s))});function yye(t){return wt("MuiListItemText",t)}const V1=Ct("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),vye=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bye=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return Pt({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},yye,e)},_ye=ze("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${V1.primary}`]:e.primary},{[`& .${V1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>U({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),pr=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:f,secondaryTypographyProps:p}=r,m=Ye(r,vye),{dense:y}=C.useContext(na);let x=c??i,v=f;const b=U({},r,{disableTypography:a,inset:l,primary:!!x,secondary:!!v,dense:y}),I=bye(b);return x!=null&&x.type!==w&&!a&&(x=o.jsx(w,U({variant:y?"body2":"body1",className:I.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:x}))),v!=null&&v.type!==w&&!a&&(v=o.jsx(w,U({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},p,{children:v}))),o.jsxs(_ye,U({className:Oe(I.root,s),ownerState:b,ref:n},m,{children:[x,v]}))}),wye=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function JS(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function l$(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function vG(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function bg(t,e,n,r,i,s){let a=!1,l=i(t,e,e?n:!1);for(;l;){if(l===t.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!vG(l,s)||c)l=i(t,l,n);else return l.focus(),!0}return!1}const jye=C.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:f,variant:p="selectedMenu"}=e,m=Ye(e,wye),y=C.useRef(null),x=C.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});So(()=>{i&&y.current.focus()},[i]),C.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:k})=>{const P=!y.current.style.width;if(S.clientHeight<y.current.clientHeight&&P){const R=`${d7(ri(S))}px`;y.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=R,y.current.style.width=`calc(100% + ${R})`}return y.current}}),[]);const v=S=>{const k=y.current,P=S.key,R=ri(k).activeElement;if(P==="ArrowDown")S.preventDefault(),bg(k,R,d,c,JS);else if(P==="ArrowUp")S.preventDefault(),bg(k,R,d,c,l$);else if(P==="Home")S.preventDefault(),bg(k,null,d,c,JS);else if(P==="End")S.preventDefault(),bg(k,null,d,c,l$);else if(P.length===1){const E=x.current,O=P.toLowerCase(),D=performance.now();E.keys.length>0&&(D-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&O!==E.keys[0]&&(E.repeating=!1)),E.lastTime=D,E.keys.push(O);const L=R&&!E.repeating&&vG(R,E);E.previousKeyMatched&&(L||bg(k,R,!1,c,JS,E))?S.preventDefault():E.previousKeyMatched=!1}f&&f(S)},b=gr(y,n);let I=-1;C.Children.forEach(a,(S,k)=>{if(!C.isValidElement(S)){I===k&&(I+=1,I>=a.length&&(I=-1));return}S.props.disabled||(p==="selectedMenu"&&S.props.selected||I===-1)&&(I=k),I===k&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(I+=1,I>=a.length&&(I=-1))});const A=C.Children.map(a,(S,k)=>{if(k===I){const P={};return s&&(P.autoFocus=!0),S.props.tabIndex===void 0&&p==="selectedMenu"&&(P.tabIndex=0),C.cloneElement(S,P)}return S});return o.jsx(mi,U({role:"menu",ref:b,className:l,onKeyDown:v,tabIndex:i?0:-1},m,{children:A}))});function Sye(t){return wt("MuiPopover",t)}Ct("MuiPopover",["root","paper"]);const Cye=["onEntering"],Pye=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Aye=["slotProps"];function c$(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function u$(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function d$(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ZS(t){return typeof t=="function"?t():t}const Eye=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"]},Sye,e)},Iye=ze(LR,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bG=ze(Qi,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Tye=C.forwardRef(function(e,n){var r,i,s;const a=At({props:e,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:p="anchorEl",children:m,className:y,container:x,elevation:v=8,marginThreshold:b=16,open:I,PaperProps:A={},slots:S,slotProps:k,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:R=Qx,transitionDuration:E="auto",TransitionProps:{onEntering:O}={},disableScrollLock:D=!1}=a,L=Ye(a.TransitionProps,Cye),$=Ye(a,Pye),B=(r=k==null?void 0:k.paper)!=null?r:A,N=C.useRef(),q=gr(N,B.ref),Y=U({},a,{anchorOrigin:d,anchorReference:p,elevation:v,marginThreshold:b,externalPaperSlotProps:B,transformOrigin:P,TransitionComponent:R,transitionDuration:E,TransitionProps:L}),ne=Eye(Y),Q=C.useCallback(()=>{if(p==="anchorPosition")return f;const $e=ZS(c),Je=($e&&$e.nodeType===1?$e:ri(N.current).body).getBoundingClientRect();return{top:Je.top+c$(Je,d.vertical),left:Je.left+u$(Je,d.horizontal)}},[c,d.horizontal,d.vertical,f,p]),ee=C.useCallback($e=>({vertical:c$($e,P.vertical),horizontal:u$($e,P.horizontal)}),[P.horizontal,P.vertical]),Z=C.useCallback($e=>{const Ce={width:$e.offsetWidth,height:$e.offsetHeight},Je=ee(Ce);if(p==="none")return{top:null,left:null,transformOrigin:d$(Je)};const ht=Q();let Xe=ht.top-Je.vertical,Lt=ht.left-Je.horizontal;const jt=Xe+Ce.height,Mt=Lt+Ce.width,pt=zo(ZS(c)),Qe=pt.innerHeight-b,at=pt.innerWidth-b;if(b!==null&&Xe<b){const Tt=Xe-b;Xe-=Tt,Je.vertical+=Tt}else if(b!==null&&jt>Qe){const Tt=jt-Qe;Xe-=Tt,Je.vertical+=Tt}if(b!==null&&Lt<b){const Tt=Lt-b;Lt-=Tt,Je.horizontal+=Tt}else if(Mt>at){const Tt=Mt-at;Lt-=Tt,Je.horizontal+=Tt}return{top:`${Math.round(Xe)}px`,left:`${Math.round(Lt)}px`,transformOrigin:d$(Je)}},[c,p,Q,ee,b]),[de,K]=C.useState(I),se=C.useCallback(()=>{const $e=N.current;if(!$e)return;const Ce=Z($e);Ce.top!==null&&($e.style.top=Ce.top),Ce.left!==null&&($e.style.left=Ce.left),$e.style.transformOrigin=Ce.transformOrigin,K(!0)},[Z]);C.useEffect(()=>(D&&window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)),[c,D,se]);const le=($e,Ce)=>{O&&O($e,Ce),se()},oe=()=>{K(!1)};C.useEffect(()=>{I&&se()}),C.useImperativeHandle(l,()=>I?{updatePosition:()=>{se()}}:null,[I,se]),C.useEffect(()=>{if(!I)return;const $e=qy(()=>{se()}),Ce=zo(c);return Ce.addEventListener("resize",$e),()=>{$e.clear(),Ce.removeEventListener("resize",$e)}},[c,I,se]);let ge=E;E==="auto"&&!R.muiSupportAuto&&(ge=void 0);const fe=x||(c?ri(ZS(c)).body:void 0),Se=(i=S==null?void 0:S.root)!=null?i:Iye,be=(s=S==null?void 0:S.paper)!=null?s:bG,ce=os({elementType:be,externalSlotProps:U({},B,{style:de?B.style:U({},B.style,{opacity:0})}),additionalProps:{elevation:v,ref:q},ownerState:Y,className:Oe(ne.paper,B==null?void 0:B.className)}),We=os({elementType:Se,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:$,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:fe,open:I},ownerState:Y,className:Oe(ne.root,y)}),{slotProps:Fe}=We,pe=Ye(We,Aye);return o.jsx(Se,U({},pe,!lp(Se)&&{slotProps:Fe,disableScrollLock:D},{children:o.jsx(R,U({appear:!0,in:I,onEntering:le,onExited:oe,timeout:ge},L,{children:o.jsx(be,U({},ce,{children:m}))}))}))});function kye(t){return wt("MuiMenu",t)}Ct("MuiMenu",["root","paper","list"]);const Rye=["onEntering"],Oye=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Dye={vertical:"top",horizontal:"right"},Mye={vertical:"top",horizontal:"left"},Nye=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"],list:["list"]},kye,e)},$ye=ze(Tye,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Lye=ze(bG,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),zye=ze(jye,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),bl=C.forwardRef(function(e,n){var r,i;const s=At({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:d=!1,MenuListProps:f={},onClose:p,open:m,PaperProps:y={},PopoverClasses:x,transitionDuration:v="auto",TransitionProps:{onEntering:b}={},variant:I="selectedMenu",slots:A={},slotProps:S={}}=s,k=Ye(s.TransitionProps,Rye),P=Ye(s,Oye),R=um(),E=U({},s,{autoFocus:a,disableAutoFocusItem:d,MenuListProps:f,onEntering:b,PaperProps:y,transitionDuration:v,TransitionProps:k,variant:I}),O=Nye(E),D=a&&!d&&m,L=C.useRef(null),$=(ee,Z)=>{L.current&&L.current.adjustStyleForScrollbar(ee,{direction:R?"rtl":"ltr"}),b&&b(ee,Z)},B=ee=>{ee.key==="Tab"&&(ee.preventDefault(),p&&p(ee,"tabKeyDown"))};let N=-1;C.Children.map(l,(ee,Z)=>{C.isValidElement(ee)&&(ee.props.disabled||(I==="selectedMenu"&&ee.props.selected||N===-1)&&(N=Z))});const q=(r=A.paper)!=null?r:Lye,Y=(i=S.paper)!=null?i:y,ne=os({elementType:A.root,externalSlotProps:S.root,ownerState:E,className:[O.root,c]}),Q=os({elementType:q,externalSlotProps:Y,ownerState:E,className:O.paper});return o.jsx($ye,U({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?Dye:Mye,slots:{paper:q,root:A.root},slotProps:{root:ne,paper:Q},open:m,ref:n,transitionDuration:v,TransitionProps:U({onEntering:$},k),ownerState:E},P,{classes:x,children:o.jsx(zye,U({onKeyDown:B,actions:L,autoFocus:a&&(N===-1||d),autoFocusItem:D,variant:I},f,{className:Oe(O.list,f.className),children:l}))}))});function Fye(t){return wt("MuiMenuItem",t)}const _g=Ct("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Wye=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Vye=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Bye=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=t,c=Pt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Fye,a);return U({},a,c)},Uye=ze(oa,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Vye})(({theme:t,ownerState:e})=>U({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_g.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${_g.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${_g.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${_g.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${_g.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${GN.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${GN.inset}`]:{marginLeft:52},[`& .${V1.root}`]:{marginTop:0,marginBottom:0},[`& .${V1.inset}`]:{paddingLeft:36},[`& .${a$.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&U({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${a$.root} svg`]:{fontSize:"1.25rem"}}))),ye=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:f="menuitem",tabIndex:p,className:m}=r,y=Ye(r,Wye),x=C.useContext(na),v=C.useMemo(()=>({dense:a||x.dense||!1,disableGutters:c}),[x.dense,a,c]),b=C.useRef(null);So(()=>{i&&b.current&&b.current.focus()},[i]);const I=U({},r,{dense:v.dense,divider:l,disableGutters:c}),A=Bye(r),S=gr(b,n);let k;return r.disabled||(k=p!==void 0?p:-1),o.jsx(na.Provider,{value:v,children:o.jsx(Uye,U({ref:S,role:f,tabIndex:k,component:s,focusVisibleClassName:Oe(A.focusVisible,d),className:Oe(A.root,m)},y,{ownerState:I,classes:A}))})});function qye(t){return wt("MuiNativeSelect",t)}const UR=Ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Hye=["className","disabled","error","IconComponent","inputRef","variant"],Gye=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ne(n)}`,s&&"iconOpen",r&&"disabled"]};return Pt(l,qye,e)},_G=({ownerState:t,theme:e})=>U({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":U({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${UR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Kye=ze("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Li,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${UR.multiple}`]:e.multiple}]}})(_G),wG=({ownerState:t,theme:e})=>U({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${UR.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Yye=ze("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ne(n.variant)}`],n.open&&e.iconOpen]}})(wG),Xye=C.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:a,inputRef:l,variant:c="standard"}=e,d=Ye(e,Hye),f=U({},e,{disabled:i,variant:c,error:s}),p=Gye(f);return o.jsxs(C.Fragment,{children:[o.jsx(Kye,U({ownerState:f,className:Oe(p.select,r),disabled:i,ref:l||n},d)),e.multiple?null:o.jsx(Yye,{as:a,ownerState:f,className:p.icon})]})});function Qye(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=C.useState(!1);return So(()=>{n||s(!0)},[n]),C.useEffect(()=>{n&&s(!0)},[n]),o.jsx(C.Fragment,{children:i?e:r})}var h$;const Jye=["children","classes","className","label","notched"],Zye=ze("fieldset",{shouldForwardProp:Li})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),eve=ze("legend",{shouldForwardProp:Li})(({ownerState:t,theme:e})=>U({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&U({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function tve(t){const{className:e,label:n,notched:r}=t,i=Ye(t,Jye),s=n!=null&&n!=="",a=U({},t,{notched:r,withLabel:s});return o.jsx(Zye,U({"aria-hidden":!0,className:e,ownerState:a},i,{children:o.jsx(eve,{ownerState:a,children:s?o.jsx("span",{children:n}):h$||(h$=o.jsx("span",{className:"notranslate",children:"​"}))})}))}const nve=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],rve=t=>{const{classes:e}=t,r=Pt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gpe,e);return U({},e,r)},ive=ze(Hw,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Uw})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return U({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Zc.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zc.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Zc.focused} .${Zc.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Zc.error} .${Zc.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Zc.disabled} .${Zc.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&U({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),ove=ze(tve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),sve=ze(Gw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:qw})(({theme:t,ownerState:e})=>U({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),qR=C.forwardRef(function(e,n){var r,i,s,a,l;const c=At({props:e,name:"MuiOutlinedInput"}),{components:d={},fullWidth:f=!1,inputComponent:p="input",label:m,multiline:y=!1,notched:x,slots:v={},type:b="text"}=c,I=Ye(c,nve),A=rve(c),S=Sl(),k=zu({props:c,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=U({},c,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:S,fullWidth:f,hiddenLabel:k.hiddenLabel,multiline:y,size:k.size,type:b}),R=(r=(i=v.root)!=null?i:d.Root)!=null?r:ive,E=(s=(a=v.input)!=null?a:d.Input)!=null?s:sve;return o.jsx($R,U({slots:{root:R,input:E},renderSuffix:O=>o.jsx(ove,{ownerState:P,className:A.notchedOutline,label:m!=null&&m!==""&&k.required?l||(l=o.jsxs(C.Fragment,{children:[m," ","*"]})):m,notched:typeof x<"u"?x:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:f,inputComponent:p,multiline:y,ref:n,type:b},I,{classes:U({},A,{notchedOutline:null})}))});qR.muiName="Input";const ave=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),lve=et(o.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),cve=ze("span",{shouldForwardProp:Li})({position:"relative",display:"flex"}),uve=ze(ave)({transform:"scale(1)"}),dve=ze(lve)(({theme:t,ownerState:e})=>U({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function jG(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=U({},t,{checked:e});return o.jsxs(cve,{className:n.root,ownerState:i,children:[o.jsx(uve,{fontSize:r,className:n.background,ownerState:i}),o.jsx(dve,{fontSize:r,className:n.dot,ownerState:i})]})}const SG=C.createContext(void 0);function hve(){return C.useContext(SG)}function fve(t){return wt("MuiRadio",t)}const f$=Ct("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),pve=["checked","checkedIcon","color","icon","name","onChange","size","className"],mve=t=>{const{classes:e,color:n,size:r}=t,i={root:["root",`color${Ne(n)}`,r!=="medium"&&`size${Ne(r)}`]};return U({},e,Pt(i,fve,e))},gve=ze(hG,{shouldForwardProp:t=>Li(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size!=="medium"&&e[`size${Ne(n.size)}`],e[`color${Ne(n.color)}`]]}})(({theme:t,ownerState:e})=>U({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${f$.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${f$.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function xve(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const p$=o.jsx(jG,{checked:!0}),m$=o.jsx(jG,{}),eC=C.forwardRef(function(e,n){var r,i;const s=At({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:l=p$,color:c="primary",icon:d=m$,name:f,onChange:p,size:m="medium",className:y}=s,x=Ye(s,pve),v=U({},s,{color:c,size:m}),b=mve(v),I=hve();let A=a;const S=SI(p,I&&I.onChange);let k=f;return I&&(typeof A>"u"&&(A=xve(I.value,s.value)),typeof k>"u"&&(k=I.name)),o.jsx(gve,U({type:"radio",icon:C.cloneElement(d,{fontSize:(r=m$.props.fontSize)!=null?r:m}),checkedIcon:C.cloneElement(l,{fontSize:(i=p$.props.fontSize)!=null?i:m}),ownerState:v,classes:b,name:k,checked:A,onChange:S,ref:n,className:Oe(b.root,y)},x))});function yve(t){return wt("MuiRadioGroup",t)}Ct("MuiRadioGroup",["root","row","error"]);const vve=["actions","children","className","defaultValue","name","onChange","value"],bve=t=>{const{classes:e,row:n,error:r}=t;return Pt({root:["root",n&&"row",r&&"error"]},yve,e)},_ve=C.forwardRef(function(e,n){const{actions:r,children:i,className:s,defaultValue:a,name:l,onChange:c,value:d}=e,f=Ye(e,vve),p=C.useRef(null),m=bve(e),[y,x]=Xd({controlled:d,default:a,name:"RadioGroup"});C.useImperativeHandle(r,()=>({focus:()=>{let A=p.current.querySelector("input:not(:disabled):checked");A||(A=p.current.querySelector("input:not(:disabled)")),A&&A.focus()}}),[]);const v=gr(n,p),b=Hy(l),I=C.useMemo(()=>({name:b,onChange(A){x(A.target.value),c&&c(A,A.target.value)},value:y}),[b,c,x,y]);return o.jsx(SG.Provider,{value:I,children:o.jsx(Fge,U({role:"radiogroup",ref:v,className:Oe(m.root,s)},f,{children:i}))})});function wve(t){return wt("MuiSelect",t)}const wg=Ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var g$;const jve=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Sve=ze("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${wg.select}`]:e.select},{[`&.${wg.select}`]:e[n.variant]},{[`&.${wg.error}`]:e.error},{[`&.${wg.multiple}`]:e.multiple}]}})(_G,{[`&.${wg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Cve=ze("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ne(n.variant)}`],n.open&&e.iconOpen]}})(wG),Pve=ze("input",{shouldForwardProp:t=>j7(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function x$(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Ave(t){return t==null||typeof t=="string"&&!t.trim()}const Eve=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:a}=t,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Ne(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Pt(l,wve,e)},Ive=C.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:f,defaultValue:p,disabled:m,displayEmpty:y,error:x=!1,IconComponent:v,inputRef:b,labelId:I,MenuProps:A={},multiple:S,name:k,onBlur:P,onChange:R,onClose:E,onFocus:O,onOpen:D,open:L,readOnly:$,renderValue:B,SelectDisplayProps:N={},tabIndex:q,value:Y,variant:ne="standard"}=e,Q=Ye(e,jve),[ee,Z]=Xd({controlled:Y,default:p,name:"Select"}),[de,K]=Xd({controlled:L,default:f,name:"Select"}),se=C.useRef(null),le=C.useRef(null),[oe,ge]=C.useState(null),{current:fe}=C.useRef(L!=null),[Se,be]=C.useState(),ce=gr(n,b),We=C.useCallback(G=>{le.current=G,G&&ge(G)},[]),Fe=oe==null?void 0:oe.parentNode;C.useImperativeHandle(ce,()=>({focus:()=>{le.current.focus()},node:se.current,value:ee}),[ee]),C.useEffect(()=>{f&&de&&oe&&!fe&&(be(l?null:Fe.clientWidth),le.current.focus())},[oe,l]),C.useEffect(()=>{a&&le.current.focus()},[a]),C.useEffect(()=>{if(!I)return;const G=ri(le.current).getElementById(I);if(G){const ve=()=>{getSelection().isCollapsed&&le.current.focus()};return G.addEventListener("click",ve),()=>{G.removeEventListener("click",ve)}}},[I]);const pe=(G,ve)=>{G?D&&D(ve):E&&E(ve),fe||(be(l?null:Fe.clientWidth),K(G))},$e=G=>{G.button===0&&(G.preventDefault(),le.current.focus(),pe(!0,G))},Ce=G=>{pe(!1,G)},Je=C.Children.toArray(c),ht=G=>{const ve=Je.find(ke=>ke.props.value===G.target.value);ve!==void 0&&(Z(ve.props.value),R&&R(G,ve))},Xe=G=>ve=>{let ke;if(ve.currentTarget.hasAttribute("tabindex")){if(S){ke=Array.isArray(ee)?ee.slice():[];const Ue=ee.indexOf(G.props.value);Ue===-1?ke.push(G.props.value):ke.splice(Ue,1)}else ke=G.props.value;if(G.props.onClick&&G.props.onClick(ve),ee!==ke&&(Z(ke),R)){const Ue=ve.nativeEvent||ve,it=new Ue.constructor(Ue.type,Ue);Object.defineProperty(it,"target",{writable:!0,value:{value:ke,name:k}}),R(it,G)}S||pe(!1,ve)}},Lt=G=>{$||[" ","ArrowUp","ArrowDown","Enter"].indexOf(G.key)!==-1&&(G.preventDefault(),pe(!0,G))},jt=oe!==null&&de,Mt=G=>{!jt&&P&&(Object.defineProperty(G,"target",{writable:!0,value:{value:ee,name:k}}),P(G))};delete Q["aria-invalid"];let pt,Qe;const at=[];let Tt=!1;(z1({value:ee})||y)&&(B?pt=B(ee):Tt=!0);const vn=Je.map(G=>{if(!C.isValidElement(G))return null;let ve;if(S){if(!Array.isArray(ee))throw new Error(hc(2));ve=ee.some(ke=>x$(ke,G.props.value)),ve&&Tt&&at.push(G.props.children)}else ve=x$(ee,G.props.value),ve&&Tt&&(Qe=G.props.children);return C.cloneElement(G,{"aria-selected":ve?"true":"false",onClick:Xe(G),onKeyUp:ke=>{ke.key===" "&&ke.preventDefault(),G.props.onKeyUp&&G.props.onKeyUp(ke)},role:"option",selected:ve,value:void 0,"data-value":G.props.value})});Tt&&(S?at.length===0?pt=null:pt=at.reduce((G,ve,ke)=>(G.push(ve),ke<at.length-1&&G.push(", "),G),[]):pt=Qe);let zt=Se;!l&&fe&&oe&&(zt=Fe.clientWidth);let mt;typeof q<"u"?mt=q:mt=m?null:0;const It=N.id||(k?`mui-component-select-${k}`:void 0),lt=U({},e,{variant:ne,value:ee,open:jt,error:x}),Zt=Eve(lt),Xt=U({},A.PaperProps,(r=A.slotProps)==null?void 0:r.paper),On=Hy();return o.jsxs(C.Fragment,{children:[o.jsx(Sve,U({ref:We,tabIndex:mt,role:"combobox","aria-controls":On,"aria-disabled":m?"true":void 0,"aria-expanded":jt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[I,It].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Lt,onMouseDown:m||$?null:$e,onBlur:Mt,onFocus:O},N,{ownerState:lt,className:Oe(N.className,Zt.select,d),id:It,children:Ave(pt)?g$||(g$=o.jsx("span",{className:"notranslate",children:"​"})):pt})),o.jsx(Pve,U({"aria-invalid":x,value:Array.isArray(ee)?ee.join(","):ee,name:k,ref:se,"aria-hidden":!0,onChange:ht,tabIndex:-1,disabled:m,className:Zt.nativeInput,autoFocus:a,ownerState:lt},Q)),o.jsx(Cve,{as:v,className:Zt.icon,ownerState:lt}),o.jsx(bl,U({id:`menu-${k||""}`,anchorEl:Fe,open:jt,onClose:Ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},A,{MenuListProps:U({"aria-labelledby":I,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:On},A.MenuListProps),slotProps:U({},A.slotProps,{paper:U({},Xt,{style:U({minWidth:zt},Xt!=null?Xt.style:null)})}),children:vn}))]})}),Tve=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],kve=["root"],Rve=t=>{const{classes:e}=t;return e},HR={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Li(t)&&t!=="variant",slot:"Root"},Ove=ze(VR,HR)(""),Dve=ze(qR,HR)(""),Mve=ze(WR,HR)(""),yn=C.forwardRef(function(e,n){const r=At({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:f=ype,id:p,input:m,inputProps:y,label:x,labelId:v,MenuProps:b,multiple:I=!1,native:A=!1,onClose:S,onOpen:k,open:P,renderValue:R,SelectDisplayProps:E,variant:O="outlined"}=r,D=Ye(r,Tve),L=A?Xye:Ive,$=Sl(),B=zu({props:r,muiFormControl:$,states:["variant","error"]}),N=B.variant||O,q=U({},r,{variant:N,classes:a}),Y=Rve(q),ne=Ye(Y,kve),Q=m||{standard:o.jsx(Ove,{ownerState:q}),outlined:o.jsx(Dve,{label:x,ownerState:q}),filled:o.jsx(Mve,{ownerState:q})}[N],ee=gr(n,jc(Q));return o.jsx(C.Fragment,{children:C.cloneElement(Q,U({inputComponent:L,inputProps:U({children:s,error:B.error,IconComponent:f,variant:N,type:void 0,multiple:I},A?{id:p}:{autoWidth:i,defaultOpen:c,displayEmpty:d,labelId:v,MenuProps:b,onClose:S,onOpen:k,open:P,renderValue:R,SelectDisplayProps:U({id:p},E)},y,{classes:y?Lo(ne,y.classes):ne},m?m.props.inputProps:{})},(I&&A||d)&&N==="outlined"?{notched:!0}:{},{ref:ee,className:Oe(Q.props.className,l,Y.root)},!m&&{variant:N},D))})});yn.muiName="Select";function Nve(t){return wt("MuiSkeleton",t)}Ct("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const $ve=["animation","className","component","height","style","variant","width"];let B1=t=>t,y$,v$,b$,_$;const Lve=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:a}=t;return Pt({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!a&&"heightAuto"]},Nve,e)},zve=La(y$||(y$=B1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Fve=La(v$||(v$=B1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Wve=ze("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=dre(t.shape.borderRadius)||"px",r=hre(t.shape.borderRadius);return U({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:tne(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&fc(b$||(b$=B1`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),zve),({ownerState:t,theme:e})=>t.animation==="wave"&&fc(_$||(_$=B1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Fve,(e.vars||e).palette.action.hover)),Bl=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:a="span",height:l,style:c,variant:d="text",width:f}=r,p=Ye(r,$ve),m=U({},r,{animation:i,component:a,variant:d,hasChildren:!!p.children}),y=Lve(m);return o.jsx(Wve,U({as:a,ref:n,className:Oe(y.root,s),ownerState:m},p,{style:U({width:f,height:l},c)}))});function Vve(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,a=Ql();C.useEffect(()=>{if(!i)return;function I(A){A.defaultPrevented||(A.key==="Escape"||A.key==="Esc")&&(r==null||r(A,"escapeKeyDown"))}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[i,r]);const l=Xi((I,A)=>{r==null||r(I,A)}),c=Xi(I=>{!r||I==null||a.start(I,()=>{l(null,"timeout")})});C.useEffect(()=>(i&&c(e),a.clear),[i,e,c,a]);const d=I=>{r==null||r(I,"clickaway")},f=a.clear,p=C.useCallback(()=>{e!=null&&c(s??e*.5)},[e,s,c]),m=I=>A=>{const S=I.onBlur;S==null||S(A),p()},y=I=>A=>{const S=I.onFocus;S==null||S(A),f()},x=I=>A=>{const S=I.onMouseEnter;S==null||S(A),f()},v=I=>A=>{const S=I.onMouseLeave;S==null||S(A),p()};return C.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",p),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",f)}},[n,i,p,f]),{getRootProps:(I={})=>{const A=U({},s1(t),s1(I));return U({role:"presentation"},I,A,{onBlur:m(A),onFocus:y(A),onMouseEnter:x(A),onMouseLeave:v(A)})},onClickAway:d}}function Bve(t){return wt("MuiSnackbarContent",t)}Ct("MuiSnackbarContent",["root","message","action"]);const Uve=["action","className","message","role"],qve=t=>{const{classes:e}=t;return Pt({root:["root"],action:["action"],message:["message"]},Bve,e)},Hve=ze(Qi,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=Yt.emphasize(t.palette.background.default,e);return U({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Gve=ze("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Kve=ze("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Yve=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:a,role:l="alert"}=r,c=Ye(r,Uve),d=r,f=qve(d);return o.jsxs(Hve,U({role:l,square:!0,elevation:6,className:Oe(f.root,s),ownerState:d,ref:n},c,{children:[o.jsx(Gve,{className:f.message,ownerState:d,children:a}),i?o.jsx(Kve,{className:f.action,ownerState:d,children:i}):null]}))});function Xve(t){return wt("MuiSnackbar",t)}Ct("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Qve=["onEnter","onExited"],Jve=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Zve=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Ne(n.vertical)}${Ne(n.horizontal)}`]};return Pt(r,Xve,e)},w$=ze("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Ne(n.anchorOrigin.vertical)}${Ne(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return U({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:U({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),xm=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSnackbar"}),i=Co(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:f,className:p,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:x=!1,message:v,open:b,TransitionComponent:I=Qx,transitionDuration:A=s,TransitionProps:{onEnter:S,onExited:k}={}}=r,P=Ye(r.TransitionProps,Qve),R=Ye(r,Jve),E=U({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:d,disableWindowBlurListener:x,TransitionComponent:I,transitionDuration:A}),O=Zve(E),{getRootProps:D,onClickAway:L}=Vve(U({},E)),[$,B]=C.useState(!0),N=os({elementType:w$,getSlotProps:D,externalForwardedProps:R,ownerState:E,additionalProps:{ref:n},className:[O.root,p]}),q=ne=>{B(!0),k&&k(ne)},Y=(ne,Q)=>{B(!1),S&&S(ne,Q)};return!b&&$?null:o.jsx(xme,U({onClickAway:L},m,{children:o.jsx(w$,U({},N,{children:o.jsx(I,U({appear:!0,in:b,timeout:A,direction:l==="top"?"down":"up",onEnter:Y,onExited:q},P,{children:f||o.jsx(Yve,U({message:v,action:a},y))}))}))}))}),e0e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],t0e={entering:{transform:"none"},entered:{transform:"none"}},Gb=C.forwardRef(function(e,n){const r=Co(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:c,in:d,onEnter:f,onEntered:p,onEntering:m,onExit:y,onExited:x,onExiting:v,style:b,timeout:I=i,TransitionComponent:A=Rs}=e,S=Ye(e,e0e),k=C.useRef(null),P=gr(k,jc(l),n),R=q=>Y=>{if(q){const ne=k.current;Y===void 0?q(ne):q(ne,Y)}},E=R(m),O=R((q,Y)=>{Fw(q);const ne=$a({style:b,timeout:I,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("transform",ne),q.style.transition=r.transitions.create("transform",ne),f&&f(q,Y)}),D=R(p),L=R(v),$=R(q=>{const Y=$a({style:b,timeout:I,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("transform",Y),q.style.transition=r.transitions.create("transform",Y),y&&y(q)}),B=R(x),N=q=>{s&&s(k.current,q)};return o.jsx(A,U({appear:a,in:d,nodeRef:k,onEnter:O,onEntered:D,onEntering:E,onExit:$,onExited:B,onExiting:L,addEndListener:N,timeout:I},S,{children:(q,Y)=>C.cloneElement(l,U({style:U({transform:"scale(0)",visibility:q==="exited"&&!d?"hidden":void 0},t0e[q],b,l.props.style),ref:P},Y))}))});function n0e(t){return wt("MuiSpeedDial",t)}const Q0=Ct("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),r0e=["ref"],i0e=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],o0e=["ref"],s0e=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${Ne(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Pt(i,n0e,e)};function jg(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const nu=32,J0=16,a0e=ze("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${Ne(n.direction)}`]]}})(({theme:t,ownerState:e})=>U({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",[`& .${Q0.actions}`]:{flexDirection:"column-reverse",marginBottom:-nu,paddingBottom:J0+nu}},e.direction==="down"&&{flexDirection:"column",[`& .${Q0.actions}`]:{flexDirection:"column",marginTop:-nu,paddingTop:J0+nu}},e.direction==="left"&&{flexDirection:"row-reverse",[`& .${Q0.actions}`]:{flexDirection:"row-reverse",marginRight:-nu,paddingRight:J0+nu}},e.direction==="right"&&{flexDirection:"row",[`& .${Q0.actions}`]:{flexDirection:"row",marginLeft:-nu,paddingLeft:J0+nu}})),l0e=ze(FR,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),c0e=ze("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})(({ownerState:t})=>U({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),u0e=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSpeedDial"}),i=Co(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:a,FabProps:{ref:l}={},children:c,className:d,direction:f="up",hidden:p=!1,icon:m,onBlur:y,onClose:x,onFocus:v,onKeyDown:b,onMouseEnter:I,onMouseLeave:A,onOpen:S,open:k,TransitionComponent:P=Gb,transitionDuration:R=s,TransitionProps:E}=r,O=Ye(r.FabProps,r0e),D=Ye(r,i0e),[L,$]=Xd({controlled:k,default:!1,name:"SpeedDial",state:"open"}),B=U({},r,{open:L,direction:f}),N=s0e(B),q=Ql(),Y=C.useRef(0),ne=C.useRef(),Q=C.useRef([]);Q.current=[Q.current[0]];const ee=C.useCallback(be=>{Q.current[0]=be},[]),Z=gr(l,ee),de=(be,ce)=>We=>{Q.current[be+1]=We,ce&&ce(We)},K=be=>{b&&b(be);const ce=be.key.replace("Arrow","").toLowerCase(),{current:We=ce}=ne;if(be.key==="Escape"){$(!1),Q.current[0].focus(),x&&x(be,"escapeKeyDown");return}if(jg(ce)===jg(We)&&jg(ce)!==void 0){be.preventDefault();const Fe=ce===We?1:-1,pe=x5(Y.current+Fe,0,Q.current.length-1);Q.current[pe].focus(),Y.current=pe,ne.current=We}};C.useEffect(()=>{L||(Y.current=0,ne.current=void 0)},[L]);const se=be=>{be.type==="mouseleave"&&A&&A(be),be.type==="blur"&&y&&y(be),q.clear(),be.type==="blur"?q.start(0,()=>{$(!1),x&&x(be,"blur")}):($(!1),x&&x(be,"mouseLeave"))},le=be=>{O.onClick&&O.onClick(be),q.clear(),L?($(!1),x&&x(be,"toggle")):($(!0),S&&S(be,"toggle"))},oe=be=>{be.type==="mouseenter"&&I&&I(be),be.type==="focus"&&v&&v(be),q.clear(),L||q.start(0,()=>{$(!0),S&&S(be,{focus:"focus",mouseenter:"mouseEnter"}[be.type])})},ge=a.replace(/^[^a-z]+|[^\w:.-]+/gi,""),fe=C.Children.toArray(c).filter(be=>C.isValidElement(be)),Se=fe.map((be,ce)=>{const We=be.props,{FabProps:{ref:Fe}={},tooltipPlacement:pe}=We,$e=Ye(We.FabProps,o0e),Ce=pe||(jg(f)==="vertical"?"left":"top");return C.cloneElement(be,{FabProps:U({},$e,{ref:de(ce,Fe)}),delay:30*(L?ce:fe.length-ce),open:L,tooltipPlacement:Ce,id:`${ge}-action-${ce}`})});return o.jsxs(a0e,U({className:Oe(N.root,d),ref:n,role:"presentation",onKeyDown:K,onBlur:se,onFocus:oe,onMouseEnter:oe,onMouseLeave:se,ownerState:B},D,{children:[o.jsx(P,U({in:!p,timeout:R,unmountOnExit:!0},E,{children:o.jsx(l0e,U({color:"primary","aria-label":a,"aria-haspopup":"true","aria-expanded":L,"aria-controls":`${ge}-actions`},O,{onClick:le,className:Oe(N.fab,O.className),ref:Z,ownerState:B,children:C.isValidElement(m)&&nx(m,["SpeedDialIcon"])?C.cloneElement(m,{open:L}):m}))})),o.jsx(c0e,{id:`${ge}-actions`,role:"menu","aria-orientation":jg(f),className:Oe(N.actions,!L&&N.actionsClosed),ownerState:B,children:Se})]}))});function d0e(t){return wt("MuiTooltip",t)}const fu=Ct("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),h0e=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function f0e(t){return Math.round(t*1e5)/1e5}const p0e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ne(s.split("-")[0])}`],arrow:["arrow"]};return Pt(a,d0e,e)},m0e=ze(cG,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>U({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${fu.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${fu.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${fu.arrow}`]:U({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${fu.arrow}`]:U({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),g0e=ze("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ne(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>U({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Yt.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${f0e(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${fu.popper}[data-popper-placement*="left"] &`]:U({transformOrigin:"right center"},e.isRtl?U({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):U({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${fu.popper}[data-popper-placement*="right"] &`]:U({transformOrigin:"left center"},e.isRtl?U({marginRight:"14px"},e.touch&&{marginRight:"24px"}):U({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${fu.popper}[data-popper-placement*="top"] &`]:U({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${fu.popper}[data-popper-placement*="bottom"] &`]:U({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),x0e=ze("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Yt.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Z0=!1;const j$=new Gy;let Sg={x:0,y:0};function eb(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Ze=C.forwardRef(function(e,n){var r,i,s,a,l,c,d,f,p,m,y,x,v,b,I,A,S,k,P;const R=At({props:e,name:"MuiTooltip"}),{arrow:E=!1,children:O,components:D={},componentsProps:L={},describeChild:$=!1,disableFocusListener:B=!1,disableHoverListener:N=!1,disableInteractive:q=!1,disableTouchListener:Y=!1,enterDelay:ne=100,enterNextDelay:Q=0,enterTouchDelay:ee=700,followCursor:Z=!1,id:de,leaveDelay:K=0,leaveTouchDelay:se=1500,onClose:le,onOpen:oe,open:ge,placement:fe="bottom",PopperComponent:Se,PopperProps:be={},slotProps:ce={},slots:We={},title:Fe,TransitionComponent:pe=Qx,TransitionProps:$e}=R,Ce=Ye(R,h0e),Je=C.isValidElement(O)?O:o.jsx("span",{children:O}),ht=Co(),Xe=um(),[Lt,jt]=C.useState(),[Mt,pt]=C.useState(null),Qe=C.useRef(!1),at=q||Z,Tt=Ql(),vn=Ql(),zt=Ql(),mt=Ql(),[It,lt]=Xd({controlled:ge,default:!1,name:"Tooltip",state:"open"});let Zt=It;const Xt=Hy(de),On=C.useRef(),G=Xi(()=>{On.current!==void 0&&(document.body.style.WebkitUserSelect=On.current,On.current=void 0),mt.clear()});C.useEffect(()=>G,[G]);const ve=Bt=>{j$.clear(),Z0=!0,lt(!0),oe&&!Zt&&oe(Bt)},ke=Xi(Bt=>{j$.start(800+K,()=>{Z0=!1}),lt(!1),le&&Zt&&le(Bt),Tt.start(ht.transitions.duration.shortest,()=>{Qe.current=!1})}),Ue=Bt=>{Qe.current&&Bt.type!=="touchstart"||(Lt&&Lt.removeAttribute("title"),vn.clear(),zt.clear(),ne||Z0&&Q?vn.start(Z0?Q:ne,()=>{ve(Bt)}):ve(Bt))},it=Bt=>{vn.clear(),zt.start(K,()=>{ke(Bt)})},{isFocusVisibleRef:yt,onBlur:pn,onFocus:Sn,ref:sn}=y5(),[,Yn]=C.useState(!1),vt=Bt=>{pn(Bt),yt.current===!1&&(Yn(!1),it(Bt))},Pn=Bt=>{Lt||jt(Bt.currentTarget),Sn(Bt),yt.current===!0&&(Yn(!0),Ue(Bt))},Mn=Bt=>{Qe.current=!0;const gn=Je.props;gn.onTouchStart&&gn.onTouchStart(Bt)},Mr=Bt=>{Mn(Bt),zt.clear(),Tt.clear(),G(),On.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",mt.start(ee,()=>{document.body.style.WebkitUserSelect=On.current,Ue(Bt)})},hi=Bt=>{Je.props.onTouchEnd&&Je.props.onTouchEnd(Bt),G(),zt.start(se,()=>{ke(Bt)})};C.useEffect(()=>{if(!Zt)return;function Bt(gn){(gn.key==="Escape"||gn.key==="Esc")&&ke(gn)}return document.addEventListener("keydown",Bt),()=>{document.removeEventListener("keydown",Bt)}},[ke,Zt]);const lr=gr(jc(Je),sn,jt,n);!Fe&&Fe!==0&&(Zt=!1);const Ut=C.useRef(),an=Bt=>{const gn=Je.props;gn.onMouseMove&&gn.onMouseMove(Bt),Sg={x:Bt.clientX,y:Bt.clientY},Ut.current&&Ut.current.update()},_e={},ct=typeof Fe=="string";$?(_e.title=!Zt&&ct&&!N?Fe:null,_e["aria-describedby"]=Zt?Xt:null):(_e["aria-label"]=ct?Fe:null,_e["aria-labelledby"]=Zt&&!ct?Xt:null);const Ot=U({},_e,Ce,Je.props,{className:Oe(Ce.className,Je.props.className),onTouchStart:Mn,ref:lr},Z?{onMouseMove:an}:{}),St={};Y||(Ot.onTouchStart=Mr,Ot.onTouchEnd=hi),N||(Ot.onMouseOver=eb(Ue,Ot.onMouseOver),Ot.onMouseLeave=eb(it,Ot.onMouseLeave),at||(St.onMouseOver=Ue,St.onMouseLeave=it)),B||(Ot.onFocus=eb(Pn,Ot.onFocus),Ot.onBlur=eb(vt,Ot.onBlur),at||(St.onFocus=Pn,St.onBlur=vt));const te=C.useMemo(()=>{var Bt;let gn=[{name:"arrow",enabled:!!Mt,options:{element:Mt,padding:4}}];return(Bt=be.popperOptions)!=null&&Bt.modifiers&&(gn=gn.concat(be.popperOptions.modifiers)),U({},be.popperOptions,{modifiers:gn})},[Mt,be]),Re=U({},R,{isRtl:Xe,arrow:E,disableInteractive:at,placement:fe,PopperComponentProp:Se,touch:Qe.current}),J=p0e(Re),je=(r=(i=We.popper)!=null?i:D.Popper)!=null?r:m0e,tt=(s=(a=(l=We.transition)!=null?l:D.Transition)!=null?a:pe)!=null?s:Qx,kt=(c=(d=We.tooltip)!=null?d:D.Tooltip)!=null?c:g0e,nt=(f=(p=We.arrow)!=null?p:D.Arrow)!=null?f:x0e,bn=Nf(je,U({},be,(m=ce.popper)!=null?m:L.popper,{className:Oe(J.popper,be==null?void 0:be.className,(y=(x=ce.popper)!=null?x:L.popper)==null?void 0:y.className)}),Re),mn=Nf(tt,U({},$e,(v=ce.transition)!=null?v:L.transition),Re),Pr=Nf(kt,U({},(b=ce.tooltip)!=null?b:L.tooltip,{className:Oe(J.tooltip,(I=(A=ce.tooltip)!=null?A:L.tooltip)==null?void 0:I.className)}),Re),Ar=Nf(nt,U({},(S=ce.arrow)!=null?S:L.arrow,{className:Oe(J.arrow,(k=(P=ce.arrow)!=null?P:L.arrow)==null?void 0:k.className)}),Re);return o.jsxs(C.Fragment,{children:[C.cloneElement(Je,Ot),o.jsx(je,U({as:Se??cG,placement:fe,anchorEl:Z?{getBoundingClientRect:()=>({top:Sg.y,left:Sg.x,right:Sg.x,bottom:Sg.y,width:0,height:0})}:Lt,popperRef:Ut,open:Lt?Zt:!1,id:Xt,transition:!0},St,bn,{popperOptions:te,children:({TransitionProps:Bt})=>o.jsx(tt,U({timeout:ht.transitions.duration.shorter},Bt,mn,{children:o.jsxs(kt,U({},Pr,{children:[Fe,E?o.jsx(nt,U({},Ar,{ref:pt})):null]}))}))}))]})});function y0e(t){return wt("MuiSpeedDialAction",t)}const v0e=Ct("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),b0e=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],_0e=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Ne(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Pt(i,y0e,r)},w0e=ze(FR,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>U({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:Yt.emphasize(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),j0e=ze("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${Ne(n.tooltipPlacement)}`]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${v0e.staticTooltipLabel}`]:U({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),S0e=ze("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>U({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),C0e=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:s=0,FabProps:a={},icon:l,id:c,open:d,TooltipClasses:f,tooltipOpen:p=!1,tooltipPlacement:m="left",tooltipTitle:y}=r,x=Ye(r,b0e),v=U({},r,{tooltipPlacement:m}),b=_0e(v),[I,A]=C.useState(p),S=()=>{A(!1)},k=()=>{A(!0)},P={transitionDelay:`${s}ms`},R=o.jsx(w0e,U({size:"small",className:Oe(b.fab,i),tabIndex:-1,role:"menuitem",ownerState:v},a,{style:U({},P,a.style),children:l}));return p?o.jsxs(j0e,U({id:c,ref:n,className:b.staticTooltip,ownerState:v},x,{children:[o.jsx(S0e,{style:P,id:`${c}-label`,className:b.staticTooltipLabel,ownerState:v,children:y}),C.cloneElement(R,{"aria-labelledby":`${c}-label`})]})):(!d&&I&&A(!1),o.jsx(Ze,U({id:c,ref:n,title:y,placement:m,onClose:S,onOpen:k,open:d&&I,classes:f},x,{children:R})))}),P0e=et(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function A0e(t){return wt("MuiSpeedDialIcon",t)}const dd=Ct("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),E0e=["className","icon","open","openIcon"],I0e=t=>{const{classes:e,open:n,openIcon:r}=t;return Pt({root:["root"],icon:["icon",n&&"iconOpen",r&&n&&"iconWithOpenIconOpen"],openIcon:["openIcon",n&&"openIconOpen"]},A0e,e)},T0e=ze("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${dd.icon}`]:e.icon},{[`& .${dd.icon}`]:n.open&&e.iconOpen},{[`& .${dd.icon}`]:n.open&&n.openIcon&&e.iconWithOpenIconOpen},{[`& .${dd.openIcon}`]:e.openIcon},{[`& .${dd.openIcon}`]:n.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,[`& .${dd.icon}`]:U({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&U({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),[`& .${dd.openIcon}`]:U({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),CG=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:s,openIcon:a}=r,l=Ye(r,E0e),c=r,d=I0e(c);function f(p,m){return C.isValidElement(p)?C.cloneElement(p,{className:m}):p}return o.jsxs(T0e,U({className:Oe(d.root,i),ref:n,ownerState:c},l,{children:[a?f(a,d.openIcon):null,s?f(s,d.icon):o.jsx(P0e,{className:d.icon})]}))});CG.muiName="SpeedDialIcon";const k0e=["anchor","classes","className","width","style"],R0e=ze("div",{shouldForwardProp:Li})(({theme:t,ownerState:e})=>U({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),O0e=C.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:a,style:l}=e,c=Ye(e,k0e),d=e;return o.jsx(R0e,U({className:Oe("PrivateSwipeArea-root",i.root,i[`anchor${Ne(r)}`],s),ref:n,style:U({[Ed(r)?"width":"height"]:a},l),ownerState:d},c))}),D0e=["BackdropProps"],M0e=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],tb=3,tC=20;let Ul=null;function nC(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function rC(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function Cg(t,e){return t?e.clientWidth:e.clientHeight}function S$(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function N0e(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=zo(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function $0e({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let a=n>=e;(r==="top"||r==="left")&&(a=!a);const l=r==="left"||r==="right"?"x":"y",c=Math.round(s[i.scrollPosition[l]]),d=c>0,f=c+s[i.clientLength[l]]<s[i.scrollLength[l]];return!!(a&&f||!a&&d)})}const L0e=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),z0e=C.forwardRef(function(e,n){const r=At({name:"MuiSwipeableDrawer",props:e}),i=Co(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",disableBackdropTransition:l=!1,disableDiscovery:c=!1,disableSwipeToOpen:d=L0e,hideBackdrop:f,hysteresis:p=.52,allowSwipeInChildren:m=!1,minFlingVelocity:y=450,ModalProps:{BackdropProps:x}={},onClose:v,onOpen:b,open:I=!1,PaperProps:A={},SwipeAreaProps:S,swipeAreaWidth:k=20,transitionDuration:P=s,variant:R="temporary"}=r,E=Ye(r.ModalProps,D0e),O=Ye(r,M0e),[D,L]=C.useState(!1),$=C.useRef({isSwiping:null}),B=C.useRef(),N=C.useRef(),q=C.useRef(),Y=gr(A.ref,q),ne=C.useRef(!1),Q=C.useRef();So(()=>{Q.current=null},[I]);const ee=C.useCallback((le,oe={})=>{const{mode:ge=null,changeTransition:fe=!0}=oe,Se=Xg(i,a),be=["right","bottom"].indexOf(Se)!==-1?1:-1,ce=Ed(a),We=ce?`translate(${be*le}px, 0)`:`translate(0, ${be*le}px)`,Fe=q.current.style;Fe.webkitTransform=We,Fe.transform=We;let pe="";if(ge&&(pe=i.transitions.create("all",$a({easing:void 0,style:void 0,timeout:P},{mode:ge}))),fe&&(Fe.webkitTransition=pe,Fe.transition=pe),!l&&!f){const $e=N.current.style;$e.opacity=1-le/Cg(ce,q.current),fe&&($e.webkitTransition=pe,$e.transition=pe)}},[a,l,f,i,P]),Z=Xi(le=>{if(!ne.current)return;if(Ul=null,ne.current=!1,M1.flushSync(()=>{L(!1)}),!$.current.isSwiping){$.current.isSwiping=null;return}$.current.isSwiping=null;const oe=Xg(i,a),ge=Ed(a);let fe;ge?fe=nC(oe,le.changedTouches,ri(le.currentTarget)):fe=rC(oe,le.changedTouches,zo(le.currentTarget));const Se=ge?$.current.startX:$.current.startY,be=Cg(ge,q.current),ce=S$(fe,Se,I,be),We=ce/be;if(Math.abs($.current.velocity)>y&&(Q.current=Math.abs((be-ce)/$.current.velocity)*1e3),I){$.current.velocity>y||We>p?v():ee(0,{mode:"exit"});return}$.current.velocity<-y||1-We>p?b():ee(Cg(ge,q.current),{mode:"enter"})}),de=(le=!1)=>{if(!D){(le||!(c&&m))&&M1.flushSync(()=>{L(!0)});const oe=Ed(a);!I&&q.current&&ee(Cg(oe,q.current)+(c?15:-tC),{changeTransition:!1}),$.current.velocity=0,$.current.lastTime=null,$.current.lastTranslate=null,$.current.paperHit=!1,ne.current=!0}},K=Xi(le=>{if(!q.current||!ne.current||Ul!==null&&Ul!==$.current)return;de(!0);const oe=Xg(i,a),ge=Ed(a),fe=nC(oe,le.touches,ri(le.currentTarget)),Se=rC(oe,le.touches,zo(le.currentTarget));if(I&&q.current.contains(le.target)&&Ul===null){const pe=N0e(le.target,q.current);if($0e({domTreeShapes:pe,start:ge?$.current.startX:$.current.startY,current:ge?fe:Se,anchor:a})){Ul=!0;return}Ul=$.current}if($.current.isSwiping==null){const pe=Math.abs(fe-$.current.startX),$e=Math.abs(Se-$.current.startY),Ce=ge?pe>$e&&pe>tb:$e>pe&&$e>tb;if(Ce&&le.cancelable&&le.preventDefault(),Ce===!0||(ge?$e>tb:pe>tb)){if($.current.isSwiping=Ce,!Ce){Z(le);return}$.current.startX=fe,$.current.startY=Se,!c&&!I&&(ge?$.current.startX-=tC:$.current.startY-=tC)}}if(!$.current.isSwiping)return;const be=Cg(ge,q.current);let ce=ge?$.current.startX:$.current.startY;I&&!$.current.paperHit&&(ce=Math.min(ce,be));const We=S$(ge?fe:Se,ce,I,be);if(I)if($.current.paperHit)We===0&&($.current.startX=fe,$.current.startY=Se);else if(ge?fe<be:Se<be)$.current.paperHit=!0,$.current.startX=fe,$.current.startY=Se;else return;$.current.lastTranslate===null&&($.current.lastTranslate=We,$.current.lastTime=performance.now()+1);const Fe=(We-$.current.lastTranslate)/(performance.now()-$.current.lastTime)*1e3;$.current.velocity=$.current.velocity*.4+Fe*.6,$.current.lastTranslate=We,$.current.lastTime=performance.now(),le.cancelable&&le.preventDefault(),ee(We)}),se=Xi(le=>{if(le.defaultPrevented||le.defaultMuiPrevented||I&&(f||!N.current.contains(le.target))&&!q.current.contains(le.target))return;const oe=Xg(i,a),ge=Ed(a),fe=nC(oe,le.touches,ri(le.currentTarget)),Se=rC(oe,le.touches,zo(le.currentTarget));if(!I){var be;if(d||!(le.target===B.current||(be=q.current)!=null&&be.contains(le.target)&&(typeof m=="function"?m(le,B.current,q.current):m)))return;if(ge){if(fe>k)return}else if(Se>k)return}le.defaultMuiPrevented=!0,Ul=null,$.current.startX=fe,$.current.startY=Se,de()});return C.useEffect(()=>{if(R==="temporary"){const le=ri(q.current);return le.addEventListener("touchstart",se),le.addEventListener("touchmove",K,{passive:!I}),le.addEventListener("touchend",Z),()=>{le.removeEventListener("touchstart",se),le.removeEventListener("touchmove",K,{passive:!I}),le.removeEventListener("touchend",Z)}}},[R,I,se,K,Z]),C.useEffect(()=>()=>{Ul===$.current&&(Ul=null)},[]),C.useEffect(()=>{I||L(!1)},[I]),o.jsxs(C.Fragment,{children:[o.jsx(gG,U({open:R==="temporary"&&D?!0:I,variant:R,ModalProps:U({BackdropProps:U({},x,{ref:N})},R==="temporary"&&{keepMounted:!0},E),hideBackdrop:f,PaperProps:U({},A,{style:U({pointerEvents:R==="temporary"&&!I&&!m?"none":""},A.style),ref:Y}),anchor:a,transitionDuration:Q.current||P,onClose:v,ref:n},O)),!d&&R==="temporary"&&o.jsx(Qye,{children:o.jsx(O0e,U({anchor:a,ref:B,width:k},S))})]})});function F0e(t){return wt("MuiSwitch",t)}const ko=Ct("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),W0e=["className","color","edge","size","sx"],V0e=t=>{const{classes:e,edge:n,size:r,color:i,checked:s,disabled:a}=t,l={root:["root",n&&`edge${Ne(n)}`,`size${Ne(r)}`],switchBase:["switchBase",`color${Ne(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Pt(l,F0e,e);return U({},e,c)},B0e=ze("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ne(n.edge)}`],e[`size${Ne(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ko.thumb}`]:{width:16,height:16},[`& .${ko.switchBase}`]:{padding:4,[`&.${ko.checked}`]:{transform:"translateX(16px)"}}}}]}),U0e=ze(hG,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${ko.input}`]:e.input},n.color!=="default"&&e[`color${Ne(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${ko.checked}`]:{transform:"translateX(20px)"},[`&.${ko.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${ko.checked} + .${ko.track}`]:{opacity:.5},[`&.${ko.disabled} + .${ko.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${ko.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${ko.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yt.alpha(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ko.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?Yt.lighten(t.palette[e].main,.62):Yt.darken(t.palette[e].main,.55)}`}},[`&.${ko.checked} + .${ko.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),q0e=ze("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),H0e=ze("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ti=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:l="medium",sx:c}=r,d=Ye(r,W0e),f=U({},r,{color:s,edge:a,size:l}),p=V0e(f),m=o.jsx(H0e,{className:p.thumb,ownerState:f});return o.jsxs(B0e,{className:Oe(p.root,i),sx:c,ownerState:f,children:[o.jsx(U0e,U({type:"checkbox",icon:m,checkedIcon:m,ref:n,ownerState:f},d,{classes:U({},p,{root:p.switchBase})})),o.jsx(q0e,{className:p.track,ownerState:f})]})});function G0e(t){return wt("MuiTab",t)}const ru=Ct("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),K0e=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Y0e=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:a,selected:l,disabled:c}=t,d={root:["root",s&&a&&"labelIcon",`textColor${Ne(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return Pt(d,G0e,e)},X0e=ze(oa,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ne(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${ru.iconWrapper}`]:e.iconWrapper}]}})(({theme:t,ownerState:e})=>U({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ru.iconWrapper}`]:U({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ru.selected}`]:{opacity:1},[`&.${ru.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ru.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ru.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${ru.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ru.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),un=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:l,icon:c,iconPosition:d="top",indicator:f,label:p,onChange:m,onClick:y,onFocus:x,selected:v,selectionFollowsFocus:b,textColor:I="inherit",value:A,wrapped:S=!1}=r,k=Ye(r,K0e),P=U({},r,{disabled:s,disableFocusRipple:a,selected:v,icon:!!c,iconPosition:d,label:!!p,fullWidth:l,textColor:I,wrapped:S}),R=Y0e(P),E=c&&p&&C.isValidElement(c)?C.cloneElement(c,{className:Oe(R.iconWrapper,c.props.className)}):c,O=L=>{!v&&m&&m(L,A),y&&y(L)},D=L=>{b&&!v&&m&&m(L,A),x&&x(L)};return o.jsxs(X0e,U({focusRipple:!a,className:Oe(R.root,i),ref:n,role:"tab","aria-selected":v,disabled:s,onClick:O,onFocus:D,ownerState:P,tabIndex:v?0:-1},k,{children:[d==="top"||d==="start"?o.jsxs(C.Fragment,{children:[E,p]}):o.jsxs(C.Fragment,{children:[p,E]}),f]}))}),PG=C.createContext();function Q0e(t){return wt("MuiTable",t)}Ct("MuiTable",["root","stickyHeader"]);const J0e=["className","component","padding","size","stickyHeader"],Z0e=t=>{const{classes:e,stickyHeader:n}=t;return Pt({root:["root",n&&"stickyHeader"]},Q0e,e)},ebe=ze("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>U({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":U({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),C$="table",gi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTable"}),{className:i,component:s=C$,padding:a="normal",size:l="medium",stickyHeader:c=!1}=r,d=Ye(r,J0e),f=U({},r,{component:s,padding:a,size:l,stickyHeader:c}),p=Z0e(f),m=C.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return o.jsx(PG.Provider,{value:m,children:o.jsx(ebe,U({as:s,role:s===C$?null:"table",ref:n,className:Oe(p.root,i),ownerState:f},d))})}),Xw=C.createContext();function tbe(t){return wt("MuiTableBody",t)}Ct("MuiTableBody",["root"]);const nbe=["className","component"],rbe=t=>{const{classes:e}=t;return Pt({root:["root"]},tbe,e)},ibe=ze("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),obe={variant:"body"},P$="tbody",xi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTableBody"}),{className:i,component:s=P$}=r,a=Ye(r,nbe),l=U({},r,{component:s}),c=rbe(l);return o.jsx(Xw.Provider,{value:obe,children:o.jsx(ibe,U({className:Oe(c.root,i),as:s,ref:n,role:s===P$?null:"rowgroup",ownerState:l},a))})});function sbe(t){return wt("MuiTableCell",t)}const abe=Ct("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),lbe=["align","className","component","padding","scope","size","sortDirection","variant"],cbe=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:a}=t,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${Ne(r)}`,i!=="normal"&&`padding${Ne(i)}`,`size${Ne(s)}`]};return Pt(l,sbe,e)},ube=ze("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ne(n.size)}`],n.padding!=="normal"&&e[`padding${Ne(n.padding)}`],n.align!=="inherit"&&e[`align${Ne(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>U({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Yt.lighten(Yt.alpha(t.palette.divider,1),.88):Yt.darken(Yt.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${abe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),ae=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:a,padding:l,scope:c,size:d,sortDirection:f,variant:p}=r,m=Ye(r,lbe),y=C.useContext(PG),x=C.useContext(Xw),v=x&&x.variant==="head";let b;a?b=a:b=v?"th":"td";let I=c;b==="td"?I=void 0:!I&&v&&(I="col");const A=p||x&&x.variant,S=U({},r,{align:i,component:b,padding:l||(y&&y.padding?y.padding:"normal"),size:d||(y&&y.size?y.size:"medium"),sortDirection:f,stickyHeader:A==="head"&&y&&y.stickyHeader,variant:A}),k=cbe(S);let P=null;return f&&(P=f==="asc"?"ascending":"descending"),o.jsx(ube,U({as:b,ref:n,className:Oe(k.root,s),"aria-sort":P,scope:I,ownerState:S},m))});function dbe(t){return wt("MuiTableContainer",t)}Ct("MuiTableContainer",["root"]);const hbe=["className","component"],fbe=t=>{const{classes:e}=t;return Pt({root:["root"]},dbe,e)},pbe=ze("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),yi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTableContainer"}),{className:i,component:s="div"}=r,a=Ye(r,hbe),l=U({},r,{component:s}),c=fbe(l);return o.jsx(pbe,U({ref:n,as:s,className:Oe(c.root,i),ownerState:l},a))});function mbe(t){return wt("MuiTableHead",t)}Ct("MuiTableHead",["root"]);const gbe=["className","component"],xbe=t=>{const{classes:e}=t;return Pt({root:["root"]},mbe,e)},ybe=ze("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),vbe={variant:"head"},A$="thead",vi=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTableHead"}),{className:i,component:s=A$}=r,a=Ye(r,gbe),l=U({},r,{component:s}),c=xbe(l);return o.jsx(Xw.Provider,{value:vbe,children:o.jsx(ybe,U({as:s,className:Oe(c.root,i),ref:n,role:s===A$?null:"rowgroup",ownerState:l},a))})});function bbe(t){return wt("MuiToolbar",t)}Ct("MuiToolbar",["root","gutters","regular","dense"]);const _be=["className","component","disableGutters","variant"],wbe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Pt({root:["root",!n&&"gutters",r]},bbe,e)},jbe=ze("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>U({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),AG=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:a=!1,variant:l="regular"}=r,c=Ye(r,_be),d=U({},r,{component:s,disableGutters:a,variant:l}),f=wbe(d);return o.jsx(jbe,U({as:s,className:Oe(f.root,i),ref:n,ownerState:d},c))}),Sbe=et(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Cbe=et(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Pbe(t){return wt("MuiTableRow",t)}const E$=Ct("MuiTableRow",["root","selected","hover","head","footer"]),Abe=["className","component","hover","selected"],Ebe=t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return Pt({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},Pbe,e)},Ibe=ze("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${E$.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${E$.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Yt.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),I$="tr",Qt=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTableRow"}),{className:i,component:s=I$,hover:a=!1,selected:l=!1}=r,c=Ye(r,Abe),d=C.useContext(Xw),f=U({},r,{component:s,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),p=Ebe(f);return o.jsx(Ibe,U({as:s,ref:n,className:Oe(p.root,i),role:s===I$?null:"row",ownerState:f},c))});function Tbe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function kbe(t,e,n,r={},i=()=>{}){const{ease:s=Tbe,duration:a=300}=r;let l=null;const c=e[t];let d=!1;const f=()=>{d=!0},p=m=>{if(d){i(new Error("Animation cancelled"));return}l===null&&(l=m);const y=Math.min(1,(m-l)/a);if(e[t]=s(y)*(n-c)+c,y>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(p)};return c===n?(i(new Error("Element already at target position")),f):(requestAnimationFrame(p),f)}const Rbe=["onChange"],Obe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Dbe(t){const{onChange:e}=t,n=Ye(t,Rbe),r=C.useRef(),i=C.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return So(()=>{const a=qy(()=>{const c=r.current;s(),c!==r.current&&e(r.current)}),l=zo(i.current);return l.addEventListener("resize",a),()=>{a.clear(),l.removeEventListener("resize",a)}},[e]),C.useEffect(()=>{s(),e(r.current)},[e]),o.jsx("div",U({style:Obe},n,{ref:i}))}function Mbe(t){return wt("MuiTabScrollButton",t)}const Nbe=Ct("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),$be=["className","slots","slotProps","direction","orientation","disabled"],Lbe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Pt({root:["root",n,r&&"disabled"]},Mbe,e)},zbe=ze(oa,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>U({width:40,flexShrink:0,opacity:.8,[`&.${Nbe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),Fbe=C.forwardRef(function(e,n){var r,i;const s=At({props:e,name:"MuiTabScrollButton"}),{className:a,slots:l={},slotProps:c={},direction:d}=s,f=Ye(s,$be),p=um(),m=U({isRtl:p},s),y=Lbe(m),x=(r=l.StartScrollButtonIcon)!=null?r:Sbe,v=(i=l.EndScrollButtonIcon)!=null?i:Cbe,b=os({elementType:x,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),I=os({elementType:v,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return o.jsx(zbe,U({component:"div",className:Oe(y.root,a),ref:n,role:null,ownerState:m,tabIndex:null},f,{children:d==="left"?o.jsx(x,U({},b)):o.jsx(v,U({},I))}))});function Wbe(t){return wt("MuiTabs",t)}const iC=Ct("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Vbe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],T$=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,k$=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,nb=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},Bbe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:l,classes:c}=t;return Pt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Wbe,c)},Ube=ze("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${iC.scrollButtons}`]:e.scrollButtons},{[`& .${iC.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>U({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${iC.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),qbe=ze("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>U({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Hbe=ze("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>U({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),Gbe=ze("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>U({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),Kbe=ze(Dbe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),R$={},_l=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTabs"}),i=Co(),s=um(),{"aria-label":a,"aria-labelledby":l,action:c,centered:d=!1,children:f,className:p,component:m="div",allowScrollButtonsMobile:y=!1,indicatorColor:x="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:I=Fbe,scrollButtons:A="auto",selectionFollowsFocus:S,slots:k={},slotProps:P={},TabIndicatorProps:R={},TabScrollButtonProps:E={},textColor:O="primary",value:D,variant:L="standard",visibleScrollbar:$=!1}=r,B=Ye(r,Vbe),N=L==="scrollable",q=b==="vertical",Y=q?"scrollTop":"scrollLeft",ne=q?"top":"left",Q=q?"bottom":"right",ee=q?"clientHeight":"clientWidth",Z=q?"height":"width",de=U({},r,{component:m,allowScrollButtonsMobile:y,indicatorColor:x,orientation:b,vertical:q,scrollButtons:A,textColor:O,variant:L,visibleScrollbar:$,fixed:!N,hideScrollbar:N&&!$,scrollableX:N&&!q,scrollableY:N&&q,centered:d&&!N,scrollButtonsHideMobile:!y}),K=Bbe(de),se=os({elementType:k.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:de}),le=os({elementType:k.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:de}),[oe,ge]=C.useState(!1),[fe,Se]=C.useState(R$),[be,ce]=C.useState(!1),[We,Fe]=C.useState(!1),[pe,$e]=C.useState(!1),[Ce,Je]=C.useState({overflow:"hidden",scrollbarWidth:0}),ht=new Map,Xe=C.useRef(null),Lt=C.useRef(null),jt=()=>{const ke=Xe.current;let Ue;if(ke){const yt=ke.getBoundingClientRect();Ue={clientWidth:ke.clientWidth,scrollLeft:ke.scrollLeft,scrollTop:ke.scrollTop,scrollLeftNormalized:fne(ke,s?"rtl":"ltr"),scrollWidth:ke.scrollWidth,top:yt.top,bottom:yt.bottom,left:yt.left,right:yt.right}}let it;if(ke&&D!==!1){const yt=Lt.current.children;if(yt.length>0){const pn=yt[ht.get(D)];it=pn?pn.getBoundingClientRect():null}}return{tabsMeta:Ue,tabMeta:it}},Mt=Xi(()=>{const{tabsMeta:ke,tabMeta:Ue}=jt();let it=0,yt;if(q)yt="top",Ue&&ke&&(it=Ue.top-ke.top+ke.scrollTop);else if(yt=s?"right":"left",Ue&&ke){const Sn=s?ke.scrollLeftNormalized+ke.clientWidth-ke.scrollWidth:ke.scrollLeft;it=(s?-1:1)*(Ue[yt]-ke[yt]+Sn)}const pn={[yt]:it,[Z]:Ue?Ue[Z]:0};if(isNaN(fe[yt])||isNaN(fe[Z]))Se(pn);else{const Sn=Math.abs(fe[yt]-pn[yt]),sn=Math.abs(fe[Z]-pn[Z]);(Sn>=1||sn>=1)&&Se(pn)}}),pt=(ke,{animation:Ue=!0}={})=>{Ue?kbe(Y,Xe.current,ke,{duration:i.transitions.duration.standard}):Xe.current[Y]=ke},Qe=ke=>{let Ue=Xe.current[Y];q?Ue+=ke:(Ue+=ke*(s?-1:1),Ue*=s&&h7()==="reverse"?-1:1),pt(Ue)},at=()=>{const ke=Xe.current[ee];let Ue=0;const it=Array.from(Lt.current.children);for(let yt=0;yt<it.length;yt+=1){const pn=it[yt];if(Ue+pn[ee]>ke){yt===0&&(Ue=ke);break}Ue+=pn[ee]}return Ue},Tt=()=>{Qe(-1*at())},vn=()=>{Qe(at())},zt=C.useCallback(ke=>{Je({overflow:null,scrollbarWidth:ke})},[]),mt=()=>{const ke={};ke.scrollbarSizeListener=N?o.jsx(Kbe,{onChange:zt,className:Oe(K.scrollableX,K.hideScrollbar)}):null;const it=N&&(A==="auto"&&(be||We)||A===!0);return ke.scrollButtonStart=it?o.jsx(I,U({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:se},orientation:b,direction:s?"right":"left",onClick:Tt,disabled:!be},E,{className:Oe(K.scrollButtons,E.className)})):null,ke.scrollButtonEnd=it?o.jsx(I,U({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:le},orientation:b,direction:s?"left":"right",onClick:vn,disabled:!We},E,{className:Oe(K.scrollButtons,E.className)})):null,ke},It=Xi(ke=>{const{tabsMeta:Ue,tabMeta:it}=jt();if(!(!it||!Ue)){if(it[ne]<Ue[ne]){const yt=Ue[Y]+(it[ne]-Ue[ne]);pt(yt,{animation:ke})}else if(it[Q]>Ue[Q]){const yt=Ue[Y]+(it[Q]-Ue[Q]);pt(yt,{animation:ke})}}}),lt=Xi(()=>{N&&A!==!1&&$e(!pe)});C.useEffect(()=>{const ke=qy(()=>{Xe.current&&Mt()});let Ue;const it=Sn=>{Sn.forEach(sn=>{sn.removedNodes.forEach(Yn=>{var vt;(vt=Ue)==null||vt.unobserve(Yn)}),sn.addedNodes.forEach(Yn=>{var vt;(vt=Ue)==null||vt.observe(Yn)})}),ke(),lt()},yt=zo(Xe.current);yt.addEventListener("resize",ke);let pn;return typeof ResizeObserver<"u"&&(Ue=new ResizeObserver(ke),Array.from(Lt.current.children).forEach(Sn=>{Ue.observe(Sn)})),typeof MutationObserver<"u"&&(pn=new MutationObserver(it),pn.observe(Lt.current,{childList:!0})),()=>{var Sn,sn;ke.clear(),yt.removeEventListener("resize",ke),(Sn=pn)==null||Sn.disconnect(),(sn=Ue)==null||sn.disconnect()}},[Mt,lt]),C.useEffect(()=>{const ke=Array.from(Lt.current.children),Ue=ke.length;if(typeof IntersectionObserver<"u"&&Ue>0&&N&&A!==!1){const it=ke[0],yt=ke[Ue-1],pn={root:Xe.current,threshold:.99},Sn=Pn=>{ce(!Pn[0].isIntersecting)},sn=new IntersectionObserver(Sn,pn);sn.observe(it);const Yn=Pn=>{Fe(!Pn[0].isIntersecting)},vt=new IntersectionObserver(Yn,pn);return vt.observe(yt),()=>{sn.disconnect(),vt.disconnect()}}},[N,A,pe,f==null?void 0:f.length]),C.useEffect(()=>{ge(!0)},[]),C.useEffect(()=>{Mt()}),C.useEffect(()=>{It(R$!==fe)},[It,fe]),C.useImperativeHandle(c,()=>({updateIndicator:Mt,updateScrollButtons:lt}),[Mt,lt]);const Zt=o.jsx(Gbe,U({},R,{className:Oe(K.indicator,R.className),ownerState:de,style:U({},fe,R.style)}));let Xt=0;const On=C.Children.map(f,ke=>{if(!C.isValidElement(ke))return null;const Ue=ke.props.value===void 0?Xt:ke.props.value;ht.set(Ue,Xt);const it=Ue===D;return Xt+=1,C.cloneElement(ke,U({fullWidth:L==="fullWidth",indicator:it&&!oe&&Zt,selected:it,selectionFollowsFocus:S,onChange:v,textColor:O,value:Ue},Xt===1&&D===!1&&!ke.props.tabIndex?{tabIndex:0}:{}))}),G=ke=>{const Ue=Lt.current,it=ri(Ue).activeElement;if(it.getAttribute("role")!=="tab")return;let pn=b==="horizontal"?"ArrowLeft":"ArrowUp",Sn=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&s&&(pn="ArrowRight",Sn="ArrowLeft"),ke.key){case pn:ke.preventDefault(),nb(Ue,it,k$);break;case Sn:ke.preventDefault(),nb(Ue,it,T$);break;case"Home":ke.preventDefault(),nb(Ue,null,T$);break;case"End":ke.preventDefault(),nb(Ue,null,k$);break}},ve=mt();return o.jsxs(Ube,U({className:Oe(K.root,p),ownerState:de,ref:n,as:m},B,{children:[ve.scrollButtonStart,ve.scrollbarSizeListener,o.jsxs(qbe,{className:K.scroller,ownerState:de,style:{overflow:Ce.overflow,[q?`margin${s?"Left":"Right"}`:"marginBottom"]:$?void 0:-Ce.scrollbarWidth},ref:Xe,children:[o.jsx(Hbe,{"aria-label":a,"aria-labelledby":l,"aria-orientation":b==="vertical"?"vertical":null,className:K.flexContainer,ownerState:de,onKeyDown:G,ref:Lt,role:"tablist",children:On}),oe&&Zt]}),ve.scrollButtonEnd]}))});function Ybe(t){return wt("MuiTextField",t)}Ct("MuiTextField",["root"]);const Xbe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Qbe={standard:VR,filled:WR,outlined:qR},Jbe=t=>{const{classes:e}=t;return Pt({root:["root"]},Ybe,e)},Zbe=ze(hn,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Pe=C.forwardRef(function(e,n){const r=At({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:f=!1,error:p=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:x,id:v,InputLabelProps:b,inputProps:I,InputProps:A,inputRef:S,label:k,maxRows:P,minRows:R,multiline:E=!1,name:O,onBlur:D,onChange:L,onFocus:$,placeholder:B,required:N=!1,rows:q,select:Y=!1,SelectProps:ne,type:Q,value:ee,variant:Z="outlined"}=r,de=Ye(r,Xbe),K=U({},r,{autoFocus:s,color:c,disabled:f,error:p,fullWidth:y,multiline:E,required:N,select:Y,variant:Z}),se=Jbe(K),le={};Z==="outlined"&&(b&&typeof b.shrink<"u"&&(le.notched=b.shrink),le.label=k),Y&&((!ne||!ne.native)&&(le.id=void 0),le["aria-describedby"]=void 0);const oe=Hy(v),ge=x&&oe?`${oe}-helper-text`:void 0,fe=k&&oe?`${oe}-label`:void 0,Se=Qbe[Z],be=o.jsx(Se,U({"aria-describedby":ge,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:y,multiline:E,name:O,rows:q,maxRows:P,minRows:R,type:Q,value:ee,id:oe,inputRef:S,onBlur:D,onChange:L,onFocus:$,placeholder:B,inputProps:I},le,A));return o.jsxs(Zbe,U({className:Oe(se.root,l),disabled:f,error:p,fullWidth:y,ref:n,required:N,color:c,variant:Z,ownerState:K},de,{children:[k!=null&&k!==""&&o.jsx(jn,U({htmlFor:oe,id:fe},b,{children:k})),Y?o.jsx(yn,U({"aria-describedby":ge,id:oe,labelId:fe,value:ee,input:be},ne,{children:a})):be,x&&o.jsx(xT,U({id:ge},m,{children:x}))]}))}),EG=C.createContext({user:null,loading:!0,initialized:!1,signIn:async()=>{},signUp:async()=>{},signOut:async()=>{},isAuthenticated:!1,error:null}),e1e=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,a]=C.useState(!1),[l,c]=C.useState(null);C.useEffect(()=>{console.log("🔄 AuthProvider: Initializing auth state listener...");const y=vse(bi,x=>{console.log("🔄 AuthProvider: Auth state changed:",x?`${x.email} (${x.uid})`:"No user"),n(x),i(!1),a(!0),c(null)},x=>{console.error("❌ AuthProvider: Auth state error:",x),c(x.message),i(!1),a(!0)});return()=>{console.log("🔄 AuthProvider: Cleaning up auth listener"),y()}},[]);const m={user:e,loading:r,initialized:s,signIn:async(y,x)=>{try{c(null),i(!0),console.log("🔄 AuthProvider: Attempting sign in for:",y),await qb.signIn(y,x),console.log("✅ AuthProvider: Sign in successful")}catch(v){throw console.error("❌ AuthProvider: Sign in error:",v),c(v.message||"Failed to sign in"),v}finally{i(!1)}},signUp:async(y,x)=>{try{c(null),i(!0),console.log("🔄 AuthProvider: Attempting sign up for:",y),await qb.signUp(y,x),console.log("✅ AuthProvider: Sign up successful")}catch(v){throw console.error("❌ AuthProvider: Sign up error:",v),c(v.message||"Failed to create account"),v}finally{i(!1)}},signOut:async()=>{try{c(null),console.log("🔄 AuthProvider: Attempting sign out"),await qb.signOut(),console.log("✅ AuthProvider: Sign out successful")}catch(y){throw console.error("❌ AuthProvider: Sign out error:",y),c(y.message||"Failed to sign out"),y}},isAuthenticated:!!e,error:l};return s?o.jsx(EG.Provider,{value:m,children:t}):o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"background.default",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Initializing authentication..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we restore your session"})]})},ym=()=>{const t=C.useContext(EG);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},t1e=["admin@sahdasclinic.com","sahdasamier013@gmail.com","YOUR_ADMIN_EMAIL@DOMAIN.COM"],Su=t=>t1e.includes(t.toLowerCase()),IG=C.createContext({userProfile:null,userClinic:null,isAdmin:!1,loading:!0,refreshUserData:async()=>{}}),Qw=()=>{const t=C.useContext(IG);if(!t)throw new Error("useUser must be used within a UserProvider");return t},n1e=({children:t})=>{const{user:e,loading:n,initialized:r}=ym(),[i,s]=C.useState(null),[a,l]=C.useState(null),[c,d]=C.useState(!0),f=C.useCallback(async()=>{if(!r){console.log("🔄 UserProvider: Auth not initialized yet, waiting...");return}if(!e){console.log("🔄 UserProvider: No authenticated user, clearing user data"),s(null),l(null),d(!1);return}try{if(d(!0),console.log("🔄 UserProvider: Refreshing user data for:",e.email),Su(e.email||"")){console.log("✅ UserProvider: User is super admin"),s(null),l(null),d(!1);return}try{console.log("🔄 UserProvider: Fetching user profile from Firestore");const y=await Pp(Di(ni,"users",e.uid));if(y.exists()){const x={id:y.id,...y.data()};if(s(x),console.log("✅ UserProvider: User profile loaded successfully"),x.clinicId)try{console.log("🔄 UserProvider: Fetching clinic data");const v=await Pp(Di(ni,"clinics",x.clinicId));if(v.exists()){const b={id:v.id,...v.data()};l(b),console.log("✅ UserProvider: Clinic data loaded successfully")}}catch(v){console.warn("⚠️ UserProvider: Could not fetch clinic data:",v),l(null)}}else console.log("ℹ️ UserProvider: User document doesn't exist yet - this is ok for new users"),s(null),l(null)}catch(y){console.warn("⚠️ UserProvider: Could not fetch user profile:",y),s(null),l(null)}}catch(m){console.error("❌ UserProvider: Error in refreshUserData:",m),s(null),l(null)}finally{d(!1)}},[e,r]);C.useEffect(()=>{r&&!n&&(console.log("🔄 UserProvider: Auth is initialized, refreshing user data"),f())},[e,n,r,f]);const p=e?Su(e.email||""):!1;return r?o.jsx(IG.Provider,{value:{userProfile:i,userClinic:a,isAdmin:p,loading:n||c,refreshUserData:f},children:t}):(console.log("🔄 UserProvider: Waiting for auth initialization..."),null)},Bs=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],bT=[],O$=[{value:"General Medicine",key:"general_medicine"},{value:"Cardiology",key:"cardiology"},{value:"Pediatrics",key:"pediatrics"},{value:"Dermatology",key:"dermatology"},{value:"Orthopedics",key:"orthopedics"},{value:"Neurology",key:"neurology"},{value:"Gastroenterology",key:"gastroenterology"},{value:"Ophthalmology",key:"ophthalmology"},{value:"ENT",key:"ent"},{value:"Psychiatry",key:"psychiatry"},{value:"Other",key:"other"}],r1e=[{value:"consultation",key:"consultation"},{value:"follow-up",key:"follow_up"},{value:"emergency",key:"emergency"},{value:"routine-checkup",key:"routine_checkup"},{value:"specialist-referral",key:"specialist_referral"}],i1e={name:"",specialty:"",workingHoursStart:"09:00",workingHoursEnd:"17:00",offDays:[],consultationDuration:30,maxPatientsPerHour:2},oC={time:"",type:"regular",patientName:"",patientPhone:"",appointmentType:"consultation",notes:""},Jx=bT,_T=[],Pg={name:"",phone:"",email:"",age:"",gender:"",address:"",emergencyContact:"",bloodType:"",condition:"",status:"new"},D$={date:new Date().toISOString().split("T")[0],condition:"",treatment:"",doctor:"",notes:""},Ag={name:"",dosage:"",frequency:"",duration:""},M$={date:"",time:"",type:"Follow-up",duration:"30",notes:"",priority:"Normal"},N$=[{value:"Male",key:"male"},{value:"Female",key:"female"}],Dd=()=>[],wT=()=>[],o1e=()=>[],s1e=()=>[],a1e=()=>[],l1e=()=>[],jT={enabled:!0,rate:14,defaultIncludeVAT:!1},rb={patient:"",doctor:"",appointmentId:"",amount:"",category:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",description:"",method:"",insuranceAmount:"",includeVAT:!1,vatRate:14},c1e=["consultation","checkup","surgery","emergency","followup","medication","diagnostic","therapy"],$$=[{name:"Mon",patients:0},{name:"Tue",patients:0},{name:"Wed",patients:0},{name:"Thu",patients:0},{name:"Fri",patients:0},{name:"Sat",patients:0},{name:"Sun",patients:0}],L$=[],z$=[],F$=[],W$=[],V$=[],B$=[],u1e={NOTIFICATIONS:"clinic_notifications_data",APPOINTMENTS:"clinic_appointments_data",PAYMENTS:"clinic_payments_data",PATIENTS:"clinic_patients_data",INVENTORY:"clinic_inventory_data",SETTINGS:"clinic_notification_settings"},d1e=[{type:"Consultation",cost:200,currency:"EGP",description:"General consultation with doctor",category:"consultation",includeVAT:!0},{type:"Check-up",cost:150,currency:"EGP",description:"Routine health check-up",category:"checkup",includeVAT:!0},{type:"Follow-up",cost:100,currency:"EGP",description:"Follow-up appointment",category:"followup",includeVAT:!0},{type:"Emergency",cost:500,currency:"EGP",description:"Emergency consultation",category:"emergency",includeVAT:!0},{type:"Surgery Consultation",cost:300,currency:"EGP",description:"Surgical consultation",category:"surgery",includeVAT:!0},{type:"Diagnostic",cost:180,currency:"EGP",description:"Diagnostic examination",category:"diagnostic",includeVAT:!0},{type:"Therapy",cost:250,currency:"EGP",description:"Therapy session",category:"therapy",includeVAT:!0},{type:"Routine Checkup",cost:120,currency:"EGP",description:"Routine medical checkup",category:"checkup",includeVAT:!0}],U$={autoCreatePaymentOnCompletion:!0,defaultPaymentMethod:"Cash",defaultPaymentDueDays:0,includeVATByDefault:!0,appointmentTypes:d1e},h1e=[{id:"1",name:"Salaries & Benefits",description:"Employee salaries and benefits",color:"#2196F3",icon:"👥",vatApplicable:!1},{id:"2",name:"Rent & Utilities",description:"Office rent, electricity, water",color:"#FF9800",icon:"🏢",vatApplicable:!0},{id:"3",name:"Medical Supplies",description:"Medical equipment and supplies",color:"#4CAF50",icon:"🏥",vatApplicable:!0},{id:"4",name:"Office Supplies",description:"Office equipment and supplies",color:"#9C27B0",icon:"📋",vatApplicable:!0},{id:"5",name:"Marketing",description:"Advertising and marketing expenses",color:"#E91E63",icon:"📢",vatApplicable:!0},{id:"6",name:"Professional Services",description:"Legal, accounting, consulting",color:"#607D8B",icon:"⚖️",vatApplicable:!0},{id:"7",name:"Technology",description:"Software, hardware, IT services",color:"#795548",icon:"💻",vatApplicable:!0},{id:"8",name:"Insurance",description:"Business insurance premiums",color:"#3F51B5",icon:"🛡️",vatApplicable:!1},{id:"9",name:"Training & Development",description:"Staff training and development",color:"#009688",icon:"📚",vatApplicable:!0},{id:"10",name:"Maintenance",description:"Equipment and facility maintenance",color:"#FFC107",icon:"🔧",vatApplicable:!0}],q$=[],H$=[],Js=u1e,pu=(t,e=[])=>{try{const n=localStorage.getItem(t);if(n){const r=JSON.parse(n);if(Array.isArray(r))return r}}catch(n){console.warn(`Error loading ${t} from localStorage:`,n)}return e},f1e=t=>{const e=[],n=new Date;n.toISOString().split("T")[0];const r=new Date(n.getTime()+24*60*60*1e3).toISOString().split("T")[0];return t.forEach(i=>{const s=new Date(i.createdAt||i.date),a=i.updatedAt&&new Date(i.updatedAt).getTime()>n.getTime()-5*60*1e3,l=a?n:s,c=xv(l);i.status==="confirmed"&&(a||s.getTime()>n.getTime()-60*60*1e3)&&e.push({id:`appointment-new-${i.id}`,type:"appointment",title:"new_appointment_scheduled",message:`${i.patient} has booked a ${i.type.toLowerCase()} for ${i.date} at ${i.time}`,time:c,read:!1,color:"#3B82F6",clinicId:"clinic-1",branchId:"branch-1",createdAt:l.toISOString(),updatedAt:l.toISOString()}),i.date===r&&i.status==="confirmed"&&e.push({id:`appointment-upcoming-${i.id}`,type:"appointment",title:"appointment_reminder",message:`${i.patient} has an appointment tomorrow at ${i.time}`,time:"Tomorrow",read:!1,color:"#10B981",clinicId:"clinic-1",branchId:"branch-1",createdAt:i.date,updatedAt:i.date}),i.status==="no-show"&&e.push({id:`appointment-noshow-${i.id}`,type:"appointment",title:"patient_no_show",message:`${i.patient} did not show up for their ${i.type.toLowerCase()} appointment`,time:c,read:!1,color:"#F59E0B",clinicId:"clinic-1",branchId:"branch-1",createdAt:l.toISOString(),updatedAt:l.toISOString()}),i.status==="cancelled"&&e.push({id:`appointment-cancelled-${i.id}`,type:"appointment",title:"appointment_cancelled",message:`${i.patient} cancelled their ${i.type.toLowerCase()} appointment${i.priority==="high"?" (High Priority)":""}`,time:c,read:!1,color:"#EF4444",clinicId:"clinic-1",branchId:"branch-1",createdAt:l.toISOString(),updatedAt:l.toISOString()})}),e},p1e=t=>{const e=[],n=new Date;return t.forEach(r=>{const i=new Date(r.createdAt||r.date),s=r.updatedAt&&new Date(r.updatedAt).getTime()>n.getTime()-5*60*1e3,a=s?n:i,l=xv(a);if(r.status==="paid"&&(s||i.getTime()>n.getTime()-60*60*1e3)&&e.push({id:`payment-received-${r.id}`,type:"payment",title:"payment_received",message:`Payment of ${r.amount} EGP received from ${r.patient} (${r.invoiceId})`,time:l,read:!1,color:"#10B981",clinicId:"clinic-1",branchId:"branch-1",createdAt:a.toISOString(),updatedAt:a.toISOString()}),r.status==="overdue"){const c=r.dueDate?new Date(r.dueDate):new Date(r.date),d=Math.floor((n.getTime()-c.getTime())/(1e3*60*60*24));e.push({id:`payment-overdue-${r.id}`,type:"payment",title:"payment_overdue",message:`Payment from ${r.patient} is ${d} day${d>1?"s":""} overdue (${r.amount} EGP)`,time:`${d} days overdue`,read:!1,color:"#EF4444",clinicId:"clinic-1",branchId:"branch-1",createdAt:r.createdAt||r.date,updatedAt:r.createdAt||r.date})}if(r.status==="pending"&&r.dueDate){const c=new Date(r.dueDate),d=Math.floor((c.getTime()-n.getTime())/(1e3*60*60*24));d<=3&&d>=0&&e.push({id:`payment-due-${r.id}`,type:"payment",title:"payment_due_soon",message:`Payment from ${r.patient} is due ${d===0?"today":`in ${d} day${d>1?"s":""}`} (${r.amount} EGP)`,time:d===0?"Due today":`Due in ${d} day${d>1?"s":""}`,read:!1,color:"#F59E0B",clinicId:"clinic-1",branchId:"branch-1",createdAt:r.createdAt||r.date,updatedAt:r.createdAt||r.date})}}),e},m1e=t=>{const e=[],n=new Date;return t.forEach(r=>{const i=new Date(r.createdAt||n),s=r.updatedAt&&new Date(r.updatedAt).getTime()>n.getTime()-5*60*1e3,a=s?n:i,l=xv(a);if(r.status==="new"&&(s||i.getTime()>n.getTime()-60*60*1e3)&&e.push({id:`patient-new-${r.id}`,type:"system",title:"new_patient_registration",message:`${r.name} has registered as a new patient`,time:l,read:!1,color:"#8B5CF6",clinicId:"clinic-1",branchId:"branch-1",createdAt:a.toISOString(),updatedAt:a.toISOString()}),r.nextAppointment&&r.status==="follow-up"){const c=new Date(r.nextAppointment),d=Math.floor((c.getTime()-n.getTime())/(1e3*60*60*24));d<=2&&d>=0&&e.push({id:`patient-followup-${r.id}`,type:"appointment",title:"follow_up_due",message:`${r.name} has a follow-up appointment ${d===0?"today":d===1?"tomorrow":`in ${d} days`}`,time:d===0?"Today":d===1?"Tomorrow":`In ${d} days`,read:!1,color:"#3B82F6",clinicId:"clinic-1",branchId:"branch-1",createdAt:r.nextAppointment,updatedAt:r.nextAppointment})}r.medications&&r.medications.length>0&&r.medications.forEach(c=>{if(c.status==="Active"&&c.dateStarted){const d=new Date(c.dateStarted),f=Math.floor((n.getTime()-d.getTime())/(1e3*60*60*24));f>=90&&f%90<7&&e.push({id:`medication-refill-${r.id}-${c.name}`,type:"system",title:"medication_refill_due",message:`${r.name} may need a refill for ${c.name} (${f} days since start)`,time:`${f} days on medication`,read:!1,color:"#10B981",clinicId:"clinic-1",branchId:"branch-1",createdAt:n.toISOString(),updatedAt:n.toISOString()})}})}),e},g1e=t=>{const e=[],n=new Date;return t.forEach(r=>{const i=new Date(r.lastUpdated||n),s=xv(i);r.quantity<=r.minQuantity&&r.quantity>0&&e.push({id:`inventory-low-${r.id}`,type:"inventory",title:"low_stock_alert_title",message:`low_stock_message|||${r.name}|||${r.quantity}|||${r.minQuantity}`,time:s,read:!1,color:"#F59E0B",clinicId:"clinic-1",branchId:"branch-1",createdAt:r.lastUpdated||n.toISOString(),updatedAt:r.lastUpdated||n.toISOString()}),r.quantity===0&&e.push({id:`inventory-out-${r.id}`,type:"inventory",title:"out_of_stock_alert_title",message:`out_of_stock_message|||${r.name}|||${r.supplier}`,time:s,read:!1,color:"#EF4444",clinicId:"clinic-1",branchId:"branch-1",createdAt:r.lastUpdated||n.toISOString(),updatedAt:r.lastUpdated||n.toISOString()})}),e},x1e=()=>{const t=new Date,e=[],n=new Date(t.getTime()-6*60*60*1e3);return e.push({id:"system-update-latest",type:"system",title:"system_update",message:"system_update_message",time:xv(n),read:!1,color:"#8B5CF6",clinicId:"clinic-1",branchId:"branch-1",createdAt:n.toISOString(),updatedAt:n.toISOString()}),e},xv=t=>{const n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));if(n<1)return"Just now";if(n<60)return`${n} minute${n>1?"s":""} ago`;const r=Math.floor(n/60);if(r<24)return`${r} hour${r>1?"s":""} ago`;const i=Math.floor(r/24);if(i<7)return`${i} day${i>1?"s":""} ago`;const s=Math.floor(i/7);return`${s} week${s>1?"s":""} ago`},y1e=()=>{const t=pu(Js.APPOINTMENTS,o1e()),e=pu(Js.PAYMENTS,s1e()),n=pu(Js.PATIENTS,a1e()),r=pu(Js.INVENTORY,l1e()),i=f1e(t),s=p1e(e),a=m1e(n),l=g1e(r),c=x1e();return[...i,...s,...a,...l,...c].sort((f,p)=>new Date(p.createdAt).getTime()-new Date(f.createdAt).getTime())},Eg=t=>{try{localStorage.setItem(Js.NOTIFICATIONS,JSON.stringify(t))}catch(e){console.warn("Error saving notifications to localStorage:",e)}},Ea=t=>new Promise(e=>setTimeout(e,t)),Yl={getAll:async(t,e)=>{await Ea(300);let r=y1e().filter(i=>i.clinicId===t);return e&&(r=r.filter(i=>i.branchId===e)),Eg(r),r},getByType:async(t,e,n)=>(await Ea(200),(await Yl.getAll(e,n)).filter(i=>i.type===t)),getUnreadCount:async(t,e)=>(await Ea(100),(await Yl.getAll(t,e)).filter(r=>!r.read).length),markAsRead:async t=>{await Ea(200);const n=pu(Js.NOTIFICATIONS,[]).map(r=>r.id===t?{...r,read:!0,updatedAt:new Date().toISOString()}:r);Eg(n)},markAllAsRead:async(t,e)=>{await Ea(300);const r=pu(Js.NOTIFICATIONS,[]).map(i=>i.clinicId===t&&(!e||i.branchId===e)?{...i,read:!0,updatedAt:new Date().toISOString()}:i);Eg(r)},delete:async t=>{await Ea(200);const n=pu(Js.NOTIFICATIONS,[]).filter(r=>r.id!==t);Eg(n)},clearAll:async(t,e)=>{await Ea(300);const r=pu(Js.NOTIFICATIONS,[]).filter(i=>!(i.clinicId===t&&(!e||i.branchId===e)));Eg(r)},refresh:async(t,e)=>(await Ea(500),Yl.getAll(t,e))},sC={appointments:!0,payments:!0,inventory:!0,system:!0},G$={get:async t=>{await Ea(100);try{const e=localStorage.getItem(`${Js.SETTINGS}_${t}`);if(e)return{...sC,...JSON.parse(e)}}catch(e){console.warn("Error loading notification settings:",e)}return{...sC}},update:async(t,e)=>{await Ea(200);try{localStorage.setItem(`${Js.SETTINGS}_${t}`,JSON.stringify(e))}catch(n){console.warn("Error saving notification settings:",n)}return{...e}},reset:async t=>{await Ea(100);try{localStorage.removeItem(`${Js.SETTINGS}_${t}`)}catch(e){console.warn("Error resetting notification settings:",e)}return{...sC}}},TG=C.createContext(void 0),kG=()=>{const t=C.useContext(TG);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},v1e=({children:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState(!0),s={id:"user-1",clinicId:"clinic-1",branchId:"branch-1"},a=e.filter(y=>!y.read).length,l=async()=>{try{i(!0);const y=await Yl.getAll(s.clinicId,s.branchId);n(y)}catch(y){console.error("Error loading notifications:",y)}finally{i(!1)}},c=async y=>{try{await Yl.markAsRead(y),n(x=>x.map(v=>v.id===y?{...v,read:!0}:v))}catch(x){throw console.error("Error marking as read:",x),x}},d=async()=>{try{await Yl.markAllAsRead(s.clinicId,s.branchId),n(y=>y.map(x=>({...x,read:!0})))}catch(y){throw console.error("Error marking all as read:",y),y}},f=async y=>{try{await Yl.delete(y),n(x=>x.filter(v=>v.id!==y))}catch(x){throw console.error("Error deleting notification:",x),x}},p=async()=>{try{const y=await Yl.refresh(s.clinicId,s.branchId);return n(y),y}catch(y){throw console.error("Error refreshing notifications:",y),y}};C.useEffect(()=>{l();const y=x=>{console.log("Data updated, refreshing notifications:",x.detail),setTimeout(()=>{l()},100)};return window.addEventListener("dataUpdated",y),()=>{window.removeEventListener("dataUpdated",y)}},[]);const m={notifications:e,unreadCount:a,loading:r,setNotifications:n,markAsRead:c,markAllAsRead:d,deleteNotification:f,refreshNotifications:p};return o.jsx(TG.Provider,{value:m,children:t})},RG=C.createContext(void 0),b1e=({children:t})=>{const[e,n]=C.useState(!1),s={isCollapsed:e,toggleSidebar:()=>{n(a=>!a)},setSidebarCollapsed:a=>{n(a)}};return o.jsx(RG.Provider,{value:s,children:t})},GR=()=>{const t=C.useContext(RG);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t},_1e=C.createContext(void 0);function w1e(t){return o.jsx(zR,{...t,direction:"down"})}const j1e=({children:t})=>{const[e,n]=C.useState({open:!1,message:"",type:"info",autoHideDuration:6e3,persist:!1}),[r,i]=C.useState({vertical:"top",horizontal:"center"}),s=(b,I="info",A={})=>{const{autoHideDuration:S=6e3,persist:k=!1,position:P}=A;P&&i(P),n({open:!0,message:b,type:I,autoHideDuration:k?void 0:S,persist:k})},a=()=>{n(b=>({...b,open:!1}))},l=(b,I)=>{const A=b.join(", "),S=I||`Please check the following fields: ${A}`;s(S,"validation-error",{autoHideDuration:8e3})},c=(b="Form validation passed")=>{s(b,"validation-success",{autoHideDuration:3e3})},d=b=>{const I=b instanceof Error?b.message:b;s(`Save failed: ${I}`,"error",{autoHideDuration:8e3})},f=(b="Data saved successfully")=>{s(b,"success",{autoHideDuration:4e3})},p=b=>{const I=b.join(", ");s(`Please fill in the following required fields: ${I}`,"warning",{autoHideDuration:1e4})},m=()=>{s("You have unsaved changes. Your work will be lost if you leave this page.","warning",{autoHideDuration:8e3})},y=b=>{switch(b){case"validation-error":return"error";case"validation-success":return"success";default:return b}},x=b=>{switch(b){case"validation-error":return"⚠️";case"validation-success":return"✅";case"error":return"❌";case"success":return"✅";case"warning":return"⚠️";case"info":return"ℹ️";default:return""}},v={showNotification:s,hideNotification:a,showValidationError:l,showValidationSuccess:c,showSaveError:d,showSaveSuccess:f,showRequiredFieldsError:p,showUnsavedChangesWarning:m,currentNotification:e.open?e:null};return o.jsxs(_1e.Provider,{value:v,children:[t,o.jsx(xm,{open:e.open,autoHideDuration:e.autoHideDuration,onClose:a,anchorOrigin:r,TransitionComponent:w1e,sx:{"& .MuiSnackbar-root":{top:r.vertical==="top"?24:void 0,bottom:r.vertical==="bottom"?24:void 0}},children:o.jsx(Zn,{onClose:a,severity:y(e.type),variant:"filled",sx:{width:"100%",borderRadius:2,fontWeight:500,"& .MuiAlert-message":{display:"flex",alignItems:"center",gap:1}},icon:o.jsx("span",{style:{fontSize:"1.2rem"},children:x(e.type)}),children:e.message})})]})},S1e="modulepreload",C1e=function(t){return"/"+t},K$={},KR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(n.map(d=>{if(d=C1e(d),d in K$)return;K$[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":S1e,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},ST=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim()),yv=async t=>{try{console.log(`🔍 Checking if email exists: ${t}`);const e=t.trim().toLowerCase(),n=await pU(bi,e),r=n.length>0;return console.log(`📧 Email ${e} exists: ${r}`,{signInMethods:n}),r}catch(e){if(console.error("❌ Error checking email existence:",e),e.code==="auth/invalid-email")throw new Error("Invalid email format");return e.code==="auth/too-many-requests"?(console.warn("⚠️ Rate limited - assuming email does not exist"),!1):(console.warn("⚠️ Network error - assuming email does not exist"),!1)}},OG=async t=>{try{console.log(`🔍 Double-checking email before creation: ${t}`);const e=t.trim().toLowerCase();return(await pU(bi,e)).length>0?(console.log(`❌ Double-check failed - email exists: ${e}`),{canCreate:!1,error:`The email "${t}" is already registered. Please use a different email address.`}):(console.log(`✅ Double-check passed - email available: ${e}`),{canCreate:!0})}catch(e){return console.error("❌ Error in double-check:",e),e.code==="auth/invalid-email"?{canCreate:!1,error:`"${t}" is not a valid email address. Please enter a valid email (e.g., user@example.com).`}:(console.warn("⚠️ Cannot verify email, proceeding with creation (Firebase will catch duplicates)"),{canCreate:!0})}},P1e=async(t,e)=>{try{console.log(`🔐 Attempting login for: ${t}`);try{const n=await uw(bi,t,e),r=await Pp(Di(ni,"users",n.user.uid));if(r.exists()){const i={id:r.id,...r.data()};return i.isActive?(console.log("✅ Existing user login successful"),{success:!0,userData:i}):(await ev(bi),{success:!1,error:"Account is inactive"})}}catch(n){if(n.code==="auth/user-not-found"||n.code==="auth/wrong-password"){console.log("🔍 Checking for user invitation...");const r=R1(Qf(ni,"user_invitations"),Ub("email","==",t),Ub("tempPassword","==",e),Ub("status","==","pending")),i=await O1(r);if(!i.empty){console.log("✅ Invitation found, creating auth account...");const s=i.docs[0].data(),l=(await M5(bi,t,e)).user;await pse(l,{displayName:`${s.firstName} ${s.lastName}`});const c={id:l.uid,email:s.email,firstName:s.firstName,lastName:s.lastName,role:s.role,clinicId:s.clinicId,isActive:!0,createdAt:xs(),updatedAt:xs()};return await fv(Di(ni,"users",l.uid),c),await Ad(i.docs[0].ref,{status:"accepted",acceptedAt:xs()}),console.log("🎉 User account created from invitation"),{success:!0,userData:c}}}throw n}return{success:!1,error:"Unexpected login flow"}}catch(n){console.error("❌ Login error:",n);let r="Login failed";return n.code==="auth/user-not-found"||n.code==="auth/wrong-password"?r="Invalid email or password. Check if you have an invitation or contact your administrator.":n.code==="auth/invalid-email"?r="Invalid email address":n.code==="auth/too-many-requests"&&(r="Too many failed attempts. Please try again later."),{success:!1,error:r}}},A1e=async t=>{console.log(`🧪 Testing email validation for: ${t}`);try{const e=ST(t);if(console.log(`📝 Format valid: ${e}`),!e)return console.log("❌ Email format is invalid"),{valid:!1,reason:"Invalid format"};const n=await yv(t);console.log(`🔍 Email exists: ${n}`);const r=await OG(t);return console.log("🔍 Double check result:",r),{valid:e&&!n&&r.canCreate,formatValid:e,exists:n,canCreate:r.canCreate,error:r.error}}catch(e){return console.error("❌ Test failed:",e),{valid:!1,error:e}}},E1e=async(t,e)=>{try{return console.log(`🔧 Handling orphaned account for: ${t}`),await yv(t)?(console.log("🔍 Detected orphaned Firebase Auth account"),{success:!1,error:`ORPHANED ACCOUNT DETECTED: The email "${t}" exists in Firebase Auth but not in our user database.

🔧 Solutions:
• Use a different email address
• Ask the user to reset their password at /login
• Contact Firebase support to remove the orphaned account
• Use email+1@domain.com as a workaround`,action:"orphaned"}):{success:!1,error:"No orphaned account found for this email"}}catch(n){return console.error("❌ Error handling orphaned account:",n),{success:!1,error:"Failed to handle orphaned account"}}},DG=t=>{const[e,n]=t.split("@");return n?[`${e}+1@${n}`,`${e}.new@${n}`,`${e}2@${n}`,`new.${e}@${n}`,`${e}.clinic@${n}`]:[]},I1e=async t=>{try{return await yv(t)?{exists:!0,isOrphaned:!0,suggestions:DG(t)}:{exists:!1,isOrphaned:!1}}catch(e){return console.error("❌ Error checking email with orphan detection:",e),{exists:!1,isOrphaned:!1}}};typeof window<"u"&&(window.testEmailValidation=A1e,window.checkEmailExists=yv,window.doubleCheckEmailBeforeCreation=OG,window.handleOrphanedAccount=E1e,window.checkEmailWithOrphanDetection=I1e,window.suggestAlternativeEmails=DG);const T1e=async()=>{try{console.log("🚀 Initializing Firestore with demo data...");const{auth:t}=await KR(async()=>{const{auth:r}=await Promise.resolve().then(()=>YH);return{auth:r}},[]);if(!t.currentUser)return console.log("⚠️ No authenticated user - skipping Firestore initialization"),!1;const e={id:"demo-clinic",name:"Demo Clinic",isActive:!0,settings:{allowedFeatures:["patients","appointments","payments","inventory"],maxUsers:50,subscriptionPlan:"premium"},createdAt:new Date,updatedAt:new Date,createdBy:t.currentUser.email||"system"};await fv(Di(ni,"clinics","demo-clinic"),e),console.log("✅ Demo clinic created successfully");const n=["patients","appointments","inventory"];for(const r of n)try{await PR(Qf(ni,r),{_initialized:!0,createdAt:new Date,clinicId:"demo-clinic"}),console.log(`✅ ${r} collection initialized`)}catch(i){console.warn(`⚠️ Could not initialize ${r} collection:`,i)}return console.log("🎉 Firestore initialization completed successfully!"),!0}catch(t){return console.error("❌ Error initializing Firestore:",t),!1}},MG=async()=>{try{const t=Di(ni,"clinics","demo-clinic"),e=await KR(async()=>{const{getDoc:n}=await Promise.resolve().then(()=>ode);return{getDoc:n}},void 0).then(({getDoc:n})=>n(t));if(e.exists()){const n=e.data();return console.log("🏥 Demo clinic found:",{name:n.name,isActive:n.isActive,settings:n.settings}),{exists:!0,isActive:n.isActive}}else return console.log("⚠️ Demo clinic does not exist"),{exists:!1}}catch(t){return console.error("❌ Error checking demo clinic:",t),{exists:!1}}},Jw=async()=>{try{console.log("🔧 Ensuring demo clinic is active...");const{auth:t}=await KR(async()=>{const{auth:n}=await Promise.resolve().then(()=>YH);return{auth:n}},void 0);if(!t.currentUser)return console.log("⚠️ No authenticated user - skipping demo clinic activation"),!1;const e={id:"demo-clinic",name:"Demo Clinic",isActive:!0,settings:{allowedFeatures:["patients","appointments","payments","inventory"],maxUsers:50,subscriptionPlan:"premium"},createdAt:new Date,updatedAt:new Date,createdBy:t.currentUser.email||"system"};return await fv(Di(ni,"clinics","demo-clinic"),e),console.log("✅ Demo clinic created/updated and set to active"),!0}catch(t){return console.error("❌ Error ensuring demo clinic is active:",t),!1}},k1e=async()=>{try{const t=await MG();return t.exists?t.isActive?(console.log("✅ Demo clinic already exists and is active"),!0):(console.log("⚠️ Demo clinic exists but is inactive - will activate when admin logs in"),!1):(console.log("📋 Demo clinic not found - will create when admin logs in"),!1)}catch(t){return console.warn("⚠️ Could not check demo clinic status (this is normal on first load):",t),!1}},R1e=async()=>{try{console.log("🔧 Post-authentication demo clinic initialization...");const t=await MG();return t.exists?t.isActive?(console.log("✅ Demo clinic is already properly configured"),!0):(console.log("⚠️ Activating demo clinic after authentication..."),await Jw()):(console.log("📋 Creating demo clinic after authentication..."),await T1e())}catch(t){return console.error("❌ Error in post-authentication initialization:",t),!1}},ib={name:"",address:"",phone:"",email:"",workingHours:"",timezone:"",licenseNumber:"",website:"",specialization:"",logo:"",tagline:"",primaryColor:"#1976d2",secondaryColor:"#2e7d32",description:"",appointmentDuration:30,breakBetweenAppointments:15,advanceBookingLimit:30,allowOnlineBooking:!1,requirePaymentAtBooking:!1,sendReminders:!1,insuranceProviders:[]},YR=()=>{const[t,e]=C.useState(ib),[n,r]=C.useState(!0);return C.useEffect(()=>{const c=()=>{try{const f=localStorage.getItem("clinicSettings");if(f){const p=JSON.parse(f);console.log("✅ useClinicSettings: Loaded clinic settings from localStorage:",p),e({...ib,...p})}else console.log("ℹ️ useClinicSettings: No saved clinic settings found, using defaults"),e(ib)}catch(f){console.error("❌ useClinicSettings: Failed to parse clinic settings:",f),e(ib)}finally{r(!1)}};c();const d=f=>{f.key==="clinicSettings"&&(console.log("🔄 useClinicSettings: Clinic settings changed in localStorage, reloading..."),c())};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]),{clinicSettings:t,loading:n,updateClinicSettings:c=>{try{const d={...t,...c};e(d),localStorage.setItem("clinicSettings",JSON.stringify(d)),console.log("✅ useClinicSettings: Clinic settings updated successfully")}catch(d){console.error("❌ useClinicSettings: Failed to update clinic settings:",d)}},getClinicDisplayName:()=>t.name&&t.name.trim()?t.name:"Clinicy Healthcare",getClinicTagline:()=>t.tagline&&t.tagline.trim()?t.tagline:"Professional Healthcare Services",isBrandingConfigured:()=>!!(t.name&&t.name.trim())}},O1e=t=>{const{getClinicDisplayName:e,isBrandingConfigured:n}=YR();C.useEffect(()=>{const r=e();let i="Clinic Management System";n()?i=`${r} - Healthcare Management`:i="Clinicy - Healthcare Management System",document.title=i,console.log("📄 Document title updated:",i)},[t,e,n])};var Ig={},Y$;function D1e(){if(Y$)return Ig;Y$=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.parse=a,Ig.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function a(m,y){const x=new s,v=m.length;if(v<2)return x;const b=(y==null?void 0:y.decode)||f;let I=0;do{const A=m.indexOf("=",I);if(A===-1)break;const S=m.indexOf(";",I),k=S===-1?v:S;if(A>k){I=m.lastIndexOf(";",A-1)+1;continue}const P=l(m,I,A),R=c(m,A,P),E=m.slice(P,R);if(x[E]===void 0){let O=l(m,A+1,k),D=c(m,k,O);const L=b(m.slice(O,D));x[E]=L}I=k+1}while(I<v);return x}function l(m,y,x){do{const v=m.charCodeAt(y);if(v!==32&&v!==9)return y}while(++y<x);return x}function c(m,y,x){for(;y>x;){const v=m.charCodeAt(--y);if(v!==32&&v!==9)return y+1}return x}function d(m,y,x){const v=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(m))throw new TypeError(`argument name is invalid: ${m}`);const b=v(y);if(!e.test(b))throw new TypeError(`argument val is invalid: ${y}`);let I=m+"="+b;if(!x)return I;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);I+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);I+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);I+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);I+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(I+="; HttpOnly"),x.secure&&(I+="; Secure"),x.partitioned&&(I+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return I}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function p(m){return i.call(m)==="[object Date]"}return Ig}D1e();var X$="popstate";function M1e(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return CT("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zx(i)}return $1e(e,n,null,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function la(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N1e(){return Math.random().toString(36).substring(2,10)}function Q$(t,e){return{usr:t.state,key:t.key,idx:e}}function CT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vm(e):e,state:n,key:e&&e.key||r||N1e()}}function Zx({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $1e(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let b=f(),I=b==null?null:b-d;d=b,c&&c({action:l,location:v.location,delta:I})}function m(b,I){l="PUSH";let A=CT(v.location,b,I);d=f()+1;let S=Q$(A,d),k=v.createHref(A);try{a.pushState(S,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}s&&c&&c({action:l,location:v.location,delta:1})}function y(b,I){l="REPLACE";let A=CT(v.location,b,I);d=f();let S=Q$(A,d),k=v.createHref(A);a.replaceState(S,"",k),s&&c&&c({action:l,location:v.location,delta:0})}function x(b){return L1e(b)}let v={get action(){return l},get location(){return t(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(X$,p),c=b,()=>{i.removeEventListener(X$,p),c=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let I=x(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:y,go(b){return a.go(b)}};return v}function L1e(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zx(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function NG(t,e,n="/"){return z1e(t,e,n,!1)}function z1e(t,e,n,r){let i=typeof e=="string"?vm(e):e,s=vc(i.pathname||"/",n);if(s==null)return null;let a=$G(t);F1e(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=Q1e(s);l=Y1e(a[c],d,r)}return l}function $G(t,e=[],n=[],r=""){let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Yr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=sc([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Yr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),$G(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:G1e(d,s.index),routesMeta:f})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of LG(s.path))i(s,a,c)}),e}function LG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=LG(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function F1e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K1e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var W1e=/^:[\w-]+$/,V1e=3,B1e=2,U1e=1,q1e=10,H1e=-2,J$=t=>t==="*";function G1e(t,e){let n=t.split("/"),r=n.length;return n.some(J$)&&(r+=H1e),e&&(r+=B1e),n.filter(i=>!J$(i)).reduce((i,s)=>i+(W1e.test(s)?V1e:s===""?U1e:q1e),r)}function K1e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Y1e(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=U1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=U1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:sc([s,p.pathname]),pathnameBase:t_e(sc([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=sc([s,p.pathnameBase]))}return a}function U1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X1e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let x=l[m]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function X1e(t,e=!1,n=!0){la(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q1e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return la(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J1e(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vm(t):t;return{pathname:n?n.startsWith("/")?n:Z1e(n,e):e,search:n_e(r),hash:r_e(i)}}function Z1e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function aC(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e_e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XR(t){let e=e_e(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function QR(t,e,n,r=!1){let i;typeof t=="string"?i=vm(t):(i={...t},Yr(!i.pathname||!i.pathname.includes("?"),aC("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),aC("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),aC("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=J1e(i,l),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var sc=t=>t.join("/").replace(/\/\/+/g,"/"),t_e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n_e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r_e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i_e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zG=["POST","PUT","PATCH","DELETE"];new Set(zG);var o_e=["GET",...zG];new Set(o_e);var bm=C.createContext(null);bm.displayName="DataRouter";var Zw=C.createContext(null);Zw.displayName="DataRouterState";var FG=C.createContext({isTransitioning:!1});FG.displayName="ViewTransition";var s_e=C.createContext(new Map);s_e.displayName="Fetchers";var a_e=C.createContext(null);a_e.displayName="Await";var Fa=C.createContext(null);Fa.displayName="Navigation";var vv=C.createContext(null);vv.displayName="Location";var Cl=C.createContext({outlet:null,matches:[],isDataRoute:!1});Cl.displayName="Route";var JR=C.createContext(null);JR.displayName="RouteError";function l_e(t,{relative:e}={}){Yr(_m(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Fa),{hash:i,pathname:s,search:a}=bv(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:sc([n,s])),r.createHref({pathname:l,search:a,hash:i})}function _m(){return C.useContext(vv)!=null}function Wo(){return Yr(_m(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(vv).location}var WG="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VG(t){C.useContext(Fa).static||C.useLayoutEffect(t)}function Pl(){let{isDataRoute:t}=C.useContext(Cl);return t?__e():c_e()}function c_e(){Yr(_m(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(bm),{basename:e,navigator:n}=C.useContext(Fa),{matches:r}=C.useContext(Cl),{pathname:i}=Wo(),s=JSON.stringify(XR(r)),a=C.useRef(!1);return VG(()=>{a.current=!0}),C.useCallback((c,d={})=>{if(la(a.current,WG),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=QR(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:sc([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}C.createContext(null);function bv(t,{relative:e}={}){let{matches:n}=C.useContext(Cl),{pathname:r}=Wo(),i=JSON.stringify(XR(n));return C.useMemo(()=>QR(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function u_e(t,e){return BG(t,e)}function BG(t,e,n,r){var I;Yr(_m(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Fa),{matches:s}=C.useContext(Cl),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let A=f&&f.path||"";UG(c,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Wo(),m;if(e){let A=typeof e=="string"?vm(e):e;Yr(d==="/"||((I=A.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),m=A}else m=p;let y=m.pathname||"/",x=y;if(d!=="/"){let A=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=NG(t,{pathname:x});la(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),la(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=m_e(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:sc([d,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:sc([d,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&b?C.createElement(vv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function d_e(){let t=b_e(),e=i_e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,a)}var h_e=C.createElement(d_e,null),f_e=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Cl.Provider,{value:this.props.routeContext},C.createElement(JR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p_e({routeContext:t,match:e,children:n}){let r=C.useContext(bm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Cl.Provider,{value:t},n)}function m_e(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Yr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let p,m=!1,y=null,x=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||h_e,a&&(l<0&&f===0?(UG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),b=()=>{let I;return p?I=y:m?I=x:d.route.Component?I=C.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=c,C.createElement(p_e,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(f_e,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function ZR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g_e(t){let e=C.useContext(bm);return Yr(e,ZR(t)),e}function x_e(t){let e=C.useContext(Zw);return Yr(e,ZR(t)),e}function y_e(t){let e=C.useContext(Cl);return Yr(e,ZR(t)),e}function eO(t){let e=y_e(t),n=e.matches[e.matches.length-1];return Yr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v_e(){return eO("useRouteId")}function b_e(){var r;let t=C.useContext(JR),e=x_e("useRouteError"),n=eO("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function __e(){let{router:t}=g_e("useNavigate"),e=eO("useNavigate"),n=C.useRef(!1);return VG(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{la(n.current,WG),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Z$={};function UG(t,e,n){!e&&!Z$[t]&&(Z$[t]=!0,la(!1,n))}C.memo(w_e);function w_e({routes:t,future:e,state:n}){return BG(t,void 0,n,e)}function PT({to:t,replace:e,state:n,relative:r}){Yr(_m(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Fa);la(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(Cl),{pathname:a}=Wo(),l=Pl(),c=QR(t,XR(s),a,r==="path"),d=JSON.stringify(c);return C.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function Hi(t){Yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j_e({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Yr(!_m(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=vm(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,y=C.useMemo(()=>{let x=vc(c,a);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:r}},[a,c,d,f,p,m,r]);return la(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Fa.Provider,{value:l},C.createElement(vv.Provider,{children:e,value:y}))}function S_e({children:t,location:e}){return u_e(AT(t),e)}function AT(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,AT(r.props.children,s));return}Yr(r.type===Hi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=AT(r.props.children,s)),n.push(a)}),n}var Kb="get",Yb="application/x-www-form-urlencoded";function ej(t){return t!=null&&typeof t.tagName=="string"}function C_e(t){return ej(t)&&t.tagName.toLowerCase()==="button"}function P_e(t){return ej(t)&&t.tagName.toLowerCase()==="form"}function A_e(t){return ej(t)&&t.tagName.toLowerCase()==="input"}function E_e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I_e(t,e){return t.button===0&&(!e||e==="_self")&&!E_e(t)}function ET(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function T_e(t,e){let n=ET(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var ob=null;function k_e(){if(ob===null)try{new FormData(document.createElement("form"),0),ob=!1}catch{ob=!0}return ob}var R_e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lC(t){return t!=null&&!R_e.has(t)?(la(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yb}"`),null):t}function O_e(t,e){let n,r,i,s,a;if(P_e(t)){let l=t.getAttribute("action");r=l?vc(l,e):null,n=t.getAttribute("method")||Kb,i=lC(t.getAttribute("enctype"))||Yb,s=new FormData(t)}else if(C_e(t)||A_e(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?vc(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Kb,i=lC(t.getAttribute("formenctype"))||lC(l.getAttribute("enctype"))||Yb,s=new FormData(l,t),!k_e()){let{name:d,type:f,value:p}=t;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(ej(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kb,r=null,i=Yb,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function tO(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function D_e(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M_e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N_e(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await D_e(s,n);return a.links?a.links():[]}return[]}));return F_e(r.flat(1).filter(M_e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eL(t,e,n,r,i,s){let a=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>a(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function $_e(t,e,{includeHydrateFallback:n}={}){return L_e(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function L_e(t){return[...new Set(t)]}function z_e(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F_e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(z_e(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W_e=new Set([100,101,204,205]);function V_e(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&vc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function qG(){let t=C.useContext(bm);return tO(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B_e(){let t=C.useContext(Zw);return tO(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var nO=C.createContext(void 0);nO.displayName="FrameworkContext";function HG(){let t=C.useContext(nO);return tO(t,"You must render this element inside a <HydratedRouter> element"),t}function U_e(t,e){let n=C.useContext(nO),[r,i]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,m=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=I=>{I.forEach(A=>{a(A.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[t]),C.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Tg(l,y),onBlur:Tg(c,x),onMouseEnter:Tg(d,y),onMouseLeave:Tg(f,x),onTouchStart:Tg(p,y)}]:[!1,m,{}]}function Tg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function q_e({page:t,...e}){let{router:n}=qG(),r=C.useMemo(()=>NG(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(G_e,{page:t,matches:r,...e}):null}function H_e(t){let{manifest:e,routeModules:n}=HG(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return N_e(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function G_e({page:t,matches:e,...n}){let r=Wo(),{manifest:i,routeModules:s}=HG(),{basename:a}=qG(),{loaderData:l,matches:c}=B_e(),d=C.useMemo(()=>eL(t,e,c,i,r,"data"),[t,e,c,i,r]),f=C.useMemo(()=>eL(t,e,c,i,r,"assets"),[t,e,c,i,r]),p=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(I=>{var S;let A=i.routes[I.route.id];!A||!A.hasLoader||(!d.some(k=>k.route.id===I.route.id)&&I.route.id in l&&((S=s[I.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?v=!0:x.add(I.route.id))}),x.size===0)return[];let b=V_e(t,a);return v&&x.size>0&&b.searchParams.set("_routes",e.filter(I=>x.has(I.route.id)).map(I=>I.route.id).join(",")),[b.pathname+b.search]},[a,l,r,i,d,e,t,s]),m=C.useMemo(()=>$_e(f,i),[f,i]),y=H_e(f);return C.createElement(C.Fragment,null,p.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:v})=>C.createElement("link",{key:x,...v})))}function K_e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GG&&(window.__reactRouterVersion="7.6.2")}catch{}function Y_e({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=M1e({window:n,v5Compat:!0}));let i=r.current,[s,a]=C.useState({action:i.action,location:i.location}),l=C.useCallback(c=>{C.startTransition(()=>a(c))},[a]);return C.useLayoutEffect(()=>i.listen(l),[i,l]),C.createElement(j_e,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var KG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rO=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p,...m},y){let{basename:x}=C.useContext(Fa),v=typeof d=="string"&&KG.test(d),b,I=!1;if(typeof d=="string"&&v&&(b=d,GG))try{let D=new URL(window.location.href),L=d.startsWith("//")?new URL(D.protocol+d):new URL(d),$=vc(L.pathname,x);L.origin===D.origin&&$!=null?d=$+L.search+L.hash:I=!0}catch{la(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=l_e(d,{relative:i}),[S,k,P]=U_e(r,m),R=Z_e(d,{replace:a,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function E(D){e&&e(D),D.defaultPrevented||R(D)}let O=C.createElement("a",{...m,...P,href:b||A,onClick:I||s?e:E,ref:K_e(y,k),target:c,"data-discover":!v&&n==="render"?"true":void 0});return S&&!v?C.createElement(C.Fragment,null,O,C.createElement(q_e,{page:A})):O});rO.displayName="Link";var X_e=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:c,...d},f){let p=bv(a,{relative:d.relative}),m=Wo(),y=C.useContext(Zw),{navigator:x,basename:v}=C.useContext(Fa),b=y!=null&&owe(p)&&l===!0,I=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,A=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(A=A.toLowerCase(),S=S?S.toLowerCase():null,I=I.toLowerCase()),S&&v&&(S=vc(S,v)||S);const k=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let P=A===I||!i&&A.startsWith(I)&&A.charAt(k)==="/",R=S!=null&&(S===I||!i&&S.startsWith(I)&&S.charAt(I.length)==="/"),E={isActive:P,isPending:R,isTransitioning:b},O=P?e:void 0,D;typeof r=="function"?D=r(E):D=[r,P?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(E):s;return C.createElement(rO,{...d,"aria-current":O,className:D,ref:f,style:L,to:a,viewTransition:l},typeof c=="function"?c(E):c)});X_e.displayName="NavLink";var Q_e=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Kb,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...m},y)=>{let x=rwe(),v=iwe(l,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",I=typeof l=="string"&&KG.test(l),A=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,P=(k==null?void 0:k.getAttribute("formmethod"))||a;x(k||S.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return C.createElement("form",{ref:y,method:b,action:v,onSubmit:r?c:A,...m,"data-discover":!I&&t==="render"?"true":void 0})});Q_e.displayName="Form";function J_e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YG(t){let e=C.useContext(bm);return Yr(e,J_e(t)),e}function Z_e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=Pl(),c=Wo(),d=bv(t,{relative:s});return C.useCallback(f=>{if(I_e(f,e)){f.preventDefault();let p=n!==void 0?n:Zx(c)===Zx(d);l(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,d,n,r,e,t,i,s,a])}function ewe(t){la(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(ET(t)),n=C.useRef(!1),r=Wo(),i=C.useMemo(()=>T_e(r.search,n.current?null:e.current),[r.search]),s=Pl(),a=C.useCallback((l,c)=>{const d=ET(typeof l=="function"?l(i):l);n.current=!0,s("?"+d,c)},[s,i]);return[i,a]}var twe=0,nwe=()=>`__${String(++twe)}__`;function rwe(){let{router:t}=YG("useSubmit"),{basename:e}=C.useContext(Fa),n=v_e();return C.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:c,body:d}=O_e(r,e);if(i.navigate===!1){let f=i.fetcherKey||nwe();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function iwe(t,{relative:e}={}){let{basename:n}=C.useContext(Fa),r=C.useContext(Cl);Yr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...bv(t||".",{relative:e})},a=Wo();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:sc([n,s.pathname])),Zx(s)}function owe(t,e={}){let n=C.useContext(FG);Yr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YG("useViewTransitionState"),i=bv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=vc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=vc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return U1(i.pathname,a)!=null||U1(i.pathname,s)!=null}[...W_e];const hs=({children:t,redirectTo:e="/login"})=>{const{user:n,loading:r,initialized:i}=ym(),s=Wo();return!i||r?o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"background.default",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Loading..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we verify your authentication"})]}):n?(console.log("✅ ProtectedRoute: User authenticated, rendering protected content"),o.jsx(o.Fragment,{children:t})):(console.log("🔒 ProtectedRoute: User not authenticated, redirecting to:",e),o.jsx(PT,{to:e,state:{from:s},replace:!0}))},wm=C.createContext({user:null,loading:!0,signIn:async()=>{},signUp:async()=>{},signOut:async()=>{},isAuthenticated:!1}),swe=({children:t})=>{const{user:e,loading:n}=C.useContext(wm),r=Wo();return n?o.jsx(T,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8fafc"},children:o.jsx(Jn,{size:60})}):e?Su(e.email||"")?o.jsx(o.Fragment,{children:t}):o.jsx(PT,{to:"/dashboard",replace:!0}):o.jsx(PT,{to:"/admin/login",state:{from:r},replace:!0})},XG=async t=>{try{console.log(`🔍 Checking clinic status for ID: ${t}`);const e=await Pp(Di(ni,"clinics",t));if(e.exists()){const n=e.data();return console.log(`📊 Clinic data for ${t}:`,{name:n.name,isActive:n.isActive,settings:n.settings}),n.isActive===!0}else{if(console.warn(`⚠️ Clinic ${t} does not exist in database`),t==="demo-clinic"){console.log("🔧 Demo clinic missing, attempting to create..."),await Jw();const n=await Pp(Di(ni,"clinics",t));if(n.exists()){const r=n.data();return console.log("✅ Demo clinic created successfully"),r.isActive===!0}}return!1}}catch(e){return console.error(`❌ Error checking clinic status for ${t}:`,e),!1}},awe=async(t,e)=>{if(console.log(`🔐 Checking clinic access for user: ${t}, clinicId: ${e}`),Su(t))return console.log(`👑 User ${t} is super admin - access granted`),!0;if(!e)return console.warn(`⚠️ User ${t} has no clinic ID - access denied`),!1;if(e==="demo-clinic"){console.log("🏥 Demo clinic detected, ensuring it exists...");try{await Jw()}catch(r){console.error("❌ Failed to ensure demo clinic is active:",r)}}const n=await XG(e);return console.log(`🏥 Clinic ${e} active status: ${n}`),n?console.log(`✅ Access granted for ${t} - clinic ${e} is active`):console.warn(`❌ Access denied for ${t} - clinic ${e} is not active`),n},lwe=async(t="demo-clinic")=>{console.log(`🔧 Manually fixing clinic access for: ${t}`);try{if(t==="demo-clinic")return await Jw(),console.log("✅ Demo clinic access fixed"),!0;{const e=await XG(t);return console.log(`🏥 Clinic ${t} status: ${e?"active":"inactive"}`),e}}catch(e){return console.error(`❌ Error fixing clinic access for ${t}:`,e),!1}},nl=et([o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),cwe=et(o.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),rr=et(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),iO=et([o.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),o.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),uwe=et(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),li=et(o.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),Hl=et(o.jsx("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile"),tL=et(o.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),dwe=et(o.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),hwe=et(o.jsx("path",{d:"M12 6v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V4c-4.42 0-8 3.58-8 8 0 1.04.2 2.04.57 2.95.27.67 1.13.85 1.64.34.27-.27.38-.68.23-1.04C6.15 13.56 6 12.79 6 12c0-3.31 2.69-6 6-6m5.79 2.71c-.27.27-.38.69-.23 1.04.28.7.44 1.46.44 2.25 0 3.31-2.69 6-6 6v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.35V20c4.42 0 8-3.58 8-8 0-1.04-.2-2.04-.57-2.95-.27-.67-1.13-.85-1.64-.34"}),"AutorenewRounded"),fwe=et(o.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),pwe=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"}),"Block"),ey=et(o.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),En=et(o.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),mwe=et(o.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99"}),"Call"),du=et(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),sb=et(o.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),zr=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),gwe=et(o.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),xwe=et(o.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),ywe=et(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle"),Qo=et(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),QG=et(o.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),vwe=et(o.jsx("path",{d:"M11.5 2C6.81 2 3 5.81 3 10.5S6.81 19 11.5 19h.5v3c4.86-2.34 8-7 8-11.5C20 5.81 16.19 2 11.5 2m1 14.5h-2v-2h2zm0-3.5h-2c0-3.25 3-3 3-5 0-1.1-.9-2-2-2s-2 .9-2 2h-2c0-2.21 1.79-4 4-4s4 1.79 4 4c0 2.5-3 2.75-3 5"}),"ContactSupport"),kg=et(o.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),nL=et(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),bwe=et(o.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),_we=et(o.jsx("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange"),Cs=et(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),wwe=et(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),JG=et(o.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Xl=et(o.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Wn=et(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Xb=et(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),jwe=et(o.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),rL=et(o.jsx("path",{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14z"}),"EventAvailable"),IT=et(o.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),Swe=et(o.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Cwe=et(o.jsx("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),bs=et(o.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Pwe=et(o.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),cC=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),Qb=et(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),q1=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),H1=et(o.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),Awe=et(o.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Ewe=et(o.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),ZG=et(o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"}),"Language"),pl=et(o.jsx("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4z"}),"LocalHospital"),iL=et(o.jsx("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3z"}),"LocalPharmacy"),eK=et(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Ma=et(o.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),Iwe=et(o.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),uC=et(o.jsx("path",{d:"M12 19c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1M4 6l8 5 8-5v2l-8 5-8-5zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34z"}),"MarkEmailRead"),Cu=et(o.jsx("path",{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M10 4h4v2h-4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3z"}),"MedicalServices"),Jb=et(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn"),oL=et(o.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Twe=et(o.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3zm-3-7V3.5L18.5 9z"}),"NoteAdd"),oO=et(o.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),sL=et(o.jsx("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive"),kwe=et(o.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone"),Rwe=et(o.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),ml=et(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),Lr=et(o.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),G1=et(o.jsx("path",{d:"M7.5 11C9.43 11 11 9.43 11 7.5S9.43 4 7.5 4 4 5.57 4 7.5 5.57 11 7.5 11m0-5C8.33 6 9 6.67 9 7.5S8.33 9 7.5 9 6 8.33 6 7.5 6.67 6 7.5 6M4.0025 18.5832 18.59 3.9955l1.4142 1.4143L5.4167 19.9974zM16.5 13c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5m0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Percent"),Pu=et(o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),mu=et(o.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),Zb=et(o.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),Owe=et(o.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),Dwe=et(o.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),xf=et(o.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),sO=et(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Oo=et(o.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Sr=et([o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),K1=et(o.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),gu=et(o.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),aL=et(o.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),tj=et(o.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),tK=et(o.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),lL=et(o.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),Mwe=et(o.jsx("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),dC=et(o.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),Nwe=et(o.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync"),$we=et(o.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),hC=et(o.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),Lwe=et(o.jsx("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown"),ty=et(o.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),zwe=et(o.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune"),Fwe=et(o.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule"),Wwe=et(o.jsx("path",{d:"M5.33 20H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h1.33c1.1 0 2 .9 2 2v12c0 1.1-.89 2-2 2M22 18V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2H20c1.11 0 2-.9 2-2m-7.33 0V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h1.33c1.1 0 2-.9 2-2"}),"ViewWeek"),Ps=et(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),ac=et(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),As=et(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),hr=et(o.jsx("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"}),"WhatsApp"),fs=({children:t})=>{const{userProfile:e,isAdmin:n,loading:r}=Qw(),i=Pl(),[s,a]=C.useState(null),[l,c]=C.useState(!0);C.useEffect(()=>{r||(async()=>{c(!0);try{if(console.log("🔍 ClinicAccessGuard Debug:"),console.log("  isAdmin:",n),console.log("  userProfile:",e),console.log("  loading:",r),n){console.log("  ✅ Admin access granted - bypassing all clinic checks"),a(!0),c(!1);return}if(e&&e.email){const p=await awe(e.email,e.clinicId);a(p)}else a(!1)}catch(p){console.error("Error checking clinic access:",p),n?(console.log("  ✅ Admin access granted despite error"),a(!0)):a(!1)}finally{c(!1)}})()},[e,n,r]);const d=async()=>{try{await ev(bi),i("/login")}catch(f){console.error("Error signing out:",f)}};return r||l?o.jsx(o.Fragment,{children:t}):n?o.jsx(o.Fragment,{children:t}):s===!1?o.jsx(T,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc"},children:o.jsx(di,{maxWidth:"sm",children:o.jsx(Ve,{sx:{textAlign:"center",p:4},children:o.jsxs(st,{children:[o.jsx(T,{sx:{width:80,height:80,borderRadius:"50%",backgroundColor:"error.light",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:o.jsx(pwe,{sx:{fontSize:40,color:"white"}})}),o.jsx(w,{variant:"h4",gutterBottom:!0,color:"error",children:"Access Suspended"}),o.jsx(w,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"Your clinic's access has been temporarily suspended. Please contact your administrator for more information."}),o.jsx(Zn,{severity:"info",sx:{mb:3,textAlign:"left"},children:o.jsxs(w,{variant:"body2",children:[o.jsx("strong",{children:"Possible reasons:"}),o.jsx("br",{}),"• Subscription payment pending",o.jsx("br",{}),"• Account under review",o.jsx("br",{}),"• Administrative suspension"]})}),o.jsx(me,{variant:"contained",color:"primary",onClick:d,startIcon:o.jsx(IT,{}),size:"large",children:"Sign Out"}),o.jsx(w,{variant:"body2",sx:{mt:2,color:"text.secondary"},children:"Contact support: admin@sahdasclinic.com"})]})})})}):o.jsx(o.Fragment,{children:t})},vx={management:{dashboard:"full",patients:"full",appointments:"full",payments:"full",inventory:"full",reports:"full",settings:"full",notifications:"full",doctor_scheduling:"full",patient_details:"full",appointment_calendar:"full",payment_management:"full",inventory_management:"full",user_management:"write",clinic_settings:"write"},doctor:{dashboard:"full",patients:"full",appointments:"full",payments:"read",inventory:"read",reports:"read",settings:"read",notifications:"full",doctor_scheduling:"full",patient_details:"full",appointment_calendar:"full",payment_management:"none",inventory_management:"none",user_management:"none",clinic_settings:"none"},receptionist:{dashboard:"read",patients:"write",appointments:"full",payments:"write",inventory:"read",reports:"read",settings:"none",notifications:"read",doctor_scheduling:"read",patient_details:"write",appointment_calendar:"write",payment_management:"write",inventory_management:"none",user_management:"none",clinic_settings:"none"}},Vwe={dashboard:"Main dashboard and overview",patients:"Patient management and records",appointments:"Appointment scheduling and management",payments:"Payment processing and billing",inventory:"Inventory and supplies management",reports:"Reports and analytics",settings:"System settings and configuration",notifications:"Notifications and alerts",doctor_scheduling:"Doctor scheduling and availability",patient_details:"Detailed patient information",appointment_calendar:"Calendar view and scheduling",payment_management:"Advanced payment features",inventory_management:"Inventory control and ordering",user_management:"User management within clinic",clinic_settings:"Clinic-specific settings"},Bwe={none:"No access - Feature is hidden",read:"View only - Can see but not modify",write:"Edit access - Can view and modify",full:"Full access - All capabilities including delete"},Uwe=(t,e,n="read")=>{const r=t[e];if(r==="none")return!1;if(n==="none"||r==="full")return!0;const i=["none","read","write","full"],s=i.indexOf(r),a=i.indexOf(n);return s>=a},TT=t=>t.permissions?t.permissions:vx[t.role]||vx.receptionist,ps=({children:t,feature:e,level:n="read",fallback:r})=>{const{userProfile:i,isAdmin:s}=Qw();return s?o.jsx(o.Fragment,{children:t}):(i?Uwe(TT(i),e,n):!1)?o.jsx(o.Fragment,{children:t}):r?o.jsx(o.Fragment,{children:r}):o.jsxs(T,{sx:{position:"relative",height:"100%",minHeight:"400px"},children:[o.jsx(T,{sx:{filter:"blur(8px)",opacity:.3,pointerEvents:"none",userSelect:"none",height:"100%",overflow:"hidden"},children:t}),o.jsx(Kw,{open:!0,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.1)",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Ve,{sx:{maxWidth:450,mx:2,background:"linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.95) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:o.jsxs(st,{sx:{p:4,textAlign:"center"},children:[o.jsx(T,{sx:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #ff6b6b, #ee5a24)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3,animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}}},children:o.jsx(Ma,{sx:{fontSize:40,color:"white"}})}),o.jsx(w,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,background:"linear-gradient(135deg, #ff6b6b, #ee5a24)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:2},children:"Access Restricted"}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[o.jsx(ac,{sx:{fontSize:20,color:"text.secondary",mr:1}}),o.jsx(w,{variant:"body1",color:"text.secondary",children:"Content Hidden"})]}),o.jsx(w,{variant:"body2",sx:{mb:3,color:"text.secondary",lineHeight:1.6},children:"You don't have permission to access this feature. The content has been blurred for privacy. Contact your administrator if you need access."}),o.jsxs(Qi,{sx:{p:2,mb:3,backgroundColor:"rgba(0,0,0,0.05)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:2},children:[o.jsx(w,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:o.jsx("strong",{children:"Required Permission:"})}),o.jsxs(w,{variant:"body2",sx:{fontFamily:"monospace"},children:[n," access to ",e.replace(/_/g," ")]})]}),o.jsx(T,{sx:{display:"flex",gap:2,justifyContent:"center"},children:o.jsx(me,{variant:"contained",startIcon:o.jsx(vwe,{}),onClick:()=>{window.open("mailto:admin@sahdasclinic.com?subject=Access Request&body=I need access to: "+e,"_blank")},sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:"Request Access"})})]})})})]})},qwe=280,Hwe=80,cL=260,Gwe=[{to:"/",text:"dashboard",icon:o.jsx(bwe,{})},{to:"/patients",text:"patients",icon:o.jsx(Lr,{})},{to:"/appointments",text:"appointments",icon:o.jsx(En,{})},{to:"/inventory",text:"inventory",icon:o.jsx(H1,{})},{to:"/payments",text:"payments",icon:o.jsx(ml,{})},{to:"/notifications",text:"notifications",icon:o.jsx(oO,{})},{to:"/doctor-scheduling",text:"doctor_scheduling",icon:o.jsx(Sr,{})},{to:"/settings",text:"settings",icon:o.jsx(tj,{})}],nj=()=>{const{t}=Dr(),e=Wo(),{userClinic:n}=Qw(),{isCollapsed:r,toggleSidebar:i}=GR(),{getClinicDisplayName:s,getClinicTagline:a}=YR(),l=Co(),c=o1(l.breakpoints.down("md"));o1(l.breakpoints.down("lg"));const f=c?cL:r?Hwe:qwe,p=()=>o.jsxs(T,{sx:{overflow:"auto",height:"100%",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.3)",borderRadius:"2px"}},children:[o.jsxs(T,{sx:{p:r&&!c?2:{xs:3,md:4},pb:r&&!c?2:{xs:2,md:3},display:"flex",alignItems:"center",justifyContent:r&&!c?"center":"flex-start",position:"relative",transition:"all 0.3s ease","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:r&&!c?"60%":"80%",height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%)",transition:"width 0.3s ease"}},children:[o.jsx(Ze,{title:r&&!c?`${s()} - ${a()}`:"",placement:"right",children:o.jsx(T,{sx:{width:r&&!c?48:{xs:52,md:56},height:r&&!c?48:{xs:52,md:56},borderRadius:r&&!c?"16px":{xs:"18px",md:"20px"},background:"linear-gradient(145deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",mr:r&&!c?0:{xs:2,md:3},position:"relative",overflow:"hidden",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.2)","&:hover":{transform:"translateY(-2px) scale(1.05)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3)",background:"linear-gradient(145deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 100%)"},"&::before":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"conic-gradient(from 0deg, transparent 0deg, rgba(255, 255, 255, 0.1) 60deg, transparent 120deg)",animation:"rotate 8s linear infinite",opacity:0,transition:"opacity 0.3s ease"},"&:hover::before":{opacity:1},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},"&::after":{content:'""',position:"absolute",top:"1px",left:"1px",right:"1px",bottom:"1px",borderRadius:r&&!c?"15px":"19px",background:"linear-gradient(145deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%)",pointerEvents:"none"}},children:o.jsxs("svg",{width:r&&!c?"28":c?"32":"36",height:r&&!c?"28":c?"32":"36",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{zIndex:2,filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"premiumCircleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:1}}),o.jsx("stop",{offset:"30%",style:{stopColor:"#e0e7ff",stopOpacity:1}}),o.jsx("stop",{offset:"70%",style:{stopColor:"#c7d2fe",stopOpacity:1}}),o.jsx("stop",{offset:"100%",style:{stopColor:"#a5b4fc",stopOpacity:1}})]}),o.jsxs("linearGradient",{id:"premiumCheckGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",style:{stopColor:"#22d3ee",stopOpacity:1}}),o.jsx("stop",{offset:"50%",style:{stopColor:"#06b6d4",stopOpacity:1}}),o.jsx("stop",{offset:"100%",style:{stopColor:"#0891b2",stopOpacity:1}})]}),o.jsxs("filter",{id:"premiumGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),o.jsx("filter",{id:"innerShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:o.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodColor:"#000000",floodOpacity:"0.1"})})]}),o.jsx("circle",{cx:"50",cy:"50",r:"38",fill:"rgba(255, 255, 255, 0.05)",opacity:"0.8"}),o.jsx("circle",{cx:"50",cy:"50",r:"32",stroke:"url(#premiumCircleGradient)",strokeWidth:"2.5",fill:"rgba(255, 255, 255, 0.08)",filter:"url(#premiumGlow)"}),o.jsx("circle",{cx:"50",cy:"50",r:"28",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1",fill:"none",opacity:"0.6"}),o.jsx("polyline",{points:"36,50 44,58 64,38",fill:"none",stroke:"url(#premiumCheckGradient)",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#innerShadow)"})]})})}),o.jsx(px,{in:!(r&&!c),orientation:"horizontal",children:o.jsxs(T,{sx:{flex:1,minWidth:0},children:[o.jsx(w,{variant:"h4",sx:{fontFamily:"'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif",fontWeight:700,fontSize:{xs:"1.5rem",md:"1.75rem"},lineHeight:1.1,background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.02em",mb:.5,textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",whiteSpace:"nowrap"},children:s()}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(T,{sx:{width:4,height:4,borderRadius:"50%",background:"linear-gradient(45deg, #22d3ee, #06b6d4)",boxShadow:"0 0 8px rgba(34, 211, 238, 0.4)"}}),o.jsx(w,{variant:"caption",sx:{fontFamily:"'Inter', sans-serif",color:"rgba(255, 255, 255, 0.9)",fontWeight:500,letterSpacing:"0.08em",textTransform:"uppercase",fontSize:{xs:"0.6rem",md:"0.65rem"},opacity:.85,whiteSpace:"nowrap"},children:a()})]})]})})]}),o.jsx(T,{sx:{flex:1,px:r&&!c?1:{xs:3,md:4},py:2,transition:"padding 0.3s ease"},children:o.jsx(mi,{sx:{py:0},children:Gwe.map(m=>{const y=e.pathname===m.to;return o.jsx(An,{disablePadding:!0,sx:{mb:r&&!c?.5:1},children:o.jsx(Ze,{title:r&&!c?t(m.text):"",placement:"right",arrow:!0,children:o.jsxs(Zxe,{component:rO,to:m.to,onClick:c?i:void 0,sx:{borderRadius:r&&!c?"12px":"14px",py:r&&!c?1.5:{xs:1.5,md:2},px:r&&!c?0:{xs:2,md:3},position:"relative",overflow:"hidden",minHeight:{xs:44,md:48},justifyContent:r&&!c?"center":"flex-start",color:y?"white":"rgba(255, 255, 255, 0.75)",background:y?"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)":"transparent",backdropFilter:y?"blur(10px)":"none",border:y?"1px solid rgba(255, 255, 255, 0.2)":"1px solid transparent",boxShadow:y?"0 4px 16px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)":"none","&:hover":{background:y?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",color:"white",transform:r&&!c?"scale(1.05)":"translateX(4px)",border:"1px solid rgba(255, 255, 255, 0.15)"},"&::before":{content:'""',position:"absolute",left:0,top:0,bottom:0,width:y?"4px":"0px",background:"linear-gradient(180deg, #22d3ee 0%, #06b6d4 100%)",borderRadius:"0 2px 2px 0",transition:"width 0.3s ease"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsx(Xo,{sx:{color:"inherit",minWidth:r&&!c?"auto":{xs:40,md:44},mr:r&&!c?0:1,display:"flex",alignItems:"center",justifyContent:"center","& svg":{fontSize:r&&!c?22:{xs:20,md:20},filter:y?"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))":"none"}},children:m.icon}),o.jsx(px,{in:!(r&&!c),orientation:"horizontal",children:o.jsx(pr,{primary:t(m.text),sx:{ml:1,"& .MuiListItemText-primary":{fontFamily:"'Inter', sans-serif",fontWeight:y?600:500,fontSize:{xs:"0.85rem",md:"0.9rem"},letterSpacing:"0.01em",whiteSpace:"nowrap"}}})})]})})},m.to)})})}),o.jsx(px,{in:!(r&&!c),children:o.jsx(T,{sx:{px:{xs:3,md:4},py:3,mt:2},children:o.jsxs(T,{sx:{p:{xs:2,md:3},borderRadius:"12px",background:"linear-gradient(145deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",border:"1px solid rgba(255, 255, 255, 0.08)",textAlign:"center"},children:[o.jsx(w,{variant:"caption",sx:{fontFamily:"'Inter', sans-serif",color:"rgba(255, 255, 255, 0.6)",fontWeight:500,fontSize:{xs:"0.65rem",md:"0.7rem"},letterSpacing:"0.05em",display:"block",mb:.5},children:"POWERED BY"}),o.jsx(w,{variant:"caption",sx:{fontFamily:"'Inter', sans-serif",color:"rgba(255, 255, 255, 0.8)",fontWeight:600,fontSize:{xs:"0.7rem",md:"0.75rem"},letterSpacing:"0.02em"},children:"Clinicy Pro • v2.0.1"})]})})})]});return c?o.jsx(z0e,{variant:"temporary",open:!r,onClose:i,onOpen:i,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:cL,boxSizing:"border-box",backgroundColor:"primary.main",color:"white",borderRight:"none"}},children:o.jsx(p,{})}):o.jsx(gG,{variant:"permanent",sx:{display:{xs:"none",md:"block"},width:f,flexShrink:0,transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& .MuiDrawer-paper":{width:f,boxSizing:"border-box",backgroundColor:"primary.main",color:"white",borderRight:"none",transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden"}},children:o.jsx(p,{})})},rj=()=>{const{t,i18n:e}=Dr(),n=Pl();Co();const{user:r}=C.useContext(wm),{userProfile:i}=Qw(),{unreadCount:s}=kG(),{isCollapsed:a,toggleSidebar:l}=GR(),{getClinicDisplayName:c}=YR(),[d,f]=he.useState(null),[p,m]=he.useState(null),y=E=>{e.changeLanguage(E),document.documentElement.dir=e.dir(),f(null)},x=E=>{f(E.currentTarget)},v=()=>{f(null)},b=E=>{m(E.currentTarget)},I=()=>{m(null)},A=()=>{n("/notifications")},S=()=>{m(null),n("/settings")},k=async()=>{try{m(null),await ev(bi),n("/login")}catch(E){console.error("Error signing out:",E)}},P=()=>{if(i!=null&&i.firstName&&(i!=null&&i.lastName))return`${i.firstName} ${i.lastName}`;if(r!=null&&r.displayName)return r.displayName;if(r!=null&&r.email){const E=r.email.split("@")[0];return E.charAt(0).toUpperCase()+E.slice(1)}return""},R=()=>{if(i!=null&&i.firstName&&(i!=null&&i.lastName))return i.firstName.charAt(0).toUpperCase()+i.lastName.charAt(0).toUpperCase();const E=P(),O=E.split(" ");return O.length>=2?O[0].charAt(0)+O[1].charAt(0):E.slice(0,2).toUpperCase()};return o.jsx(JH,{position:"static",elevation:0,sx:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 50%, rgba(241, 245, 249, 0.98) 100%)",backdropFilter:"blur(25px)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",color:"text.primary",boxShadow:"0 2px 24px rgba(0, 0, 0, 0.03), 0 1px 0 rgba(255, 255, 255, 0.8) inset",position:"relative",height:"90px","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"0.5px",background:"linear-gradient(90deg, transparent 0%, rgba(59, 130, 246, 0.3) 20%, rgba(99, 102, 241, 0.3) 50%, rgba(59, 130, 246, 0.3) 80%, transparent 100%)"}},children:o.jsxs(AG,{sx:{justifyContent:"space-between",py:{xs:1,sm:1.5,md:2},px:{xs:2,sm:3,md:4},position:"relative",minHeight:{xs:"56px",md:"64px"}},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:2}},children:[o.jsx(Ze,{title:t(a?"expand_sidebar":"collapse_sidebar"),children:o.jsxs(qe,{onClick:l,sx:{width:{xs:40,md:48},height:{xs:40,md:48},borderRadius:"14px",background:a?"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(22, 163, 74, 0.05) 100%)":"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.05) 100%)",border:a?"1px solid rgba(34, 197, 94, 0.3)":"1px solid rgba(59, 130, 246, 0.3)",color:a?"#059669":"primary.main",position:"relative",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:a?"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(22, 163, 74, 0.1) 100%)":"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.1) 100%)",transform:"scale(1.08)",boxShadow:a?"0 6px 20px rgba(34, 197, 94, 0.25)":"0 6px 20px rgba(59, 130, 246, 0.25)"},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:a?"linear-gradient(45deg, transparent 30%, rgba(34, 197, 94, 0.1) 50%, transparent 70%)":"linear-gradient(45deg, transparent 30%, rgba(59, 130, 246, 0.1) 50%, transparent 70%)",transform:"translateX(-100%)",transition:"transform 0.6s ease"},"&:hover::before":{transform:"translateX(100%)"}},children:[o.jsx(T,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"90%",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:a?o.jsx(xwe,{sx:{fontSize:24,filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",transition:"all 0.3s ease"}}):o.jsx(gwe,{sx:{fontSize:24,filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",transition:"all 0.3s ease"}})}),o.jsx(T,{sx:{position:"absolute",top:4,right:4,width:6,height:6,borderRadius:"50%",background:a?"linear-gradient(45deg, #10b981, #059669)":"linear-gradient(45deg, #3b82f6, #2563eb)",boxShadow:a?"0 0 8px rgba(16, 185, 129, 0.6)":"0 0 8px rgba(59, 130, 246, 0.6)",animation:"pulse 2s infinite","@keyframes pulse":{"0%, 100%":{opacity:1,transform:"scale(1)"},"50%":{opacity:.7,transform:"scale(1.2)"}}}})]})}),o.jsxs(T,{sx:{position:"relative",display:{xs:"none",sm:"block"}},children:[o.jsx(w,{variant:"h5",sx:{fontFamily:"'Inter', 'SF Pro Display', sans-serif",fontWeight:800,fontSize:{xs:"1.2rem",sm:"1.4rem",md:"1.6rem"},background:"linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #334155 70%, #475569 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.03em",lineHeight:1.1,textShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",position:"relative","&::after":{content:'""',position:"absolute",bottom:-2,left:0,width:"30%",height:"2px",background:"linear-gradient(90deg, rgba(59, 130, 246, 0.6) 0%, transparent 100%)",borderRadius:"1px"}},children:c()}),o.jsxs(T,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:1,mt:.5},children:[o.jsx(T,{sx:{width:4,height:4,borderRadius:"50%",background:"linear-gradient(45deg, #10b981, #059669)",boxShadow:"0 0 6px rgba(16, 185, 129, 0.4)",animation:"pulse 3s infinite","@keyframes pulse":{"0%, 100%":{opacity:1,transform:"scale(1)"},"50%":{opacity:.7,transform:"scale(1.2)"}}}}),o.jsxs(w,{variant:"caption",sx:{fontFamily:"'Inter', sans-serif",color:"rgba(0, 0, 0, 0.6)",fontWeight:600,fontSize:"0.73rem",letterSpacing:"0.03em",textTransform:"uppercase"},children:[new Date().toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})," • Live"]})]})]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1,md:2}},children:[o.jsx(Ze,{title:t("change_language"),children:o.jsx(qe,{onClick:x,sx:{width:{xs:36,md:42},height:{xs:36,md:42},borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.03) 0%, rgba(0, 0, 0, 0.06) 100%)",color:"text.secondary",border:"1px solid rgba(0, 0, 0, 0.05)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%)",color:"primary.main",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.15)",border:"1px solid rgba(99, 102, 241, 0.2)"}},children:o.jsx(ZG,{sx:{fontSize:19}})})}),o.jsxs(bl,{anchorEl:d,open:!!d,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:1,borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)"}},children:[o.jsx(ye,{onClick:()=>y("en"),selected:e.language==="en",children:"English"}),o.jsx(ye,{onClick:()=>y("ar"),selected:e.language==="ar",children:"العربية"})]}),o.jsx(Ze,{title:t("notifications"),children:o.jsx(qe,{onClick:A,sx:{width:{xs:36,md:42},height:{xs:36,md:42},borderRadius:"12px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.03) 0%, rgba(0, 0, 0, 0.06) 100%)",color:"text.secondary",border:"1px solid rgba(0, 0, 0, 0.05)",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:s>0?"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%)":"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%)",color:s>0?"#dc2626":"primary.main",transform:"translateY(-1px)",boxShadow:s>0?"0 4px 12px rgba(239, 68, 68, 0.2)":"0 4px 12px rgba(99, 102, 241, 0.15)",border:s>0?"1px solid rgba(239, 68, 68, 0.2)":"1px solid rgba(99, 102, 241, 0.2)"}},children:o.jsx(uG,{badgeContent:s,color:"error",sx:{"& .MuiBadge-badge":{fontSize:"0.7rem",minWidth:"18px",height:"18px",borderRadius:"9px",fontWeight:600,boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)",border:"1.5px solid rgba(255, 255, 255, 0.8)"}},children:o.jsx(oO,{sx:{fontSize:19}})})})}),o.jsxs(Qi,{elevation:0,sx:{display:"flex",alignItems:"center",gap:1.5,pl:3,pr:1,py:1,background:"linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.6) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.06)",borderRadius:"16px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.8) 100%)",border:"1px solid rgba(59, 130, 246, 0.15)",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0, 0, 0, 0.08)"}},children:[o.jsxs(T,{sx:{textAlign:"right",display:{xs:"none",lg:"block"}},children:[o.jsx(w,{variant:"body2",sx:{fontFamily:"'Inter', sans-serif",fontWeight:600,lineHeight:1.2,fontSize:{md:"0.85rem",lg:"0.9rem"},color:"text.primary"},children:P()}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"flex-end"},children:[o.jsx(ywe,{sx:{fontSize:6,color:"#10b981"}}),o.jsx(w,{variant:"caption",sx:{fontFamily:"'Inter', sans-serif",color:"text.secondary",fontSize:{md:"0.65rem",lg:"0.7rem"},fontWeight:500},children:i!=null&&i.role?t(i.role):t("general_practitioner")})]})]}),o.jsxs(T,{onClick:b,sx:{display:"flex",alignItems:"center",gap:1.5,cursor:"pointer",p:1.5,borderRadius:"14px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"rgba(59, 130, 246, 0.08)",transform:"scale(1.02)"}},children:[o.jsx(dn,{sx:{width:{xs:40,md:48},height:{xs:40,md:48},background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%)",fontFamily:"'Inter', 'SF Pro Display', sans-serif",fontWeight:800,fontSize:"1.1rem",border:"3px solid rgba(255, 255, 255, 0.9)",boxShadow:"0 6px 20px rgba(102, 126, 234, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3)"}},children:R()}),o.jsx(Awe,{sx:{fontSize:18,color:"rgba(0, 0, 0, 0.5)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:p?"rotate(180deg)":"rotate(0deg)",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))"}})]}),o.jsxs(bl,{anchorEl:p,open:!!p,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:1,minWidth:280,borderRadius:"16px",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(0, 0, 0, 0.08)"}},children:[o.jsx(T,{sx:{px:3,py:3,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(37, 99, 235, 0.02) 100%)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(dn,{sx:{width:52,height:52,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.9) 0%, rgba(37, 99, 235, 0.9) 100%)",fontWeight:700},children:R()}),o.jsxs(T,{children:[o.jsx(w,{variant:"subtitle1",sx:{fontFamily:"'Inter', sans-serif",fontWeight:600},children:P()}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontFamily:"'Inter', sans-serif"},children:i!=null&&i.role?t(i.role):t("general_practitioner")}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{fontFamily:"'Inter', sans-serif"},children:r==null?void 0:r.email})]})]})}),o.jsxs(ye,{onClick:S,sx:{py:2,px:3},children:[o.jsx(Xo,{children:o.jsx(Pu,{fontSize:"small"})}),o.jsx(pr,{primary:t("profile_settings"),sx:{"& .MuiListItemText-primary":{fontFamily:"'Inter', sans-serif"}}})]}),o.jsxs(ye,{onClick:()=>{m(null),n("/dashboard")},sx:{py:2,px:3},children:[o.jsx(Xo,{children:o.jsx(iO,{fontSize:"small"})}),o.jsx(pr,{primary:t("dashboard"),sx:{"& .MuiListItemText-primary":{fontFamily:"'Inter', sans-serif"}}})]}),o.jsx(Nn,{sx:{my:1}}),o.jsxs(ye,{onClick:k,sx:{py:2,px:3,color:"error.main","&:hover":{backgroundColor:"rgba(239, 68, 68, 0.08)"}},children:[o.jsx(Xo,{children:o.jsx(Iwe,{fontSize:"small",sx:{color:"error.main"}})}),o.jsx(pr,{primary:t("sign_out"),sx:{"& .MuiListItemText-primary":{fontFamily:"'Inter', sans-serif"}}})]})]})]})]})]})})},ms=({children:t})=>{const{i18n:e}=Dr(),n=Pl(),r=Wo(),i=Co(),s=o1(i.breakpoints.down("lg"));o1(i.breakpoints.down("sm"));const{isCollapsed:a}=GR(),[l,c]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState(!1),y=he.useRef(null);he.useEffect(()=>{const b=()=>{if(y.current){const A=y.current.scrollTop;f(A>300)}},I=y.current;if(I)return I.addEventListener("scroll",b),()=>I.removeEventListener("scroll",b)},[]);const x=()=>{y.current&&y.current.scrollTo({top:0,behavior:"smooth"})},v=()=>{const b=r.pathname;return b.includes("/appointments")?[{icon:o.jsx(En,{}),name:"New Appointment",action:()=>{window.dispatchEvent(new CustomEvent("openAddAppointment")),m(!1)}},{icon:o.jsx(mu,{}),name:"New Patient",action:()=>{n("/patients"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddPatient"))},100),m(!1)}}]:b.includes("/patients")?[{icon:o.jsx(mu,{}),name:"New Patient",action:()=>{window.dispatchEvent(new CustomEvent("openAddPatient")),m(!1)}},{icon:o.jsx(En,{}),name:"New Appointment",action:()=>{n("/appointments"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddAppointment"))},100),m(!1)}}]:b.includes("/doctor-scheduling")?[{icon:o.jsx(rr,{}),name:"New Doctor",action:()=>{window.dispatchEvent(new CustomEvent("openAddDoctor")),m(!1)}},{icon:o.jsx(En,{}),name:"New Appointment",action:()=>{n("/appointments"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddAppointment"))},100),m(!1)}}]:b.includes("/payments")?[{icon:o.jsx(rr,{}),name:"New Payment",action:()=>{window.dispatchEvent(new CustomEvent("openAddPayment")),m(!1)}},{icon:o.jsx(mu,{}),name:"New Patient",action:()=>{n("/patients"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddPatient"))},100),m(!1)}}]:[{icon:o.jsx(En,{}),name:"New Appointment",action:()=>{n("/appointments"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddAppointment"))},100),m(!1)}},{icon:o.jsx(mu,{}),name:"New Patient",action:()=>{n("/patients"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openAddPatient"))},100),m(!1)}}]};return o.jsxs(T,{sx:{display:"flex",height:"100vh",backgroundColor:"background.default",overflow:"hidden",position:"relative",touchAction:"manipulation",WebkitOverflowScrolling:"touch"},children:[o.jsx(nj,{}),o.jsxs(T,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0,width:s?"100%":"auto",position:"relative",transition:"margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1)",marginLeft:s?0:a?"80px":"0px"},children:[o.jsx(rj,{}),o.jsxs(T,{ref:y,sx:{flex:1,overflow:"auto",p:{xs:"max(env(safe-area-inset-top, 0px), 16px) max(env(safe-area-inset-right, 0px), 16px) max(env(safe-area-inset-bottom, 0px), 16px) max(env(safe-area-inset-left, 0px), 16px)",sm:"max(env(safe-area-inset-top, 0px), 24px) max(env(safe-area-inset-right, 0px), 24px) max(env(safe-area-inset-bottom, 0px), 24px) max(env(safe-area-inset-left, 0px), 24px)",md:"max(env(safe-area-inset-top, 0px), 32px) max(env(safe-area-inset-right, 0px), 32px) max(env(safe-area-inset-bottom, 0px), 32px) max(env(safe-area-inset-left, 0px), 32px)"},minHeight:0,position:"relative",WebkitOverflowScrolling:"touch","&::-webkit-scrollbar":{width:s?"0px":"8px",backgroundColor:"transparent"},"&::-webkit-scrollbar-track":{backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.3)"}}},children:[o.jsx(T,{sx:{maxWidth:"100%",mx:"auto",...s?{}:{maxWidth:{sm:"100%",md:"100%",lg:"1200px",xl:"1400px"}}},children:t}),s&&o.jsxs(o.Fragment,{children:[o.jsx(Kw,{open:p,sx:{zIndex:b=>b.zIndex.speedDial-1},onClick:()=>m(!1)}),o.jsx(u0e,{ariaLabel:"Quick Actions",sx:{position:"fixed",bottom:{xs:85,sm:90},right:{xs:20,sm:25},zIndex:b=>b.zIndex.speedDial,"& .MuiSpeedDial-fab":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",width:{xs:56,sm:64},height:{xs:56,sm:64},boxShadow:"0 8px 32px rgba(102, 126, 234, 0.4)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"scale(1.1)",boxShadow:"0 12px 40px rgba(102, 126, 234, 0.5)"}},"& .MuiSpeedDialAction-fab":{backgroundColor:"white",color:i.palette.primary.main,width:{xs:48,sm:56},height:{xs:48,sm:56},"&:hover":{backgroundColor:i.palette.primary.light,color:"white",transform:"scale(1.05)"}}},icon:o.jsx(CG,{openIcon:o.jsx(Qo,{})}),open:p,onOpen:()=>m(!0),onClose:()=>m(!1),direction:"up",children:v().map(b=>o.jsx(C0e,{icon:b.icon,tooltipTitle:b.name,onClick:b.action,sx:{"& .MuiSpeedDialAction-staticTooltip":{fontSize:"0.875rem",fontWeight:600,whiteSpace:"nowrap",backgroundColor:"rgba(255, 255, 255, 0.95)",color:i.palette.text.primary,borderRadius:2,padding:"8px 12px",marginRight:2,boxShadow:"0 4px 16px rgba(0,0,0,0.15)",backdropFilter:"blur(10px)"}},tooltipOpen:!0},b.name))})]}),d&&o.jsx(FR,{size:s?"medium":"large",onClick:x,sx:{position:"fixed",bottom:{xs:s?155:90,sm:160},right:{xs:20,sm:25},zIndex:b=>b.zIndex.speedDial-1,backgroundColor:"rgba(255, 255, 255, 0.9)",color:i.palette.primary.main,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0,0,0,0.15)","&:hover":{backgroundColor:i.palette.primary.main,color:"white",transform:"scale(1.1)"},transition:"all 0.3s ease"},children:o.jsx(Ewe,{})})]})]}),s&&!a&&o.jsx(T,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1200,backdropFilter:"blur(4px)"},onClick:()=>{}})]})};var fC,uL;function ss(){if(uL)return fC;uL=1;var t=Array.isArray;return fC=t,fC}var pC,dL;function nK(){if(dL)return pC;dL=1;var t=typeof R0=="object"&&R0&&R0.Object===Object&&R0;return pC=t,pC}var mC,hL;function Al(){if(hL)return mC;hL=1;var t=nK(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return mC=n,mC}var gC,fL;function _v(){if(fL)return gC;fL=1;var t=Al(),e=t.Symbol;return gC=e,gC}var xC,pL;function Kwe(){if(pL)return xC;pL=1;var t=_v(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var l=n.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch{}var f=r.call(a);return d&&(l?a[i]=c:delete a[i]),f}return xC=s,xC}var yC,mL;function Ywe(){if(mL)return yC;mL=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return yC=n,yC}var vC,gL;function Ec(){if(gL)return vC;gL=1;var t=_v(),e=Kwe(),n=Ywe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return vC=a,vC}var bC,xL;function Ic(){if(xL)return bC;xL=1;function t(e){return e!=null&&typeof e=="object"}return bC=t,bC}var _C,yL;function jm(){if(yL)return _C;yL=1;var t=Ec(),e=Ic(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return _C=r,_C}var wC,vL;function aO(){if(vL)return wC;vL=1;var t=ss(),e=jm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return wC=i,wC}var jC,bL;function Fu(){if(bL)return jC;bL=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return jC=t,jC}var SC,_L;function lO(){if(_L)return SC;_L=1;var t=Ec(),e=Fu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==s}return SC=a,SC}var CC,wL;function Xwe(){if(wL)return CC;wL=1;var t=Al(),e=t["__core-js_shared__"];return CC=e,CC}var PC,jL;function Qwe(){if(jL)return PC;jL=1;var t=Xwe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return PC=n,PC}var AC,SL;function rK(){if(SL)return AC;SL=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return AC=n,AC}var EC,CL;function Jwe(){if(CL)return EC;CL=1;var t=lO(),e=Qwe(),n=Fu(),r=rK(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?f:s;return y.test(r(m))}return EC=p,EC}var IC,PL;function Zwe(){if(PL)return IC;PL=1;function t(e,n){return e==null?void 0:e[n]}return IC=t,IC}var TC,AL;function bh(){if(AL)return TC;AL=1;var t=Jwe(),e=Zwe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return TC=n,TC}var kC,EL;function ij(){if(EL)return kC;EL=1;var t=bh(),e=t(Object,"create");return kC=e,kC}var RC,IL;function eje(){if(IL)return RC;IL=1;var t=ij();function e(){this.__data__=t?t(null):{},this.size=0}return RC=e,RC}var OC,TL;function tje(){if(TL)return OC;TL=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return OC=t,OC}var DC,kL;function nje(){if(kL)return DC;kL=1;var t=ij(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var l=a[s];return l===e?void 0:l}return r.call(a,s)?a[s]:void 0}return DC=i,DC}var MC,RL;function rje(){if(RL)return MC;RL=1;var t=ij(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return MC=r,MC}var NC,OL;function ije(){if(OL)return NC;OL=1;var t=ij(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return NC=n,NC}var $C,DL;function oje(){if(DL)return $C;DL=1;var t=eje(),e=tje(),n=nje(),r=rje(),i=ije();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,$C=s,$C}var LC,ML;function sje(){if(ML)return LC;ML=1;function t(){this.__data__=[],this.size=0}return LC=t,LC}var zC,NL;function cO(){if(NL)return zC;NL=1;function t(e,n){return e===n||e!==e&&n!==n}return zC=t,zC}var FC,$L;function oj(){if($L)return FC;$L=1;var t=cO();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return FC=e,FC}var WC,LL;function aje(){if(LL)return WC;LL=1;var t=oj(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var l=s.length-1;return a==l?s.pop():n.call(s,a,1),--this.size,!0}return WC=r,WC}var VC,zL;function lje(){if(zL)return VC;zL=1;var t=oj();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return VC=e,VC}var BC,FL;function cje(){if(FL)return BC;FL=1;var t=oj();function e(n){return t(this.__data__,n)>-1}return BC=e,BC}var UC,WL;function uje(){if(WL)return UC;WL=1;var t=oj();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return UC=e,UC}var qC,VL;function sj(){if(VL)return qC;VL=1;var t=sje(),e=aje(),n=lje(),r=cje(),i=uje();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,qC=s,qC}var HC,BL;function uO(){if(BL)return HC;BL=1;var t=bh(),e=Al(),n=t(e,"Map");return HC=n,HC}var GC,UL;function dje(){if(UL)return GC;UL=1;var t=oje(),e=sj(),n=uO();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return GC=r,GC}var KC,qL;function hje(){if(qL)return KC;qL=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return KC=t,KC}var YC,HL;function aj(){if(HL)return YC;HL=1;var t=hje();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return YC=e,YC}var XC,GL;function fje(){if(GL)return XC;GL=1;var t=aj();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return XC=e,XC}var QC,KL;function pje(){if(KL)return QC;KL=1;var t=aj();function e(n){return t(this,n).get(n)}return QC=e,QC}var JC,YL;function mje(){if(YL)return JC;YL=1;var t=aj();function e(n){return t(this,n).has(n)}return JC=e,JC}var ZC,XL;function gje(){if(XL)return ZC;XL=1;var t=aj();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return ZC=e,ZC}var eP,QL;function dO(){if(QL)return eP;QL=1;var t=dje(),e=fje(),n=pje(),r=mje(),i=gje();function s(a){var l=-1,c=a==null?0:a.length;for(this.clear();++l<c;){var d=a[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,eP=s,eP}var tP,JL;function iK(){if(JL)return tP;JL=1;var t=dO(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,l=i?i.apply(this,a):a[0],c=s.cache;if(c.has(l))return c.get(l);var d=r.apply(this,a);return s.cache=c.set(l,d)||c,d};return s.cache=new(n.Cache||t),s}return n.Cache=t,tP=n,tP}var nP,ZL;function xje(){if(ZL)return nP;ZL=1;var t=iK(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return nP=n,nP}var rP,ez;function yje(){if(ez)return rP;ez=1;var t=xje(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,l,c,d){s.push(c?d.replace(n,"$1"):l||a)}),s});return rP=r,rP}var iP,tz;function hO(){if(tz)return iP;tz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return iP=t,iP}var oP,nz;function vje(){if(nz)return oP;nz=1;var t=_v(),e=hO(),n=ss(),r=jm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(l){if(typeof l=="string")return l;if(n(l))return e(l,a)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return oP=a,oP}var sP,rz;function oK(){if(rz)return sP;rz=1;var t=vje();function e(n){return n==null?"":t(n)}return sP=e,sP}var aP,iz;function sK(){if(iz)return aP;iz=1;var t=ss(),e=aO(),n=yje(),r=oK();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return aP=i,aP}var lP,oz;function lj(){if(oz)return lP;oz=1;var t=jm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return lP=e,lP}var cP,sz;function fO(){if(sz)return cP;sz=1;var t=sK(),e=lj();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return cP=n,cP}var uP,az;function aK(){if(az)return uP;az=1;var t=fO();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return uP=e,uP}var bje=aK();const Es=or(bje);var dP,lz;function _je(){if(lz)return dP;lz=1;function t(e){return e==null}return dP=t,dP}var wje=_je();const Rn=or(wje);var hP,cz;function jje(){if(cz)return hP;cz=1;var t=Ec(),e=ss(),n=Ic(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return hP=i,hP}var Sje=jje();const uh=or(Sje);var Cje=lO();const wn=or(Cje);var Pje=Fu();const Sm=or(Pje);var fP={exports:{}},fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz;function Aje(){if(uz)return fr;uz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var I=b.$$typeof;switch(I){case t:switch(b=b.type,b){case n:case i:case r:case d:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case a:case c:case m:case p:case s:return b;default:return I}}case e:return I}}}return fr.ContextConsumer=a,fr.ContextProvider=s,fr.Element=t,fr.ForwardRef=c,fr.Fragment=n,fr.Lazy=m,fr.Memo=p,fr.Portal=e,fr.Profiler=i,fr.StrictMode=r,fr.Suspense=d,fr.SuspenseList=f,fr.isAsyncMode=function(){return!1},fr.isConcurrentMode=function(){return!1},fr.isContextConsumer=function(b){return v(b)===a},fr.isContextProvider=function(b){return v(b)===s},fr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},fr.isForwardRef=function(b){return v(b)===c},fr.isFragment=function(b){return v(b)===n},fr.isLazy=function(b){return v(b)===m},fr.isMemo=function(b){return v(b)===p},fr.isPortal=function(b){return v(b)===e},fr.isProfiler=function(b){return v(b)===i},fr.isStrictMode=function(b){return v(b)===r},fr.isSuspense=function(b){return v(b)===d},fr.isSuspenseList=function(b){return v(b)===f},fr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===d||b===f||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===s||b.$$typeof===a||b.$$typeof===c||b.$$typeof===x||b.getModuleId!==void 0)},fr.typeOf=v,fr}var dz;function Eje(){return dz||(dz=1,fP.exports=Aje()),fP.exports}var Ije=Eje(),pP,hz;function lK(){if(hz)return pP;hz=1;var t=Ec(),e=Ic(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return pP=r,pP}var mP,fz;function Tje(){if(fz)return mP;fz=1;var t=lK();function e(n){return t(n)&&n!=+n}return mP=e,mP}var kje=Tje();const Cm=or(kje);var Rje=lK();const Oje=or(Rje);var Mo=function(e){return e===0?0:e>0?1:-1},Md=function(e){return uh(e)&&e.indexOf("%")===e.length-1},xt=function(e){return Oje(e)&&!Cm(e)},Ni=function(e){return xt(e)||uh(e)},Dje=0,Pm=function(e){var n=++Dje;return"".concat(e||"").concat(n)},No=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(e)&&!uh(e))return r;var s;if(Md(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Cm(s)&&(s=r),i&&s>n&&(s=n),s},Df=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mje=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Jo=function(e,n){return xt(e)&&xt(n)?function(r){return e+r*(n-e)}:function(){return n}};function Y1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Es(r,e))===n})}var Nje=function(e,n){return xt(e)&&xt(n)?e-n:uh(e)&&uh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Zf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kT(t){"@babel/helpers - typeof";return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}var $je=["viewBox","children"],Lje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pz=["points","pathLength"],gP={svg:$je,polygon:pz,polyline:pz},pO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],X1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Sm(r))return null;var i={};return Object.keys(r).forEach(function(s){pO.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},zje=function(e,n,r){return function(i){return e(n,r,i),null}},dh=function(e,n,r){if(!Sm(e)||kT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];pO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=zje(a,n,r))}),i},Fje=["children"],Wje=["children"];function mz(t,e){if(t==null)return{};var n=Vje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RT(t){"@babel/helpers - typeof";return RT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RT(t)}var gz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xz=null,xP=null,mO=function t(e){if(e===xz&&Array.isArray(xP))return xP;var n=[];return C.Children.forEach(e,function(r){Rn(r)||(Ije.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xP=n,xz=e,n};function ra(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return lc(i)}):r=[lc(e)],mO(t).forEach(function(i){var s=Es(i,"type.displayName")||Es(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ys(t,e){var n=ra(t,e);return n&&n[0]}var yz=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xt(r)||r<=0||!xt(i)||i<=0)},Bje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uje=function(e){return e&&e.type&&uh(e.type)&&Bje.indexOf(e.type)>=0},qje=function(e){return e&&RT(e)==="object"&&"clipDot"in e},Hje=function(e,n,r,i){var s,a=(s=gP==null?void 0:gP[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!wn(e)&&(i&&a.includes(n)||Lje.includes(n))||r&&pO.includes(n)},tn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Sm(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;Hje((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(s[a]=i[a])}),s},OT=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vz(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!vz(s,a))return!1}return!0},vz=function(e,n){if(Rn(e)&&Rn(n))return!0;if(!Rn(e)&&!Rn(n)){var r=e.props||{},i=r.children,s=mz(r,Fje),a=n.props||{},l=a.children,c=mz(a,Wje);return i&&l?Zf(s,c)&&OT(i,l):!i&&!l?Zf(s,c):!1}return!1},bz=function(e,n){var r=[],i={};return mO(e).forEach(function(s,a){if(Uje(s))r.push(s);else if(s){var l=lc(s.type),c=n[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var p=d(s,l,a);r.push(p),i[l]=!0}}}),r},Gje=function(e){var n=e&&e.type;return n&&gz[n]?gz[n]:null},Kje=function(e,n){return mO(n).indexOf(e)},Yje=["children","width","height","viewBox","className","style","title","desc"];function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DT.apply(this,arguments)}function Xje(t,e){if(t==null)return{};var n=Qje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,l=t.title,c=t.desc,d=Xje(t,Yje),f=i||{width:n,height:r,x:0,y:0},p=Oe("recharts-surface",s);return he.createElement("svg",DT({},tn(d,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),he.createElement("title",null,l),he.createElement("desc",null,c),e)}var Jje=["children","className"];function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(this,arguments)}function Zje(t,e){if(t==null)return{};var n=e2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kn=he.forwardRef(function(t,e){var n=t.children,r=t.className,i=Zje(t,Jje),s=Oe("recharts-layer",r);return he.createElement("g",NT({className:s},tn(i,!0),{ref:e}),n)}),cc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},yP,_z;function t2e(){if(_z)return yP;_z=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return yP=t,yP}var vP,wz;function n2e(){if(wz)return vP;wz=1;var t=t2e();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return vP=e,vP}var bP,jz;function cK(){if(jz)return bP;jz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+t+i+s+"]");function c(d){return l.test(d)}return bP=c,bP}var _P,Sz;function r2e(){if(Sz)return _P;Sz=1;function t(e){return e.split("")}return _P=t,_P}var wP,Cz;function i2e(){if(Cz)return wP;Cz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",x=d+"?",v="["+s+"]?",b="(?:"+y+"(?:"+[f,p,m].join("|")+")"+v+x+")*",I=v+x+b,A="(?:"+[f+l+"?",l,p,m,a].join("|")+")",S=RegExp(c+"(?="+c+")|"+A+I,"g");function k(P){return P.match(S)||[]}return wP=k,wP}var jP,Pz;function o2e(){if(Pz)return jP;Pz=1;var t=r2e(),e=cK(),n=i2e();function r(i){return e(i)?n(i):t(i)}return jP=r,jP}var SP,Az;function s2e(){if(Az)return SP;Az=1;var t=n2e(),e=cK(),n=o2e(),r=oK();function i(s){return function(a){a=r(a);var l=e(a)?n(a):void 0,c=l?l[0]:a.charAt(0),d=l?t(l,1).join(""):a.slice(1);return c[s]()+d}}return SP=i,SP}var CP,Ez;function a2e(){if(Ez)return CP;Ez=1;var t=s2e(),e=t("toUpperCase");return CP=e,CP}var l2e=a2e();const cj=or(l2e);function kr(t){return function(){return t}}const uK=Math.cos,Q1=Math.sin,Wa=Math.sqrt,J1=Math.PI,uj=2*J1,$T=Math.PI,LT=2*$T,_d=1e-6,c2e=LT-_d;function dK(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function u2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dK;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class d2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dK:u2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,p=l-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>_d)if(!(Math.abs(p*c-d*f)>_d)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-l,v=c*c+d*d,b=y*y+x*x,I=Math.sqrt(v),A=Math.sqrt(m),S=s*Math.tan(($T-Math.acos((v+m-b)/(2*I*A)))/2),k=S/A,P=S/I;Math.abs(k-1)>_d&&this._append`L${e+k*f},${n+k*p}`,this._append`A${s},${s},0,0,${+(p*y>f*x)},${this._x1=e+P*c},${this._y1=n+P*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,p=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>_d||Math.abs(this._y1-f)>_d)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%LT+LT),m>c2e?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:m>_d&&this._append`A${r},${r},0,${+(m>=$T)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new d2e(e)}function xO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hK(t){this._context=t}hK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dj(t){return new hK(t)}function fK(t){return t[0]}function pK(t){return t[1]}function mK(t,e){var n=kr(!0),r=null,i=dj,s=null,a=gO(l);t=typeof t=="function"?t:t===void 0?fK:kr(t),e=typeof e=="function"?e:e===void 0?pK:kr(e);function l(c){var d,f=(c=xO(c)).length,p,m=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(p=c[d],d,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,d,c),+e(p,d,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:kr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:kr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:kr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function ab(t,e,n){var r=null,i=kr(!0),s=null,a=dj,l=null,c=gO(d);t=typeof t=="function"?t:t===void 0?fK:kr(+t),e=typeof e=="function"?e:kr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pK:kr(+n);function d(p){var m,y,x,v=(p=xO(p)).length,b,I=!1,A,S=new Array(v),k=new Array(v);for(s==null&&(l=a(A=c())),m=0;m<=v;++m){if(!(m<v&&i(b=p[m],m,p))===I)if(I=!I)y=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=y;--x)l.point(S[x],k[x]);l.lineEnd(),l.areaEnd()}I&&(S[m]=+t(b,m,p),k[m]=+e(b,m,p),l.point(r?+r(b,m,p):S[m],n?+n(b,m,p):k[m]))}if(A)return l=null,A+""||null}function f(){return mK().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:kr(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:kr(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:kr(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:kr(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:kr(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:kr(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:kr(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),d):s},d}class gK{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function h2e(t){return new gK(t,!0)}function f2e(t){return new gK(t,!1)}const yO={draw(t,e){const n=Wa(e/J1);t.moveTo(n,0),t.arc(0,0,n,0,uj)}},p2e={draw(t,e){const n=Wa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xK=Wa(1/3),m2e=xK*2,g2e={draw(t,e){const n=Wa(e/m2e),r=n*xK;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},x2e={draw(t,e){const n=Wa(e),r=-n/2;t.rect(r,r,n,n)}},y2e=.8908130915292852,yK=Q1(J1/10)/Q1(7*J1/10),v2e=Q1(uj/10)*yK,b2e=-uK(uj/10)*yK,_2e={draw(t,e){const n=Wa(e*y2e),r=v2e*n,i=b2e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=uj*s/5,l=uK(a),c=Q1(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},PP=Wa(3),w2e={draw(t,e){const n=-Wa(e/(PP*3));t.moveTo(0,n*2),t.lineTo(-PP*n,-n),t.lineTo(PP*n,-n),t.closePath()}},Us=-.5,qs=Wa(3)/2,zT=1/Wa(12),j2e=(zT/2+1)*3,S2e={draw(t,e){const n=Wa(e/j2e),r=n/2,i=n*zT,s=r,a=n*zT+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(Us*r-qs*i,qs*r+Us*i),t.lineTo(Us*s-qs*a,qs*s+Us*a),t.lineTo(Us*l-qs*c,qs*l+Us*c),t.lineTo(Us*r+qs*i,Us*i-qs*r),t.lineTo(Us*s+qs*a,Us*a-qs*s),t.lineTo(Us*l+qs*c,Us*c-qs*l),t.closePath()}};function C2e(t,e){let n=null,r=gO(i);t=typeof t=="function"?t:kr(t||yO),e=typeof e=="function"?e:kr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:kr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:kr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Z1(){}function e_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vK(t){this._context=t}vK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:e_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function P2e(t){return new vK(t)}function bK(t){this._context=t}bK.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A2e(t){return new bK(t)}function _K(t){this._context=t}_K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E2e(t){return new _K(t)}function wK(t){this._context=t}wK.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function I2e(t){return new wK(t)}function Iz(t){return t<0?-1:1}function Tz(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(Iz(s)+Iz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function kz(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function AP(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function t_(t){this._context=t}t_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AP(this,this._t0,kz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,AP(this,kz(this,n=Tz(this,t,e)),n);break;default:AP(this,this._t0,n=Tz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jK(t){this._context=new SK(t)}(jK.prototype=Object.create(t_.prototype)).point=function(t,e){t_.prototype.point.call(this,e,t)};function SK(t){this._context=t}SK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function T2e(t){return new t_(t)}function k2e(t){return new jK(t)}function CK(t){this._context=t}CK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Rz(t),i=Rz(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Rz(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function R2e(t){return new CK(t)}function hj(t,e){this._context=t,this._t=e}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function O2e(t){return new hj(t,.5)}function D2e(t){return new hj(t,0)}function M2e(t){return new hj(t,1)}function Rp(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function FT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function N2e(t,e){return t[e]}function $2e(t){const e=[];return e.key=t,e}function L2e(){var t=kr([]),e=FT,n=Rp,r=N2e;function i(s){var a=Array.from(t.apply(this,arguments),$2e),l,c=a.length,d=-1,f;for(const p of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(p,a[l].key,d,s)]).data=p;for(l=0,f=xO(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:kr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:kr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?FT:typeof s=="function"?s:kr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Rp,i):n},i}function z2e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Rp(t,e)}}function F2e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Rp(t,e)}}function W2e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],p=f[r][1]||0,m=f[r-1][1]||0,y=(p-m)/2,x=0;x<l;++x){var v=t[e[x]],b=v[r][1]||0,I=v[r-1][1]||0;y+=b-I}c+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Rp(t,e)}}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}var V2e=["type","size","sizeType"];function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(this,arguments)}function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){B2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B2e(t,e,n){return e=U2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U2e(t){var e=q2e(t,"string");return ny(e)=="symbol"?e:e+""}function q2e(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H2e(t,e){if(t==null)return{};var n=G2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PK={symbolCircle:yO,symbolCross:p2e,symbolDiamond:g2e,symbolSquare:x2e,symbolStar:_2e,symbolTriangle:w2e,symbolWye:S2e},K2e=Math.PI/180,Y2e=function(e){var n="symbol".concat(cj(e));return PK[n]||yO},X2e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*K2e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Q2e=function(e,n){PK["symbol".concat(cj(e))]=n},vO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=H2e(e,V2e),d=Dz(Dz({},c),{},{type:r,size:s,sizeType:l}),f=function(){var b=Y2e(r),I=C2e().type(b).size(X2e(s,l,r));return I()},p=d.className,m=d.cx,y=d.cy,x=tn(d,!0);return m===+m&&y===+y&&s===+s?he.createElement("path",WT({},x,{className:Oe("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(y,")"),d:f()})):null};vO.registerSymbol=Q2e;function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(this,arguments)}function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EK(r.key),r)}}function tSe(t,e,n){return e&&eSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nSe(t,e,n){return e=n_(e),rSe(t,AK()?Reflect.construct(e,n||[],n_(t).constructor):e.apply(t,n))}function rSe(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(t)}function iSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!t})()}function n_(t){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n_(t)}function oSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BT(t,e)}function ry(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=sSe(t,"string");return Op(e)=="symbol"?e:e+""}function sSe(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hs=32,bO=function(t){function e(){return Z2e(this,e),nSe(this,e,arguments)}return oSe(e,t),tSe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Hs/2,a=Hs/6,l=Hs/3,c=r.inactive?i:r.color;if(r.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Hs,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Hs,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return he.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hs/8,"h").concat(Hs,"v").concat(Hs*3/4,"h").concat(-Hs,"z"),className:"recharts-legend-icon"});if(he.isValidElement(r.legendIcon)){var d=J2e({},r);return delete d.legendIcon,he.cloneElement(r.legendIcon,d)}return he.createElement(vO,{fill:c,cx:s,cy:s,size:Hs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Hs,height:Hs},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,x){var v=y.formatter||c,b=Oe(ry(ry({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var I=wn(y.value)?null:y.value;cc(!wn(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?d:y.color;return he.createElement("li",VT({className:b,style:p,key:"legend-item-".concat(x)},dh(r.props,y,x)),he.createElement(MT,{width:a,height:a,viewBox:f,style:m},r.renderIcon(y)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},v?v(I,y,x):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);ry(bO,"displayName","Legend");ry(bO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var EP,Nz;function aSe(){if(Nz)return EP;Nz=1;var t=sj();function e(){this.__data__=new t,this.size=0}return EP=e,EP}var IP,$z;function lSe(){if($z)return IP;$z=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return IP=t,IP}var TP,Lz;function cSe(){if(Lz)return TP;Lz=1;function t(e){return this.__data__.get(e)}return TP=t,TP}var kP,zz;function uSe(){if(zz)return kP;zz=1;function t(e){return this.__data__.has(e)}return kP=t,kP}var RP,Fz;function dSe(){if(Fz)return RP;Fz=1;var t=sj(),e=uO(),n=dO(),r=200;function i(s,a){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([s,a]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,a),this.size=l.size,this}return RP=i,RP}var OP,Wz;function IK(){if(Wz)return OP;Wz=1;var t=sj(),e=aSe(),n=lSe(),r=cSe(),i=uSe(),s=dSe();function a(l){var c=this.__data__=new t(l);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,OP=a,OP}var DP,Vz;function hSe(){if(Vz)return DP;Vz=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return DP=e,DP}var MP,Bz;function fSe(){if(Bz)return MP;Bz=1;function t(e){return this.__data__.has(e)}return MP=t,MP}var NP,Uz;function TK(){if(Uz)return NP;Uz=1;var t=dO(),e=hSe(),n=fSe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,NP=r,NP}var $P,qz;function kK(){if(qz)return $P;qz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return $P=t,$P}var LP,Hz;function RK(){if(Hz)return LP;Hz=1;function t(e,n){return e.has(n)}return LP=t,LP}var zP,Gz;function OK(){if(Gz)return zP;Gz=1;var t=TK(),e=kK(),n=RK(),r=1,i=2;function s(a,l,c,d,f,p){var m=c&r,y=a.length,x=l.length;if(y!=x&&!(m&&x>y))return!1;var v=p.get(a),b=p.get(l);if(v&&b)return v==l&&b==a;var I=-1,A=!0,S=c&i?new t:void 0;for(p.set(a,l),p.set(l,a);++I<y;){var k=a[I],P=l[I];if(d)var R=m?d(P,k,I,l,a,p):d(k,P,I,a,l,p);if(R!==void 0){if(R)continue;A=!1;break}if(S){if(!e(l,function(E,O){if(!n(S,O)&&(k===E||f(k,E,c,d,p)))return S.push(O)})){A=!1;break}}else if(!(k===P||f(k,P,c,d,p))){A=!1;break}}return p.delete(a),p.delete(l),A}return zP=s,zP}var FP,Kz;function pSe(){if(Kz)return FP;Kz=1;var t=Al(),e=t.Uint8Array;return FP=e,FP}var WP,Yz;function mSe(){if(Yz)return WP;Yz=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return WP=t,WP}var VP,Xz;function _O(){if(Xz)return VP;Xz=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return VP=t,VP}var BP,Qz;function gSe(){if(Qz)return BP;Qz=1;var t=_v(),e=pSe(),n=cO(),r=OK(),i=mSe(),s=_O(),a=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",I="[object ArrayBuffer]",A="[object DataView]",S=t?t.prototype:void 0,k=S?S.valueOf:void 0;function P(R,E,O,D,L,$,B){switch(O){case A:if(R.byteLength!=E.byteLength||R.byteOffset!=E.byteOffset)return!1;R=R.buffer,E=E.buffer;case I:return!(R.byteLength!=E.byteLength||!$(new e(R),new e(E)));case c:case d:case m:return n(+R,+E);case f:return R.name==E.name&&R.message==E.message;case y:case v:return R==E+"";case p:var N=i;case x:var q=D&a;if(N||(N=s),R.size!=E.size&&!q)return!1;var Y=B.get(R);if(Y)return Y==E;D|=l,B.set(R,E);var ne=r(N(R),N(E),D,L,$,B);return B.delete(R),ne;case b:if(k)return k.call(R)==k.call(E)}return!1}return BP=P,BP}var UP,Jz;function DK(){if(Jz)return UP;Jz=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return UP=t,UP}var qP,Zz;function xSe(){if(Zz)return qP;Zz=1;var t=DK(),e=ss();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return qP=n,qP}var HP,eF;function ySe(){if(eF)return HP;eF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[s++]=l)}return a}return HP=t,HP}var GP,tF;function vSe(){if(tF)return GP;tF=1;function t(){return[]}return GP=t,GP}var KP,nF;function bSe(){if(nF)return KP;nF=1;var t=ySe(),e=vSe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(l){return r.call(a,l)}))}:e;return KP=s,KP}var YP,rF;function _Se(){if(rF)return YP;rF=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return YP=t,YP}var XP,iF;function wSe(){if(iF)return XP;iF=1;var t=Ec(),e=Ic(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return XP=r,XP}var QP,oF;function wO(){if(oF)return QP;oF=1;var t=wSe(),e=Ic(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return QP=s,QP}var Jg={exports:{}},JP,sF;function jSe(){if(sF)return JP;sF=1;function t(){return!1}return JP=t,JP}Jg.exports;var aF;function MK(){return aF||(aF=1,function(t,e){var n=Al(),r=jSe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d}(Jg,Jg.exports)),Jg.exports}var ZP,lF;function jO(){if(lF)return ZP;lF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ZP=n,ZP}var eA,cF;function SO(){if(cF)return eA;cF=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return eA=e,eA}var tA,uF;function SSe(){if(uF)return tA;uF=1;var t=Ec(),e=SO(),n=Ic(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",x="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",I="[object DataView]",A="[object Float32Array]",S="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",L="[object Uint32Array]",$={};$[A]=$[S]=$[k]=$[P]=$[R]=$[E]=$[O]=$[D]=$[L]=!0,$[r]=$[i]=$[b]=$[s]=$[I]=$[a]=$[l]=$[c]=$[d]=$[f]=$[p]=$[m]=$[y]=$[x]=$[v]=!1;function B(N){return n(N)&&e(N.length)&&!!$[t(N)]}return tA=B,tA}var nA,dF;function NK(){if(dF)return nA;dF=1;function t(e){return function(n){return e(n)}}return nA=t,nA}var Zg={exports:{}};Zg.exports;var hF;function CSe(){return hF||(hF=1,function(t,e){var n=nK(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l}(Zg,Zg.exports)),Zg.exports}var rA,fF;function $K(){if(fF)return rA;fF=1;var t=SSe(),e=NK(),n=CSe(),r=n&&n.isTypedArray,i=r?e(r):t;return rA=i,rA}var iA,pF;function PSe(){if(pF)return iA;pF=1;var t=_Se(),e=wO(),n=ss(),r=MK(),i=jO(),s=$K(),a=Object.prototype,l=a.hasOwnProperty;function c(d,f){var p=n(d),m=!p&&e(d),y=!p&&!m&&r(d),x=!p&&!m&&!y&&s(d),v=p||m||y||x,b=v?t(d.length,String):[],I=b.length;for(var A in d)(f||l.call(d,A))&&!(v&&(A=="length"||y&&(A=="offset"||A=="parent")||x&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,I)))&&b.push(A);return b}return iA=c,iA}var oA,mF;function ASe(){if(mF)return oA;mF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return oA=e,oA}var sA,gF;function LK(){if(gF)return sA;gF=1;function t(e,n){return function(r){return e(n(r))}}return sA=t,sA}var aA,xF;function ESe(){if(xF)return aA;xF=1;var t=LK(),e=t(Object.keys,Object);return aA=e,aA}var lA,yF;function ISe(){if(yF)return lA;yF=1;var t=ASe(),e=ESe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&a.push(l);return a}return lA=i,lA}var cA,vF;function wv(){if(vF)return cA;vF=1;var t=lO(),e=SO();function n(r){return r!=null&&e(r.length)&&!t(r)}return cA=n,cA}var uA,bF;function fj(){if(bF)return uA;bF=1;var t=PSe(),e=ISe(),n=wv();function r(i){return n(i)?t(i):e(i)}return uA=r,uA}var dA,_F;function TSe(){if(_F)return dA;_F=1;var t=xSe(),e=bSe(),n=fj();function r(i){return t(i,n,e)}return dA=r,dA}var hA,wF;function kSe(){if(wF)return hA;wF=1;var t=TSe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,l,c,d,f){var p=l&e,m=t(s),y=m.length,x=t(a),v=x.length;if(y!=v&&!p)return!1;for(var b=y;b--;){var I=m[b];if(!(p?I in a:r.call(a,I)))return!1}var A=f.get(s),S=f.get(a);if(A&&S)return A==a&&S==s;var k=!0;f.set(s,a),f.set(a,s);for(var P=p;++b<y;){I=m[b];var R=s[I],E=a[I];if(c)var O=p?c(E,R,I,a,s,f):c(R,E,I,s,a,f);if(!(O===void 0?R===E||d(R,E,l,c,f):O)){k=!1;break}P||(P=I=="constructor")}if(k&&!P){var D=s.constructor,L=a.constructor;D!=L&&"constructor"in s&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof L=="function"&&L instanceof L)&&(k=!1)}return f.delete(s),f.delete(a),k}return hA=i,hA}var fA,jF;function RSe(){if(jF)return fA;jF=1;var t=bh(),e=Al(),n=t(e,"DataView");return fA=n,fA}var pA,SF;function OSe(){if(SF)return pA;SF=1;var t=bh(),e=Al(),n=t(e,"Promise");return pA=n,pA}var mA,CF;function zK(){if(CF)return mA;CF=1;var t=bh(),e=Al(),n=t(e,"Set");return mA=n,mA}var gA,PF;function DSe(){if(PF)return gA;PF=1;var t=bh(),e=Al(),n=t(e,"WeakMap");return gA=n,gA}var xA,AF;function MSe(){if(AF)return xA;AF=1;var t=RSe(),e=uO(),n=OSe(),r=zK(),i=DSe(),s=Ec(),a=rK(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",y=a(t),x=a(e),v=a(n),b=a(r),I=a(i),A=s;return(t&&A(new t(new ArrayBuffer(1)))!=m||e&&A(new e)!=l||n&&A(n.resolve())!=d||r&&A(new r)!=f||i&&A(new i)!=p)&&(A=function(S){var k=s(S),P=k==c?S.constructor:void 0,R=P?a(P):"";if(R)switch(R){case y:return m;case x:return l;case v:return d;case b:return f;case I:return p}return k}),xA=A,xA}var yA,EF;function NSe(){if(EF)return yA;EF=1;var t=IK(),e=OK(),n=gSe(),r=kSe(),i=MSe(),s=ss(),a=MK(),l=$K(),c=1,d="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function x(v,b,I,A,S,k){var P=s(v),R=s(b),E=P?f:i(v),O=R?f:i(b);E=E==d?p:E,O=O==d?p:O;var D=E==p,L=O==p,$=E==O;if($&&a(v)){if(!a(b))return!1;P=!0,D=!1}if($&&!D)return k||(k=new t),P||l(v)?e(v,b,I,A,S,k):n(v,b,E,I,A,S,k);if(!(I&c)){var B=D&&y.call(v,"__wrapped__"),N=L&&y.call(b,"__wrapped__");if(B||N){var q=B?v.value():v,Y=N?b.value():b;return k||(k=new t),S(q,Y,I,A,k)}}return $?(k||(k=new t),r(v,b,I,A,S,k)):!1}return yA=x,yA}var vA,IF;function CO(){if(IF)return vA;IF=1;var t=NSe(),e=Ic();function n(r,i,s,a,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,l)}return vA=n,vA}var bA,TF;function $Se(){if(TF)return bA;TF=1;var t=IK(),e=CO(),n=1,r=2;function i(s,a,l,c){var d=l.length,f=d,p=!c;if(s==null)return!f;for(s=Object(s);d--;){var m=l[d];if(p&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++d<f;){m=l[d];var y=m[0],x=s[y],v=m[1];if(p&&m[2]){if(x===void 0&&!(y in s))return!1}else{var b=new t;if(c)var I=c(x,v,y,s,a,b);if(!(I===void 0?e(v,x,n|r,c,b):I))return!1}}return!0}return bA=i,bA}var _A,kF;function FK(){if(kF)return _A;kF=1;var t=Fu();function e(n){return n===n&&!t(n)}return _A=e,_A}var wA,RF;function LSe(){if(RF)return wA;RF=1;var t=FK(),e=fj();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],l=r[a];i[s]=[a,l,t(l)]}return i}return wA=n,wA}var jA,OF;function WK(){if(OF)return jA;OF=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return jA=t,jA}var SA,DF;function zSe(){if(DF)return SA;DF=1;var t=$Se(),e=LSe(),n=WK();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return SA=r,SA}var CA,MF;function FSe(){if(MF)return CA;MF=1;function t(e,n){return e!=null&&n in Object(e)}return CA=t,CA}var PA,NF;function WSe(){if(NF)return PA;NF=1;var t=sK(),e=wO(),n=ss(),r=jO(),i=SO(),s=lj();function a(l,c,d){c=t(c,l);for(var f=-1,p=c.length,m=!1;++f<p;){var y=s(c[f]);if(!(m=l!=null&&d(l,y)))break;l=l[y]}return m||++f!=p?m:(p=l==null?0:l.length,!!p&&i(p)&&r(y,p)&&(n(l)||e(l)))}return PA=a,PA}var AA,$F;function VSe(){if($F)return AA;$F=1;var t=FSe(),e=WSe();function n(r,i){return r!=null&&e(r,i,t)}return AA=n,AA}var EA,LF;function BSe(){if(LF)return EA;LF=1;var t=CO(),e=aK(),n=VSe(),r=aO(),i=FK(),s=WK(),a=lj(),l=1,c=2;function d(f,p){return r(f)&&i(p)?s(a(f),p):function(m){var y=e(m,f);return y===void 0&&y===p?n(m,f):t(p,y,l|c)}}return EA=d,EA}var IA,zF;function Am(){if(zF)return IA;zF=1;function t(e){return e}return IA=t,IA}var TA,FF;function USe(){if(FF)return TA;FF=1;function t(e){return function(n){return n==null?void 0:n[e]}}return TA=t,TA}var kA,WF;function qSe(){if(WF)return kA;WF=1;var t=fO();function e(n){return function(r){return t(r,n)}}return kA=e,kA}var RA,VF;function HSe(){if(VF)return RA;VF=1;var t=USe(),e=qSe(),n=aO(),r=lj();function i(s){return n(s)?t(r(s)):e(s)}return RA=i,RA}var OA,BF;function El(){if(BF)return OA;BF=1;var t=zSe(),e=BSe(),n=Am(),r=ss(),i=HSe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return OA=s,OA}var DA,UF;function VK(){if(UF)return DA;UF=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return DA=t,DA}var MA,qF;function GSe(){if(qF)return MA;qF=1;function t(e){return e!==e}return MA=t,MA}var NA,HF;function KSe(){if(HF)return NA;HF=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return NA=t,NA}var $A,GF;function YSe(){if(GF)return $A;GF=1;var t=VK(),e=GSe(),n=KSe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return $A=r,$A}var LA,KF;function XSe(){if(KF)return LA;KF=1;var t=YSe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return LA=e,LA}var zA,YF;function QSe(){if(YF)return zA;YF=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return zA=t,zA}var FA,XF;function JSe(){if(XF)return FA;XF=1;function t(){}return FA=t,FA}var WA,QF;function ZSe(){if(QF)return WA;QF=1;var t=zK(),e=JSe(),n=_O(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return WA=i,WA}var VA,JF;function eCe(){if(JF)return VA;JF=1;var t=TK(),e=XSe(),n=QSe(),r=RK(),i=ZSe(),s=_O(),a=200;function l(c,d,f){var p=-1,m=e,y=c.length,x=!0,v=[],b=v;if(f)x=!1,m=n;else if(y>=a){var I=d?null:i(c);if(I)return s(I);x=!1,m=r,b=new t}else b=d?[]:v;e:for(;++p<y;){var A=c[p],S=d?d(A):A;if(A=f||A!==0?A:0,x&&S===S){for(var k=b.length;k--;)if(b[k]===S)continue e;d&&b.push(S),v.push(A)}else m(b,S,f)||(b!==v&&b.push(S),v.push(A))}return v}return VA=l,VA}var BA,ZF;function tCe(){if(ZF)return BA;ZF=1;var t=El(),e=eCe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return BA=n,BA}var nCe=tCe();const e8=or(nCe);function BK(t,e,n){return e===!0?e8(t,n):wn(e)?e8(t,e):t}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var rCe=["ref"];function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qK(r.key),r)}}function oCe(t,e,n){return e&&n8(t.prototype,e),n&&n8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sCe(t,e,n){return e=r_(e),aCe(t,UK()?Reflect.construct(e,n||[],r_(t).constructor):e.apply(t,n))}function aCe(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lCe(t)}function lCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!t})()}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(t)}function cCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UT(t,e)}function UT(t,e){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UT(t,e)}function pj(t,e,n){return e=qK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=uCe(t,"string");return Dp(e)=="symbol"?e:e+""}function uCe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dCe(t,e){if(t==null)return{};var n=hCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fCe(t){return t.value}function pCe(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var n=dCe(e,rCe);return he.createElement(bO,n)}var r8=1,ep=function(t){function e(){var n;iCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=sCe(this,e,[].concat(i)),pj(n,"lastBoundingBox",{width:-1,height:-1}),n}return cCe(e,t),oCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>r8||Math.abs(i.height-this.lastBoundingBox.height)>r8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ql({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,p,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();p={left:((d||0)-y.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((f||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ql(ql({},p),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,p=ql(ql({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return he.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){r.wrapperNode=y}},pCe(s,ql(ql({},this.props),{},{payload:BK(f,d,fCe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ql(ql({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&xt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);pj(ep,"displayName","Legend");pj(ep,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UA,i8;function mCe(){if(i8)return UA;i8=1;var t=_v(),e=wO(),n=ss(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return UA=i,UA}var qA,o8;function HK(){if(o8)return qA;o8=1;var t=DK(),e=mCe();function n(r,i,s,a,l){var c=-1,d=r.length;for(s||(s=e),l||(l=[]);++c<d;){var f=r[c];i>0&&s(f)?i>1?n(f,i-1,s,a,l):t(l,f):a||(l[l.length]=f)}return l}return qA=n,qA}var HA,s8;function gCe(){if(s8)return HA;s8=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++s];if(r(a[d],d,a)===!1)break}return n}}return HA=t,HA}var GA,a8;function xCe(){if(a8)return GA;a8=1;var t=gCe(),e=t();return GA=e,GA}var KA,l8;function GK(){if(l8)return KA;l8=1;var t=xCe(),e=fj();function n(r,i){return r&&t(r,i,e)}return KA=n,KA}var YA,c8;function yCe(){if(c8)return YA;c8=1;var t=wv();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,l=r?a:-1,c=Object(i);(r?l--:++l<a)&&s(c[l],l,c)!==!1;);return i}}return YA=e,YA}var XA,u8;function PO(){if(u8)return XA;u8=1;var t=GK(),e=yCe(),n=e(t);return XA=n,XA}var QA,d8;function KK(){if(d8)return QA;d8=1;var t=PO(),e=wv();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(l,c,d){a[++s]=i(l,c,d)}),a}return QA=n,QA}var JA,h8;function vCe(){if(h8)return JA;h8=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return JA=t,JA}var ZA,f8;function bCe(){if(f8)return ZA;f8=1;var t=jm();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,l=t(n),c=r!==void 0,d=r===null,f=r===r,p=t(r);if(!d&&!p&&!l&&n>r||l&&c&&f&&!d&&!p||s&&c&&f||!i&&f||!a)return 1;if(!s&&!l&&!p&&n<r||p&&i&&a&&!s&&!l||d&&i&&a||!c&&a||!f)return-1}return 0}return ZA=e,ZA}var eE,p8;function _Ce(){if(p8)return eE;p8=1;var t=bCe();function e(n,r,i){for(var s=-1,a=n.criteria,l=r.criteria,c=a.length,d=i.length;++s<c;){var f=t(a[s],l[s]);if(f){if(s>=d)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return n.index-r.index}return eE=e,eE}var tE,m8;function wCe(){if(m8)return tE;m8=1;var t=hO(),e=fO(),n=El(),r=KK(),i=vCe(),s=NK(),a=_Ce(),l=Am(),c=ss();function d(f,p,m){p.length?p=t(p,function(v){return c(v)?function(b){return e(b,v.length===1?v[0]:v)}:v}):p=[l];var y=-1;p=t(p,s(n));var x=r(f,function(v,b,I){var A=t(p,function(S){return S(v)});return{criteria:A,index:++y,value:v}});return i(x,function(v,b){return a(v,b,m)})}return tE=d,tE}var nE,g8;function jCe(){if(g8)return nE;g8=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return nE=t,nE}var rE,x8;function SCe(){if(x8)return rE;x8=1;var t=jCe(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,l=-1,c=e(a.length-i,0),d=Array(c);++l<c;)d[l]=a[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=a[l];return f[i]=s(d),t(r,this,f)}}return rE=n,rE}var iE,y8;function CCe(){if(y8)return iE;y8=1;function t(e){return function(){return e}}return iE=t,iE}var oE,v8;function YK(){if(v8)return oE;v8=1;var t=bh(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return oE=e,oE}var sE,b8;function PCe(){if(b8)return sE;b8=1;var t=CCe(),e=YK(),n=Am(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return sE=r,sE}var aE,_8;function ACe(){if(_8)return aE;_8=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var l=n(),c=e-(l-a);if(a=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return aE=r,aE}var lE,w8;function ECe(){if(w8)return lE;w8=1;var t=PCe(),e=ACe(),n=e(t);return lE=n,lE}var cE,j8;function ICe(){if(j8)return cE;j8=1;var t=Am(),e=SCe(),n=ECe();function r(i,s){return n(e(i,s,t),i+"")}return cE=r,cE}var uE,S8;function mj(){if(S8)return uE;S8=1;var t=cO(),e=wv(),n=jO(),r=Fu();function i(s,a,l){if(!r(l))return!1;var c=typeof a;return(c=="number"?e(l)&&n(a,l.length):c=="string"&&a in l)?t(l[a],s):!1}return uE=i,uE}var dE,C8;function TCe(){if(C8)return dE;C8=1;var t=HK(),e=wCe(),n=ICe(),r=mj(),i=n(function(s,a){if(s==null)return[];var l=a.length;return l>1&&r(s,a[0],a[1])?a=[]:l>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return dE=i,dE}var kCe=TCe();const AO=or(kCe);function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function qT(){return qT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qT.apply(this,arguments)}function RCe(t,e){return NCe(t)||MCe(t,e)||DCe(t,e)||OCe()}function OCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DCe(t,e){if(t){if(typeof t=="string")return P8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P8(t,e)}}function P8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function NCe(t){if(Array.isArray(t))return t}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){$Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e,n){return e=LCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LCe(t){var e=zCe(t,"string");return iy(e)=="symbol"?e:e+""}function zCe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FCe(t){return Array.isArray(t)&&Ni(t[0])&&Ni(t[1])?t.join(" ~ "):t}var WCe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,p=e.formatter,m=e.itemSorter,y=e.wrapperClassName,x=e.labelClassName,v=e.label,b=e.labelFormatter,I=e.accessibilityLayer,A=I===void 0?!1:I,S=function(){if(f&&f.length){var B={padding:0,margin:0},N=(m?AO(f,m):f).map(function(q,Y){if(q.type==="none")return null;var ne=hE({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),Q=q.formatter||p||FCe,ee=q.value,Z=q.name,de=ee,K=Z;if(Q&&de!=null&&K!=null){var se=Q(ee,Z,q,Y,f);if(Array.isArray(se)){var le=RCe(se,2);de=le[0],K=le[1]}else de=se}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:ne},Ni(K)?he.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Ni(K)?he.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,he.createElement("span",{className:"recharts-tooltip-item-value"},de),he.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:B},N)}return null},k=hE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=hE({margin:0},d),R=!Rn(v),E=R?v:"",O=Oe("recharts-default-tooltip",y),D=Oe("recharts-tooltip-label",x);R&&b&&f!==void 0&&f!==null&&(E=b(v,f));var L=A?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",qT({className:O,style:k},L),he.createElement("p",{className:D,style:P},he.isValidElement(E)?E:"".concat(E)),S())};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function lb(t,e,n){return e=VCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VCe(t){var e=BCe(t,"string");return oy(e)=="symbol"?e:e+""}function BCe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rg="recharts-tooltip-wrapper",UCe={visibility:"hidden"};function qCe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Oe(Rg,lb(lb(lb(lb({},"".concat(Rg,"-right"),xt(n)&&e&&xt(e.x)&&n>=e.x),"".concat(Rg,"-left"),xt(n)&&e&&xt(e.x)&&n<e.x),"".concat(Rg,"-bottom"),xt(r)&&e&&xt(e.y)&&r>=e.y),"".concat(Rg,"-top"),xt(r)&&e&&xt(e.y)&&r<e.y))}function E8(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(s&&xt(s[r]))return s[r];var f=n[r]-l-i,p=n[r]+i;if(e[r])return a[r]?f:p;if(a[r]){var m=f,y=c[r];return m<y?Math.max(p,c[r]):Math.max(f,c[r])}var x=p+l,v=c[r]+d;return x>v?Math.max(f,c[r]):Math.max(p,c[r])}function HCe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function GCe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,p;return a.height>0&&a.width>0&&n?(f=E8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=E8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=HCe({translateX:f,translateY:p,useTranslate3d:l})):d=UCe,{cssProperties:d,cssClasses:qCe({translateX:f,translateY:p,coordinate:n})}}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function I8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(n),!0).forEach(function(r){GT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QK(r.key),r)}}function XCe(t,e,n){return e&&YCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QCe(t,e,n){return e=i_(e),JCe(t,XK()?Reflect.construct(e,n||[],i_(t).constructor):e.apply(t,n))}function JCe(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(t)}function ZCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XK=function(){return!!t})()}function i_(t){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i_(t)}function ePe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HT(t,e)}function HT(t,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HT(t,e)}function GT(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=tPe(t,"string");return Mp(e)=="symbol"?e:e+""}function tPe(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k8=1,nPe=function(t){function e(){var n;KCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=QCe(this,e,[].concat(i)),GT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),GT(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return ePe(e,t),XCe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>k8||Math.abs(r.height-this.state.lastBoundingBox.height)>k8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,y=i.offset,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,I=i.viewBox,A=i.wrapperStyle,S=GCe({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:y,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:I}),k=S.cssClasses,P=S.cssProperties,R=T8(T8({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return he.createElement("div",{tabIndex:-1,className:k,style:R,ref:function(O){r.wrapperNode=O}},d)}}])}(C.PureComponent),rPe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_h={isSsr:rPe()};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){EO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZK(r.key),r)}}function sPe(t,e,n){return e&&oPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aPe(t,e,n){return e=o_(e),lPe(t,JK()?Reflect.construct(e,n||[],o_(t).constructor):e.apply(t,n))}function lPe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cPe(t)}function cPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!t})()}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o_(t)}function uPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KT(t,e)}function EO(t,e,n){return e=ZK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZK(t){var e=dPe(t,"string");return Np(e)=="symbol"?e:e+""}function dPe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hPe(t){return t.dataKey}function fPe(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(WCe,e)}var Ta=function(t){function e(){return iPe(this,e),aPe(this,e,arguments)}return uPe(e,t),sPe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,p=i.filterNull,m=i.isAnimationActive,y=i.offset,x=i.payload,v=i.payloadUniqBy,b=i.position,I=i.reverseDirection,A=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,P=x??[];p&&P.length&&(P=BK(x.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),v,hPe));var R=P.length>0;return he.createElement(nPe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:R,offset:y,position:b,reverseDirection:I,useTranslate3d:A,viewBox:S,wrapperStyle:k},fPe(d,O8(O8({},this.props),{},{payload:P})))}}])}(C.PureComponent);EO(Ta,"displayName","Tooltip");EO(Ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_h.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fE,D8;function pPe(){if(D8)return fE;D8=1;var t=Al(),e=function(){return t.Date.now()};return fE=e,fE}var pE,M8;function mPe(){if(M8)return pE;M8=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return pE=e,pE}var mE,N8;function gPe(){if(N8)return mE;N8=1;var t=mPe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return mE=n,mE}var gE,$8;function eY(){if($8)return gE;$8=1;var t=gPe(),e=Fu(),n=jm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=s.test(d);return p||a.test(d)?l(d.slice(2),p?2:8):i.test(d)?r:+d}return gE=c,gE}var xE,L8;function xPe(){if(L8)return xE;L8=1;var t=Fu(),e=pPe(),n=eY(),r="Expected a function",i=Math.max,s=Math.min;function a(l,c,d){var f,p,m,y,x,v,b=0,I=!1,A=!1,S=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(I=!!d.leading,A="maxWait"in d,m=A?i(n(d.maxWait)||0,c):m,S="trailing"in d?!!d.trailing:S);function k(N){var q=f,Y=p;return f=p=void 0,b=N,y=l.apply(Y,q),y}function P(N){return b=N,x=setTimeout(O,c),I?k(N):y}function R(N){var q=N-v,Y=N-b,ne=c-q;return A?s(ne,m-Y):ne}function E(N){var q=N-v,Y=N-b;return v===void 0||q>=c||q<0||A&&Y>=m}function O(){var N=e();if(E(N))return D(N);x=setTimeout(O,R(N))}function D(N){return x=void 0,S&&f?k(N):(f=p=void 0,y)}function L(){x!==void 0&&clearTimeout(x),b=0,f=v=p=x=void 0}function $(){return x===void 0?y:D(e())}function B(){var N=e(),q=E(N);if(f=arguments,p=this,v=N,q){if(x===void 0)return P(v);if(A)return clearTimeout(x),x=setTimeout(O,c),k(v)}return x===void 0&&(x=setTimeout(O,c)),y}return B.cancel=L,B.flush=$,B}return xE=a,xE}var yE,z8;function yPe(){if(z8)return yE;z8=1;var t=xPe(),e=Fu(),n="Expected a function";function r(i,s,a){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(l="leading"in a?!!a.leading:l,c="trailing"in a?!!a.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return yE=r,yE}var vPe=yPe();const tY=or(vPe);function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function F8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(n),!0).forEach(function(r){bPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bPe(t,e,n){return e=_Pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Pe(t){var e=wPe(t,"string");return sy(e)=="symbol"?e:e+""}function wPe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jPe(t,e){return APe(t)||PPe(t,e)||CPe(t,e)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(t,e){if(t){if(typeof t=="string")return W8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W8(t,e)}}function W8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function APe(t){if(Array.isArray(t))return t}var YT=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,p=t.minHeight,m=t.maxHeight,y=t.children,x=t.debounce,v=x===void 0?0:x,b=t.id,I=t.className,A=t.onResize,S=t.style,k=S===void 0?{}:S,P=C.useRef(null),R=C.useRef();R.current=A,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=C.useState({containerWidth:i.width,containerHeight:i.height}),O=jPe(E,2),D=O[0],L=O[1],$=C.useCallback(function(N,q){L(function(Y){var ne=Math.round(N),Q=Math.round(q);return Y.containerWidth===ne&&Y.containerHeight===Q?Y:{containerWidth:ne,containerHeight:Q}})},[]);C.useEffect(function(){var N=function(Z){var de,K=Z[0].contentRect,se=K.width,le=K.height;$(se,le),(de=R.current)===null||de===void 0||de.call(R,se,le)};v>0&&(N=tY(N,v,{trailing:!0,leading:!1}));var q=new ResizeObserver(N),Y=P.current.getBoundingClientRect(),ne=Y.width,Q=Y.height;return $(ne,Q),q.observe(P.current),function(){q.disconnect()}},[$,v]);var B=C.useMemo(function(){var N=D.containerWidth,q=D.containerHeight;if(N<0||q<0)return null;cc(Md(a)||Md(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),cc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=Md(a)?N:a,ne=Md(c)?q:c;n&&n>0&&(Y?ne=Y/n:ne&&(Y=ne*n),m&&ne>m&&(ne=m)),cc(Y>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,ne,a,c,f,p,n);var Q=!Array.isArray(y)&&lc(y.type).endsWith("Chart");return he.Children.map(y,function(ee){return he.isValidElement(ee)?C.cloneElement(ee,cb({width:Y,height:ne},Q?{style:cb({height:"100%",width:"100%",maxHeight:ne,maxWidth:Y},ee.props.style)}:{})):ee})},[n,y,c,m,p,f,D,a]);return he.createElement("div",{id:b?"".concat(b):void 0,className:Oe("recharts-responsive-container",I),style:cb(cb({},k),{},{width:a,height:c,minWidth:f,minHeight:p,maxHeight:m}),ref:P},B)}),gj=function(e){return null};gj.displayName="Cell";function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){EPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EPe(t,e,n){return e=IPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IPe(t){var e=TPe(t,"string");return ay(e)=="symbol"?e:e+""}function TPe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf={widthCache:{},cacheCount:0},kPe=2e3,RPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},B8="recharts_measurement_span";function OPe(t){var e=XT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var bx=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_h.isSsr)return{width:0,height:0};var r=OPe(n),i=JSON.stringify({text:e,copyStyle:r});if(yf.widthCache[i])return yf.widthCache[i];try{var s=document.getElementById(B8);s||(s=document.createElement("span"),s.setAttribute("id",B8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=XT(XT({},RPe),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return yf.widthCache[i]=c,++yf.cacheCount>kPe&&(yf.cacheCount=0,yf.widthCache={}),c}catch{return{width:0,height:0}}},DPe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function s_(t,e){return LPe(t)||$Pe(t,e)||NPe(t,e)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(t,e){if(t){if(typeof t=="string")return U8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U8(t,e)}}function U8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Pe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function LPe(t){if(Array.isArray(t))return t}function zPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WPe(r.key),r)}}function FPe(t,e,n){return e&&q8(t.prototype,e),n&&q8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WPe(t){var e=VPe(t,"string");return ly(e)=="symbol"?e:e+""}function VPe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qPe=Object.keys(nY),Ff="NaN";function HPe(t,e){return t*nY[e]}var ub=function(){function t(e,n){zPe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!BPe.test(n)&&(this.num=NaN,this.unit=""),qPe.includes(n)&&(this.num=HPe(e,n),this.unit="px")}return FPe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=UPe.exec(n))!==null&&r!==void 0?r:[],s=s_(i,3),a=s[1],l=s[2];return new t(parseFloat(a),l??"")}}])}();function rY(t){if(t.includes(Ff))return Ff;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=H8.exec(e))!==null&&n!==void 0?n:[],i=s_(r,4),s=i[1],a=i[2],l=i[3],c=ub.parse(s??""),d=ub.parse(l??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Ff;e=e.replace(H8,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=G8.exec(e))!==null&&p!==void 0?p:[],y=s_(m,4),x=y[1],v=y[2],b=y[3],I=ub.parse(x??""),A=ub.parse(b??""),S=v==="+"?I.add(A):I.subtract(A);if(S.isNaN())return Ff;e=e.replace(G8,S.toString())}return e}var K8=/\(([^()]*)\)/;function GPe(t){for(var e=t;e.includes("(");){var n=K8.exec(e),r=s_(n,2),i=r[1];e=e.replace(K8,rY(i))}return e}function KPe(t){var e=t.replace(/\s+/g,"");return e=GPe(e),e=rY(e),e}function YPe(t){try{return KPe(t)}catch{return Ff}}function vE(t){var e=YPe(t.slice(5,-1));return e===Ff?"":e}var XPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QPe=["dx","dy","angle","className","breakAll"];function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QT.apply(this,arguments)}function Y8(t,e){if(t==null)return{};var n=JPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X8(t,e){return nAe(t)||tAe(t,e)||eAe(t,e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return Q8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q8(t,e)}}function Q8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function nAe(t){if(Array.isArray(t))return t}var iY=/[ \f\n\r\t\v\u2028\u2029]+/,oY=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Rn(n)||(r?s=n.toString().split(""):s=n.toString().split(iY));var a=s.map(function(c){return{word:c,width:bx(c,i).width}}),l=r?0:bx(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},rAe=function(e,n,r,i,s){var a=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=xt(a),p=l,m=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(ne,Q){var ee=Q.word,Z=Q.width,de=ne[ne.length-1];if(de&&(i==null||s||de.width+Z+r<Number(i)))de.words.push(ee),de.width+=Z+r;else{var K={words:[ee],width:Z};ne.push(K)}return ne},[])},y=m(n),x=function(Y){return Y.reduce(function(ne,Q){return ne.width>Q.width?ne:Q})};if(!f)return y;for(var v="…",b=function(Y){var ne=p.slice(0,Y),Q=oY({breakAll:d,style:c,children:ne+v}).wordsWithComputedWidth,ee=m(Q),Z=ee.length>a||x(ee).width>Number(i);return[Z,ee]},I=0,A=p.length-1,S=0,k;I<=A&&S<=p.length-1;){var P=Math.floor((I+A)/2),R=P-1,E=b(R),O=X8(E,2),D=O[0],L=O[1],$=b(P),B=X8($,1),N=B[0];if(!D&&!N&&(I=P+1),D&&N&&(A=P-1),!D&&N){k=L;break}S++}return k||y},J8=function(e){var n=Rn(e)?[]:e.toString().split(iY);return[{words:n}]},iAe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!_h.isSsr){var c,d,f=oY({breakAll:a,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,m=f.spaceWidth;c=p,d=m}else return J8(i);return rAe({breakAll:a,children:i,maxLines:l,style:s},c,d,n,r)}return J8(i)},Z8="#808080",hh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,p=f===void 0?!1:f,m=e.textAnchor,y=m===void 0?"start":m,x=e.verticalAnchor,v=x===void 0?"end":x,b=e.fill,I=b===void 0?Z8:b,A=Y8(e,XPe),S=C.useMemo(function(){return iAe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),k=A.dx,P=A.dy,R=A.angle,E=A.className,O=A.breakAll,D=Y8(A,QPe);if(!Ni(r)||!Ni(s))return null;var L=r+(xt(k)?k:0),$=s+(xt(P)?P:0),B;switch(v){case"start":B=vE("calc(".concat(d,")"));break;case"middle":B=vE("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:B=vE("calc(".concat(S.length-1," * -").concat(l,")"));break}var N=[];if(p){var q=S[0].width,Y=A.width;N.push("scale(".concat((xt(Y)?Y/q:1)/q,")"))}return R&&N.push("rotate(".concat(R,", ").concat(L,", ").concat($,")")),N.length&&(D.transform=N.join(" ")),he.createElement("text",QT({},tn(D,!0),{x:L,y:$,className:Oe("recharts-text",E),textAnchor:y,fill:I.includes("url")?Z8:I}),S.map(function(ne,Q){var ee=ne.words.join(O?"":" ");return he.createElement("tspan",{x:L,dy:Q===0?B:l,key:"".concat(ee,"-").concat(Q)},ee)}))};function Au(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oAe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IO(t){let e,n,r;t.length!==2?(e=Au,n=(l,c)=>Au(t(l),c),r=(l,c)=>t(l)-c):(e=t===Au||t===oAe?t:sAe,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;n(l[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function a(l,c,d=0,f=l.length){const p=i(l,c,d,f-1);return p>d&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:a,right:s}}function sAe(){return 0}function sY(t){return t===null?NaN:+t}function*aAe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lAe=IO(Au),jv=lAe.right;IO(sY).center;class eW extends Map{constructor(e,n=dAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tW(this,e))}has(e){return super.has(tW(this,e))}set(e,n){return super.set(cAe(this,e),n)}delete(e){return super.delete(uAe(this,e))}}function tW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cAe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uAe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dAe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hAe(t=Au){if(t===Au)return aY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fAe=Math.sqrt(50),pAe=Math.sqrt(10),mAe=Math.sqrt(2);function a_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=fAe?10:s>=pAe?5:s>=mAe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?a_(t,e,n*2):[l,c,d]}function JT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?a_(e,t,n):a_(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function ZT(t,e,n){return e=+e,t=+t,n=+n,a_(t,e,n)[2]}function ek(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ZT(e,t,n):ZT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nW(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rW(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lY(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aY:hAe(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*p/c+m)),x=Math.min(r,Math.floor(e+(c-d)*p/c+m));lY(t,e,y,x,i)}const s=t[e];let a=n,l=r;for(Og(t,n,e),i(t[r],s)>0&&Og(t,n,r);a<l;){for(Og(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Og(t,n,l):(++l,Og(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Og(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gAe(t,e,n){if(t=Float64Array.from(aAe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rW(t);if(e>=1)return nW(t);var r,i=(r-1)*e,s=Math.floor(i),a=nW(lY(t,s).subarray(0,s+1)),l=rW(t.subarray(s+1));return a+(l-a)*(i-s)}}function xAe(t,e,n=sY){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function yAe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Tc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tk=Symbol("implicit");function TO(){var t=new eW,e=[],n=[],r=tk;function i(s){let a=t.get(s);if(a===void 0){if(r!==tk)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new eW;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return TO(e,n).unknown(r)},da.apply(i,arguments),i}function cy(){var t=TO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var m=e().length,y=i<r,x=y?i:r,v=y?r:i;s=(v-x)/Math.max(1,m-c+d*2),l&&(s=Math.floor(s)),x+=(v-x-s*(m-c))*f,a=s*(1-c),l&&(x=Math.round(x),a=Math.round(a));var b=yAe(m).map(function(I){return x+s*I});return n(y?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,p()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),p()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,p()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},t.copy=function(){return cy(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},da.apply(p(),arguments)}function cY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cY(e())},t}function _x(){return cY(cy.apply(null,arguments).paddingInner(1))}function kO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uY(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sv(){}var uy=.7,l_=1/uy,tp="\\s*([+-]?\\d+)\\s*",dy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vAe=/^#([0-9a-f]{3,8})$/,bAe=new RegExp(`^rgb\\(${tp},${tp},${tp}\\)$`),_Ae=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),wAe=new RegExp(`^rgba\\(${tp},${tp},${tp},${dy}\\)$`),jAe=new RegExp(`^rgba\\(${gl},${gl},${gl},${dy}\\)$`),SAe=new RegExp(`^hsl\\(${dy},${gl},${gl}\\)$`),CAe=new RegExp(`^hsla\\(${dy},${gl},${gl},${dy}\\)$`),iW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kO(Sv,hy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oW,formatHex:oW,formatHex8:PAe,formatHsl:AAe,formatRgb:sW,toString:sW});function oW(){return this.rgb().formatHex()}function PAe(){return this.rgb().formatHex8()}function AAe(){return dY(this).formatHsl()}function sW(){return this.rgb().formatRgb()}function hy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vAe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aW(e):n===3?new es(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?db(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?db(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bAe.exec(t))?new es(e[1],e[2],e[3],1):(e=_Ae.exec(t))?new es(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wAe.exec(t))?db(e[1],e[2],e[3],e[4]):(e=jAe.exec(t))?db(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SAe.exec(t))?uW(e[1],e[2]/100,e[3]/100,1):(e=CAe.exec(t))?uW(e[1],e[2]/100,e[3]/100,e[4]):iW.hasOwnProperty(t)?aW(iW[t]):t==="transparent"?new es(NaN,NaN,NaN,0):null}function aW(t){return new es(t>>16&255,t>>8&255,t&255,1)}function db(t,e,n,r){return r<=0&&(t=e=n=NaN),new es(t,e,n,r)}function EAe(t){return t instanceof Sv||(t=hy(t)),t?(t=t.rgb(),new es(t.r,t.g,t.b,t.opacity)):new es}function nk(t,e,n,r){return arguments.length===1?EAe(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kO(es,nk,uY(Sv,{brighter(t){return t=t==null?l_:Math.pow(l_,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uy:Math.pow(uy,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new es(Hd(this.r),Hd(this.g),Hd(this.b),c_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lW,formatHex:lW,formatHex8:IAe,formatRgb:cW,toString:cW}));function lW(){return`#${Nd(this.r)}${Nd(this.g)}${Nd(this.b)}`}function IAe(){return`#${Nd(this.r)}${Nd(this.g)}${Nd(this.b)}${Nd((isNaN(this.opacity)?1:this.opacity)*255)}`}function cW(){const t=c_(this.opacity);return`${t===1?"rgb(":"rgba("}${Hd(this.r)}, ${Hd(this.g)}, ${Hd(this.b)}${t===1?")":`, ${t})`}`}function c_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nd(t){return t=Hd(t),(t<16?"0":"")+t.toString(16)}function uW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oa(t,e,n,r)}function dY(t){if(t instanceof Oa)return new Oa(t.h,t.s,t.l,t.opacity);if(t instanceof Sv||(t=hy(t)),!t)return new Oa;if(t instanceof Oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Oa(a,l,c,t.opacity)}function TAe(t,e,n,r){return arguments.length===1?dY(t):new Oa(t,e,n,r??1)}function Oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kO(Oa,TAe,uY(Sv,{brighter(t){return t=t==null?l_:Math.pow(l_,t),new Oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uy:Math.pow(uy,t),new Oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new es(bE(t>=240?t-240:t+120,i,r),bE(t,i,r),bE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oa(dW(this.h),hb(this.s),hb(this.l),c_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=c_(this.opacity);return`${t===1?"hsl(":"hsla("}${dW(this.h)}, ${hb(this.s)*100}%, ${hb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dW(t){return t=(t||0)%360,t<0?t+360:t}function hb(t){return Math.max(0,Math.min(1,t||0))}function bE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const RO=t=>()=>t;function kAe(t,e){return function(n){return t+n*e}}function RAe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OAe(t){return(t=+t)==1?hY:function(e,n){return n-e?RAe(e,n,t):RO(isNaN(e)?n:e)}}function hY(t,e){var n=e-t;return n?kAe(t,n):RO(isNaN(t)?e:t)}const hW=function t(e){var n=OAe(e);function r(i,s){var a=n((i=nk(i)).r,(s=nk(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=hY(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function DAe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function MAe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NAe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Em(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function $Ae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function u_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function LAe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Em(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var rk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_E=new RegExp(rk.source,"g");function zAe(t){return function(){return t}}function FAe(t){return function(e){return t(e)+""}}function WAe(t,e){var n=rk.lastIndex=_E.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=rk.exec(t))&&(i=_E.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:u_(r,i)})),n=_E.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?FAe(c[0].x):zAe(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(d);return l.join("")})}function Em(t,e){var n=typeof e,r;return e==null||n==="boolean"?RO(e):(n==="number"?u_:n==="string"?(r=hy(e))?(e=r,hW):WAe:e instanceof hy?hW:e instanceof Date?$Ae:MAe(e)?DAe:Array.isArray(e)?NAe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LAe:u_)(t,e)}function OO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function VAe(t,e){e===void 0&&(e=t,t=Em);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function BAe(t){return function(){return t}}function d_(t){return+t}var fW=[0,1];function $o(t){return t}function ik(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BAe(isNaN(e)?NaN:.5)}function UAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qAe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=ik(i,r),s=n(a,s)):(r=ik(r,i),s=n(s,a)),function(l){return s(r(l))}}function HAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ik(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=jv(t,l,1,r)-1;return s[c](i[c](l))}}function Cv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xj(){var t=fW,e=fW,n=Em,r,i,s,a=$o,l,c,d;function f(){var m=Math.min(t.length,e.length);return a!==$o&&(a=UAe(t[0],t[m-1])),l=m>2?HAe:qAe,c=d=null,p}function p(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(r),e,n)))(r(a(m)))}return p.invert=function(m){return a(i((d||(d=l(e,t.map(r),u_)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,d_),f()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=OO,f()},p.clamp=function(m){return arguments.length?(a=m?!0:$o,f()):a!==$o},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,y){return r=m,i=y,f()}}function DO(){return xj()($o,$o)}function GAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function h_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $p(t){return t=h_(Math.abs(t)),t?t[1]:NaN}function KAe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function YAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fy(t){if(!(e=XAe.exec(t)))throw new Error("invalid format: "+t);var e;return new MO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fy.prototype=MO.prototype;function MO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}MO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fY;function JAe(t,e){var n=h_(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(fY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+h_(t,Math.max(0,e+s-1))[0]}function pW(t,e){var n=h_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pW(t*100,e),r:pW,s:JAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gW(t){return t}var xW=Array.prototype.map,yW=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZAe(t){var e=t.grouping===void 0||t.thousands===void 0?gW:KAe(xW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?gW:YAe(xW.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=fy(p);var m=p.fill,y=p.align,x=p.sign,v=p.symbol,b=p.zero,I=p.width,A=p.comma,S=p.precision,k=p.trim,P=p.type;P==="n"?(A=!0,P="g"):mW[P]||(S===void 0&&(S=12),k=!0,P="g"),(b||m==="0"&&y==="=")&&(b=!0,m="0",y="=");var R=v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=v==="$"?r:/[%p]/.test(P)?a:"",O=mW[P],D=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L($){var B=R,N=E,q,Y,ne;if(P==="c")N=O($)+N,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?c:O(Math.abs($),S),k&&($=QAe($)),Q&&+$==0&&x!=="+"&&(Q=!1),B=(Q?x==="("?x:l:x==="-"||x==="("?"":x)+B,N=(P==="s"?yW[8+fY/3]:"")+N+(Q&&x==="("?")":""),D){for(q=-1,Y=$.length;++q<Y;)if(ne=$.charCodeAt(q),48>ne||ne>57){N=(ne===46?i+$.slice(q+1):$.slice(q))+N,$=$.slice(0,q);break}}}A&&!b&&($=e($,1/0));var ee=B.length+$.length+N.length,Z=ee<I?new Array(I-ee+1).join(m):"";switch(A&&b&&($=e(Z+$,Z.length?I-N.length:1/0),Z=""),y){case"<":$=B+$+N+Z;break;case"=":$=B+Z+$+N;break;case"^":$=Z.slice(0,ee=Z.length>>1)+B+$+N+Z.slice(ee);break;default:$=Z+B+$+N;break}return s($)}return L.toString=function(){return p+""},L}function f(p,m){var y=d((p=fy(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor($p(m)/3)))*3,v=Math.pow(10,-x),b=yW[8+x/3];return function(I){return y(v*I)+b}}return{format:d,formatPrefix:f}}var fb,NO,pY;eEe({thousands:",",grouping:[3],currency:["$",""]});function eEe(t){return fb=ZAe(t),NO=fb.format,pY=fb.formatPrefix,fb}function tEe(t){return Math.max(0,-$p(Math.abs(t)))}function nEe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($p(e)/3)))*3-$p(Math.abs(t)))}function rEe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$p(e)-$p(t))+1}function mY(t,e,n,r){var i=ek(t,e,n),s;switch(r=fy(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=nEe(i,a))&&(r.precision=s),pY(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=rEe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=tEe(i))&&(r.precision=s-(r.type==="%")*2);break}}return NO(r)}function Wu(t){var e=t.domain;return t.ticks=function(n){var r=e();return JT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return mY(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=ZT(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function f_(){var t=DO();return t.copy=function(){return Cv(t,f_())},da.apply(t,arguments),Wu(t)}function gY(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,d_),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return gY(t).unknown(e)},t=arguments.length?Array.from(t,d_):[0,1],Wu(n)}function xY(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function vW(t){return Math.log(t)}function bW(t){return Math.exp(t)}function iEe(t){return-Math.log(-t)}function oEe(t){return-Math.exp(-t)}function sEe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aEe(t){return t===10?sEe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lEe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _W(t){return(e,n)=>-t(-e,n)}function $O(t){const e=t(vW,bW),n=e.domain;let r=10,i,s;function a(){return i=lEe(r),s=aEe(r),n()[0]<0?(i=_W(i),s=_W(s),t(iEe,oEe)):t(vW,bW),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let m=i(d),y=i(f),x,v;const b=l==null?10:+l;let I=[];if(!(r%1)&&y-m<b){if(m=Math.floor(m),y=Math.ceil(y),d>0){for(;m<=y;++m)for(x=1;x<r;++x)if(v=m<0?x/s(-m):x*s(m),!(v<d)){if(v>f)break;I.push(v)}}else for(;m<=y;++m)for(x=r-1;x>=1;--x)if(v=m>0?x/s(-m):x*s(m),!(v<d)){if(v>f)break;I.push(v)}I.length*2<b&&(I=JT(d,f,b))}else I=JT(m,y,Math.min(y-m,b)).map(s);return p?I.reverse():I},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fy(c)).precision==null&&(c.trim=!0),c=NO(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?c(f):""}},e.nice=()=>n(xY(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function yY(){const t=$O(xj()).domain([1,10]);return t.copy=()=>Cv(t,yY()).base(t.base()),da.apply(t,arguments),t}function wW(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LO(t){var e=1,n=t(wW(e),jW(e));return n.constant=function(r){return arguments.length?t(wW(e=+r),jW(e)):e},Wu(n)}function vY(){var t=LO(xj());return t.copy=function(){return Cv(t,vY()).constant(t.constant())},da.apply(t,arguments)}function SW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cEe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uEe(t){return t<0?-t*t:t*t}function zO(t){var e=t($o,$o),n=1;function r(){return n===1?t($o,$o):n===.5?t(cEe,uEe):t(SW(n),SW(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wu(e)}function FO(){var t=zO(xj());return t.copy=function(){return Cv(t,FO()).exponent(t.exponent())},da.apply(t,arguments),t}function dEe(){return FO.apply(null,arguments).exponent(.5)}function CW(t){return Math.sign(t)*t*t}function hEe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bY(){var t=DO(),e=[0,1],n=!1,r;function i(s){var a=hEe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(CW(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,d_)).map(CW)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return bY(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},da.apply(i,arguments),Wu(i)}function _Y(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=xAe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[jv(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Au),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return _Y().domain(t).range(e).unknown(r)},da.apply(s,arguments)}function wY(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[jv(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return wY().domain([t,e]).range(i).unknown(s)},da.apply(Wu(a),arguments)}function jY(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[jv(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jY().domain(t).range(e).unknown(n)},da.apply(i,arguments)}const wE=new Date,jE=new Date;function Fi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Fi(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(wE.setTime(+s),jE.setTime(+a),t(wE),t(jE),Math.floor(n(wE,jE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const p_=Fi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);p_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Fi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):p_);p_.range;const tc=1e3,Zs=tc*60,nc=Zs*60,bc=nc*24,WO=bc*7,PW=bc*30,SE=bc*365,$d=Fi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*tc)},(t,e)=>(e-t)/tc,t=>t.getUTCSeconds());$d.range;const VO=Fi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tc)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getMinutes());VO.range;const BO=Fi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCMinutes());BO.range;const UO=Fi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tc-t.getMinutes()*Zs)},(t,e)=>{t.setTime(+t+e*nc)},(t,e)=>(e-t)/nc,t=>t.getHours());UO.range;const qO=Fi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*nc)},(t,e)=>(e-t)/nc,t=>t.getUTCHours());qO.range;const Pv=Fi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zs)/bc,t=>t.getDate()-1);Pv.range;const yj=Fi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bc,t=>t.getUTCDate()-1);yj.range;const SY=Fi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bc,t=>Math.floor(t/bc));SY.range;function wh(t){return Fi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zs)/WO)}const vj=wh(0),m_=wh(1),fEe=wh(2),pEe=wh(3),Lp=wh(4),mEe=wh(5),gEe=wh(6);vj.range;m_.range;fEe.range;pEe.range;Lp.range;mEe.range;gEe.range;function jh(t){return Fi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/WO)}const bj=jh(0),g_=jh(1),xEe=jh(2),yEe=jh(3),zp=jh(4),vEe=jh(5),bEe=jh(6);bj.range;g_.range;xEe.range;yEe.range;zp.range;vEe.range;bEe.range;const HO=Fi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());HO.range;const GO=Fi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GO.range;const _c=Fi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_c.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_c.range;const wc=Fi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});wc.range;function CY(t,e,n,r,i,s){const a=[[$d,1,tc],[$d,5,5*tc],[$d,15,15*tc],[$d,30,30*tc],[s,1,Zs],[s,5,5*Zs],[s,15,15*Zs],[s,30,30*Zs],[i,1,nc],[i,3,3*nc],[i,6,6*nc],[i,12,12*nc],[r,1,bc],[r,2,2*bc],[n,1,WO],[e,1,PW],[e,3,3*PW],[t,1,SE]];function l(d,f,p){const m=f<d;m&&([d,f]=[f,d]);const y=p&&typeof p.range=="function"?p:c(d,f,p),x=y?y.range(d,+f+1):[];return m?x.reverse():x}function c(d,f,p){const m=Math.abs(f-d)/p,y=IO(([,,b])=>b).right(a,m);if(y===a.length)return t.every(ek(d/SE,f/SE,p));if(y===0)return p_.every(Math.max(ek(d,f,p),1));const[x,v]=a[m/a[y-1][2]<a[y][2]/m?y-1:y];return x.every(v)}return[l,c]}const[_Ee,wEe]=CY(wc,GO,bj,SY,qO,BO),[jEe,SEe]=CY(_c,HO,vj,Pv,UO,VO);function CE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function CEe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=Mg(i),f=Ng(i),p=Mg(s),m=Ng(s),y=Mg(a),x=Ng(a),v=Mg(l),b=Ng(l),I=Mg(c),A=Ng(c),S={a:Q,A:ee,b:Z,B:de,c:null,d:RW,e:RW,f:KEe,g:iIe,G:sIe,H:qEe,I:HEe,j:GEe,L:PY,m:YEe,M:XEe,p:K,q:se,Q:MW,s:NW,S:QEe,u:JEe,U:ZEe,V:eIe,w:tIe,W:nIe,x:null,X:null,y:rIe,Y:oIe,Z:aIe,"%":DW},k={a:le,A:oe,b:ge,B:fe,c:null,d:OW,e:OW,f:dIe,g:_Ie,G:jIe,H:lIe,I:cIe,j:uIe,L:EY,m:hIe,M:fIe,p:Se,q:be,Q:MW,s:NW,S:pIe,u:mIe,U:gIe,V:xIe,w:yIe,W:vIe,x:null,X:null,y:bIe,Y:wIe,Z:SIe,"%":DW},P={a:L,A:$,b:B,B:N,c:q,d:TW,e:TW,f:WEe,g:IW,G:EW,H:kW,I:kW,j:$Ee,L:FEe,m:NEe,M:LEe,p:D,q:MEe,Q:BEe,s:UEe,S:zEe,u:TEe,U:kEe,V:REe,w:IEe,W:OEe,x:Y,X:ne,y:IW,Y:EW,Z:DEe,"%":VEe};S.x=R(n,S),S.X=R(r,S),S.c=R(e,S),k.x=R(n,k),k.X=R(r,k),k.c=R(e,k);function R(ce,We){return function(Fe){var pe=[],$e=-1,Ce=0,Je=ce.length,ht,Xe,Lt;for(Fe instanceof Date||(Fe=new Date(+Fe));++$e<Je;)ce.charCodeAt($e)===37&&(pe.push(ce.slice(Ce,$e)),(Xe=AW[ht=ce.charAt(++$e)])!=null?ht=ce.charAt(++$e):Xe=ht==="e"?" ":"0",(Lt=We[ht])&&(ht=Lt(Fe,Xe)),pe.push(ht),Ce=$e+1);return pe.push(ce.slice(Ce,$e)),pe.join("")}}function E(ce,We){return function(Fe){var pe=Dg(1900,void 0,1),$e=O(pe,ce,Fe+="",0),Ce,Je;if($e!=Fe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(We&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ce=PE(Dg(pe.y,0,1)),Je=Ce.getUTCDay(),Ce=Je>4||Je===0?g_.ceil(Ce):g_(Ce),Ce=yj.offset(Ce,(pe.V-1)*7),pe.y=Ce.getUTCFullYear(),pe.m=Ce.getUTCMonth(),pe.d=Ce.getUTCDate()+(pe.w+6)%7):(Ce=CE(Dg(pe.y,0,1)),Je=Ce.getDay(),Ce=Je>4||Je===0?m_.ceil(Ce):m_(Ce),Ce=Pv.offset(Ce,(pe.V-1)*7),pe.y=Ce.getFullYear(),pe.m=Ce.getMonth(),pe.d=Ce.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Je="Z"in pe?PE(Dg(pe.y,0,1)).getUTCDay():CE(Dg(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Je+5)%7:pe.w+pe.U*7-(Je+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,PE(pe)):CE(pe)}}function O(ce,We,Fe,pe){for(var $e=0,Ce=We.length,Je=Fe.length,ht,Xe;$e<Ce;){if(pe>=Je)return-1;if(ht=We.charCodeAt($e++),ht===37){if(ht=We.charAt($e++),Xe=P[ht in AW?We.charAt($e++):ht],!Xe||(pe=Xe(ce,Fe,pe))<0)return-1}else if(ht!=Fe.charCodeAt(pe++))return-1}return pe}function D(ce,We,Fe){var pe=d.exec(We.slice(Fe));return pe?(ce.p=f.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function L(ce,We,Fe){var pe=y.exec(We.slice(Fe));return pe?(ce.w=x.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function $(ce,We,Fe){var pe=p.exec(We.slice(Fe));return pe?(ce.w=m.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function B(ce,We,Fe){var pe=I.exec(We.slice(Fe));return pe?(ce.m=A.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function N(ce,We,Fe){var pe=v.exec(We.slice(Fe));return pe?(ce.m=b.get(pe[0].toLowerCase()),Fe+pe[0].length):-1}function q(ce,We,Fe){return O(ce,e,We,Fe)}function Y(ce,We,Fe){return O(ce,n,We,Fe)}function ne(ce,We,Fe){return O(ce,r,We,Fe)}function Q(ce){return a[ce.getDay()]}function ee(ce){return s[ce.getDay()]}function Z(ce){return c[ce.getMonth()]}function de(ce){return l[ce.getMonth()]}function K(ce){return i[+(ce.getHours()>=12)]}function se(ce){return 1+~~(ce.getMonth()/3)}function le(ce){return a[ce.getUTCDay()]}function oe(ce){return s[ce.getUTCDay()]}function ge(ce){return c[ce.getUTCMonth()]}function fe(ce){return l[ce.getUTCMonth()]}function Se(ce){return i[+(ce.getUTCHours()>=12)]}function be(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var We=R(ce+="",S);return We.toString=function(){return ce},We},parse:function(ce){var We=E(ce+="",!1);return We.toString=function(){return ce},We},utcFormat:function(ce){var We=R(ce+="",k);return We.toString=function(){return ce},We},utcParse:function(ce){var We=E(ce+="",!0);return We.toString=function(){return ce},We}}}var AW={"-":"",_:" ",0:"0"},Zi=/^\s*\d+/,PEe=/^%/,AEe=/[\\^$*+?|[\]().{}]/g;function ir(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function EEe(t){return t.replace(AEe,"\\$&")}function Mg(t){return new RegExp("^(?:"+t.map(EEe).join("|")+")","i")}function Ng(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function IEe(t,e,n){var r=Zi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TEe(t,e,n){var r=Zi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kEe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function REe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function OEe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EW(t,e,n){var r=Zi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IW(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function DEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function MEe(t,e,n){var r=Zi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function NEe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TW(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $Ee(t,e,n){var r=Zi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kW(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function LEe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zEe(t,e,n){var r=Zi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function FEe(t,e,n){var r=Zi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WEe(t,e,n){var r=Zi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VEe(t,e,n){var r=PEe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BEe(t,e,n){var r=Zi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function UEe(t,e,n){var r=Zi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function RW(t,e){return ir(t.getDate(),e,2)}function qEe(t,e){return ir(t.getHours(),e,2)}function HEe(t,e){return ir(t.getHours()%12||12,e,2)}function GEe(t,e){return ir(1+Pv.count(_c(t),t),e,3)}function PY(t,e){return ir(t.getMilliseconds(),e,3)}function KEe(t,e){return PY(t,e)+"000"}function YEe(t,e){return ir(t.getMonth()+1,e,2)}function XEe(t,e){return ir(t.getMinutes(),e,2)}function QEe(t,e){return ir(t.getSeconds(),e,2)}function JEe(t){var e=t.getDay();return e===0?7:e}function ZEe(t,e){return ir(vj.count(_c(t)-1,t),e,2)}function AY(t){var e=t.getDay();return e>=4||e===0?Lp(t):Lp.ceil(t)}function eIe(t,e){return t=AY(t),ir(Lp.count(_c(t),t)+(_c(t).getDay()===4),e,2)}function tIe(t){return t.getDay()}function nIe(t,e){return ir(m_.count(_c(t)-1,t),e,2)}function rIe(t,e){return ir(t.getFullYear()%100,e,2)}function iIe(t,e){return t=AY(t),ir(t.getFullYear()%100,e,2)}function oIe(t,e){return ir(t.getFullYear()%1e4,e,4)}function sIe(t,e){var n=t.getDay();return t=n>=4||n===0?Lp(t):Lp.ceil(t),ir(t.getFullYear()%1e4,e,4)}function aIe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ir(e/60|0,"0",2)+ir(e%60,"0",2)}function OW(t,e){return ir(t.getUTCDate(),e,2)}function lIe(t,e){return ir(t.getUTCHours(),e,2)}function cIe(t,e){return ir(t.getUTCHours()%12||12,e,2)}function uIe(t,e){return ir(1+yj.count(wc(t),t),e,3)}function EY(t,e){return ir(t.getUTCMilliseconds(),e,3)}function dIe(t,e){return EY(t,e)+"000"}function hIe(t,e){return ir(t.getUTCMonth()+1,e,2)}function fIe(t,e){return ir(t.getUTCMinutes(),e,2)}function pIe(t,e){return ir(t.getUTCSeconds(),e,2)}function mIe(t){var e=t.getUTCDay();return e===0?7:e}function gIe(t,e){return ir(bj.count(wc(t)-1,t),e,2)}function IY(t){var e=t.getUTCDay();return e>=4||e===0?zp(t):zp.ceil(t)}function xIe(t,e){return t=IY(t),ir(zp.count(wc(t),t)+(wc(t).getUTCDay()===4),e,2)}function yIe(t){return t.getUTCDay()}function vIe(t,e){return ir(g_.count(wc(t)-1,t),e,2)}function bIe(t,e){return ir(t.getUTCFullYear()%100,e,2)}function _Ie(t,e){return t=IY(t),ir(t.getUTCFullYear()%100,e,2)}function wIe(t,e){return ir(t.getUTCFullYear()%1e4,e,4)}function jIe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zp(t):zp.ceil(t),ir(t.getUTCFullYear()%1e4,e,4)}function SIe(){return"+0000"}function DW(){return"%"}function MW(t){return+t}function NW(t){return Math.floor(+t/1e3)}var vf,TY,kY;CIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CIe(t){return vf=CEe(t),TY=vf.format,vf.parse,kY=vf.utcFormat,vf.utcParse,vf}function PIe(t){return new Date(t)}function AIe(t){return t instanceof Date?+t:+new Date(+t)}function KO(t,e,n,r,i,s,a,l,c,d){var f=DO(),p=f.invert,m=f.domain,y=d(".%L"),x=d(":%S"),v=d("%I:%M"),b=d("%I %p"),I=d("%a %d"),A=d("%b %d"),S=d("%B"),k=d("%Y");function P(R){return(c(R)<R?y:l(R)<R?x:a(R)<R?v:s(R)<R?b:r(R)<R?i(R)<R?I:A:n(R)<R?S:k)(R)}return f.invert=function(R){return new Date(p(R))},f.domain=function(R){return arguments.length?m(Array.from(R,AIe)):m().map(PIe)},f.ticks=function(R){var E=m();return t(E[0],E[E.length-1],R??10)},f.tickFormat=function(R,E){return E==null?P:d(E)},f.nice=function(R){var E=m();return(!R||typeof R.range!="function")&&(R=e(E[0],E[E.length-1],R??10)),R?m(xY(E,R)):f},f.copy=function(){return Cv(f,KO(t,e,n,r,i,s,a,l,c,d))},f}function EIe(){return da.apply(KO(jEe,SEe,_c,HO,vj,Pv,UO,VO,$d,TY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IIe(){return da.apply(KO(_Ee,wEe,wc,GO,bj,yj,qO,BO,$d,kY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _j(){var t=0,e=1,n,r,i,s,a=$o,l=!1,c;function d(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(m){var y,x;return arguments.length?([y,x]=m,a=p(y,x),d):[a(0),a(1)]}}return d.range=f(Em),d.rangeRound=f(OO),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Vu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RY(){var t=Wu(_j()($o));return t.copy=function(){return Vu(t,RY())},Tc.apply(t,arguments)}function OY(){var t=$O(_j()).domain([1,10]);return t.copy=function(){return Vu(t,OY()).base(t.base())},Tc.apply(t,arguments)}function DY(){var t=LO(_j());return t.copy=function(){return Vu(t,DY()).constant(t.constant())},Tc.apply(t,arguments)}function YO(){var t=zO(_j());return t.copy=function(){return Vu(t,YO()).exponent(t.exponent())},Tc.apply(t,arguments)}function TIe(){return YO.apply(null,arguments).exponent(.5)}function MY(){var t=[],e=$o;function n(r){if(r!=null&&!isNaN(r=+r))return e((jv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Au),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>gAe(t,s/r))},n.copy=function(){return MY(e).domain(t)},Tc.apply(n,arguments)}function wj(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=$o,f,p=!1,m;function y(v){return isNaN(v=+v)?m:(v=.5+((v=+f(v))-s)*(r*v<r*s?l:c),d(p?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([t,e,n]=v,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(v){return arguments.length?(p=!!v,y):p},y.interpolator=function(v){return arguments.length?(d=v,y):d};function x(v){return function(b){var I,A,S;return arguments.length?([I,A,S]=b,d=VAe(v,[I,A,S]),y):[d(0),d(.5),d(1)]}}return y.range=x(Em),y.rangeRound=x(OO),y.unknown=function(v){return arguments.length?(m=v,y):m},function(v){return f=v,i=v(t),s=v(e),a=v(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function NY(){var t=Wu(wj()($o));return t.copy=function(){return Vu(t,NY())},Tc.apply(t,arguments)}function $Y(){var t=$O(wj()).domain([.1,1,10]);return t.copy=function(){return Vu(t,$Y()).base(t.base())},Tc.apply(t,arguments)}function LY(){var t=LO(wj());return t.copy=function(){return Vu(t,LY()).constant(t.constant())},Tc.apply(t,arguments)}function XO(){var t=zO(wj());return t.copy=function(){return Vu(t,XO()).exponent(t.exponent())},Tc.apply(t,arguments)}function kIe(){return XO.apply(null,arguments).exponent(.5)}const $W=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cy,scaleDiverging:NY,scaleDivergingLog:$Y,scaleDivergingPow:XO,scaleDivergingSqrt:kIe,scaleDivergingSymlog:LY,scaleIdentity:gY,scaleImplicit:tk,scaleLinear:f_,scaleLog:yY,scaleOrdinal:TO,scalePoint:_x,scalePow:FO,scaleQuantile:_Y,scaleQuantize:wY,scaleRadial:bY,scaleSequential:RY,scaleSequentialLog:OY,scaleSequentialPow:YO,scaleSequentialQuantile:MY,scaleSequentialSqrt:TIe,scaleSequentialSymlog:DY,scaleSqrt:dEe,scaleSymlog:vY,scaleThreshold:jY,scaleTime:EIe,scaleUtc:IIe,tickFormat:mY},Symbol.toStringTag,{value:"Module"}));var AE,LW;function jj(){if(LW)return AE;LW=1;var t=jm();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var l=n[s],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return AE=e,AE}var EE,zW;function zY(){if(zW)return EE;zW=1;function t(e,n){return e>n}return EE=t,EE}var IE,FW;function RIe(){if(FW)return IE;FW=1;var t=jj(),e=zY(),n=Am();function r(i){return i&&i.length?t(i,n,e):void 0}return IE=r,IE}var OIe=RIe();const xu=or(OIe);var TE,WW;function FY(){if(WW)return TE;WW=1;function t(e,n){return e<n}return TE=t,TE}var kE,VW;function DIe(){if(VW)return kE;VW=1;var t=jj(),e=FY(),n=Am();function r(i){return i&&i.length?t(i,n,e):void 0}return kE=r,kE}var MIe=DIe();const Sj=or(MIe);var RE,BW;function NIe(){if(BW)return RE;BW=1;var t=hO(),e=El(),n=KK(),r=ss();function i(s,a){var l=r(s)?t:n;return l(s,e(a,3))}return RE=i,RE}var OE,UW;function $Ie(){if(UW)return OE;UW=1;var t=HK(),e=NIe();function n(r,i){return t(e(r,i),1)}return OE=n,OE}var LIe=$Ie();const zIe=or(LIe);var DE,qW;function FIe(){if(qW)return DE;qW=1;var t=CO();function e(n,r){return t(n,r)}return DE=e,DE}var WIe=FIe();const Fp=or(WIe);var Im=1e9,VIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JO,Gr=!0,ca="[DecimalError] ",Gd=ca+"Invalid argument: ",QO=ca+"Exponent out of range: ",Tm=Math.floor,wd=Math.pow,BIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ws,Ki=1e7,Fr=7,WY=9007199254740991,x_=Tm(WY/Fr),$t={};$t.absoluteValue=$t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$t.comparedTo=$t.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};$t.decimalPlaces=$t.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Fr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$t.dividedBy=$t.div=function(t){return uc(this,new this.constructor(t))};$t.dividedToIntegerBy=$t.idiv=function(t){var e=this,n=e.constructor;return Cr(uc(e,new n(t),0,1),n.precision)};$t.equals=$t.eq=function(t){return!this.cmp(t)};$t.exponent=function(){return Ei(this)};$t.greaterThan=$t.gt=function(t){return this.cmp(t)>0};$t.greaterThanOrEqualTo=$t.gte=function(t){return this.cmp(t)>=0};$t.isInteger=$t.isint=function(){return this.e>this.d.length-2};$t.isNegative=$t.isneg=function(){return this.s<0};$t.isPositive=$t.ispos=function(){return this.s>0};$t.isZero=function(){return this.s===0};$t.lessThan=$t.lt=function(t){return this.cmp(t)<0};$t.lessThanOrEqualTo=$t.lte=function(t){return this.cmp(t)<1};$t.logarithm=$t.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ws))throw Error(ca+"NaN");if(n.s<1)throw Error(ca+(n.s?"NaN":"-Infinity"));return n.eq(ws)?new r(0):(Gr=!1,e=uc(py(n,s),py(t,s),s),Gr=!0,Cr(e,i))};$t.minus=$t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UY(e,t):VY(e,(t.s=-t.s,t))};$t.modulo=$t.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ca+"NaN");return n.s?(Gr=!1,e=uc(n,t,0,1).times(t),Gr=!0,n.minus(e)):Cr(new r(n),i)};$t.naturalExponential=$t.exp=function(){return BY(this)};$t.naturalLogarithm=$t.ln=function(){return py(this)};$t.negated=$t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$t.plus=$t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VY(e,t):UY(e,(t.s=-t.s,t))};$t.precision=$t.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gd+t);if(e=Ei(i)+1,r=i.d.length-1,n=r*Fr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$t.squareRoot=$t.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ca+"NaN")}for(t=Ei(l),Gr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=sl(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(uc(l,s,a+2)).times(.5),sl(s.d).slice(0,a)===(e=sl(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Cr(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return Gr=!0,Cr(r,n)};$t.times=$t.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,p=f.constructor,m=f.d,y=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,c=m.length,d=y.length,c<d&&(s=m,m=y,y=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+y[r]*m[i-r-1]+e,s[i--]=l%Ki|0,e=l/Ki|0;s[i]=(s[i]+e)%Ki|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Gr?Cr(t,p.precision):t};$t.toDecimalPlaces=$t.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wl(t,0,Im),e===void 0?e=r.rounding:wl(e,0,8),Cr(n,t+Ei(n)+1,e))};$t.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fh(r,!0):(wl(t,0,Im),e===void 0?e=i.rounding:wl(e,0,8),r=Cr(new i(r),t+1,e),n=fh(r,!0,t+1)),n};$t.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?fh(i):(wl(t,0,Im),e===void 0?e=s.rounding:wl(e,0,8),r=Cr(new s(i),t+Ei(i)+1,e),n=fh(r.abs(),!1,t+Ei(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$t.toInteger=$t.toint=function(){var t=this,e=t.constructor;return Cr(new e(t),Ei(t)+1,e.rounding)};$t.toNumber=function(){return+this};$t.toPower=$t.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(ws);if(l=new c(l),!l.s){if(t.s<1)throw Error(ca+"Infinity");return l}if(l.eq(ws))return l;if(r=c.precision,t.eq(ws))return Cr(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=WY){for(i=new c(ws),e=Math.ceil(r/Fr+4),Gr=!1;n%2&&(i=i.times(l),GW(i.d,e)),n=Tm(n/2),n!==0;)l=l.times(l),GW(l.d,e);return Gr=!0,t.s<0?new c(ws).div(i):Cr(i,r)}}else if(s<0)throw Error(ca+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Gr=!1,i=t.times(py(l,r+d)),Gr=!0,i=BY(i),i.s=s,i};$t.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ei(i),r=fh(i,n<=s.toExpNeg||n>=s.toExpPos)):(wl(t,1,Im),e===void 0?e=s.rounding:wl(e,0,8),i=Cr(new s(i),t,e),n=Ei(i),r=fh(i,t<=n||n<=s.toExpNeg,t)),r};$t.toSignificantDigits=$t.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wl(t,1,Im),e===void 0?e=r.rounding:wl(e,0,8)),Cr(new r(n),t,e)};$t.toString=$t.valueOf=$t.val=$t.toJSON=$t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ei(t),n=t.constructor;return fh(t,e<=n.toExpNeg||e>=n.toExpPos)};function VY(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Gr?Cr(e,p):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(p/Fr),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/Ki|0,c[s]%=Ki;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Gr?Cr(e,p):e}function wl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gd+t)}function sl(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Fr-r.length,n&&(s+=ou(n)),s+=r;a=t[e],r=a+"",n=Fr-r.length,n&&(s+=ou(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var uc=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%Ki|0,a=s/Ki|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Ki+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,p,m,y,x,v,b,I,A,S,k,P,R,E,O,D=r.constructor,L=r.s==i.s?1:-1,$=r.d,B=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ca+"Division by zero");for(c=r.e-i.e,E=B.length,P=$.length,y=new D(L),x=y.d=[],d=0;B[d]==($[d]||0);)++d;if(B[d]>($[d]||0)&&--c,s==null?A=s=D.precision:a?A=s+(Ei(r)-Ei(i))+1:A=s,A<0)return new D(0);if(A=A/Fr+2|0,d=0,E==1)for(f=0,B=B[0],A++;(d<P||f)&&A--;d++)S=f*Ki+($[d]||0),x[d]=S/B|0,f=S%B|0;else{for(f=Ki/(B[0]+1)|0,f>1&&(B=t(B,f),$=t($,f),E=B.length,P=$.length),k=E,v=$.slice(0,E),b=v.length;b<E;)v[b++]=0;O=B.slice(),O.unshift(0),R=B[0],B[1]>=Ki/2&&++R;do f=0,l=e(B,v,E,b),l<0?(I=v[0],E!=b&&(I=I*Ki+(v[1]||0)),f=I/R|0,f>1?(f>=Ki&&(f=Ki-1),p=t(B,f),m=p.length,b=v.length,l=e(p,v,m,b),l==1&&(f--,n(p,E<m?O:B,m))):(f==0&&(l=f=1),p=B.slice()),m=p.length,m<b&&p.unshift(0),n(v,p,b),l==-1&&(b=v.length,l=e(B,v,E,b),l<1&&(f++,n(v,E<b?O:B,b))),b=v.length):l===0&&(f++,v=[0]),x[d++]=f,l&&v[0]?v[b++]=$[k]||0:(v=[$[k]],b=1);while((k++<P||v[0]!==void 0)&&A--)}return x[0]||x.shift(),y.e=c,Cr(y,a?s+Ei(y)+1:s)}}();function BY(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,p=f.precision;if(Ei(t)>16)throw Error(QO+Ei(t));if(!t.s)return new f(ws);for(Gr=!1,l=p,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(wd(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(ws),f.precision=l;;){if(i=Cr(i.times(t),l),n=n.times(++c),a=s.plus(uc(i,n,l)),sl(a.d).slice(0,l)===sl(s.d).slice(0,l)){for(;d--;)s=Cr(s.times(s),l);return f.precision=p,e==null?(Gr=!0,Cr(s,p)):s}s=a}}function Ei(t){for(var e=t.e*Fr,n=t.d[0];n>=10;n/=10)e++;return e}function ME(t,e,n){if(e>t.LN10.sd())throw Gr=!0,n&&(t.precision=n),Error(ca+"LN10 precision limit exceeded");return Cr(new t(t.LN10),e)}function ou(t){for(var e="";t--;)e+="0";return e}function py(t,e){var n,r,i,s,a,l,c,d,f,p=1,m=10,y=t,x=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(ca+(y.s?"NaN":"-Infinity"));if(y.eq(ws))return new v(0);if(e==null?(Gr=!1,d=b):d=e,y.eq(10))return e==null&&(Gr=!0),ME(v,d);if(d+=m,v.precision=d,n=sl(x),r=n.charAt(0),s=Ei(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=sl(y.d),r=n.charAt(0),p++;s=Ei(y),r>1?(y=new v("0."+n),s++):y=new v(r+"."+n.slice(1))}else return c=ME(v,d+2,b).times(s+""),y=py(new v(r+"."+n.slice(1)),d-m).plus(c),v.precision=b,e==null?(Gr=!0,Cr(y,b)):y;for(l=a=y=uc(y.minus(ws),y.plus(ws),d),f=Cr(y.times(y),d),i=3;;){if(a=Cr(a.times(f),d),c=l.plus(uc(a,new v(i),d)),sl(c.d).slice(0,d)===sl(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(ME(v,d+2,b).times(s+""))),l=uc(l,new v(p),d),v.precision=b,e==null?(Gr=!0,Cr(l,b)):l;l=c,i+=2}}function HW(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tm(n/Fr),t.d=[],r=(n+1)%Fr,n<0&&(r+=Fr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Fr;r<i;)t.d.push(+e.slice(r,r+=Fr));e=e.slice(r),r=Fr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gr&&(t.e>x_||t.e<-x_))throw Error(QO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Cr(t,e,n){var r,i,s,a,l,c,d,f,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Fr,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/Fr),s=p.length,f>=s)return t;for(d=s=p[f],a=1;s>=10;s/=10)a++;r%=Fr,i=r-Fr+a}if(n!==void 0&&(s=wd(10,a-i-1),l=d/s%10|0,c=e<0||p[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/wd(10,a-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(s=Ei(t),p.length=1,e=e-s-1,p[0]=wd(10,(Fr-e%Fr)%Fr),t.e=Tm(-e/Fr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,s=1,f--):(p.length=f+1,s=wd(10,Fr-r),p[f]=i>0?(d/wd(10,a-i)%wd(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Ki&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=Ki)break;p[f--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Gr&&(t.e>x_||t.e<-x_))throw Error(QO+Ei(t));return t}function UY(t,e){var n,r,i,s,a,l,c,d,f,p,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Gr?Cr(e,y):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=p.length):(n=p,r=d,l=c.length),i=Math.max(Math.ceil(y/Fr),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}a=0}for(f&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Ki-1;--c[s],c[i]+=Ki}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Gr?Cr(e,y):e):new m(0)}function fh(t,e,n){var r,i=Ei(t),s=sl(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ou(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ou(-i-1)+s,n&&(r=n-a)>0&&(s+=ou(r))):i>=a?(s+=ou(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ou(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ou(r))),t.s<0?"-"+s:s}function GW(t,e){if(t.length>e)return t.length=e,!0}function qY(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return HW(a,s.toString())}else if(typeof s!="string")throw Error(Gd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,BIe.test(s))HW(a,s);else throw Error(Gd+s)}if(i.prototype=$t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qY,i.config=i.set=UIe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function UIe(t){if(!t||typeof t!="object")throw Error(ca+"Object expected");var e,n,r,i=["precision",1,Im,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gd+n+": "+r);return this}var JO=qY(VIe);ws=new JO(1);const wr=JO;function qIe(t){return YIe(t)||KIe(t)||GIe(t)||HIe()}function HIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GIe(t,e){if(t){if(typeof t=="string")return ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ok(t,e)}}function KIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YIe(t){if(Array.isArray(t))return ok(t)}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XIe=function(e){return e},HY={},GY=function(e){return e===HY},KW=function(e){return function n(){return arguments.length===0||arguments.length===1&&GY(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},QIe=function t(e,n){return e===1?n:KW(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==HY}).length;return a>=e?n.apply(void 0,i):t(e-a,KW(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(p){return GY(p)?c.shift():p});return n.apply(void 0,qIe(f).concat(c))}))})},Cj=function(e){return QIe(e.length,e)},sk=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},JIe=Cj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ZIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return XIe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},ak=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},KY=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function eTe(t){var e;return t===0?e=1:e=Math.floor(new wr(t).abs().log(10).toNumber())+1,e}function tTe(t,e,n){for(var r=new wr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var nTe=Cj(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),rTe=Cj(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),iTe=Cj(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Pj={rangeStep:tTe,getDigitCount:eTe,interpolateNumber:nTe,uninterpolateNumber:rTe,uninterpolateTruncation:iTe};function lk(t){return aTe(t)||sTe(t)||YY(t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aTe(t){if(Array.isArray(t))return ck(t)}function my(t,e){return uTe(t)||cTe(t,e)||YY(t,e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YY(t,e){if(t){if(typeof t=="string")return ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,e)}}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cTe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function uTe(t){if(Array.isArray(t))return t}function XY(t){var e=my(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function QY(t,e,n){if(t.lte(0))return new wr(0);var r=Pj.getDigitCount(t.toNumber()),i=new wr(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new wr(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new wr(Math.ceil(c))}function dTe(t,e,n){var r=1,i=new wr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new wr(10).pow(Pj.getDigitCount(t)-1),i=new wr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new wr(Math.floor(t)))}else t===0?i=new wr(Math.floor((e-1)/2)):n||(i=new wr(Math.floor(t)));var a=Math.floor((e-1)/2),l=ZIe(JIe(function(c){return i.add(new wr(c-a).mul(r)).toNumber()}),sk);return l(0,e)}function JY(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var s=QY(new wr(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new wr(0):(a=new wr(t).add(e).div(2),a=a.sub(new wr(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new wr(e).sub(a).div(s).toNumber()),d=l+c+1;return d>n?JY(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:s,tickMin:a.sub(new wr(l).mul(s)),tickMax:a.add(new wr(c).mul(s))})}function hTe(t){var e=my(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=XY([n,r]),c=my(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var p=f===1/0?[d].concat(lk(sk(0,i-1).map(function(){return 1/0}))):[].concat(lk(sk(0,i-1).map(function(){return-1/0})),[f]);return n>r?ak(p):p}if(d===f)return dTe(d,i,s);var m=JY(d,f,a,s),y=m.step,x=m.tickMin,v=m.tickMax,b=Pj.rangeStep(x,v.add(new wr(.1).mul(y)),y);return n>r?ak(b):b}function fTe(t,e){var n=my(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=XY([r,i]),l=my(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(e,2),p=QY(new wr(d).sub(c).div(f-1),s,0),m=[].concat(lk(Pj.rangeStep(new wr(c),new wr(d).sub(new wr(.99).mul(p)),p)),[d]);return r>i?ak(m):m}var pTe=KY(hTe),mTe=KY(fTe),gTe="Invariant failed";function ph(t,e){throw new Error(gTe)}var xTe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function yTe(t,e){return wTe(t)||_Te(t,e)||bTe(t,e)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(t,e){if(t){if(typeof t=="string")return YW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YW(t,e)}}function YW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Te(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function wTe(t){if(Array.isArray(t))return t}function jTe(t,e){if(t==null)return{};var n=STe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function STe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tX(r.key),r)}}function ATe(t,e,n){return e&&PTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ETe(t,e,n){return e=v_(e),ITe(t,ZY()?Reflect.construct(e,n||[],v_(t).constructor):e.apply(t,n))}function ITe(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TTe(t)}function TTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZY=function(){return!!t})()}function v_(t){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v_(t)}function kTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uk(t,e)}function eX(t,e,n){return e=tX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=RTe(t,"string");return Wp(e)=="symbol"?e:e+""}function RTe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aj=function(t){function e(){return CTe(this,e),ETe(this,e,arguments)}return kTe(e,t),ATe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,f=r.xAxis,p=r.yAxis,m=jTe(r,xTe),y=tn(m,!1);this.props.direction==="x"&&f.type!=="number"&&ph();var x=c.map(function(v){var b=d(v,l),I=b.x,A=b.y,S=b.value,k=b.errorVal;if(!k)return null;var P=[],R,E;if(Array.isArray(k)){var O=yTe(k,2);R=O[0],E=O[1]}else R=E=k;if(s==="vertical"){var D=f.scale,L=A+i,$=L+a,B=L-a,N=D(S-R),q=D(S+E);P.push({x1:q,y1:$,x2:q,y2:B}),P.push({x1:N,y1:L,x2:q,y2:L}),P.push({x1:N,y1:$,x2:N,y2:B})}else if(s==="horizontal"){var Y=p.scale,ne=I+i,Q=ne-a,ee=ne+a,Z=Y(S-R),de=Y(S+E);P.push({x1:Q,y1:de,x2:ee,y2:de}),P.push({x1:ne,y1:Z,x2:ne,y2:de}),P.push({x1:Q,y1:Z,x2:ee,y2:Z})}return he.createElement(Kn,y_({className:"recharts-errorBar",key:"bar-".concat(P.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},y),P.map(function(K){return he.createElement("line",y_({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return he.createElement(Kn,{className:"recharts-errorBars"},x)}}])}(he.Component);eX(Aj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eX(Aj,"displayName","ErrorBar");function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function XW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(n),!0).forEach(function(r){OTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OTe(t,e,n){return e=DTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DTe(t){var e=MTe(t,"string");return gy(e)=="symbol"?e:e+""}function MTe(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nX=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=ys(n,ep);if(!a)return null;var l=ep.defaultProps,c=l!==void 0?hd(hd({},l),a.props):{},d;return a.props&&a.props.payload?d=a.props&&a.props.payload:s==="children"?d=(r||[]).reduce(function(f,p){var m=p.item,y=p.props,x=y.sectors||y.data||[];return f.concat(x.map(function(v){return{type:a.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):d=(r||[]).map(function(f){var p=f.item,m=p.type.defaultProps,y=m!==void 0?hd(hd({},m),p.props):{},x=y.dataKey,v=y.name,b=y.legendType,I=y.hide;return{inactive:I,dataKey:x,type:c.iconType||b||"square",color:ZO(p),value:v||x,payload:y}}),hd(hd(hd({},c),ep.getWithHeight(a,i)),{},{payload:d,item:a})};function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function QW(t){return zTe(t)||LTe(t)||$Te(t)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Te(t,e){if(t){if(typeof t=="string")return dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(t,e)}}function LTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zTe(t){if(Array.isArray(t))return dk(t)}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function np(t,e,n){return e=FTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FTe(t){var e=WTe(t,"string");return xy(e)=="symbol"?e:e+""}function WTe(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mi(t,e,n){return Rn(t)||Rn(e)?n:Ni(e)?Es(t,e,n):wn(e)?e(t):n}function wx(t,e,n,r){var i=zIe(t,function(l){return Mi(l,e)});if(n==="number"){var s=i.filter(function(l){return xt(l)||parseFloat(l)});return s.length?[Sj(s),xu(s)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Rn(l)}):i;return a.map(function(l){return Ni(l)||l instanceof Date?l:""})}var VTe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,p=i[d].coordinate,m=d>=l-1?i[0].coordinate:i[d+1].coordinate,y=void 0;if(Mo(p-f)!==Mo(m-p)){var x=[];if(Mo(m-p)===Mo(c[1]-c[0])){y=m;var v=p+c[1]-c[0];x[0]=Math.min(v,(v+f)/2),x[1]=Math.max(v,(v+f)/2)}else{y=f;var b=m+c[1]-c[0];x[0]=Math.min(p,(b+p)/2),x[1]=Math.max(p,(b+p)/2)}var I=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>I[0]&&e<=I[1]||e>=x[0]&&e<=x[1]){a=i[d].index;break}}else{var A=Math.min(f,m),S=Math.max(f,m);if(e>(A+p)/2&&e<=(S+p)/2){a=i[d].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<l-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===l-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},ZO=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ci(ci({},e.type.defaultProps),e.props):e.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},BTe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,p=Object.keys(f),m=0,y=p.length;m<y;m++){var x=f[p[m]],v=x.items,b=x.cateAxisId,I=v.filter(function(E){return lc(E.type).indexOf("Bar")>=0});if(I&&I.length){var A=I[0].type.defaultProps,S=A!==void 0?ci(ci({},A),I[0].props):I[0].props,k=S.barSize,P=S[b];a[P]||(a[P]=[]);var R=Rn(k)?n:k;a[P].push({item:I[0],stackList:I.slice(1),barSize:Rn(R)?void 0:No(R,r,0)})}}return a},UTe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,l=e.maxBarSize,c=a.length;if(c<1)return null;var d=No(n,i,0,!0),f,p=[];if(a[0].barSize===+a[0].barSize){var m=!1,y=i/c,x=a.reduce(function(k,P){return k+P.barSize||0},0);x+=(c-1)*d,x>=i&&(x-=(c-1)*d,d=0),x>=i&&y>0&&(m=!0,y*=.9,x=c*y);var v=(i-x)/2>>0,b={offset:v-d,size:0};f=a.reduce(function(k,P){var R={item:P.item,position:{offset:b.offset+b.size+d,size:m?y:P.barSize}},E=[].concat(QW(k),[R]);return b=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){E.push({item:O,position:b})}),E},p)}else{var I=No(r,i,0,!0);i-2*I-(c-1)*d<=0&&(d=0);var A=(i-2*I-(c-1)*d)/c;A>1&&(A>>=0);var S=l===+l?Math.min(A,l):A;f=a.reduce(function(k,P,R){var E=[].concat(QW(k),[{item:P.item,position:{offset:I+(A+d)*R+(A-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},p)}return f},qTe=function(e,n,r,i){var s=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),d=nX({children:s,legendWidth:c});if(d){var f=i||{},p=f.width,m=f.height,y=d.align,x=d.verticalAlign,v=d.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&y!=="center"&&xt(e[y]))return ci(ci({},e),{},np({},y,e[y]+(p||0)));if((v==="horizontal"||v==="vertical"&&y==="center")&&x!=="middle"&&xt(e[x]))return ci(ci({},e),{},np({},x,e[x]+(m||0)))}return e},HTe=function(e,n,r){return Rn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},rX=function(e,n,r,i,s){var a=n.props.children,l=ra(a,Aj).filter(function(d){return HTe(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var p=Mi(f,r);if(Rn(p))return d;var m=Array.isArray(p)?[Sj(p),xu(p)]:[p,p],y=c.reduce(function(x,v){var b=Mi(f,v,0),I=m[0]-Math.abs(Array.isArray(b)?b[0]:b),A=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(I,x[0]),Math.max(A,x[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},GTe=function(e,n,r,i,s){var a=n.map(function(l){return rX(e,l,r,s,i)}).filter(function(l){return!Rn(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},iX=function(e,n,r,i,s){var a=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&rX(e,c,d,i)||wx(e,d,r,s)});if(r==="number")return a.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,d){for(var f=0,p=d.length;f<p;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},oX=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Ld=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Mo(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var m=s?s.indexOf(p):p;return{coordinate:i(m)+d,value:p,offset:d}});return f.filter(function(p){return!Cm(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+d,value:p,index:m,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+d,value:p,offset:d}}):i.domain().map(function(p,m){return{coordinate:i(p)+d,value:s?s[p]:p,index:m,offset:d}})},NE=new WeakMap,pb=function(e,n){if(typeof n!="function")return e;NE.has(e)||NE.set(e,new WeakMap);var r=NE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},sX=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:cy(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:f_(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_x(),realScaleType:"point"}:s==="category"?{scale:cy(),realScaleType:"band"}:{scale:f_(),realScaleType:"linear"};if(uh(i)){var c="scale".concat(cj(i));return{scale:($W[c]||_x)(),realScaleType:$W[c]?c:"point"}}return wn(i)?{scale:i}:{scale:_x(),realScaleType:"point"}},ZW=1e-4,aX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-ZW,a=Math.max(i[0],i[1])+ZW,l=e(n[0]),c=e(n[r-1]);(l<s||l>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},KTe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},YTe=function(e,n){if(!n||n.length!==2||!xt(n[0])||!xt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!xt(e[0])||e[0]<r)&&(s[0]=r),(!xt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},XTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,l=0;l<n;++l){var c=Cm(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},QTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var l=Cm(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},JTe={sign:XTe,expand:z2e,none:Rp,silhouette:F2e,wiggle:W2e,positive:QTe},ZTe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=JTe[r],a=L2e().keys(i).value(function(l,c){return+Mi(l,c,0)}).order(FT).offset(s);return a(e)},eke=function(e,n,r,i,s,a){if(!e)return null;var l=a?n.reverse():n,c={},d=l.reduce(function(p,m){var y,x=(y=m.type)!==null&&y!==void 0&&y.defaultProps?ci(ci({},m.type.defaultProps),m.props):m.props,v=x.stackId,b=x.hide;if(b)return p;var I=x[r],A=p[I]||{hasStack:!1,stackGroups:{}};if(Ni(v)){var S=A.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(m),A.hasStack=!0,A.stackGroups[v]=S}else A.stackGroups[Pm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return ci(ci({},p),{},np({},I,A))},c),f={};return Object.keys(d).reduce(function(p,m){var y=d[m];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(v,b){var I=y.stackGroups[b];return ci(ci({},v),{},np({},b,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:ZTe(e,I.items,s)}))},x)}return ci(ci({},p),{},np({},m,y))},f)},lX=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=pTe(d,s,l);return e.domain([Sj(f),xu(f)]),{niceTicks:f}}if(s&&i==="number"){var p=e.domain(),m=mTe(p,s,l);return{niceTicks:m}}return null};function e9(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Rn(i[e.dataKey])){var l=Y1(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Mi(i,Rn(a)?e.dataKey:a);return Rn(c)?null:e.scale(c)}var t9=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Mi(a,n.dataKey,n.domain[l]);return Rn(c)?null:n.scale(c)-s/2+i},tke=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},nke=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ci(ci({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ni(s)){var a=n[s];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},rke=function(e){return e.reduce(function(n,r){return[Sj(r.concat([n[0]]).filter(xt)),xu(r.concat([n[1]]).filter(xt))]},[1/0,-1/0])},cX=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],l=a.stackedData,c=l.reduce(function(d,f){var p=rke(f.slice(n,r+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},n9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hk=function(e,n,r){if(wn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(n9.test(e[0])){var s=+n9.exec(e[0])[1];i[0]=n[0]-s}else wn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(r9.test(e[1])){var a=+r9.exec(e[1])[1];i[1]=n[1]+a}else wn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},b_=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=AO(n,function(p){return p.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},i9=function(e,n,r){return!e||!e.length||Fp(e,Es(r,"type.defaultProps.domain"))?n:e},uX=function(e,n){var r=e.type.defaultProps?ci(ci({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,f=r.hide;return ci(ci({},tn(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:ZO(e),value:Mi(n,i),type:c,payload:n,chartType:d,hide:f})};function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function o9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(n),!0).forEach(function(r){dX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dX(t,e,n){return e=ike(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ike(t){var e=oke(t,"string");return yy(e)=="symbol"?e:e+""}function oke(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ske(t,e){return uke(t)||cke(t,e)||lke(t,e)||ake()}function ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lke(t,e){if(t){if(typeof t=="string")return s9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s9(t,e)}}function s9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function uke(t){if(Array.isArray(t))return t}var __=Math.PI/180,dke=function(e){return e*180/Math.PI},Rr=function(e,n,r,i){return{x:e+Math.cos(-__*i)*r,y:n+Math.sin(-__*i)*r}},hX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},hke=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=No(e.cx,a,a/2),p=No(e.cy,l,l/2),m=hX(a,l,r),y=No(e.innerRadius,m,0),x=No(e.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(b,I){var A=n[I],S=A.domain,k=A.reversed,P;if(Rn(A.range))i==="angleAxis"?P=[c,d]:i==="radiusAxis"&&(P=[y,x]),k&&(P=[P[1],P[0]]);else{P=A.range;var R=P,E=ske(R,2);c=E[0],d=E[1]}var O=sX(A,s),D=O.realScaleType,L=O.scale;L.domain(S).range(P),aX(L);var $=lX(L,Gl(Gl({},A),{},{realScaleType:D})),B=Gl(Gl(Gl({},A),$),{},{range:P,radius:x,realScaleType:D,scale:L,cx:f,cy:p,innerRadius:y,outerRadius:x,startAngle:c,endAngle:d});return Gl(Gl({},b),{},dX({},I,B))},{})},fke=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},pke=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,l=fke({x:r,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(r-s)/l,d=Math.acos(c);return i>a&&(d=2*Math.PI-d),{radius:l,angle:dke(d),angleInRadian:d}},mke=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},gke=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(s,a);return e+l*360},a9=function(e,n){var r=e.x,i=e.y,s=pke({x:r,y:i},n),a=s.radius,l=s.angle,c=n.innerRadius,d=n.outerRadius;if(a<c||a>d)return!1;if(a===0)return!0;var f=mke(n),p=f.startAngle,m=f.endAngle,y=l,x;if(p<=m){for(;y>m;)y-=360;for(;y<p;)y+=360;x=y>=p&&y<=m}else{for(;y>p;)y-=360;for(;y<m;)y+=360;x=y>=m&&y<=p}return x?Gl(Gl({},n),{},{radius:a,angle:gke(y,n)}):null},fX=function(e){return!C.isValidElement(e)&&!wn(e)&&typeof e!="boolean"?e.className:""};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}var xke=["offset"];function yke(t){return wke(t)||_ke(t)||bke(t)||vke()}function vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bke(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function _ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wke(t){if(Array.isArray(t))return fk(t)}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jke(t,e){if(t==null)return{};var n=Ske(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ske(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){Cke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cke(t,e,n){return e=Pke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pke(t){var e=Ake(t,"string");return vy(e)=="symbol"?e:e+""}function Ake(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}var Eke=function(e){var n=e.value,r=e.formatter,i=Rn(e.children)?n:e.children;return wn(r)?r(i):i},Ike=function(e,n){var r=Mo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Tke=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,l=e.className,c=s,d=c.cx,f=c.cy,p=c.innerRadius,m=c.outerRadius,y=c.startAngle,x=c.endAngle,v=c.clockWise,b=(p+m)/2,I=Ike(y,x),A=I>=0?1:-1,S,k;i==="insideStart"?(S=y+A*a,k=v):i==="insideEnd"?(S=x-A*a,k=!v):i==="end"&&(S=x+A*a,k=v),k=I<=0?k:!k;var P=Rr(d,f,b,S),R=Rr(d,f,b,S+(k?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(R.x,",").concat(R.y),O=Rn(e.id)?Pm("recharts-radial-line-"):e.id;return he.createElement("text",by({},r,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",l)}),he.createElement("defs",null,he.createElement("path",{id:O,d:E})),he.createElement("textPath",{xlinkHref:"#".concat(O)},n))},kke=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,p=s.endAngle,m=(f+p)/2;if(i==="outside"){var y=Rr(a,l,d+r,m),x=y.x,v=y.y;return{x,y:v,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,I=Rr(a,l,b,m),A=I.x,S=I.y;return{x:A,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Rke=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,l=a.x,c=a.y,d=a.width,f=a.height,p=f>=0?1:-1,m=p*i,y=p>0?"end":"start",x=p>0?"start":"end",v=d>=0?1:-1,b=v*i,I=v>0?"end":"start",A=v>0?"start":"end";if(s==="top"){var S={x:l+d/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Oi(Oi({},S),r?{height:Math.max(c-r.y,0),width:d}:{})}if(s==="bottom"){var k={x:l+d/2,y:c+f+m,textAnchor:"middle",verticalAnchor:x};return Oi(Oi({},k),r?{height:Math.max(r.y+r.height-(c+f),0),width:d}:{})}if(s==="left"){var P={x:l-b,y:c+f/2,textAnchor:I,verticalAnchor:"middle"};return Oi(Oi({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(s==="right"){var R={x:l+d+b,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return Oi(Oi({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:f}:{})}var E=r?{width:d,height:f}:{};return s==="insideLeft"?Oi({x:l+b,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},E):s==="insideRight"?Oi({x:l+d-b,y:c+f/2,textAnchor:I,verticalAnchor:"middle"},E):s==="insideTop"?Oi({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},E):s==="insideBottom"?Oi({x:l+d/2,y:c+f-m,textAnchor:"middle",verticalAnchor:y},E):s==="insideTopLeft"?Oi({x:l+b,y:c+m,textAnchor:A,verticalAnchor:x},E):s==="insideTopRight"?Oi({x:l+d-b,y:c+m,textAnchor:I,verticalAnchor:x},E):s==="insideBottomLeft"?Oi({x:l+b,y:c+f-m,textAnchor:A,verticalAnchor:y},E):s==="insideBottomRight"?Oi({x:l+d-b,y:c+f-m,textAnchor:I,verticalAnchor:y},E):Sm(s)&&(xt(s.x)||Md(s.x))&&(xt(s.y)||Md(s.y))?Oi({x:l+No(s.x,d),y:c+No(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):Oi({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Oke=function(e){return"cx"in e&&xt(e.cx)};function Yi(t){var e=t.offset,n=e===void 0?5:e,r=jke(t,xke),i=Oi({offset:n},r),s=i.viewBox,a=i.position,l=i.value,c=i.children,d=i.content,f=i.className,p=f===void 0?"":f,m=i.textBreakAll;if(!s||Rn(l)&&Rn(c)&&!C.isValidElement(d)&&!wn(d))return null;if(C.isValidElement(d))return C.cloneElement(d,i);var y;if(wn(d)){if(y=C.createElement(d,i),C.isValidElement(y))return y}else y=Eke(i);var x=Oke(s),v=tn(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Tke(i,y,v);var b=x?kke(i):Rke(i);return he.createElement(hh,by({className:Oe("recharts-label",p)},v,b,{breakAll:m}),y)}Yi.displayName="Label";var pX=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,p=e.x,m=e.y,y=e.top,x=e.left,v=e.width,b=e.height,I=e.clockWise,A=e.labelViewBox;if(A)return A;if(xt(v)&&xt(b)){if(xt(p)&&xt(m))return{x:p,y:m,width:v,height:b};if(xt(y)&&xt(x))return{x:y,y:x,width:v,height:b}}return xt(p)&&xt(m)?{x:p,y:m,width:0,height:0}:xt(n)&&xt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:I}:e.viewBox?e.viewBox:{}},Dke=function(e,n){return e?e===!0?he.createElement(Yi,{key:"label-implicit",viewBox:n}):Ni(e)?he.createElement(Yi,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Yi?C.cloneElement(e,{key:"label-implicit",viewBox:n}):he.createElement(Yi,{key:"label-implicit",content:e,viewBox:n}):wn(e)?he.createElement(Yi,{key:"label-implicit",content:e,viewBox:n}):Sm(e)?he.createElement(Yi,by({viewBox:n},e,{key:"label-implicit"})):null:null},Mke=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=pX(e),a=ra(i,Yi).map(function(c,d){return C.cloneElement(c,{viewBox:n||s,key:"label-".concat(d)})});if(!r)return a;var l=Dke(e.label,n||s);return[l].concat(yke(a))};Yi.parseViewBox=pX;Yi.renderCallByParent=Mke;var $E,c9;function Nke(){if(c9)return $E;c9=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return $E=t,$E}var $ke=Nke();const Lke=or($ke);function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}var zke=["valueAccessor"],Fke=["data","dataKey","clockWise","id","textBreakAll"];function Wke(t){return qke(t)||Uke(t)||Bke(t)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(t,e){if(t){if(typeof t=="string")return pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(t,e)}}function Uke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qke(t){if(Array.isArray(t))return pk(t)}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function u9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(n),!0).forEach(function(r){Hke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hke(t,e,n){return e=Gke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gke(t){var e=Kke(t,"string");return _y(e)=="symbol"?e:e+""}function Kke(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9(t,e){if(t==null)return{};var n=Yke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xke=function(e){return Array.isArray(e.value)?Lke(e.value):e.value};function dc(t){var e=t.valueAccessor,n=e===void 0?Xke:e,r=h9(t,zke),i=r.data,s=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,d=h9(r,Fke);return!i||!i.length?null:he.createElement(Kn,{className:"recharts-label-list"},i.map(function(f,p){var m=Rn(s)?n(f,p):Mi(f&&f.payload,s),y=Rn(l)?{}:{id:"".concat(l,"-").concat(p)};return he.createElement(Yi,w_({},tn(f,!0),d,y,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:Yi.parseViewBox(Rn(a)?f:d9(d9({},f),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}dc.displayName="LabelList";function Qke(t,e){return t?t===!0?he.createElement(dc,{key:"labelList-implicit",data:e}):he.isValidElement(t)||wn(t)?he.createElement(dc,{key:"labelList-implicit",data:e,content:t}):Sm(t)?he.createElement(dc,w_({data:e},t,{key:"labelList-implicit"})):null:null}function Jke(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ra(r,dc).map(function(a,l){return C.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=Qke(t.label,e);return[s].concat(Wke(i))}dc.renderCallByParent=Jke;function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mk.apply(this,arguments)}function f9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(n),!0).forEach(function(r){Zke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zke(t,e,n){return e=e5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5e(t){var e=t5e(t,"string");return wy(e)=="symbol"?e:e+""}function t5e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n5e=function(e,n){var r=Mo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},mb=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/__,m=d?s:s+a*p,y=Rr(n,r,f,m),x=Rr(n,r,i,m),v=d?s-a*p:s,b=Rr(n,r,f*Math.cos(p*__),v);return{center:y,circleTangency:x,lineTangency:b,theta:p}},mX=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,l=e.endAngle,c=n5e(a,l),d=a+c,f=Rr(n,r,s,a),p=Rr(n,r,s,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=Rr(n,r,i,a),x=Rr(n,r,i,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},r5e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,p=Mo(f-d),m=mb({cx:n,cy:r,radius:s,angle:d,sign:p,cornerRadius:a,cornerIsExternal:c}),y=m.circleTangency,x=m.lineTangency,v=m.theta,b=mb({cx:n,cy:r,radius:s,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:c}),I=b.circleTangency,A=b.lineTangency,S=b.theta,k=c?Math.abs(d-f):Math.abs(d-f)-v-S;if(k<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):mX({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var R=mb({cx:n,cy:r,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),E=R.circleTangency,O=R.lineTangency,D=R.theta,L=mb({cx:n,cy:r,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),$=L.circleTangency,B=L.lineTangency,N=L.theta,q=c?Math.abs(d-f):Math.abs(d-f)-D-N;if(q<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},i5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gX=function(e){var n=p9(p9({},i5e),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,p=n.endAngle,m=n.className;if(a<s||f===p)return null;var y=Oe("recharts-sector",m),x=a-s,v=No(l,x,0,!0),b;return v>0&&Math.abs(f-p)<360?b=r5e({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):b=mX({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:p}),he.createElement("path",mk({},tn(n,!0),{className:y,d:b,role:"img"}))};function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gk.apply(this,arguments)}function m9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(n),!0).forEach(function(r){o5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5e(t,e,n){return e=s5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s5e(t){var e=a5e(t,"string");return jy(e)=="symbol"?e:e+""}function a5e(t,e){if(jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x9={curveBasisClosed:A2e,curveBasisOpen:E2e,curveBasis:P2e,curveBumpX:h2e,curveBumpY:f2e,curveLinearClosed:I2e,curveLinear:dj,curveMonotoneX:T2e,curveMonotoneY:k2e,curveNatural:R2e,curveStep:O2e,curveStepAfter:M2e,curveStepBefore:D2e},gb=function(e){return e.x===+e.x&&e.y===+e.y},$g=function(e){return e.x},Lg=function(e){return e.y},l5e=function(e,n){if(wn(e))return e;var r="curve".concat(cj(e));return(r==="curveMonotone"||r==="curveBump")&&n?x9["".concat(r).concat(n==="vertical"?"Y":"X")]:x9[r]||dj},c5e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=l5e(r,l),p=d?s.filter(function(v){return gb(v)}):s,m;if(Array.isArray(a)){var y=d?a.filter(function(v){return gb(v)}):a,x=p.map(function(v,b){return g9(g9({},v),{},{base:y[b]})});return l==="vertical"?m=ab().y(Lg).x1($g).x0(function(v){return v.base.x}):m=ab().x($g).y1(Lg).y0(function(v){return v.base.y}),m.defined(gb).curve(f),m(x)}return l==="vertical"&&xt(a)?m=ab().y(Lg).x1($g).x0(a):xt(a)?m=ab().x($g).y1(Lg).y0(a):m=mK().x($g).y(Lg),m.defined(gb).curve(f),m(p)},rp=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?c5e(e):i;return he.createElement("path",gk({},tn(e,!1),X1(e),{className:Oe("recharts-curve",n),d:a,ref:s}))},u5e=Object.getOwnPropertyNames,d5e=Object.getOwnPropertySymbols,h5e=Object.prototype.hasOwnProperty;function y9(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function xb(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function v9(t){return u5e(t).concat(d5e(t))}var f5e=Object.hasOwn||function(t,e){return h5e.call(t,e)};function Sh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var p5e="__v",m5e="__o",g5e="_owner",b9=Object.getOwnPropertyDescriptor,_9=Object.keys;function x5e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function y5e(t,e){return Sh(t.getTime(),e.getTime())}function v5e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function b5e(t,e){return t===e}function w9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,l,c=0;(a=s.next())&&!a.done;){for(var d=e.entries(),f=!1,p=0;(l=d.next())&&!l.done;){if(i[p]){p++;continue}var m=a.value,y=l.value;if(n.equals(m[0],y[0],c,p,t,e,n)&&n.equals(m[1],y[1],m[0],y[0],t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var _5e=Sh;function w5e(t,e,n){var r=_9(t),i=r.length;if(_9(e).length!==i)return!1;for(;i-- >0;)if(!xX(t,e,n,r[i]))return!1;return!0}function zg(t,e,n){var r=v9(t),i=r.length;if(v9(e).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=r[i],!xX(t,e,n,s)||(a=b9(t,s),l=b9(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function j5e(t,e){return Sh(t.valueOf(),e.valueOf())}function S5e(t,e){return t.source===e.source&&t.flags===e.flags}function j9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,l;(a=s.next())&&!a.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function C5e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function P5e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xX(t,e,n,r){return(r===g5e||r===m5e||r===p5e)&&(t.$$typeof||e.$$typeof)?!0:f5e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var A5e="[object Arguments]",E5e="[object Boolean]",I5e="[object Date]",T5e="[object Error]",k5e="[object Map]",R5e="[object Number]",O5e="[object Object]",D5e="[object RegExp]",M5e="[object Set]",N5e="[object String]",$5e="[object URL]",L5e=Array.isArray,S9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,C9=Object.assign,z5e=Object.prototype.toString.call.bind(Object.prototype.toString);function F5e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(x,v,b){if(x===v)return!0;if(x==null||v==null)return!1;var I=typeof x;if(I!==typeof v)return!1;if(I!=="object")return I==="number"?a(x,v,b):I==="function"?i(x,v,b):!1;var A=x.constructor;if(A!==v.constructor)return!1;if(A===Object)return l(x,v,b);if(L5e(x))return e(x,v,b);if(S9!=null&&S9(x))return p(x,v,b);if(A===Date)return n(x,v,b);if(A===RegExp)return d(x,v,b);if(A===Map)return s(x,v,b);if(A===Set)return f(x,v,b);var S=z5e(x);return S===I5e?n(x,v,b):S===D5e?d(x,v,b):S===k5e?s(x,v,b):S===M5e?f(x,v,b):S===O5e?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,b):S===$5e?m(x,v,b):S===T5e?r(x,v,b):S===A5e?l(x,v,b):S===E5e||S===R5e||S===N5e?c(x,v,b):!1}}function W5e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?zg:x5e,areDatesEqual:y5e,areErrorsEqual:v5e,areFunctionsEqual:b5e,areMapsEqual:r?y9(w9,zg):w9,areNumbersEqual:_5e,areObjectsEqual:r?zg:w5e,arePrimitiveWrappersEqual:j5e,areRegExpsEqual:S5e,areSetsEqual:r?y9(j9,zg):j9,areTypedArraysEqual:r?zg:C5e,areUrlsEqual:P5e};if(n&&(i=C9({},i,n(i))),e){var s=xb(i.areArraysEqual),a=xb(i.areMapsEqual),l=xb(i.areObjectsEqual),c=xb(i.areSetsEqual);i=C9({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function V5e(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function B5e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,d){var f=r(),p=f.cache,m=p===void 0?e?new WeakMap:void 0:p,y=f.meta;return n(c,d,{cache:m,equals:i,meta:y,strict:s})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return n(c,d,a)}}var U5e=Bu();Bu({strict:!0});Bu({circular:!0});Bu({circular:!0,strict:!0});Bu({createInternalComparator:function(){return Sh}});Bu({strict:!0,createInternalComparator:function(){return Sh}});Bu({circular:!0,createInternalComparator:function(){return Sh}});Bu({circular:!0,createInternalComparator:function(){return Sh},strict:!0});function Bu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,l=W5e(t),c=F5e(l),d=r?r(c):V5e(c);return B5e({circular:n,comparator:c,createState:i,equals:d,strict:a})}function q5e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function P9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):q5e(i)};requestAnimationFrame(r)}function xk(t){"@babel/helpers - typeof";return xk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xk(t)}function H5e(t){return X5e(t)||Y5e(t)||K5e(t)||G5e()}function G5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5e(t,e){if(t){if(typeof t=="string")return A9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A9(t,e)}}function A9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X5e(t){if(Array.isArray(t))return t}function Q5e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,l=H5e(a),c=l[0],d=l.slice(1);if(typeof c=="number"){P9(i.bind(null,d),c);return}i(c),P9(i.bind(null,d));return}xk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function E9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(n),!0).forEach(function(r){yX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e,n){return e=J5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J5e(t){var e=Z5e(t,"string");return Sy(e)==="symbol"?e:String(e)}function Z5e(t,e){if(Sy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eRe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},tRe=function(e){return e},nRe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},jx=function(e,n){return Object.keys(n).reduce(function(r,i){return I9(I9({},r),{},yX({},i,e(i,n[i])))},{})},T9=function(e,n,r){return e.map(function(i){return"".concat(nRe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function rRe(t,e){return sRe(t)||oRe(t,e)||vX(t,e)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function sRe(t){if(Array.isArray(t))return t}function aRe(t){return uRe(t)||cRe(t)||vX(t)||lRe()}function lRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vX(t,e){if(t){if(typeof t=="string")return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}}function cRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uRe(t){if(Array.isArray(t))return yk(t)}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j_=1e-4,bX=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},_X=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},k9=function(e,n){return function(r){var i=bX(e,n);return _X(i,r)}},dRe=function(e,n){return function(r){var i=bX(e,n),s=[].concat(aRe(i.map(function(a,l){return a*l}).slice(1)),[0]);return _X(s,r)}},R9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=rRe(d,4);i=f[0],s=f[1],a=f[2],l=f[3]}}}var p=k9(i,a),m=k9(s,l),y=dRe(i,a),x=function(I){return I>1?1:I<0?0:I},v=function(I){for(var A=I>1?1:I,S=A,k=0;k<8;++k){var P=p(S)-A,R=y(S);if(Math.abs(P-A)<j_||R<j_)return m(S);S=x(S-P/R)}return m(S)};return v.isStepper=!1,v},hRe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(f,p,m){var y=-(f-p)*r,x=m*s,v=m+(y-x)*l/1e3,b=m*l/1e3+f;return Math.abs(b-p)<j_&&Math.abs(v)<j_?[p,0]:[b,v]};return c.isStepper=!0,c.dt=l,c},fRe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R9(i);case"spring":return hRe();default:if(i.split("(")[0]==="cubic-bezier")return R9(i)}return typeof i=="function"?i:null};function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function O9(t){return gRe(t)||mRe(t)||wX(t)||pRe()}function pRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gRe(t){if(Array.isArray(t))return bk(t)}function D9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(n),!0).forEach(function(r){vk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vk(t,e,n){return e=xRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xRe(t){var e=yRe(t,"string");return Cy(e)==="symbol"?e:String(e)}function yRe(t,e){if(Cy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vRe(t,e){return wRe(t)||_Re(t,e)||wX(t,e)||bRe()}function bRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wX(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Re(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function wRe(t){if(Array.isArray(t))return t}var S_=function(e,n,r){return e+(n-e)*r},_k=function(e){var n=e.from,r=e.to;return n!==r},jRe=function t(e,n,r){var i=jx(function(s,a){if(_k(a)){var l=e(a.from,a.to,a.velocity),c=vRe(l,2),d=c[0],f=c[1];return io(io({},a),{},{from:d,velocity:f})}return a},n);return r<1?jx(function(s,a){return _k(a)?io(io({},a),{},{velocity:S_(a.velocity,i[s].velocity,r),from:S_(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const SRe=function(t,e,n,r,i){var s=eRe(t,e),a=s.reduce(function(b,I){return io(io({},b),{},vk({},I,[t[I],e[I]]))},{}),l=s.reduce(function(b,I){return io(io({},b),{},vk({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,d,f,p=function(){return null},m=function(){return jx(function(I,A){return A.from},l)},y=function(){return!Object.values(l).filter(_k).length},x=function(I){d||(d=I);var A=I-d,S=A/n.dt;l=jRe(n,l,S),i(io(io(io({},t),e),m())),d=I,y()||(c=requestAnimationFrame(p))},v=function(I){f||(f=I);var A=(I-f)/r,S=jx(function(P,R){return S_.apply(void 0,O9(R).concat([n(A)]))},a);if(i(io(io(io({},t),e),S)),A<1)c=requestAnimationFrame(p);else{var k=jx(function(P,R){return S_.apply(void 0,O9(R).concat([n(1)]))},a);i(io(io(io({},t),e),k))}};return p=n.isStepper?x:v,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}var CRe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function PRe(t,e){if(t==null)return{};var n=ARe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ARe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LE(t){return kRe(t)||TRe(t)||IRe(t)||ERe()}function ERe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IRe(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function TRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kRe(t){if(Array.isArray(t))return wk(t)}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ex(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ORe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jX(r.key),r)}}function DRe(t,e,n){return e&&ORe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jX(t){var e=MRe(t,"string");return Vp(e)==="symbol"?e:String(e)}function MRe(t,e){if(Vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jk(t,e)}function $Re(t){var e=LRe();return function(){var r=C_(t),i;if(e){var s=C_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Sk(this,i)}}function Sk(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ck(t)}function Ck(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C_(t){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C_(t)}var jl=function(t){NRe(n,t);var e=$Re(n);function n(r,i){var s;RRe(this,n),s=e.call(this,r,i);var a=s.props,l=a.isActive,c=a.attributeName,d=a.from,f=a.to,p=a.steps,m=a.children,y=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Ck(s)),s.changeStyle=s.changeStyle.bind(Ck(s)),!l||y<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),Sk(s);if(p&&p.length)s.state={style:p[0].style};else if(d){if(typeof m=="function")return s.state={style:d},Sk(s);s.state={style:c?ex({},c,d):d}}else s.state={style:{}};return s}return DRe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,p=s.from,m=this.state.style;if(l){if(!a){var y={style:c?ex({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(y);return}if(!(U5e(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||d?p:i.to;if(this.state&&m){var b={style:c?ex({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(b)}this.runAnimation(Aa(Aa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,y=SRe(a,l,fRe(d),c,this.changeStyle),x=function(){s.stopJSAnimation=y()};this.manager.start([m,f,x,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,d=a[0],f=d.style,p=d.duration,m=p===void 0?0:p,y=function(v,b,I){if(I===0)return v;var A=b.duration,S=b.easing,k=S===void 0?"ease":S,P=b.style,R=b.properties,E=b.onAnimationEnd,O=I>0?a[I-1]:b,D=R||Object.keys(P);if(typeof k=="function"||k==="spring")return[].concat(LE(v),[s.runJSAnimation.bind(s,{from:O.style,to:P,duration:A,easing:k}),A]);var L=T9(D,A,k),$=Aa(Aa(Aa({},O.style),P),{},{transition:L});return[].concat(LE(v),[$,A,E]).filter(tRe)};return this.manager.start([c].concat(LE(a.reduce(y,[f,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Q5e());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?ex({},l,c):c,b=T9(Object.keys(v),a,d);x.start([f,s,Aa(Aa({},v),{},{transition:b}),a,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=PRe(i,CRe),d=C.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||a<=0)return s;var p=function(y){var x=y.props,v=x.style,b=v===void 0?{}:v,I=x.className,A=C.cloneElement(y,Aa(Aa({},c),{},{style:Aa(Aa({},b),f),className:I}));return A};return d===1?p(C.Children.only(s)):he.createElement("div",null,C.Children.map(s,function(m){return p(m)}))}}]),n}(C.PureComponent);jl.displayName="Animate";jl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jl.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function zRe(t,e){return BRe(t)||VRe(t,e)||WRe(t,e)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WRe(t,e){if(t){if(typeof t=="string")return N9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N9(t,e)}}function N9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function BRe(t){if(Array.isArray(t))return t}function $9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(n),!0).forEach(function(r){URe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function URe(t,e,n){return e=qRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qRe(t){var e=HRe(t,"string");return Py(e)=="symbol"?e:e+""}function HRe(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z9=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&s instanceof Array){for(var p=[0,0,0,0],m=0,y=4;m<y;m++)p[m]=s[m]>a?a:s[m];f="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(n)),f+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*p[1])),f+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),f+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*p[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);f="M ".concat(e,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*x,`
            L `).concat(e+r,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*x," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},GRe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),p=Math.min(a,a+c),m=Math.max(a,a+c);return r>=d&&r<=f&&i>=p&&i<=m}return!1},KRe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eD=function(e){var n=L9(L9({},KRe),e),r=C.useRef(),i=C.useState(-1),s=zRe(i,2),a=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,d=n.y,f=n.width,p=n.height,m=n.radius,y=n.className,x=n.animationEasing,v=n.animationDuration,b=n.animationBegin,I=n.isAnimationActive,A=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||p!==+p||f===0||p===0)return null;var S=Oe("recharts-rectangle",y);return A?he.createElement(jl,{canBegin:a>0,from:{width:f,height:p,x:c,y:d},to:{width:f,height:p,x:c,y:d},duration:v,animationEasing:x,isActive:A},function(k){var P=k.width,R=k.height,E=k.x,O=k.y;return he.createElement(jl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:I,easing:x},he.createElement("path",P_({},tn(n,!0),{className:S,d:z9(E,O,P,R,m),ref:r})))}):he.createElement("path",P_({},tn(n,!0),{className:S,d:z9(c,d,f,p,m)}))},YRe=["points","className","baseLinePoints","connectNulls"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function XRe(t,e){if(t==null)return{};var n=QRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F9(t){return tOe(t)||eOe(t)||ZRe(t)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZRe(t,e){if(t){if(typeof t=="string")return Pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pk(t,e)}}function eOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tOe(t){if(Array.isArray(t))return Pk(t)}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W9=function(e){return e&&e.x===+e.x&&e.y===+e.y},nOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){W9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),W9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Sx=function(e,n){var r=nOe(e);n&&(r=[r.reduce(function(s,a){return[].concat(F9(s),F9(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,l,c){return"".concat(a).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},rOe=function(e,n,r){var i=Sx(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sx(n.reverse(),r).slice(1))},iOe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=XRe(e,YRe);if(!n||!n.length)return null;var l=Oe("recharts-polygon",r);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",d=rOe(n,i,s);return he.createElement("g",{className:l},he.createElement("path",Wf({},tn(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),c?he.createElement("path",Wf({},tn(a,!0),{fill:"none",d:Sx(n,s)})):null,c?he.createElement("path",Wf({},tn(a,!0),{fill:"none",d:Sx(i,s)})):null)}var f=Sx(n,s);return he.createElement("path",Wf({},tn(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",className:l,d:f}))};function Ak(){return Ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ak.apply(this,arguments)}var Ej=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=Oe("recharts-dot",s);return n===+n&&r===+r&&i===+i?he.createElement("circle",Ak({},tn(e,!1),X1(e),{className:a,cx:n,cy:r,r:i})):null};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var oOe=["x","y","top","left","width","height","className"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ek.apply(this,arguments)}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sOe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){aOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aOe(t,e,n){return e=lOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lOe(t){var e=cOe(t,"string");return Ay(e)=="symbol"?e:e+""}function cOe(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uOe(t,e){if(t==null)return{};var n=dOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hOe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},fOe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,d=c===void 0?0:c,f=e.width,p=f===void 0?0:f,m=e.height,y=m===void 0?0:m,x=e.className,v=uOe(e,oOe),b=sOe({x:r,y:s,top:l,left:d,width:p,height:y},v);return!xt(r)||!xt(s)||!xt(p)||!xt(y)||!xt(l)||!xt(d)?null:he.createElement("path",Ek({},tn(b,!0),{className:Oe("recharts-cross",x),d:hOe(r,s,p,y,l,d)}))},zE,B9;function pOe(){if(B9)return zE;B9=1;var t=jj(),e=zY(),n=El();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return zE=r,zE}var mOe=pOe();const gOe=or(mOe);var FE,U9;function xOe(){if(U9)return FE;U9=1;var t=jj(),e=El(),n=FY();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return FE=r,FE}var yOe=xOe();const vOe=or(yOe);var bOe=["cx","cy","angle","ticks","axisLine"],_Oe=["ticks","tick","angle","tickFormatter","stroke"];function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(this,arguments)}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){Ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H9(t,e){if(t==null)return{};var n=wOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CX(r.key),r)}}function SOe(t,e,n){return e&&G9(t.prototype,e),n&&G9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function COe(t,e,n){return e=A_(e),POe(t,SX()?Reflect.construct(e,n||[],A_(t).constructor):e.apply(t,n))}function POe(t,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AOe(t)}function AOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A_(t)}function EOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ik(t,e)}function Ij(t,e,n){return e=CX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=IOe(t,"string");return Bp(e)=="symbol"?e:e+""}function IOe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tj=function(t){function e(){return jOe(this,e),COe(this,e,arguments)}return EOe(e,t),SOe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,l=s.cx,c=s.cy;return Rr(l,c,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,c=gOe(l,function(f){return f.coordinate||0}),d=vOe(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,l=r.ticks,c=r.axisLine,d=H9(r,bOe),f=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),p=Rr(i,s,f[0],a),m=Rr(i,s,f[1],a),y=fd(fd(fd({},tn(d,!1)),{},{fill:"none"},tn(c,!1)),{},{x1:p.x,y1:p.y,x2:m.x,y2:m.y});return he.createElement("line",Cx({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=H9(i,_Oe),p=this.getTickTextAnchor(),m=tn(f,!1),y=tn(a,!1),x=s.map(function(v,b){var I=r.getTickValueCoord(v),A=fd(fd(fd(fd({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(I.x,", ").concat(I.y,")")},m),{},{stroke:"none",fill:d},y),{},{index:b},I),{},{payload:v});return he.createElement(Kn,Cx({className:Oe("recharts-polar-radius-axis-tick",fX(a)),key:"tick-".concat(v.coordinate)},dh(r.props,v,b)),e.renderTickItem(a,A,c?c(v.value,b):v.value))});return he.createElement(Kn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:he.createElement(Kn,{className:Oe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Yi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return he.isValidElement(r)?a=he.cloneElement(r,i):wn(r)?a=r(i):a=he.createElement(hh,Cx({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(C.PureComponent);Ij(Tj,"displayName","PolarRadiusAxis");Ij(Tj,"axisType","radiusAxis");Ij(Tj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){kj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AX(r.key),r)}}function kOe(t,e,n){return e&&Y9(t.prototype,e),n&&Y9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ROe(t,e,n){return e=E_(e),OOe(t,PX()?Reflect.construct(e,n||[],E_(t).constructor):e.apply(t,n))}function OOe(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DOe(t)}function DOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PX=function(){return!!t})()}function E_(t){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E_(t)}function MOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tk(t,e)}function kj(t,e,n){return e=AX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AX(t){var e=NOe(t,"string");return Up(e)=="symbol"?e:e+""}function NOe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Oe=Math.PI/180,X9=1e-5,Rj=function(t){function e(){return TOe(this,e),ROe(this,e,arguments)}return MOe(e,t),kOe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,p=Rr(s,a,l,r.coordinate),m=Rr(s,a,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*$Oe),a;return s>X9?a=i==="outer"?"start":"end":s<-X9?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,l=r.axisLine,c=r.axisLineType,d=pd(pd({},tn(this.props,!1)),{},{fill:"none"},tn(l,!1));if(c==="circle")return he.createElement(Ej,Id({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:a}));var f=this.props.ticks,p=f.map(function(m){return Rr(i,s,a,m.coordinate)});return he.createElement(iOe,Id({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=tn(this.props,!1),p=tn(a,!1),m=pd(pd({},f),{},{fill:"none"},tn(l,!1)),y=s.map(function(x,v){var b=r.getTickLineCoord(x),I=r.getTickTextAnchor(x),A=pd(pd(pd({textAnchor:I},f),{},{stroke:"none",fill:d},p),{},{index:v,payload:x,x:b.x2,y:b.y2});return he.createElement(Kn,Id({className:Oe("recharts-polar-angle-axis-tick",fX(a)),key:"tick-".concat(x.coordinate)},dh(r.props,x,v)),l&&he.createElement("line",Id({className:"recharts-polar-angle-axis-tick-line"},m,b)),a&&e.renderTickItem(a,A,c?c(x.value,v):x.value))});return he.createElement(Kn,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:he.createElement(Kn,{className:Oe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return he.isValidElement(r)?a=he.cloneElement(r,i):wn(r)?a=r(i):a=he.createElement(hh,Id({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(C.PureComponent);kj(Rj,"displayName","PolarAngleAxis");kj(Rj,"axisType","angleAxis");kj(Rj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WE,Q9;function LOe(){if(Q9)return WE;Q9=1;var t=LK(),e=t(Object.getPrototypeOf,Object);return WE=e,WE}var VE,J9;function zOe(){if(J9)return VE;J9=1;var t=Ec(),e=LOe(),n=Ic(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,l=s.hasOwnProperty,c=a.call(Object);function d(f){if(!n(f)||t(f)!=r)return!1;var p=e(f);if(p===null)return!0;var m=l.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==c}return VE=d,VE}var FOe=zOe();const WOe=or(FOe);var BE,Z9;function VOe(){if(Z9)return BE;Z9=1;var t=Ec(),e=Ic(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return BE=r,BE}var BOe=VOe();const UOe=or(BOe);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function qOe(t,e){return YOe(t)||KOe(t,e)||GOe(t,e)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(t,e){if(t){if(typeof t=="string")return eV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(t,e)}}function eV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function YOe(t){if(Array.isArray(t))return t}function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){XOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XOe(t,e,n){return e=QOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QOe(t){var e=JOe(t,"string");return Ey(e)=="symbol"?e:e+""}function JOe(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rV=function(e,n,r,i,s){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+s),l+="L ".concat(e+r-a/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},ZOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eDe=function(e){var n=nV(nV({},ZOe),e),r=C.useRef(),i=C.useState(-1),s=qOe(i,2),a=s[0],l=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,f=n.upperWidth,p=n.lowerWidth,m=n.height,y=n.className,x=n.animationEasing,v=n.animationDuration,b=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||p!==+p||m!==+m||f===0&&p===0||m===0)return null;var A=Oe("recharts-trapezoid",y);return I?he.createElement(jl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:f,lowerWidth:p,height:m,x:c,y:d},duration:v,animationEasing:x,isActive:I},function(S){var k=S.upperWidth,P=S.lowerWidth,R=S.height,E=S.x,O=S.y;return he.createElement(jl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:x},he.createElement("path",I_({},tn(n,!0),{className:A,d:rV(E,O,k,P,R),ref:r})))}):he.createElement("g",null,he.createElement("path",I_({},tn(n,!0),{className:A,d:rV(c,d,f,p,m)})))},tDe=["option","shapeType","propTransformer","activeClassName","isActive"];function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function nDe(t,e){if(t==null)return{};var n=rDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){iDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iDe(t,e,n){return e=oDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oDe(t){var e=sDe(t,"string");return Iy(e)=="symbol"?e:e+""}function sDe(t,e){if(Iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aDe(t,e){return T_(T_({},e),t)}function lDe(t,e){return t==="symbols"}function oV(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return he.createElement(eD,n);case"trapezoid":return he.createElement(eDe,n);case"sector":return he.createElement(gX,n);case"symbols":if(lDe(e))return he.createElement(vO,n);break;default:return null}}function cDe(t){return C.isValidElement(t)?t.props:t}function EX(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?aDe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,l=t.isActive,c=nDe(t,tDe),d;if(C.isValidElement(e))d=C.cloneElement(e,T_(T_({},c),cDe(e)));else if(wn(e))d=e(c);else if(WOe(e)&&!UOe(e)){var f=i(e,c);d=he.createElement(oV,{shapeType:n,elementProps:f})}else{var p=c;d=he.createElement(oV,{shapeType:n,elementProps:p})}return l?he.createElement(Kn,{className:a},d):d}function Oj(t,e){return e!=null&&"trapezoids"in t.props}function Dj(t,e){return e!=null&&"sectors"in t.props}function Ty(t,e){return e!=null&&"points"in t.props}function uDe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function dDe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hDe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fDe(t,e){var n;return Oj(t,e)?n=uDe:Dj(t,e)?n=dDe:Ty(t,e)&&(n=hDe),n}function pDe(t,e){var n;return Oj(t,e)?n="trapezoids":Dj(t,e)?n="sectors":Ty(t,e)&&(n="points"),n}function mDe(t,e){if(Oj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ty(t,e)?e.payload:{}}function gDe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=pDe(n,e),s=mDe(n,e),a=r.filter(function(c,d){var f=Fp(s,c),p=n.props[i].filter(function(x){var v=fDe(n,e);return v(x,e)}),m=n.props[i].indexOf(p[p.length-1]),y=d===m;return f&&y}),l=r.indexOf(a[a.length-1]);return l}var e1;function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function sV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(n),!0).forEach(function(r){Xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TX(r.key),r)}}function yDe(t,e,n){return e&&aV(t.prototype,e),n&&aV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vDe(t,e,n){return e=k_(e),bDe(t,IX()?Reflect.construct(e,n||[],k_(t).constructor):e.apply(t,n))}function bDe(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _De(t)}function _De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!t})()}function k_(t){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k_(t)}function wDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kk(t,e)}function Xs(t,e,n){return e=TX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=jDe(t,"string");return qp(e)=="symbol"?e:e+""}function jDe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kc=function(t){function e(n){var r;return xDe(this,e),r=vDe(this,e,[n]),Xs(r,"pieRef",null),Xs(r,"sectorRefs",[]),Xs(r,"id",Pm("recharts-pie-")),Xs(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),wn(i)&&i()}),Xs(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),wn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wDe(e,t),yDe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,f=tn(this.props,!1),p=tn(a,!1),m=tn(l,!1),y=a&&a.offsetRadius||20,x=r.map(function(v,b){var I=(v.startAngle+v.endAngle)/2,A=Rr(v.cx,v.cy,v.outerRadius+y,I),S=Tr(Tr(Tr(Tr({},f),v),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(A.x,v.cx)},A),k=Tr(Tr(Tr(Tr({},f),v),{},{fill:"none",stroke:v.fill},m),{},{index:b,points:[Rr(v.cx,v.cy,v.outerRadius,I),A]}),P=c;return Rn(c)&&Rn(d)?P="value":Rn(c)&&(P=d),he.createElement(Kn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(a,S,Mi(v,P)))});return he.createElement(Kn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var p=i.isActiveIndex(f),m=c&&i.hasActiveIndex()?c:null,y=p?a:m,x=Tr(Tr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return he.createElement(Kn,Vf({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},dh(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),he.createElement(EX,Vf({option:y,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state,m=p.prevSectors,y=p.prevIsAnimationActive;return he.createElement(jl,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,b=[],I=s&&s[0],A=I.startAngle;return s.forEach(function(S,k){var P=m&&m[k],R=k>0?Es(S,"paddingAngle",0):0;if(P){var E=Jo(P.endAngle-P.startAngle,S.endAngle-S.startAngle),O=Tr(Tr({},S),{},{startAngle:A+R,endAngle:A+E(v)+R});b.push(O),A=O.endAngle}else{var D=S.endAngle,L=S.startAngle,$=Jo(0,D-L),B=$(v),N=Tr(Tr({},S),{},{startAngle:A+R,endAngle:A+B+R});b.push(N),A=N.endAngle}}),he.createElement(Kn,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Fp(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,p=i.innerRadius,m=i.outerRadius,y=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!xt(d)||!xt(f)||!xt(p)||!xt(m))return null;var v=Oe("recharts-pie",l);return he.createElement(Kn,{tabIndex:this.props.rootTabIndex,className:v,ref:function(I){r.pieRef=I}},this.renderSectors(),c&&this.renderLabels(a),Yi.renderCallByParent(this.props,null,!1),(!y||x)&&dc.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(he.isValidElement(r))return he.cloneElement(r,i);if(wn(r))return r(i);var a=Oe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return he.createElement(rp,Vf({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(he.isValidElement(r))return he.cloneElement(r,i);var a=s;if(wn(r)&&(a=r(i),he.isValidElement(a)))return a;var l=Oe("recharts-pie-label-text",typeof r!="boolean"&&!wn(r)?r.className:"");return he.createElement(hh,Vf({},i,{alignmentBaseline:"middle",className:l}),a)}}])}(C.PureComponent);e1=kc;Xs(kc,"displayName","Pie");Xs(kc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_h.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xs(kc,"parseDeltaAngle",function(t,e){var n=Mo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xs(kc,"getRealPieData",function(t){var e=t.data,n=t.children,r=tn(t,!1),i=ra(n,gj);return e&&e.length?e.map(function(s,a){return Tr(Tr(Tr({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Tr(Tr({},r),s.props)}):[]});Xs(kc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=hX(i,s),l=r+No(t.cx,i,i/2),c=n+No(t.cy,s,s/2),d=No(t.innerRadius,a,0),f=No(t.outerRadius,a,a*.8),p=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}});Xs(kc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Tr(Tr({},e.type.defaultProps),e.props):e.props,i=e1.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,f=r.nameKey,p=r.valueKey,m=r.tooltipType,y=Math.abs(r.minAngle),x=e1.parseCoordinateOfPie(r,n),v=e1.parseDeltaAngle(a,l),b=Math.abs(v),I=d;Rn(d)&&Rn(p)?(cc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I="value"):Rn(d)&&(cc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I=p);var A=i.filter(function(O){return Mi(O,I,0)!==0}).length,S=(b>=360?A:A-1)*c,k=b-A*y-S,P=i.reduce(function(O,D){var L=Mi(D,I,0);return O+(xt(L)?L:0)},0),R;if(P>0){var E;R=i.map(function(O,D){var L=Mi(O,I,0),$=Mi(O,f,D),B=(xt(L)?L:0)/P,N;D?N=E.endAngle+Mo(v)*c*(L!==0?1:0):N=a;var q=N+Mo(v)*((L!==0?y:0)+B*k),Y=(N+q)/2,ne=(x.innerRadius+x.outerRadius)/2,Q=[{name:$,value:L,payload:O,dataKey:I,type:m}],ee=Rr(x.cx,x.cy,ne,Y);return E=Tr(Tr(Tr({percent:B,cornerRadius:s,name:$,tooltipPayload:Q,midAngle:Y,middleRadius:ne,tooltipPosition:ee},O),x),{},{value:Mi(O,I),startAngle:N,endAngle:q,payload:O,paddingAngle:Mo(v)*c}),E})}return Tr(Tr({},x),{},{sectors:R,data:i})});var UE,lV;function SDe(){if(lV)return UE;lV=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var l=-1,c=e(t((i-r)/(s||1)),0),d=Array(c);c--;)d[a?c:++l]=r,r+=s;return d}return UE=n,UE}var qE,cV;function kX(){if(cV)return qE;cV=1;var t=eY(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return qE=r,qE}var HE,uV;function CDe(){if(uV)return HE;uV=1;var t=SDe(),e=mj(),n=kX();function r(i){return function(s,a,l){return l&&typeof l!="number"&&e(s,a,l)&&(a=l=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),l=l===void 0?s<a?1:-1:n(l),t(s,a,l,i)}}return HE=r,HE}var GE,dV;function PDe(){if(dV)return GE;dV=1;var t=CDe(),e=t();return GE=e,GE}var ADe=PDe();const R_=or(ADe);function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return e=EDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EDe(t){var e=IDe(t,"string");return ky(e)=="symbol"?e:e+""}function IDe(t,e){if(ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TDe=["Webkit","Moz","O","ms"],kDe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=TDe.reduce(function(s,a){return fV(fV({},s),{},RX({},a+r,n))},{});return i[e]=n,i};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DX(r.key),r)}}function ODe(t,e,n){return e&&mV(t.prototype,e),n&&mV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DDe(t,e,n){return e=D_(e),MDe(t,OX()?Reflect.construct(e,n||[],D_(t).constructor):e.apply(t,n))}function MDe(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NDe(t)}function NDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OX=function(){return!!t})()}function D_(t){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D_(t)}function $De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rk(t,e)}function Rk(t,e){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rk(t,e)}function gs(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=LDe(t,"string");return Hp(e)=="symbol"?e:e+""}function LDe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zDe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=_x().domain(R_(0,c)).range([s,s+a-l]),f=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:f}},gV=function(e){return e.changedTouches&&!!e.changedTouches.length},Gp=function(t){function e(n){var r;return RDe(this,e),r=DDe(this,e,[n]),gs(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),gs(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),gs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),gs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),gs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),gs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),gs(r,"handleSlideDragStart",function(i){var s=gV(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $De(e,t),ODe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,p=Math.min(i,s),m=Math.max(i,s),y=e.getIndexInRange(a,p),x=e.getIndexInRange(a,m);return{startIndex:y-y%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=Mi(s[r],l,r);return wn(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,p=c.travellerWidth,m=c.startIndex,y=c.endIndex,x=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,d+f-p-l,d+f-p-a):v<0&&(v=Math.max(v,d-a,d-l));var b=this.getIndex({startX:a+v,endX:l+v});(b.startIndex!==m||b.endIndex!==y)&&x&&x(b),this.setState({startX:a+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=gV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[a],f=this.props,p=f.x,m=f.width,y=f.travellerWidth,x=f.onChange,v=f.gap,b=f.data,I={startX:this.state.startX,endX:this.state.endX},A=r.pageX-s;A>0?A=Math.min(A,p+m-y-d):A<0&&(A=Math.max(A,p-d)),I[a]=d+A;var S=this.getIndex(I),k=S.startIndex,P=S.endIndex,R=function(){var O=b.length-1;return a==="startX"&&(l>c?k%v===0:P%v===0)||l<c&&P===O||a==="endX"&&(l>c?P%v===0:k%v===0)||l>c&&P===O};this.setState(gs(gs({},a,d+A),"brushMoveStartX",r.pageX),function(){x&&R()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,d=a.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var m=p+r;if(!(m===-1||m>=l.length)){var y=l[m];i==="startX"&&y>=d||i==="endX"&&y<=c||this.setState(gs({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.fill,d=r.stroke;return he.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.data,d=r.children,f=r.padding,p=C.Children.only(d);return p?he.cloneElement(p,{x:i,y:s,width:a,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,l=this,c=this.props,d=c.y,f=c.travellerWidth,p=c.height,m=c.traveller,y=c.ariaLabel,x=c.data,v=c.startIndex,b=c.endIndex,I=Math.max(r,this.props.x),A=KE(KE({},tn(this.props,!1)),{},{x:I,y:d,width:f,height:p}),S=y||"Min value: ".concat((s=x[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return he.createElement(Kn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,A))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(r,i)+d,p=Math.max(Math.abs(i-r)-d,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:a,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,f=this.state,p=f.startX,m=f.endX,y=5,x={pointerEvents:"none",fill:d};return he.createElement(Kn,{className:"recharts-brush-texts"},he.createElement(hh,O_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-y,y:a+l/2},x),this.getTextOfTick(i)),he.createElement(hh,O_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+c+y,y:a+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,l=r.x,c=r.y,d=r.width,f=r.height,p=r.alwaysShowText,m=this.state,y=m.startX,x=m.endX,v=m.isTextActive,b=m.isSlideMoving,I=m.isTravellerMoving,A=m.isTravellerFocused;if(!i||!i.length||!xt(l)||!xt(c)||!xt(d)||!xt(f)||d<=0||f<=0)return null;var S=Oe("recharts-brush",s),k=he.Children.count(a)===1,P=kDe("userSelect","none");return he.createElement(Kn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(v||b||I||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,l=r.height,c=r.stroke,d=Math.floor(s+l/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),he.createElement("line",{x1:i+1,y1:d,x2:i+a-1,y2:d,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:d+2,x2:i+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return he.isValidElement(r)?s=he.cloneElement(r,i):wn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,f=r.startIndex,p=r.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return KE({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:a},s&&s.length?zDe({data:s,width:a,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var m=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(C.PureComponent);gs(Gp,"displayName","Brush");gs(Gp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YE,xV;function FDe(){if(xV)return YE;xV=1;var t=PO();function e(n,r){var i;return t(n,function(s,a,l){return i=r(s,a,l),!i}),!!i}return YE=e,YE}var XE,yV;function WDe(){if(yV)return XE;yV=1;var t=kK(),e=El(),n=FDe(),r=ss(),i=mj();function s(a,l,c){var d=r(a)?t:n;return c&&i(a,l,c)&&(l=void 0),d(a,e(l,3))}return XE=s,XE}var VDe=WDe();const BDe=or(VDe);var xl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},QE,vV;function UDe(){if(vV)return QE;vV=1;var t=YK();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return QE=e,QE}var JE,bV;function qDe(){if(bV)return JE;bV=1;var t=UDe(),e=GK(),n=El();function r(i,s){var a={};return s=n(s,3),e(i,function(l,c,d){t(a,c,s(l,c,d))}),a}return JE=r,JE}var HDe=qDe();const GDe=or(HDe);var ZE,_V;function KDe(){if(_V)return ZE;_V=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return ZE=t,ZE}var eI,wV;function YDe(){if(wV)return eI;wV=1;var t=PO();function e(n,r){var i=!0;return t(n,function(s,a,l){return i=!!r(s,a,l),i}),i}return eI=e,eI}var tI,jV;function XDe(){if(jV)return tI;jV=1;var t=KDe(),e=YDe(),n=El(),r=ss(),i=mj();function s(a,l,c){var d=r(a)?t:e;return c&&i(a,l,c)&&(l=void 0),d(a,n(l,3))}return tI=s,tI}var QDe=XDe();const JDe=or(QDe);var ZDe=["x","y"];function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ok.apply(this,arguments)}function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){e3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e3e(t,e,n){return e=t3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3e(t){var e=n3e(t,"string");return Ry(e)=="symbol"?e:e+""}function n3e(t,e){if(Ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r3e(t,e){if(t==null)return{};var n=i3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o3e(t,e){var n=t.x,r=t.y,i=r3e(t,ZDe),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),p="".concat(e.width||i.width),m=parseInt(p,10);return Fg(Fg(Fg(Fg(Fg({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function CV(t){return he.createElement(EX,Ok({shapeType:"rectangle",propTransformer:o3e,activeClassName:"recharts-active-bar"},t))}var s3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||ph(),n)}},a3e=["value","background"],MX;function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function l3e(t,e){if(t==null)return{};var n=c3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){yu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$X(r.key),r)}}function d3e(t,e,n){return e&&AV(t.prototype,e),n&&AV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h3e(t,e,n){return e=N_(e),f3e(t,NX()?Reflect.construct(e,n||[],N_(t).constructor):e.apply(t,n))}function f3e(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p3e(t)}function p3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!t})()}function N_(t){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N_(t)}function m3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dk(t,e)}function yu(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=g3e(t,"string");return Kp(e)=="symbol"?e:e+""}function g3e(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ch=function(t){function e(){var n;u3e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=h3e(this,e,[].concat(i)),yu(n,"state",{isAnimationFinished:!1}),yu(n,"id",Pm("recharts-bar-")),yu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),yu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return m3e(e,t),d3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=tn(this.props,!1);return r&&r.map(function(p,m){var y=m===c,x=y?d:a,v=Pi(Pi(Pi({},f),p),{},{isActive:y,option:x,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(Kn,M_({className:"recharts-bar-rectangle"},dh(i.props,p,m),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(m)}),he.createElement(CV,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state.prevData;return he.createElement(jl,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,v=s.map(function(b,I){var A=m&&m[I];if(A){var S=Jo(A.x,b.x),k=Jo(A.y,b.y),P=Jo(A.width,b.width),R=Jo(A.height,b.height);return Pi(Pi({},b),{},{x:S(x),y:k(x),width:P(x),height:R(x)})}if(a==="horizontal"){var E=Jo(0,b.height),O=E(x);return Pi(Pi({},b),{},{y:b.y+b.height-O,height:O})}var D=Jo(0,b.width),L=D(x);return Pi(Pi({},b),{},{width:L})});return he.createElement(Kn,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Fp(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=tn(this.props.background,!1);return s.map(function(d,f){d.value;var p=d.background,m=l3e(d,a3e);if(!p)return null;var y=Pi(Pi(Pi(Pi(Pi({},m),{},{fill:"#eee"},p),c),dh(r.props,d,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return he.createElement(CV,M_({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,p=ra(f,Aj);if(!p)return null;var m=d==="vertical"?a[0].height/2:a[0].width/2,y=function(b,I){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Mi(b,I)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return he.createElement(Kn,x,p.map(function(v){return he.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,l=r.xAxis,c=r.yAxis,d=r.left,f=r.top,p=r.width,m=r.height,y=r.isAnimationActive,x=r.background,v=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,I=Oe("recharts-bar",a),A=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,k=A||S,P=Rn(v)?this.id:v;return he.createElement(Kn,{className:I},A||S?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(P)},he.createElement("rect",{x:A?d:d-p/2,y:S?f:f-m/2,width:A?p:p*2,height:S?m:m*2}))):null,he.createElement(Kn,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,P),(!y||b)&&dc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);MX=Ch;yu(Ch,"displayName","Bar");yu(Ch,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_h.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yu(Ch,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,p=t.displayedData,m=t.offset,y=KTe(r,n);if(!y)return null;var x=e.layout,v=n.type.defaultProps,b=v!==void 0?Pi(Pi({},v),n.props):n.props,I=b.dataKey,A=b.children,S=b.minPointSize,k=x==="horizontal"?a:s,P=d?k.scale.domain():null,R=tke({numericAxis:k}),E=ra(A,gj),O=p.map(function(D,L){var $,B,N,q,Y,ne;d?$=YTe(d[f+L],P):($=Mi(D,I),Array.isArray($)||($=[R,$]));var Q=s3e(S,MX.defaultProps.minPointSize)($[1],L);if(x==="horizontal"){var ee,Z=[a.scale($[0]),a.scale($[1])],de=Z[0],K=Z[1];B=t9({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:D,index:L}),N=(ee=K??de)!==null&&ee!==void 0?ee:void 0,q=y.size;var se=de-K;if(Y=Number.isNaN(se)?0:se,ne={x:B,y:a.y,width:q,height:a.height},Math.abs(Q)>0&&Math.abs(Y)<Math.abs(Q)){var le=Mo(Y||Q)*(Math.abs(Q)-Math.abs(Y));N-=le,Y+=le}}else{var oe=[s.scale($[0]),s.scale($[1])],ge=oe[0],fe=oe[1];if(B=ge,N=t9({axis:a,ticks:c,bandSize:i,offset:y.offset,entry:D,index:L}),q=fe-ge,Y=y.size,ne={x:s.x,y:N,width:s.width,height:Y},Math.abs(Q)>0&&Math.abs(q)<Math.abs(Q)){var Se=Mo(q||Q)*(Math.abs(Q)-Math.abs(q));q+=Se}}return Pi(Pi(Pi({},D),{},{x:B,y:N,width:q,height:Y,value:d?$:$[1],payload:D,background:ne},E&&E[L]&&E[L].props),{},{tooltipPayload:[uX(n,D)],tooltipPosition:{x:B+q/2,y:N+Y/2}})});return Pi({data:O,layout:x},m)});function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function x3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LX(r.key),r)}}function y3e(t,e,n){return e&&EV(t.prototype,e),n&&EV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(n),!0).forEach(function(r){Mj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mj(t,e,n){return e=LX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LX(t){var e=v3e(t,"string");return Oy(e)=="symbol"?e:e+""}function v3e(t,e){if(Oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zX=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!ys(d,Ch);return f.reduce(function(y,x){var v=n[x],b=v.orientation,I=v.domain,A=v.padding,S=A===void 0?{}:A,k=v.mirror,P=v.reversed,R="".concat(b).concat(k?"Mirror":""),E,O,D,L,$;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var B=I[1]-I[0],N=1/0,q=v.categoricalDomain.sort(Nje);if(q.forEach(function(oe,ge){ge>0&&(N=Math.min((oe||0)-(q[ge-1]||0),N))}),Number.isFinite(N)){var Y=N/B,ne=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(E=Y*ne/2),v.padding==="no-gap"){var Q=No(e.barCategoryGap,Y*ne),ee=Y*ne/2;E=ee-Q-(ee-Q)/ne*Q}}}i==="xAxis"?O=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:O=v.range,P&&(O=[O[1],O[0]]);var Z=sX(v,s,m),de=Z.scale,K=Z.realScaleType;de.domain(I).range(O),aX(de);var se=lX(de,ka(ka({},v),{},{realScaleType:K}));i==="xAxis"?($=b==="top"&&!k||b==="bottom"&&k,D=r.left,L=p[R]-$*v.height):i==="yAxis"&&($=b==="left"&&!k||b==="right"&&k,D=p[R]-$*v.width,L=r.top);var le=ka(ka(ka({},v),se),{},{realScaleType:K,x:D,y:L,scale:de,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return le.bandSize=b_(le,se),!v.hide&&i==="xAxis"?p[R]+=($?-1:1)*le.height:v.hide||(p[R]+=($?-1:1)*le.width),ka(ka({},y),{},Mj({},x,le))},{})},FX=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},b3e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return FX({x:n,y:r},{x:i,y:s})},WX=function(){function t(e){x3e(this,t),this.scale=e}return y3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Mj(WX,"EPS",1e-4);var tD=function(e){var n=Object.keys(e).reduce(function(r,i){return ka(ka({},r),{},Mj({},i,WX.create(e[i])))},{});return ka(ka({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return GDe(i,function(c,d){return n[d].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return JDe(i,function(s,a){return n[a].isInRange(s)})}})};function _3e(t){return(t%180+180)%180}var w3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_3e(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},nI,TV;function j3e(){if(TV)return nI;TV=1;var t=El(),e=wv(),n=fj();function r(i){return function(s,a,l){var c=Object(s);if(!e(s)){var d=t(a,3);s=n(s),a=function(p){return d(c[p],p,c)}}var f=i(s,a,l);return f>-1?c[d?s[f]:f]:void 0}}return nI=r,nI}var rI,kV;function S3e(){if(kV)return rI;kV=1;var t=kX();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return rI=e,rI}var iI,RV;function C3e(){if(RV)return iI;RV=1;var t=VK(),e=El(),n=S3e(),r=Math.max;function i(s,a,l){var c=s==null?0:s.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(s,e(a,3),d)}return iI=i,iI}var oI,OV;function P3e(){if(OV)return oI;OV=1;var t=j3e(),e=C3e(),n=t(e);return oI=n,oI}P3e();var A3e=iK();const E3e=or(A3e);var I3e=E3e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VX=C.createContext(void 0),BX=C.createContext(void 0),UX=C.createContext(void 0),T3e=C.createContext({}),qX=C.createContext(void 0),HX=C.createContext(0),GX=C.createContext(0),DV=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,l=e.children,c=e.width,d=e.height,f=I3e(s);return he.createElement(VX.Provider,{value:r},he.createElement(BX.Provider,{value:i},he.createElement(T3e.Provider,{value:s},he.createElement(UX.Provider,{value:f},he.createElement(qX.Provider,{value:a},he.createElement(HX.Provider,{value:d},he.createElement(GX.Provider,{value:c},l)))))))},k3e=function(){return C.useContext(qX)},KX=function(e){var n=C.useContext(VX);n==null&&ph();var r=n[e];return r==null&&ph(),r},YX=function(e){var n=C.useContext(BX);n==null&&ph();var r=n[e];return r==null&&ph(),r},R3e=function(){var e=C.useContext(UX);return e},XX=function(){return C.useContext(GX)},QX=function(){return C.useContext(HX)};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function O3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZX(r.key),r)}}function M3e(t,e,n){return e&&D3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N3e(t,e,n){return e=$_(e),$3e(t,JX()?Reflect.construct(e,n||[],$_(t).constructor):e.apply(t,n))}function $3e(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3e(t)}function L3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!t})()}function $_(t){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$_(t)}function z3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mk(t,e)}function Mk(t,e){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mk(t,e)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){nD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nD(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=F3e(t,"string");return Yp(e)=="symbol"?e:e+""}function F3e(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W3e(t,e){return q3e(t)||U3e(t,e)||B3e(t,e)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3e(t,e){if(t){if(typeof t=="string")return $V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $V(t,e)}}function $V(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function q3e(t){if(Array.isArray(t))return t}function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nk.apply(this,arguments)}var H3e=function(e,n){var r;return he.isValidElement(e)?r=he.cloneElement(e,n):wn(e)?r=e(n):r=he.createElement("line",Nk({},n,{className:"recharts-reference-line-line"})),r},G3e=function(e,n,r,i,s,a,l,c,d){var f=s.x,p=s.y,m=s.width,y=s.height;if(r){var x=d.y,v=e.y.apply(x,{position:a});if(xl(d,"discard")&&!e.y.isInRange(v))return null;var b=[{x:f+m,y:v},{x:f,y:v}];return c==="left"?b.reverse():b}if(n){var I=d.x,A=e.x.apply(I,{position:a});if(xl(d,"discard")&&!e.x.isInRange(A))return null;var S=[{x:A,y:p+y},{x:A,y:p}];return l==="top"?S.reverse():S}if(i){var k=d.segment,P=k.map(function(R){return e.apply(R,{position:a})});return xl(d,"discard")&&BDe(P,function(R){return!e.isInRange(R)})?null:P}return null};function K3e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,d=k3e(),f=KX(i),p=YX(s),m=R3e();if(!d||!m)return null;cc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=tD({x:f.scale,y:p.scale}),x=Ni(e),v=Ni(n),b=r&&r.length===2,I=G3e(y,x,v,b,m,t.position,f.orientation,p.orientation,t);if(!I)return null;var A=W3e(I,2),S=A[0],k=S.x,P=S.y,R=A[1],E=R.x,O=R.y,D=xl(t,"hidden")?"url(#".concat(d,")"):void 0,L=NV(NV({clipPath:D},tn(t,!0)),{},{x1:k,y1:P,x2:E,y2:O});return he.createElement(Kn,{className:Oe("recharts-reference-line",l)},H3e(a,L),Yi.renderCallByParent(t,b3e({x1:k,y1:P,x2:E,y2:O})))}var rD=function(t){function e(){return O3e(this,e),N3e(this,e,arguments)}return z3e(e,t),M3e(e,[{key:"render",value:function(){return he.createElement(K3e,this.props)}}])}(he.Component);nD(rD,"displayName","ReferenceLine");nD(rD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $k(){return $k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$k.apply(this,arguments)}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function LV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(n),!0).forEach(function(r){Nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tQ(r.key),r)}}function Q3e(t,e,n){return e&&X3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J3e(t,e,n){return e=L_(e),Z3e(t,eQ()?Reflect.construct(e,n||[],L_(t).constructor):e.apply(t,n))}function Z3e(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e6e(t)}function e6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!t})()}function L_(t){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L_(t)}function t6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lk(t,e)}function Lk(t,e){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lk(t,e)}function Nj(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=n6e(t,"string");return Xp(e)=="symbol"?e:e+""}function n6e(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r6e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=tD({x:i.scale,y:s.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return xl(e,"discard")&&!a.isInRange(l)?null:l},$j=function(t){function e(){return Y3e(this,e),J3e(this,e,arguments)}return t6e(e,t),Q3e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,d=Ni(i),f=Ni(s);if(cc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var p=r6e(this.props);if(!p)return null;var m=p.x,y=p.y,x=this.props,v=x.shape,b=x.className,I=xl(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=zV(zV({clipPath:I},tn(this.props,!0)),{},{cx:m,cy:y});return he.createElement(Kn,{className:Oe("recharts-reference-dot",b)},e.renderDot(v,A),Yi.renderCallByParent(this.props,{x:m-a,y:y-a,width:2*a,height:2*a}))}}])}(he.Component);Nj($j,"displayName","ReferenceDot");Nj($j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nj($j,"renderDot",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):wn(t)?n=t(e):n=he.createElement(Ej,$k({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function zk(){return zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zk.apply(this,arguments)}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function FV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(n),!0).forEach(function(r){Lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rQ(r.key),r)}}function s6e(t,e,n){return e&&o6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a6e(t,e,n){return e=z_(e),l6e(t,nQ()?Reflect.construct(e,n||[],z_(t).constructor):e.apply(t,n))}function l6e(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c6e(t)}function c6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!t})()}function z_(t){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z_(t)}function u6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fk(t,e)}function Fk(t,e){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fk(t,e)}function Lj(t,e,n){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=d6e(t,"string");return Qp(e)=="symbol"?e:e+""}function d6e(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h6e=function(e,n,r,i,s){var a=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var m=tD({x:f.scale,y:p.scale}),y={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(d,{position:"end"}):m.y.rangeMax};return xl(s,"discard")&&(!m.isInRange(y)||!m.isInRange(x))?null:FX(y,x)},zj=function(t){function e(){return i6e(this,e),a6e(this,e,arguments)}return u6e(e,t),s6e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,f=r.clipPathId;cc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ni(i),m=Ni(s),y=Ni(a),x=Ni(l),v=this.props.shape;if(!p&&!m&&!y&&!x&&!v)return null;var b=h6e(p,m,y,x,this.props);if(!b&&!v)return null;var I=xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return he.createElement(Kn,{className:Oe("recharts-reference-area",c)},e.renderRect(v,WV(WV({clipPath:I},tn(this.props,!0)),b)),Yi.renderCallByParent(this.props,b))}}])}(he.Component);Lj(zj,"displayName","ReferenceArea");Lj(zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lj(zj,"renderRect",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):wn(t)?n=t(e):n=he.createElement(eD,zk({},e,{className:"recharts-reference-area-rect"})),n});function iQ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function f6e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return w3e(r,n)}function p6e(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function F_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function m6e(t,e){return iQ(t,e+1)}function g6e(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,l=e.end,c=0,d=1,f=a,p=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:iQ(r,d)};var v=c,b,I=function(){return b===void 0&&(b=n(x,v)),b},A=x.coordinate,S=c===0||F_(t,A,I,f,l);S||(c=0,f=a,d+=1),S&&(f=A+t*(I()/2+i),c+=d)},m;d<=s.length;)if(m=p(),m)return m.v;return[]}function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){x6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6e(t,e,n){return e=y6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6e(t){var e=v6e(t,"string");return Dy(e)=="symbol"?e:e+""}function v6e(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end,d=function(m){var y=s[m],x,v=function(){return x===void 0&&(x=n(y,m)),x};if(m===a-1){var b=t*(y.coordinate+t*v()/2-c);s[m]=y=yo(yo({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else s[m]=y=yo(yo({},y),{},{tickCoord:y.coordinate});var I=F_(t,y.tickCoord,v,l,c);I&&(c=y.tickCoord-t*(v()/2+i),s[m]=yo(yo({},y),{},{isShow:!0}))},f=a-1;f>=0;f--)d(f);return s}function _6e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,c=e.start,d=e.end;if(s){var f=r[l-1],p=n(f,l-1),m=t*(f.coordinate+t*p/2-d);a[l-1]=f=yo(yo({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var y=F_(t,f.tickCoord,function(){return p},c,d);y&&(d=f.tickCoord-t*(p/2+i),a[l-1]=yo(yo({},f),{},{isShow:!0}))}for(var x=s?l-1:l,v=function(A){var S=a[A],k,P=function(){return k===void 0&&(k=n(S,A)),k};if(A===0){var R=t*(S.coordinate-t*P()/2-c);a[A]=S=yo(yo({},S),{},{tickCoord:R<0?S.coordinate-R*t:S.coordinate})}else a[A]=S=yo(yo({},S),{},{tickCoord:S.coordinate});var E=F_(t,S.tickCoord,P,c,d);E&&(c=S.tickCoord+t*(P()/2+i),a[A]=yo(yo({},S),{},{isShow:!0}))},b=0;b<x;b++)v(b);return a}function w6e(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(xt(c)||_h.isSsr)return m6e(i,typeof c=="number"&&xt(c)?c:0);var m=[],y=l==="top"||l==="bottom"?"width":"height",x=f&&y==="width"?bx(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(S,k){var P=wn(d)?d(S.value,k):S.value;return y==="width"?f6e(bx(P,{fontSize:e,letterSpacing:n}),x,p):bx(P,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?Mo(i[1].coordinate-i[0].coordinate):1,I=p6e(s,b,y);return c==="equidistantPreserveStart"?g6e(b,I,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=_6e(b,I,v,i,a,c==="preserveStartEnd"):m=b6e(b,I,v,i,a),m.filter(function(A){return A.isShow}))}var j6e=["viewBox"],S6e=["viewBox"],C6e=["ticks"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){iD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sI(t,e){if(t==null)return{};var n=P6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sQ(r.key),r)}}function E6e(t,e,n){return e&&UV(t.prototype,e),n&&UV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I6e(t,e,n){return e=W_(e),T6e(t,oQ()?Reflect.construct(e,n||[],W_(t).constructor):e.apply(t,n))}function T6e(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(t)}function k6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oQ=function(){return!!t})()}function W_(t){return W_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W_(t)}function R6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wk(t,e)}function Wk(t,e){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wk(t,e)}function iD(t,e,n){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=O6e(t,"string");return Jp(e)=="symbol"?e:e+""}function O6e(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fj=function(t){function e(n){var r;return A6e(this,e),r=I6e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return R6e(e,t),E6e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=sI(r,j6e),l=this.props,c=l.viewBox,d=sI(l,S6e);return!Zf(s,c)||!Zf(a,d)||!Zf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,p=i.mirror,m=i.tickMargin,y,x,v,b,I,A,S=p?-1:1,k=r.tickSize||f,P=xt(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":y=x=r.coordinate,b=a+ +!p*c,v=b-S*k,A=v-S*m,I=P;break;case"left":v=b=r.coordinate,x=s+ +!p*l,y=x-S*k,I=y-S*m,A=P;break;case"right":v=b=r.coordinate,x=s+ +p*l,y=x+S*k,I=y+S*m,A=P;break;default:y=x=r.coordinate,b=a+ +p*c,v=b+S*k,A=v+S*m,I=P;break}return{line:{x1:y,y1:v,x2:x,y2:b},tick:{x:I,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.orientation,d=r.mirror,f=r.axisLine,p=To(To(To({},tn(this.props,!1)),tn(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);p=To(To({},p),{},{x1:i,y1:s+m*l,x2:i+a,y2:s+m*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);p=To(To({},p),{},{x1:i+y*a,y1:s,x2:i+y*a,y2:s+l})}return he.createElement("line",Bf({},p,{className:Oe("recharts-cartesian-axis-line",Es(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,p=l.tickFormatter,m=l.unit,y=w6e(To(To({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=tn(this.props,!1),I=tn(f,!1),A=To(To({},b),{},{fill:"none"},tn(c,!1)),S=y.map(function(k,P){var R=a.getTickLineCoord(k),E=R.line,O=R.tick,D=To(To(To(To({textAnchor:x,verticalAnchor:v},b),{},{stroke:"none",fill:d},I),O),{},{index:P,payload:k,visibleTicksCount:y.length,tickFormatter:p});return he.createElement(Kn,Bf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},dh(a.props,k,P)),c&&he.createElement("line",Bf({},A,E,{className:Oe("recharts-cartesian-axis-tick-line",Es(c,"className"))})),f&&e.renderTickItem(f,D,"".concat(wn(p)?p(k.value,P):k.value).concat(m||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var p=this.props,m=p.ticks,y=sI(p,C6e),x=m;return wn(c)&&(x=m&&m.length>0?c(this.props):c(y)),a<=0||l<=0||!x||!x.length?null:he.createElement(Kn,{className:Oe("recharts-cartesian-axis",d),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Yi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return he.isValidElement(r)?a=he.cloneElement(r,i):wn(r)?a=r(i):a=he.createElement(hh,Bf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(C.Component);iD(Fj,"displayName","CartesianAxis");iD(Fj,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var D6e=["layout","type","stroke","connectNulls","isRange","ref"],M6e=["key"],aQ;function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function lQ(t,e){if(t==null)return{};var n=N6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uQ(r.key),r)}}function L6e(t,e,n){return e&&HV(t.prototype,e),n&&HV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6e(t,e,n){return e=V_(e),F6e(t,cQ()?Reflect.construct(e,n||[],V_(t).constructor):e.apply(t,n))}function F6e(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W6e(t)}function W6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cQ=function(){return!!t})()}function V_(t){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V_(t)}function V6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vk(t,e)}function Vk(t,e){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vk(t,e)}function al(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=B6e(t,"string");return Zp(e)=="symbol"?e:e+""}function B6e(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var n;$6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=z6e(this,e,[].concat(i)),al(n,"state",{isAnimationFinished:!0}),al(n,"id",Pm("recharts-area-")),al(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wn(a)&&a()}),al(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wn(a)&&a()}),n}return V6e(e,t),L6e(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,m=tn(this.props,!1),y=tn(d,!0),x=f.map(function(b,I){var A=iu(iu(iu({key:"dot-".concat(I),r:3},m),y),{},{index:I,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:f});return e.renderDotItem(d,A)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return he.createElement(Kn,zd({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].x,d=a[a.length-1].x,f=r*Math.abs(c-d),p=xu(a.map(function(m){return m.y||0}));return xt(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(xu(s.map(function(m){return m.y||0})),p)),xt(p)?he.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].y,d=a[a.length-1].y,f=r*Math.abs(c-d),p=xu(a.map(function(m){return m.x||0}));return xt(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(xu(s.map(function(m){return m.x||0})),p)),xt(p)?he.createElement("rect",{x:0,y:c<d?c:c-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var l=this.props,c=l.layout,d=l.type,f=l.stroke,p=l.connectNulls,m=l.isRange;l.ref;var y=lQ(l,D6e);return he.createElement(Kn,{clipPath:s?"url(#clipPath-".concat(a,")"):null},he.createElement(rp,zd({},tn(y,!0),{points:r,connectNulls:p,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&he.createElement(rp,zd({},tn(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:r})),f!=="none"&&m&&he.createElement(rp,zd({},tn(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.baseLine,d=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,m=a.animationEasing,y=a.animationId,x=this.state,v=x.prevPoints,b=x.prevBaseLine;return he.createElement(jl,{begin:f,duration:p,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var A=I.t;if(v){var S=v.length/l.length,k=l.map(function(O,D){var L=Math.floor(D*S);if(v[L]){var $=v[L],B=Jo($.x,O.x),N=Jo($.y,O.y);return iu(iu({},O),{},{x:B(A),y:N(A)})}return O}),P;if(xt(c)&&typeof c=="number"){var R=Jo(b,c);P=R(A)}else if(Rn(c)||Cm(c)){var E=Jo(b,0);P=E(A)}else P=c.map(function(O,D){var L=Math.floor(D*S);if(b[L]){var $=b[L],B=Jo($.x,O.x),N=Jo($.y,O.y);return iu(iu({},O),{},{x:B(A),y:N(A)})}return O});return s.renderAreaStatically(k,P,r,i)}return he.createElement(Kn,null,he.createElement("defs",null,he.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(A))),he.createElement(Kn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,d=this.state,f=d.prevPoints,p=d.prevBaseLine,m=d.totalLength;return c&&a&&a.length&&(!f&&m>0||!Fp(f,a)||!Fp(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,d=i.top,f=i.left,p=i.xAxis,m=i.yAxis,y=i.width,x=i.height,v=i.isAnimationActive,b=i.id;if(s||!l||!l.length)return null;var I=this.state.isAnimationFinished,A=l.length===1,S=Oe("recharts-area",c),k=p&&p.allowDataOverflow,P=m&&m.allowDataOverflow,R=k||P,E=Rn(b)?this.id:b,O=(r=tn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=O.r,L=D===void 0?3:D,$=O.strokeWidth,B=$===void 0?2:$,N=qje(a)?a:{},q=N.clipDot,Y=q===void 0?!0:q,ne=L*2+B;return he.createElement(Kn,{className:S},k||P?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(E)},he.createElement("rect",{x:k?f:f-y/2,y:P?d:d-x/2,width:k?y:y*2,height:P?x:x*2})),!Y&&he.createElement("clipPath",{id:"clipPath-dots-".concat(E)},he.createElement("rect",{x:f-ne/2,y:d-ne/2,width:y+ne,height:x+ne}))):null,A?null:this.renderArea(R,E),(a||A)&&this.renderDots(R,Y,E),(!v||I)&&dc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);aQ=Uu;al(Uu,"displayName","Area");al(Uu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_h.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});al(Uu,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,l=a??s;if(xt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),p=Math.min(d[0],d[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});al(Uu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,p=t.displayedData,m=t.offset,y=e.layout,x=d&&d.length,v=aQ.getBaseValue(e,n,r,i),b=y==="horizontal",I=!1,A=p.map(function(k,P){var R;x?R=d[f+P]:(R=Mi(k,c),Array.isArray(R)?I=!0:R=[v,R]);var E=R[1]==null||x&&Mi(k,c)==null;return b?{x:e9({axis:r,ticks:s,bandSize:l,entry:k,index:P}),y:E?null:i.scale(R[1]),value:R,payload:k}:{x:E?null:r.scale(R[1]),y:e9({axis:i,ticks:a,bandSize:l,entry:k,index:P}),value:R,payload:k}}),S;return x||I?S=A.map(function(k){var P=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:P!=null&&k.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:k.y}}):S=b?i.scale(v):r.scale(v),iu({points:A,baseLine:S,layout:y,isRange:I},m)});al(Uu,"renderDotItem",function(t,e){var n;if(he.isValidElement(t))n=he.cloneElement(t,e);else if(wn(t))n=t(e);else{var r=Oe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=lQ(e,M6e);n=he.createElement(Ej,zd({},s,{key:i,className:r}))}return n});function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function U6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fQ(r.key),r)}}function H6e(t,e,n){return e&&q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G6e(t,e,n){return e=B_(e),K6e(t,dQ()?Reflect.construct(e,n||[],B_(t).constructor):e.apply(t,n))}function K6e(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(t)}function Y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function B_(t){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B_(t)}function X6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bk(t,e)}function Bk(t,e){return Bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bk(t,e)}function hQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=Q6e(t,"string");return em(e)=="symbol"?e:e+""}function Q6e(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uk(){return Uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uk.apply(this,arguments)}function J6e(t){var e=t.xAxisId,n=XX(),r=QX(),i=KX(e);return i==null?null:he.createElement(Fj,Uk({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ld(a,!0)}}))}var km=function(t){function e(){return U6e(this,e),G6e(this,e,arguments)}return X6e(e,t),H6e(e,[{key:"render",value:function(){return he.createElement(J6e,this.props)}}])}(he.Component);hQ(km,"displayName","XAxis");hQ(km,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Z6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gQ(r.key),r)}}function t4e(t,e,n){return e&&e4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4e(t,e,n){return e=U_(e),r4e(t,pQ()?Reflect.construct(e,n||[],U_(t).constructor):e.apply(t,n))}function r4e(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i4e(t)}function i4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pQ=function(){return!!t})()}function U_(t){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U_(t)}function o4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qk(t,e)}function qk(t,e){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qk(t,e)}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=s4e(t,"string");return tm(e)=="symbol"?e:e+""}function s4e(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hk.apply(this,arguments)}var a4e=function(e){var n=e.yAxisId,r=XX(),i=QX(),s=YX(n);return s==null?null:he.createElement(Fj,Hk({},s,{className:Oe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ld(l,!0)}}))},Rm=function(t){function e(){return Z6e(this,e),n4e(this,e,arguments)}return o4e(e,t),t4e(e,[{key:"render",value:function(){return he.createElement(a4e,this.props)}}])}(he.Component);mQ(Rm,"displayName","YAxis");mQ(Rm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GV(t){return d4e(t)||u4e(t)||c4e(t)||l4e()}function l4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4e(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function u4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d4e(t){if(Array.isArray(t))return Gk(t)}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kk=function(e,n,r,i,s){var a=ra(e,rD),l=ra(e,$j),c=[].concat(GV(a),GV(l)),d=ra(e,zj),f="".concat(i,"Id"),p=i[0],m=n;if(c.length&&(m=c.reduce(function(v,b){if(b.props[f]===r&&xl(b.props,"extendDomain")&&xt(b.props[p])){var I=b.props[p];return[Math.min(v[0],I),Math.max(v[1],I)]}return v},m)),d.length){var y="".concat(p,"1"),x="".concat(p,"2");m=d.reduce(function(v,b){if(b.props[f]===r&&xl(b.props,"extendDomain")&&xt(b.props[y])&&xt(b.props[x])){var I=b.props[y],A=b.props[x];return[Math.min(v[0],I,A),Math.max(v[1],I,A)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,b){return xt(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},m)),m},aI={exports:{}},KV;function h4e(){return KV||(KV=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,p||c,m),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,x=new Array(y);m<y;m++)x[m]=p[m].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,y,x){var v=n?n+d:d;if(!this._events[v])return!1;var b=this._events[v],I=arguments.length,A,S;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),I){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,y),!0;case 6:return b.fn.call(b.context,f,p,m,y,x),!0}for(S=1,A=new Array(I-1);S<I;S++)A[S-1]=arguments[S];b.fn.apply(b.context,A)}else{var k=b.length,P;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(d,b[S].fn,void 0,!0),I){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,m);break;default:if(!A)for(P=1,A=new Array(I-1);P<I;P++)A[P-1]=arguments[P];b[S].fn.apply(b[S].context,A)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===f&&(!m||x.once)&&(!p||x.context===p)&&a(this,y);else{for(var v=0,b=[],I=x.length;v<I;v++)(x[v].fn!==f||m&&!x[v].once||p&&x[v].context!==p)&&b.push(x[v]);b.length?this._events[y]=b.length===1?b[0]:b:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(aI)),aI.exports}var f4e=h4e();const p4e=or(f4e);var lI=new p4e,cI="recharts.syncMouseEvents";function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function m4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xQ(r.key),r)}}function x4e(t,e,n){return e&&g4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uI(t,e,n){return e=xQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=y4e(t,"string");return My(e)=="symbol"?e:e+""}function y4e(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v4e=function(){function t(){m4e(this,t),uI(this,"activeIndex",0),uI(this,"coordinateList",[]),uI(this,"layout","horizontal")}return x4e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,d=c===void 0?null:c,f=n.offset,p=f===void 0?null:f,m=n.mouseHandlerCallback,y=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=s+c+d,m=a+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])}();function b4e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xt(r)&&xt(i))return!0}return!1}function _4e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yQ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Rr(e,n,r,i),l=Rr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function w4e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,p=e.angle,m=Rr(l,c,d,p),y=Rr(l,c,f,p);r=m.x,i=m.y,s=y.x,a=y.y}else return yQ(e);return[{x:r,y:i},{x:s,y:a}]}function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){j4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4e(t,e,n){return e=S4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4e(t){var e=C4e(t,"string");return Ny(e)=="symbol"?e:e+""}function C4e(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4e(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,v=rp;if(m==="ScatterChart")x=a,v=fOe;else if(m==="BarChart")x=_4e(p,a,c,f),v=eD;else if(p==="radial"){var b=yQ(a),I=b.cx,A=b.cy,S=b.radius,k=b.startAngle,P=b.endAngle;x={cx:I,cy:A,startAngle:k,endAngle:P,innerRadius:S,outerRadius:S},v=gX}else x={points:w4e(p,a,c)},v=rp;var R=yb(yb(yb(yb({stroke:"#ccc",pointerEvents:"none"},c),x),tn(y,!1)),{},{payload:l,payloadIndex:d,className:Oe("recharts-tooltip-cursor",y.className)});return C.isValidElement(y)?C.cloneElement(y,R):C.createElement(v,R)}var A4e=["item"],E4e=["children","className","width","height","style","compact","title","desc"];function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function XV(t,e){return k4e(t)||T4e(t,e)||bQ(t,e)||I4e()}function I4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}function k4e(t){if(Array.isArray(t))return t}function QV(t,e){if(t==null)return{};var n=R4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Q(r.key),r)}}function M4e(t,e,n){return e&&D4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N4e(t,e,n){return e=q_(e),$4e(t,vQ()?Reflect.construct(e,n||[],q_(t).constructor):e.apply(t,n))}function $4e(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L4e(t)}function L4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vQ=function(){return!!t})()}function q_(t){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q_(t)}function z4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yk(t,e)}function Yk(t,e){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yk(t,e)}function rm(t){return V4e(t)||W4e(t)||bQ(t)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){if(t){if(typeof t=="string")return Xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(t,e)}}function W4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V4e(t){if(Array.isArray(t))return Xk(t)}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cn(t,e,n){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=B4e(t,"string");return nm(e)=="symbol"?e:e+""}function B4e(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U4e={xAxis:["bottom","top"],yAxis:["left","right"]},q4e={width:"100%",height:"100%"},wQ={x:0,y:0};function vb(t){return t}var H4e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},G4e=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,l=i.radius;return He(He(He({},i),Rr(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,d=i.angle;return He(He(He({},i),Rr(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return wQ},Wj=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(rm(l),rm(d)):l},[]);return a.length>0?a:e&&e.length&&xt(i)&&xt(s)?e.slice(i,s+1):[]};function jQ(t){return t==="number"?[0,"auto"]:void 0}var Qk=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,l=Wj(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,d){var f,p=(f=d.props.data)!==null&&f!==void 0?f:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var y=p===void 0?l:p;m=Y1(y,a.dataKey,i)}else m=p&&p[r]||l[r];return m?[].concat(rm(c),[uX(d,m)]):c},[])},ZV=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=H4e(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=VTe(a,l,d,c);if(f>=0&&d){var p=d[f]&&d[f].value,m=Qk(e,n,f,p),y=G4e(r,l,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:m,activeCoordinate:y}}return null},K4e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,p=e.children,m=e.stackOffset,y=oX(f,s);return r.reduce(function(x,v){var b,I=v.type.defaultProps!==void 0?He(He({},v.type.defaultProps),v.props):v.props,A=I.type,S=I.dataKey,k=I.allowDataOverflow,P=I.allowDuplicatedCategory,R=I.scale,E=I.ticks,O=I.includeHidden,D=I[a];if(x[D])return x;var L=Wj(e.data,{graphicalItems:i.filter(function(se){var le,oe=a in se.props?se.props[a]:(le=se.type.defaultProps)===null||le===void 0?void 0:le[a];return oe===D}),dataStartIndex:c,dataEndIndex:d}),$=L.length,B,N,q;b4e(I.domain,k,A)&&(B=hk(I.domain,null,k),y&&(A==="number"||R!=="auto")&&(q=wx(L,S,"category")));var Y=jQ(A);if(!B||B.length===0){var ne,Q=(ne=I.domain)!==null&&ne!==void 0?ne:Y;if(S){if(B=wx(L,S,A),A==="category"&&y){var ee=Mje(B);P&&ee?(N=B,B=R_(0,$)):P||(B=i9(Q,B,v).reduce(function(se,le){return se.indexOf(le)>=0?se:[].concat(rm(se),[le])},[]))}else if(A==="category")P?B=B.filter(function(se){return se!==""&&!Rn(se)}):B=i9(Q,B,v).reduce(function(se,le){return se.indexOf(le)>=0||le===""||Rn(le)?se:[].concat(rm(se),[le])},[]);else if(A==="number"){var Z=GTe(L,i.filter(function(se){var le,oe,ge=a in se.props?se.props[a]:(le=se.type.defaultProps)===null||le===void 0?void 0:le[a],fe="hide"in se.props?se.props.hide:(oe=se.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ge===D&&(O||!fe)}),S,s,f);Z&&(B=Z)}y&&(A==="number"||R!=="auto")&&(q=wx(L,S,"category"))}else y?B=R_(0,$):l&&l[D]&&l[D].hasStack&&A==="number"?B=m==="expand"?[0,1]:cX(l[D].stackGroups,c,d):B=iX(L,i.filter(function(se){var le=a in se.props?se.props[a]:se.type.defaultProps[a],oe="hide"in se.props?se.props.hide:se.type.defaultProps.hide;return le===D&&(O||!oe)}),A,f,!0);if(A==="number")B=Kk(p,B,D,s,E),Q&&(B=hk(Q,B,k));else if(A==="category"&&Q){var de=Q,K=B.every(function(se){return de.indexOf(se)>=0});K&&(B=de)}}return He(He({},x),{},cn({},D,He(He({},I),{},{axisType:s,domain:B,categoricalDomain:q,duplicateDomain:N,originalDomain:(b=I.domain)!==null&&b!==void 0?b:Y,isCategorical:y,layout:f})))},{})},Y4e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,p=e.children,m=Wj(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),y=m.length,x=oX(f,s),v=-1;return r.reduce(function(b,I){var A=I.type.defaultProps!==void 0?He(He({},I.type.defaultProps),I.props):I.props,S=A[a],k=jQ("number");if(!b[S]){v++;var P;return x?P=R_(0,y):l&&l[S]&&l[S].hasStack?(P=cX(l[S].stackGroups,c,d),P=Kk(p,P,S,s)):(P=hk(k,iX(m,r.filter(function(R){var E,O,D=a in R.props?R.props[a]:(E=R.type.defaultProps)===null||E===void 0?void 0:E[a],L="hide"in R.props?R.props.hide:(O=R.type.defaultProps)===null||O===void 0?void 0:O.hide;return D===S&&!L}),"number",f),i.defaultProps.allowDataOverflow),P=Kk(p,P,S,s)),He(He({},b),{},cn({},S,He(He({axisType:s},i.defaultProps),{},{hide:!0,orientation:Es(U4e,"".concat(s,".").concat(v%2),null),domain:P,originalDomain:k,isCategorical:x,layout:f})))}return b},{})},X4e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.children,p="".concat(i,"Id"),m=ra(f,s),y={};return m&&m.length?y=K4e(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):a&&a.length&&(y=Y4e(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},Q4e=function(e){var n=Df(e),r=Ld(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:AO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:b_(n,r)}},eB=function(e){var n=e.children,r=e.defaultShowTooltip,i=ys(n,Gp),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},J4e=function(e){return!e||!e.length?!1:e.some(function(n){var r=lc(n&&n.type);return r&&r.indexOf("Bar")>=0})},tB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Z4e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,f=r.height,p=r.children,m=r.margin||{},y=ys(p,Gp),x=ys(p,ep),v=Object.keys(c).reduce(function(P,R){var E=c[R],O=E.orientation;return!E.mirror&&!E.hide?He(He({},P),{},cn({},O,P[O]+E.width)):P},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(P,R){var E=a[R],O=E.orientation;return!E.mirror&&!E.hide?He(He({},P),{},cn({},O,Es(P,"".concat(O))+E.height)):P},{top:m.top||0,bottom:m.bottom||0}),I=He(He({},b),v),A=I.bottom;y&&(I.bottom+=y.props.height||Gp.defaultProps.height),x&&n&&(I=qTe(I,i,r,n));var S=d-I.left-I.right,k=f-I.top-I.bottom;return He(He({brushBottom:A},I),{},{width:Math.max(S,0),height:Math.max(k,0)})},eMe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},oD=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,m=function(I,A){var S=A.graphicalItems,k=A.stackGroups,P=A.offset,R=A.updateId,E=A.dataStartIndex,O=A.dataEndIndex,D=I.barSize,L=I.layout,$=I.barGap,B=I.barCategoryGap,N=I.maxBarSize,q=tB(L),Y=q.numericAxisName,ne=q.cateAxisName,Q=J4e(S),ee=[];return S.forEach(function(Z,de){var K=Wj(I.data,{graphicalItems:[Z],dataStartIndex:E,dataEndIndex:O}),se=Z.type.defaultProps!==void 0?He(He({},Z.type.defaultProps),Z.props):Z.props,le=se.dataKey,oe=se.maxBarSize,ge=se["".concat(Y,"Id")],fe=se["".concat(ne,"Id")],Se={},be=c.reduce(function(pt,Qe){var at=A["".concat(Qe.axisType,"Map")],Tt=se["".concat(Qe.axisType,"Id")];at&&at[Tt]||Qe.axisType==="zAxis"||ph();var vn=at[Tt];return He(He({},pt),{},cn(cn({},Qe.axisType,vn),"".concat(Qe.axisType,"Ticks"),Ld(vn)))},Se),ce=be[ne],We=be["".concat(ne,"Ticks")],Fe=k&&k[ge]&&k[ge].hasStack&&nke(Z,k[ge].stackGroups),pe=lc(Z.type).indexOf("Bar")>=0,$e=b_(ce,We),Ce=[],Je=Q&&BTe({barSize:D,stackGroups:k,totalSize:eMe(be,ne)});if(pe){var ht,Xe,Lt=Rn(oe)?N:oe,jt=(ht=(Xe=b_(ce,We,!0))!==null&&Xe!==void 0?Xe:Lt)!==null&&ht!==void 0?ht:0;Ce=UTe({barGap:$,barCategoryGap:B,bandSize:jt!==$e?jt:$e,sizeList:Je[fe],maxBarSize:Lt}),jt!==$e&&(Ce=Ce.map(function(pt){return He(He({},pt),{},{position:He(He({},pt.position),{},{offset:pt.position.offset-jt/2})})}))}var Mt=Z&&Z.type&&Z.type.getComposedData;Mt&&ee.push({props:He(He({},Mt(He(He({},be),{},{displayedData:K,props:I,dataKey:le,item:Z,bandSize:$e,barPosition:Ce,offset:P,stackedData:Fe,layout:L,dataStartIndex:E,dataEndIndex:O}))),{},cn(cn(cn({key:Z.key||"item-".concat(de)},Y,be[Y]),ne,be[ne]),"animationId",R)),childIndex:Kje(Z,I.children),item:Z})}),ee},y=function(I,A){var S=I.props,k=I.dataStartIndex,P=I.dataEndIndex,R=I.updateId;if(!yz({props:S}))return null;var E=S.children,O=S.layout,D=S.stackOffset,L=S.data,$=S.reverseStackOrder,B=tB(O),N=B.numericAxisName,q=B.cateAxisName,Y=ra(E,r),ne=eke(L,Y,"".concat(N,"Id"),"".concat(q,"Id"),D,$),Q=c.reduce(function(se,le){var oe="".concat(le.axisType,"Map");return He(He({},se),{},cn({},oe,X4e(S,He(He({},le),{},{graphicalItems:Y,stackGroups:le.axisType===N&&ne,dataStartIndex:k,dataEndIndex:P}))))},{}),ee=Z4e(He(He({},Q),{},{props:S,graphicalItems:Y}),A==null?void 0:A.legendBBox);Object.keys(Q).forEach(function(se){Q[se]=f(S,Q[se],ee,se.replace("Map",""),n)});var Z=Q["".concat(q,"Map")],de=Q4e(Z),K=m(S,He(He({},Q),{},{dataStartIndex:k,dataEndIndex:P,updateId:R,graphicalItems:Y,stackGroups:ne,offset:ee}));return He(He({formattedGraphicalItems:K,graphicalItems:Y,offset:ee,stackGroups:ne},de),Q)},x=function(b){function I(A){var S,k,P;return O4e(this,I),P=N4e(this,I,[A]),cn(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),cn(P,"accessibilityManager",new v4e),cn(P,"handleLegendBBoxUpdate",function(R){if(R){var E=P.state,O=E.dataStartIndex,D=E.dataEndIndex,L=E.updateId;P.setState(He({legendBBox:R},y({props:P.props,dataStartIndex:O,dataEndIndex:D,updateId:L},He(He({},P.state),{},{legendBBox:R}))))}}),cn(P,"handleReceiveSyncEvent",function(R,E,O){if(P.props.syncId===R){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),cn(P,"handleBrushChange",function(R){var E=R.startIndex,O=R.endIndex;if(E!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var D=P.state.updateId;P.setState(function(){return He({dataStartIndex:E,dataEndIndex:O},y({props:P.props,dataStartIndex:E,dataEndIndex:O,updateId:D},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),cn(P,"handleMouseEnter",function(R){var E=P.getMouseInfo(R);if(E){var O=He(He({},E),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var D=P.props.onMouseEnter;wn(D)&&D(O,R)}}),cn(P,"triggeredAfterMouseMove",function(R){var E=P.getMouseInfo(R),O=E?He(He({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var D=P.props.onMouseMove;wn(D)&&D(O,R)}),cn(P,"handleItemMouseEnter",function(R){P.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),cn(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),cn(P,"handleMouseMove",function(R){R.persist(),P.throttleTriggeredAfterMouseMove(R)}),cn(P,"handleMouseLeave",function(R){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var O=P.props.onMouseLeave;wn(O)&&O(E,R)}),cn(P,"handleOuterEvent",function(R){var E=Gje(R),O=Es(P.props,"".concat(E));if(E&&wn(O)){var D,L;/.*touch.*/i.test(E)?L=P.getMouseInfo(R.changedTouches[0]):L=P.getMouseInfo(R),O((D=L)!==null&&D!==void 0?D:{},R)}}),cn(P,"handleClick",function(R){var E=P.getMouseInfo(R);if(E){var O=He(He({},E),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var D=P.props.onClick;wn(D)&&D(O,R)}}),cn(P,"handleMouseDown",function(R){var E=P.props.onMouseDown;if(wn(E)){var O=P.getMouseInfo(R);E(O,R)}}),cn(P,"handleMouseUp",function(R){var E=P.props.onMouseUp;if(wn(E)){var O=P.getMouseInfo(R);E(O,R)}}),cn(P,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),cn(P,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.handleMouseDown(R.changedTouches[0])}),cn(P,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&P.handleMouseUp(R.changedTouches[0])}),cn(P,"handleDoubleClick",function(R){var E=P.props.onDoubleClick;if(wn(E)){var O=P.getMouseInfo(R);E(O,R)}}),cn(P,"handleContextMenu",function(R){var E=P.props.onContextMenu;if(wn(E)){var O=P.getMouseInfo(R);E(O,R)}}),cn(P,"triggerSyncEvent",function(R){P.props.syncId!==void 0&&lI.emit(cI,P.props.syncId,R,P.eventEmitterSymbol)}),cn(P,"applySyncEvent",function(R){var E=P.props,O=E.layout,D=E.syncMethod,L=P.state.updateId,$=R.dataStartIndex,B=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)P.setState(He({dataStartIndex:$,dataEndIndex:B},y({props:P.props,dataStartIndex:$,dataEndIndex:B,updateId:L},P.state)));else if(R.activeTooltipIndex!==void 0){var N=R.chartX,q=R.chartY,Y=R.activeTooltipIndex,ne=P.state,Q=ne.offset,ee=ne.tooltipTicks;if(!Q)return;if(typeof D=="function")Y=D(ee,R);else if(D==="value"){Y=-1;for(var Z=0;Z<ee.length;Z++)if(ee[Z].value===R.activeLabel){Y=Z;break}}var de=He(He({},Q),{},{x:Q.left,y:Q.top}),K=Math.min(N,de.x+de.width),se=Math.min(q,de.y+de.height),le=ee[Y]&&ee[Y].value,oe=Qk(P.state,P.props.data,Y),ge=ee[Y]?{x:O==="horizontal"?ee[Y].coordinate:K,y:O==="horizontal"?se:ee[Y].coordinate}:wQ;P.setState(He(He({},R),{},{activeLabel:le,activeCoordinate:ge,activePayload:oe,activeTooltipIndex:Y}))}else P.setState(R)}),cn(P,"renderCursor",function(R){var E,O=P.state,D=O.isTooltipActive,L=O.activeCoordinate,$=O.activePayload,B=O.offset,N=O.activeTooltipIndex,q=O.tooltipAxisBandSize,Y=P.getTooltipEventType(),ne=(E=R.props.active)!==null&&E!==void 0?E:D,Q=P.props.layout,ee=R.key||"_recharts-cursor";return he.createElement(P4e,{key:ee,activeCoordinate:L,activePayload:$,activeTooltipIndex:N,chartName:n,element:R,isActive:ne,layout:Q,offset:B,tooltipAxisBandSize:q,tooltipEventType:Y})}),cn(P,"renderPolarAxis",function(R,E,O){var D=Es(R,"type.axisType"),L=Es(P.state,"".concat(D,"Map")),$=R.type.defaultProps,B=$!==void 0?He(He({},$),R.props):R.props,N=L&&L[B["".concat(D,"Id")]];return C.cloneElement(R,He(He({},N),{},{className:Oe(D,N.className),key:R.key||"".concat(E,"-").concat(O),ticks:Ld(N,!0)}))}),cn(P,"renderPolarGrid",function(R){var E=R.props,O=E.radialLines,D=E.polarAngles,L=E.polarRadius,$=P.state,B=$.radiusAxisMap,N=$.angleAxisMap,q=Df(B),Y=Df(N),ne=Y.cx,Q=Y.cy,ee=Y.innerRadius,Z=Y.outerRadius;return C.cloneElement(R,{polarAngles:Array.isArray(D)?D:Ld(Y,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(L)?L:Ld(q,!0).map(function(de){return de.coordinate}),cx:ne,cy:Q,innerRadius:ee,outerRadius:Z,key:R.key||"polar-grid",radialLines:O})}),cn(P,"renderLegend",function(){var R=P.state.formattedGraphicalItems,E=P.props,O=E.children,D=E.width,L=E.height,$=P.props.margin||{},B=D-($.left||0)-($.right||0),N=nX({children:O,formattedGraphicalItems:R,legendWidth:B,legendContent:d});if(!N)return null;var q=N.item,Y=QV(N,A4e);return C.cloneElement(q,He(He({},Y),{},{chartWidth:D,chartHeight:L,margin:$,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),cn(P,"renderTooltip",function(){var R,E=P.props,O=E.children,D=E.accessibilityLayer,L=ys(O,Ta);if(!L)return null;var $=P.state,B=$.isTooltipActive,N=$.activeCoordinate,q=$.activePayload,Y=$.activeLabel,ne=$.offset,Q=(R=L.props.active)!==null&&R!==void 0?R:B;return C.cloneElement(L,{viewBox:He(He({},ne),{},{x:ne.left,y:ne.top}),active:Q,label:Y,payload:Q?q:[],coordinate:N,accessibilityLayer:D})}),cn(P,"renderBrush",function(R){var E=P.props,O=E.margin,D=E.data,L=P.state,$=L.offset,B=L.dataStartIndex,N=L.dataEndIndex,q=L.updateId;return C.cloneElement(R,{key:R.key||"_recharts-brush",onChange:pb(P.handleBrushChange,R.props.onChange),data:D,x:xt(R.props.x)?R.props.x:$.left,y:xt(R.props.y)?R.props.y:$.top+$.height+$.brushBottom-(O.bottom||0),width:xt(R.props.width)?R.props.width:$.width,startIndex:B,endIndex:N,updateId:"brush-".concat(q)})}),cn(P,"renderReferenceElement",function(R,E,O){if(!R)return null;var D=P,L=D.clipPathId,$=P.state,B=$.xAxisMap,N=$.yAxisMap,q=$.offset,Y=R.type.defaultProps||{},ne=R.props,Q=ne.xAxisId,ee=Q===void 0?Y.xAxisId:Q,Z=ne.yAxisId,de=Z===void 0?Y.yAxisId:Z;return C.cloneElement(R,{key:R.key||"".concat(E,"-").concat(O),xAxis:B[ee],yAxis:N[de],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:L})}),cn(P,"renderActivePoints",function(R){var E=R.item,O=R.activePoint,D=R.basePoint,L=R.childIndex,$=R.isRange,B=[],N=E.props.key,q=E.item.type.defaultProps!==void 0?He(He({},E.item.type.defaultProps),E.item.props):E.item.props,Y=q.activeDot,ne=q.dataKey,Q=He(He({index:L,dataKey:ne,cx:O.x,cy:O.y,r:4,fill:ZO(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},tn(Y,!1)),X1(Y));return B.push(I.renderActiveDot(Y,Q,"".concat(N,"-activePoint-").concat(L))),D?B.push(I.renderActiveDot(Y,He(He({},Q),{},{cx:D.x,cy:D.y}),"".concat(N,"-basePoint-").concat(L))):$&&B.push(null),B}),cn(P,"renderGraphicChild",function(R,E,O){var D=P.filterFormatItem(R,E,O);if(!D)return null;var L=P.getTooltipEventType(),$=P.state,B=$.isTooltipActive,N=$.tooltipAxis,q=$.activeTooltipIndex,Y=$.activeLabel,ne=P.props.children,Q=ys(ne,Ta),ee=D.props,Z=ee.points,de=ee.isRange,K=ee.baseLine,se=D.item.type.defaultProps!==void 0?He(He({},D.item.type.defaultProps),D.item.props):D.item.props,le=se.activeDot,oe=se.hide,ge=se.activeBar,fe=se.activeShape,Se=!!(!oe&&B&&Q&&(le||ge||fe)),be={};L!=="axis"&&Q&&Q.props.trigger==="click"?be={onClick:pb(P.handleItemMouseEnter,R.props.onClick)}:L!=="axis"&&(be={onMouseLeave:pb(P.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:pb(P.handleItemMouseEnter,R.props.onMouseEnter)});var ce=C.cloneElement(R,He(He({},D.props),be));function We(Qe){return typeof N.dataKey=="function"?N.dataKey(Qe.payload):null}if(Se)if(q>=0){var Fe,pe;if(N.dataKey&&!N.allowDuplicatedCategory){var $e=typeof N.dataKey=="function"?We:"payload.".concat(N.dataKey.toString());Fe=Y1(Z,$e,Y),pe=de&&K&&Y1(K,$e,Y)}else Fe=Z==null?void 0:Z[q],pe=de&&K&&K[q];if(fe||ge){var Ce=R.props.activeIndex!==void 0?R.props.activeIndex:q;return[C.cloneElement(R,He(He(He({},D.props),be),{},{activeIndex:Ce})),null,null]}if(!Rn(Fe))return[ce].concat(rm(P.renderActivePoints({item:D,activePoint:Fe,basePoint:pe,childIndex:q,isRange:de})))}else{var Je,ht=(Je=P.getItemByXY(P.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ce},Xe=ht.graphicalItem,Lt=Xe.item,jt=Lt===void 0?R:Lt,Mt=Xe.childIndex,pt=He(He(He({},D.props),be),{},{activeIndex:Mt});return[C.cloneElement(jt,pt),null,null]}return de?[ce,null,null]:[ce,null]}),cn(P,"renderCustomized",function(R,E,O){return C.cloneElement(R,He(He({key:"recharts-customized-".concat(O)},P.props),P.state))}),cn(P,"renderMap",{CartesianGrid:{handler:vb,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:vb},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:vb},YAxis:{handler:vb},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=A.id)!==null&&S!==void 0?S:Pm("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=tY(P.triggeredAfterMouseMove,(k=A.throttleDelay)!==null&&k!==void 0?k:1e3/60),P.state={},P}return z4e(I,b),M4e(I,[{key:"componentDidMount",value:function(){var S,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,k=S.children,P=S.data,R=S.height,E=S.layout,O=ys(k,Ta);if(O){var D=O.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,$=Qk(this.state,P,D,L),B=this.state.tooltipTicks[D].coordinate,N=(this.state.offset.top+R)/2,q=E==="horizontal",Y=q?{x:B,y:N}:{y:B,x:N},ne=this.state.formattedGraphicalItems.find(function(ee){var Z=ee.item;return Z.type.name==="Scatter"});ne&&(Y=He(He({},Y),ne.props.points[D].tooltipPosition),$=ne.props.points[D].tooltipPayload);var Q={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:L,activePayload:$,activeCoordinate:Y};this.setState(Q),this.renderCursor(O),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,R;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(S){OT([ys(S.children,Ta)],[ys(this.props.children,Ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ys(this.props.children,Ta);if(S&&typeof S.props.shared=="boolean"){var k=S.props.shared?"axis":"item";return l.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var k=this.container,P=k.getBoundingClientRect(),R=DPe(P),E={chartX:Math.round(S.pageX-R.left),chartY:Math.round(S.pageY-R.top)},O=P.width/k.offsetWidth||1,D=this.inRange(E.chartX,E.chartY,O);if(!D)return null;var L=this.state,$=L.xAxisMap,B=L.yAxisMap,N=this.getTooltipEventType(),q=ZV(this.state,this.props.data,this.props.layout,D);if(N!=="axis"&&$&&B){var Y=Df($).scale,ne=Df(B).scale,Q=Y&&Y.invert?Y.invert(E.chartX):null,ee=ne&&ne.invert?ne.invert(E.chartY):null;return He(He({},E),{},{xValue:Q,yValue:ee},q)}return q?He(He({},E),q):null}},{key:"inRange",value:function(S,k){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,E=S/P,O=k/P;if(R==="horizontal"||R==="vertical"){var D=this.state.offset,L=E>=D.left&&E<=D.left+D.width&&O>=D.top&&O<=D.top+D.height;return L?{x:E,y:O}:null}var $=this.state,B=$.angleAxisMap,N=$.radiusAxisMap;if(B&&N){var q=Df(B);return a9({x:E,y:O},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,k=this.getTooltipEventType(),P=ys(S,Ta),R={};P&&k==="axis"&&(P.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=X1(this.props,this.handleOuterEvent);return He(He({},E),R)}},{key:"addListener",value:function(){lI.on(cI,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lI.removeListener(cI,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,k,P){for(var R=this.state.formattedGraphicalItems,E=0,O=R.length;E<O;E++){var D=R[E];if(D.item===S||D.props.key===S.key||k===lc(D.item.type)&&P===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,k=this.state.offset,P=k.left,R=k.top,E=k.height,O=k.width;return he.createElement("defs",null,he.createElement("clipPath",{id:S},he.createElement("rect",{x:P,y:R,height:E,width:O})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(k,P){var R=XV(P,2),E=R[0],O=R[1];return He(He({},k),{},cn({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(k,P){var R=XV(P,2),E=R[0],O=R[1];return He(He({},k),{},cn({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(S){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(S){var k=this.state,P=k.formattedGraphicalItems,R=k.activeItem;if(P&&P.length)for(var E=0,O=P.length;E<O;E++){var D=P[E],L=D.props,$=D.item,B=$.type.defaultProps!==void 0?He(He({},$.type.defaultProps),$.props):$.props,N=lc($.type);if(N==="Bar"){var q=(L.data||[]).find(function(ee){return GRe(S,ee)});if(q)return{graphicalItem:D,payload:q}}else if(N==="RadialBar"){var Y=(L.data||[]).find(function(ee){return a9(S,ee)});if(Y)return{graphicalItem:D,payload:Y}}else if(Oj(D,R)||Dj(D,R)||Ty(D,R)){var ne=gDe({graphicalItem:D,activeTooltipItem:R,itemData:B.data}),Q=B.activeIndex===void 0?ne:B.activeIndex;return{graphicalItem:He(He({},D),{},{childIndex:Q}),payload:Ty(D,R)?B.data[ne]:D.props.data[ne]}}}return null}},{key:"render",value:function(){var S=this;if(!yz(this))return null;var k=this.props,P=k.children,R=k.className,E=k.width,O=k.height,D=k.style,L=k.compact,$=k.title,B=k.desc,N=QV(k,E4e),q=tn(N,!1);if(L)return he.createElement(DV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(MT,Uf({},q,{width:E,height:O,title:$,desc:B}),this.renderClipPath(),bz(P,this.renderMap)));if(this.props.accessibilityLayer){var Y,ne;q.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,q.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",q.onKeyDown=function(ee){S.accessibilityManager.keyboardEvent(ee)},q.onFocus=function(){S.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return he.createElement(DV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",Uf({className:Oe("recharts-wrapper",R),style:He({position:"relative",cursor:"default",width:E,height:O},D)},Q,{ref:function(Z){S.container=Z}}),he.createElement(MT,Uf({},q,{width:E,height:O,title:$,desc:B,style:q4e}),this.renderClipPath(),bz(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);cn(x,"displayName",n),cn(x,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),cn(x,"getDerivedStateFromProps",function(b,I){var A=b.dataKey,S=b.data,k=b.children,P=b.width,R=b.height,E=b.layout,O=b.stackOffset,D=b.margin,L=I.dataStartIndex,$=I.dataEndIndex;if(I.updateId===void 0){var B=eB(b);return He(He(He({},B),{},{updateId:0},y(He(He({props:b},B),{},{updateId:0}),I)),{},{prevDataKey:A,prevData:S,prevWidth:P,prevHeight:R,prevLayout:E,prevStackOffset:O,prevMargin:D,prevChildren:k})}if(A!==I.prevDataKey||S!==I.prevData||P!==I.prevWidth||R!==I.prevHeight||E!==I.prevLayout||O!==I.prevStackOffset||!Zf(D,I.prevMargin)){var N=eB(b),q={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},Y=He(He({},ZV(I,S,E)),{},{updateId:I.updateId+1}),ne=He(He(He({},N),q),Y);return He(He(He({},ne),y(He({props:b},ne),I)),{},{prevDataKey:A,prevData:S,prevWidth:P,prevHeight:R,prevLayout:E,prevStackOffset:O,prevMargin:D,prevChildren:k})}if(!OT(k,I.prevChildren)){var Q,ee,Z,de,K=ys(k,Gp),se=K&&(Q=(ee=K.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Q!==void 0?Q:L,le=K&&(Z=(de=K.props)===null||de===void 0?void 0:de.endIndex)!==null&&Z!==void 0?Z:$,oe=se!==L||le!==$,ge=!Rn(S),fe=ge&&!oe?I.updateId:I.updateId+1;return He(He({updateId:fe},y(He(He({props:b},I),{},{updateId:fe,dataStartIndex:se,dataEndIndex:le}),I)),{},{prevChildren:k,dataStartIndex:se,dataEndIndex:le})}return null}),cn(x,"renderActiveDot",function(b,I,A){var S;return C.isValidElement(b)?S=C.cloneElement(b,I):wn(b)?S=b(I):S=he.createElement(Ej,I),he.createElement(Kn,{className:"recharts-active-dot",key:A},S)});var v=C.forwardRef(function(I,A){return he.createElement(x,Uf({},I,{ref:A}))});return v.displayName=x.displayName,v},tMe=oD({chartName:"BarChart",GraphicalChild:Ch,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:km},{axisType:"yAxis",AxisComp:Rm}],formatAxisMap:zX}),nMe=oD({chartName:"PieChart",GraphicalChild:kc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rj},{axisType:"radiusAxis",AxisComp:Tj}],formatAxisMap:hke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rMe=oD({chartName:"AreaChart",GraphicalChild:Uu,axisComponents:[{axisType:"xAxis",AxisComp:km},{axisType:"yAxis",AxisComp:Rm}],formatAxisMap:zX});const sD="clinic_patients_data",$y=()=>{try{const t=localStorage.getItem(sD);if(t){const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}}catch(t){console.warn("Error loading patients from localStorage:",t)}return _T},SQ=t=>{try{localStorage.setItem(sD,JSON.stringify(t))}catch(e){console.warn("Error saving patients to localStorage:",e)}};function go(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,id:`patient-tabpanel-${r}`,"aria-labelledby":`patient-tab-${r}`,...i,children:n===r&&o.jsx(T,{sx:{py:3},children:e})})}const iMe=()=>{var Po,qu,Il,Tl,ha,Va,Ph,Ds,co,Ba,fa,pa,cr,ma,zn;const{t}=Dr(),{user:e,loading:n,initialized:r}=ym(),i=z=>t(z.toLowerCase())||z,[s,a]=C.useState(0),[l,c]=C.useState(""),[d,f]=C.useState(null),[p,m]=C.useState({gender:"",ageRange:"",condition:"",status:""}),[y,x]=C.useState(!1),[v,b]=C.useState("table"),[I,A]=C.useState(!1),[S,k]=C.useState(null),[P,R]=C.useState(0),[E,O]=C.useState(""),[D,L]=C.useState({name:"",dosage:"",frequency:"",duration:""}),[$,B]=C.useState(!1),[N,q]=C.useState(null),[Y,ne]=C.useState(!1),[Q,ee]=C.useState(null),[Z,de]=C.useState(!1),[K,se]=C.useState(null),[le,oe]=C.useState(()=>{try{const z=localStorage.getItem(sD);if(z){const Me=JSON.parse(z);if(Array.isArray(Me)&&Me.length>0)return console.log("✅ PatientListPage: Loaded patients from localStorage on init:",Me.length),Me}}catch(z){console.error("❌ PatientListPage: Error loading from localStorage:",z)}return console.log("ℹ️ PatientListPage: Using default patients"),_T}),[ge,fe]=C.useState(!1),[Se,be]=C.useState(!0),[ce,We]=C.useState(null),[Fe,pe]=C.useState([]),[$e,Ce]=C.useState("all");he.useEffect(()=>{if(!r||n||!e){console.log("🔄 PatientListPage: Waiting for auth initialization...",{initialized:r,authLoading:n,hasUser:!!e});return}console.log("✅ PatientListPage: Auth initialized, loading patient data..."),be(!0);try{const z=$y();oe(z),fe(!0),console.log("✅ PatientListPage: Patient data loaded successfully")}catch(z){console.error("❌ PatientListPage: Error loading patient data:",z)}finally{be(!1)}},[r,n,e]),he.useEffect(()=>{ge&&le.length>0&&SQ(le)},[le,ge]),he.useEffect(()=>{if(!r||n||!e||!ge){console.log("🔄 PatientListPage: Waiting for auth and patient data before loading organized data...",{initialized:r,authLoading:n,hasUser:!!e,isDataLoaded:ge});return}const z=()=>{console.log("🔄 PatientListPage: Loading organized appointment data...");try{const ln=Jk(),qn=Ja();We(ln),pe(qn.allPatients),console.log("✅ PatientListPage: Organized appointment data loaded:",{completedAppointments:ln.completed.length,notCompletedAppointments:ln.notCompleted.length,totalPatients:qn.allPatients.length,patientsWithCompleted:qn.patientsWithCompleted.length,patientsWithPending:qn.patientsWithPending.length})}catch(ln){console.error("❌ PatientListPage: Error loading organized appointment data:",ln)}};z();const Me=()=>{console.log("🔄 Received appointment sync event, reloading data..."),z()},Ft=()=>{oe(_T),a(0),c(""),m({gender:"",ageRange:"",condition:"",status:""}),an(Pg),It(D$),ve(Ag),Pn(M$),k(null),q(null),ee(null),se(null),yt(null),Yn(null),Mr(null),Tt(null),x(!1),A(!1),B(!1),ne(!1),de(!1),ht(!1),Qe(!1),zt(!1),Ue(!1),Sn(!1),R(0),O(""),L(Ag),Mt(""),Lt(null),Zt("existing"),On(""),b("table"),Ce("all"),f(null),lr(null),We(null),pe([]),console.log("✅ Patient data reset to default state")},nn=()=>{x(!0)};return window.addEventListener("appointmentPatientSync",Me),window.addEventListener("userDataCleared",Ft),window.addEventListener("openAddPatient",nn),()=>{window.removeEventListener("appointmentPatientSync",Me),window.removeEventListener("userDataCleared",Ft),window.removeEventListener("openAddPatient",nn)}},[r,n,e,ge]);const[Je,ht]=C.useState(!1),[Xe,Lt]=C.useState(null),[jt,Mt]=C.useState(""),[pt,Qe]=C.useState(!1),[at,Tt]=C.useState(null),[vn,zt]=C.useState(!1),[mt,It]=C.useState(D$),[lt,Zt]=C.useState("existing"),[Xt,On]=C.useState(""),[G,ve]=C.useState(Ag),[ke,Ue]=C.useState(!1),[it,yt]=C.useState(null),[pn,Sn]=C.useState(!1),[sn,Yn]=C.useState(null),[vt,Pn]=C.useState(M$),[Mn,Mr]=C.useState(null),[hi,lr]=C.useState(null),[Ut,an]=C.useState(()=>{try{const z=localStorage.getItem("clinic_new_patient_form");if(z){const Me=JSON.parse(z);return console.log("✅ PatientListPage: Loaded new patient form from localStorage"),{...Pg,...Me}}}catch(z){console.error("❌ PatientListPage: Error loading new patient form:",z)}return Pg});he.useEffect(()=>{try{localStorage.setItem("clinic_new_patient_form",JSON.stringify(Ut)),console.log("✅ PatientListPage: Saved new patient form to localStorage")}catch(z){console.error("❌ PatientListPage: Error saving new patient form:",z)}},[Ut]);const _e=(z,Me)=>{a(Me)},ct=(z,Me)=>{const Ft=z.replace(/\D/g,""),nn=`Hello ${Me}, this is from ClinicCare Medical Center. How can we assist you today?`,ln=encodeURIComponent(nn),qn=`https://wa.me/${Ft}?text=${ln}`;window.open(qn,"_blank")},Ot=()=>{const z=gt.filter(Me=>Me.phone&&Me.phone.trim()!=="");if(z.length===0){alert("No patients with valid phone numbers found.");return}z.forEach((Me,Ft)=>{setTimeout(()=>{const nn=Me.phone.replace(/\D/g,""),ln=`Hello ${Me.name}! This is a message from ClinicCare Medical Center. We hope you are doing well. Please feel free to contact us if you need any assistance.`,qn=encodeURIComponent(ln),Wi=`https://wa.me/${nn}?text=${qn}`;window.open(Wi,"_blank")},Ft*1e3)}),alert(`Opening WhatsApp for ${z.length} patients. Please allow pop-ups if prompted.`)},St=z=>{k(z),A(!0),R(0);const Me=z.medications&&z.medications.length>0;Zt(Me?"existing":"new")},te=()=>{A(!1),k(null),O(""),L(Ag)},Re=(z,Me)=>{R(Me)},J=()=>{if(E.trim()&&S){const z={date:new Date().toISOString().split("T")[0],note:E,doctor:""},Me=le.map(Ft=>{if(Ft.id===S.id){const nn={...Ft,visitNotes:[...Ft.visitNotes||[],z]};return k(nn),nn}return Ft});oe(Me),O("")}},je=()=>{if(D.name.trim()&&S){const z={...D,prescribed:new Date().toISOString().split("T")[0]},Me=le.map(Ft=>{if(Ft.id===S.id){const nn={...Ft,medications:[...Ft.medications||[],z]};return k(nn),nn}return Ft});oe(Me),L(Ag)}},tt=z=>{q({...z}),B(!0)},kt=()=>{if(N){const z=le.map(Me=>Me.id===N.id?{...N}:Me);oe(z),k({...N}),B(!1),q(null)}},nt=(z,Me)=>{ee({...z,index:Me}),ne(!0)},bn=()=>{if(Q&&S){const z=le.map(Me=>{if(Me.id===S.id){const Ft=[...Me.medications||[]];Ft[Q.index]={name:Q.name,dosage:Q.dosage,frequency:Q.frequency,duration:Q.duration,prescribedBy:Q.prescribedBy||Q.prescribed,status:Q.status||"Active",dateStarted:Q.dateStarted||new Date().toISOString().split("T")[0],id:Q.id||Date.now()};const nn={...Me,medications:Ft};return k(nn),nn}return Me});oe(z),ne(!1),ee(null)}},mn=(z,Me)=>{se({...z,index:Me}),de(!0)},Pr=()=>{if(K&&S){const z=le.map(Me=>{if(Me.id===S.id){const Ft=[...Me.visitNotes||[]];Ft[K.index]={date:K.date,note:K.note,doctor:K.doctor};const nn={...Me,visitNotes:Ft};return k(nn),nn}return Me});oe(z),de(!1),se(null)}},Ar=z=>{if(S&&window.confirm("Are you sure you want to delete this medication?")){const Me=le.map(Ft=>{if(Ft.id===S.id){const nn=[...Ft.medications||[]];nn.splice(z,1);const ln={...Ft,medications:nn};return k(ln),ln}return Ft});oe(Me)}},Bt=()=>{if(Xe&&jt.trim()&&S){const z=URL.createObjectURL(Xe),Me={id:Date.now(),title:jt,fileName:Xe.name,fileSize:Xe.size,uploadDate:new Date().toISOString().split("T")[0],type:Xe.type.includes("image")?"image":Xe.type.includes("pdf")?"pdf":"document",fileType:Xe.type,fileUrl:z},Ft=le.map(nn=>{if(nn.id===S.id){const ln={...nn,documents:[...nn.documents||[],Me]};return k(ln),ln}return nn});oe(Ft),ht(!1),Lt(null),Mt("")}},gn=()=>{if(!Ut.name.trim()||!Ut.phone.trim()){alert("Please fill in at least the name and phone number");return}const z={id:le.length>0?Math.max(...le.map(Me=>Me.id))+1:1,name:Ut.name,phone:Ut.phone,email:Ut.email||`${Ut.name.toLowerCase().replace(/\s+/g,".")}@example.com`,age:parseInt(Ut.age)||30,gender:Ut.gender||"Unknown",address:Ut.address||"Address not provided",emergencyContact:Ut.emergencyContact||"Not provided",bloodType:Ut.bloodType||"Unknown",condition:Ut.condition||"Initial consultation",status:Ut.status||"new",avatar:Ut.name.split(" ").map(Me=>Me[0]).join("").toUpperCase(),lastVisit:"N/A",nextAppointment:"Not scheduled",allergies:[],medicalHistory:[],medications:[],visitNotes:[],vitalSigns:[],documents:[]};oe([...le,z]),x(!1),an(Pg),console.log("New patient added:",z)},Xn=z=>{var nn;if(!it||!S)return;const Me=le.map(ln=>{var qn;if(ln.id===S.id){const Wi=(qn=ln.medications)==null?void 0:qn.map(jr=>jr.id===it.id?{...jr,dosage:z.dosage||jr.dosage,frequency:z.frequency||jr.frequency,duration:z.duration||jr.duration,notes:z.notes||""}:jr);return{...ln,medications:Wi}}return ln});oe(Me);const Ft={...S,medications:(nn=S.medications)==null?void 0:nn.map(ln=>ln.id===it.id?{...ln,dosage:z.dosage||ln.dosage,frequency:z.frequency||ln.frequency,duration:z.duration||ln.duration,notes:z.notes||""}:ln)};k(Ft),Ue(!1),yt(null)},Ii=()=>{Ue(!1),yt(null)},br=z=>{Yn(z),Pn({date:"",time:"",type:"Follow-up",duration:"30",notes:"",priority:"Normal"}),Sn(!0)},er=()=>{if(!vt.date||!vt.time||!sn){alert("Please fill in the date and time");return}const z=`${vt.date} ${vt.time}`,Me=new Date(`${vt.date}T${vt.time}`).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Ft=le.map(nn=>nn.id===sn.id?{...nn,nextAppointment:Me,appointmentDetails:{...vt,dateTime:z,scheduledOn:new Date().toISOString()}}:nn);oe(Ft),(S==null?void 0:S.id)===sn.id&&k({...S,nextAppointment:Me,appointmentDetails:{...vt,dateTime:z,scheduledOn:new Date().toISOString()}}),Sn(!1),Yn(null),alert(`Appointment scheduled for ${sn.name} on ${Me}`)},fi=(z,Me)=>{Me.stopPropagation(),Mr(z),lr(Me.currentTarget)},lo=z=>{if(!Mn)return;const Me=le.map(Ft=>Ft.id===Mn.id?{...Ft,status:z}:Ft);oe(Me),(S==null?void 0:S.id)===Mn.id&&k({...S,status:z}),lr(null),Mr(null)},Os=z=>{Tt(z),Qe(!0)},eo=()=>{Qe(!1),Tt(null)},re=()=>{var ln;if(!mt.condition.trim()||!S){alert("Please fill in the condition field");return}let z="",Me=null;if(lt==="existing"&&Xt){const qn=(ln=S==null?void 0:S.medications)==null?void 0:ln.find(Wi=>Wi.name===Xt);z=qn?`${qn.name} - ${qn.dosage}, ${qn.frequency}`:Xt}else if(lt==="new"){if(!G.name.trim()){alert("Please enter the medication name");return}const qn={id:Date.now(),name:G.name,dosage:G.dosage.trim()||"⚠️ Pending",frequency:G.frequency.trim()||"⚠️ Pending",duration:G.duration.trim()||"⚠️ Pending",status:"Active",prescribedBy:"",dateStarted:new Date().toISOString().split("T")[0]},Wi=le.map(ii=>ii.id===(S==null?void 0:S.id)?{...ii,medications:[...ii.medications||[],qn]}:ii);oe(Wi);const jr={...S,medications:[...S.medications||[],qn]};k(jr),Me=qn,z=`${G.name} (Added to medications - details pending completion)`}else if(lt==="custom"){if(!mt.treatment.trim()){alert("Please enter the custom treatment details");return}z=mt.treatment}else if(lt==="existing"&&!Xt){alert("Please select a medication from the dropdown or choose a different treatment type");return}if(!z){alert("Please specify a treatment");return}const Ft={date:mt.date,condition:mt.condition,treatment:z,doctor:mt.doctor,notes:mt.notes},nn=le.map(qn=>{if(qn.id===S.id){const Wi={...qn,medicalHistory:[...qn.medicalHistory||[],Ft]};return k(Wi),Wi}return qn});oe(nn),zt(!1),It({date:new Date().toISOString().split("T")[0],condition:"",treatment:"",doctor:"",notes:""}),Zt("existing"),On(""),ve({name:"",dosage:"",frequency:"",duration:""}),Me&&(yt(Me),setTimeout(()=>{Ue(!0)},200))},Te=z=>{switch(z){case"new":return"info";case"follow-up":return"warning";case"old":return"success";case"admitted":return"secondary";case"transferred":return"secondary";case"discharged":return"default";default:return"default"}},gt=(()=>{let z=le;if($e==="reservation"&&ce){const Me=Ja(),Ft=Me.patientsWithPending.concat(Me.patientsWithCompleted),nn=Me.patientsWithNoAppointments;z=[...Ft.map(ln=>{var qn;return{...ln,_organizationGroup:"With Appointments",_appointmentCount:((qn=ln.appointmentData)==null?void 0:qn.totalAppointments)||0}}),...nn.map(ln=>({...ln,_organizationGroup:"No Appointments",_appointmentCount:0}))]}else if($e==="completion"&&ce){const Me=Ja();z=[...Me.patientsWithCompleted.map(Ft=>{var nn,ln;return{...Ft,_organizationGroup:"With Completed Appointments",_completedCount:((ln=(nn=Ft.appointmentData)==null?void 0:nn.completed)==null?void 0:ln.length)||0}}),...Me.patientsWithPending.map(Ft=>{var nn,ln;return{...Ft,_organizationGroup:"With Pending Appointments",_pendingCount:((ln=(nn=Ft.appointmentData)==null?void 0:nn.notCompleted)==null?void 0:ln.length)||0}}),...Me.patientsWithNoAppointments.map(Ft=>({...Ft,_organizationGroup:"No Appointments",_completedCount:0,_pendingCount:0}))]}if(z=z.filter(Me=>{const Ft=l===""||Me.name.toLowerCase().includes(l.toLowerCase())||Me.email.toLowerCase().includes(l.toLowerCase())||Me.condition.toLowerCase().includes(l.toLowerCase())||Me.phone.toLowerCase().includes(l.toLowerCase()),nn=p.gender===""||Me.gender.toLowerCase()===p.gender.toLowerCase(),ln=p.ageRange===""||(()=>{const jr=Me.age;switch(p.ageRange){case"18-30":return jr>=18&&jr<=30;case"31-50":return jr>=31&&jr<=50;case"51-65":return jr>=51&&jr<=65;case"65+":return jr>65;default:return!0}})(),qn=p.condition===""||Me.condition.toLowerCase().includes(p.condition.toLowerCase()),Wi=p.status===""||Me.status===p.status;return Ft&&nn&&ln&&qn&&Wi}),s!==7)switch(s){case 1:z=z.filter(Me=>Me.status==="new");break;case 2:z=z.filter(Me=>Me.status==="follow-up");break;case 3:z=z.filter(Me=>Me.status==="old");break;case 4:z=z.filter(Me=>Me.status==="admitted");break;case 5:z=z.filter(Me=>Me.status==="transferred");break;case 6:z=z.filter(Me=>Me.status==="discharged");break}return z})(),Rt=(z,Me)=>{m(Ft=>({...Ft,[z]:Me})),f(null)},Dn=()=>{m({gender:"",ageRange:"",condition:"",status:""}),c(""),f(null)},Er=()=>Object.values(p).filter(z=>z!=="").length+(l?1:0);return Se?o.jsx(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Loading patient data..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we load your patient information"})]})}):o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.25)"},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",gap:{xs:3,md:0},position:"relative",zIndex:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,sm:56,md:64},height:{xs:48,sm:56,md:64},borderRadius:{xs:"16px",md:"20px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:{xs:2,sm:2.5,md:3},backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",flexShrink:0},children:o.jsx(Lr,{sx:{fontSize:{xs:24,sm:28,md:32},color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:{xs:.5,md:1},textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("patient_management")}),o.jsxs(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",sm:"1.1rem",md:"1.25rem"}},children:["🩺 ",t("patient dashboard ")]})]})]}),o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1.5,sm:2},width:{xs:"100%",md:"auto"}},children:[o.jsx(me,{variant:"contained",startIcon:o.jsx(hr,{}),onClick:Ot,size:"medium",sx:{borderRadius:3,backgroundColor:"rgba(37, 211, 102, 0.2)",color:"white",border:"1px solid rgba(37, 211, 102, 0.3)",fontWeight:600,px:{xs:2,sm:3},py:{xs:1,sm:1.5},backdropFilter:"blur(10px)",fontSize:{xs:"0.8rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(37, 211, 102, 0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(37, 211, 102, 0.25)"},transition:"all 0.3s ease"},children:t("whatsapp_all")}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Sr,{}),onClick:()=>{const z=aD();oe(z);const Me=Jk(),Ft=Ja();We(Me),pe(Ft.allPatients),console.log("🔄 Manual sync completed!")},size:"medium",sx:{borderRadius:3,backgroundColor:"rgba(33, 150, 243, 0.2)",color:"white",border:"1px solid rgba(33, 150, 243, 0.3)",fontWeight:600,px:{xs:2,sm:3},py:{xs:1,sm:1.5},backdropFilter:"blur(10px)",fontSize:{xs:"0.8rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(33, 150, 243, 0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(33, 150, 243, 0.25)"},transition:"all 0.3s ease"},children:t("sync_appointments")}),o.jsxs(me,{variant:"contained",startIcon:o.jsx(mu,{}),onClick:()=>x(!0),size:"medium",sx:{borderRadius:{xs:2,md:3},backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:700,px:{xs:3,sm:4},py:{xs:1.5,sm:1.5},minHeight:{xs:48,md:"auto"},backdropFilter:"blur(10px)",fontSize:{xs:"0.875rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.2)"},transition:"all 0.3s ease"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("add_new_patient")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Add Patient"})]})]})]}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}}),o.jsx(T,{sx:{position:"absolute",bottom:-30,left:-30,width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.05)",zIndex:1}})]}),o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsxs(T,{sx:{p:4,borderBottom:1,borderColor:"divider",background:"linear-gradient(135deg, #fafbfc 0%, #f0f2f5 100%)"},children:[o.jsxs(V,{container:!0,spacing:3,alignItems:"center",sx:{mb:3},children:[o.jsx(V,{item:!0,xs:12,lg:8,children:o.jsx(T,{sx:{position:"relative"},children:o.jsx(Pe,{fullWidth:!0,placeholder:`🔍 ${t("search_patients_placeholder")}`,value:l,onChange:z=>c(z.target.value),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(K1,{sx:{color:"primary.main",fontSize:24}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:4,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",border:"2px solid transparent",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 32px rgba(0,0,0,0.15)",transform:"translateY(-1px)"},"&.Mui-focused":{border:"2px solid #667eea",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.2)"}},"& .MuiInputBase-input":{padding:"16px 14px",fontSize:"1rem",fontWeight:500}}})})}),o.jsx(V,{item:!0,xs:12,lg:4,children:o.jsx(T,{sx:{display:"flex",gap:2,justifyContent:{xs:"flex-start",lg:"flex-end"}},children:o.jsxs(me,{variant:"outlined",startIcon:o.jsx(bs,{}),onClick:z=>f(z.currentTarget),sx:{borderRadius:3,fontWeight:600,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",minWidth:120,"&:hover":{transform:"translateY(-1px)",boxShadow:"0 8px 32px rgba(0,0,0,0.15)"},transition:"all 0.3s ease",...Er()>0&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"translateY(-1px)",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"}}},children:["🔽 ",t("filter"),Er()>0&&o.jsx(Ke,{label:Er(),size:"small",sx:{ml:1,height:20,backgroundColor:"rgba(255,255,255,0.9)",color:"primary.main",fontSize:"0.75rem",fontWeight:700}})]})})})]}),o.jsxs(V,{container:!0,spacing:2,alignItems:"center",children:[o.jsx(V,{item:!0,xs:12,lg:8,children:o.jsxs(Ve,{sx:{display:"flex",gap:1,p:2,backgroundColor:"white",borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",flexWrap:"wrap",alignItems:"center"},children:[o.jsxs(w,{variant:"body2",sx:{fontWeight:700,color:"text.primary",minWidth:"fit-content",mr:1},children:["📊 ",t("organize"),":"]}),o.jsxs(T,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o.jsx(me,{size:"small",variant:$e==="all"?"contained":"outlined",onClick:()=>Ce("all"),startIcon:o.jsx(Lr,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...$e==="all"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("all")}),o.jsx(me,{size:"small",variant:$e==="reservation"?"contained":"outlined",onClick:()=>Ce("reservation"),startIcon:o.jsx(En,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...$e==="reservation"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("reservations")}),o.jsx(me,{size:"small",variant:$e==="completion"?"contained":"outlined",onClick:()=>Ce("completion"),startIcon:o.jsx(zr,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...$e==="completion"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("completion")})]})]})}),o.jsx(V,{item:!0,xs:12,lg:4,children:o.jsx(T,{sx:{display:"flex",justifyContent:{xs:"flex-start",lg:"flex-end"}},children:o.jsxs(Ve,{sx:{display:"flex",gap:1,p:1.5,backgroundColor:"white",borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)"},children:[o.jsx(me,{size:"small",variant:v==="table"?"contained":"outlined",onClick:()=>b("table"),startIcon:o.jsx(li,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...v==="table"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("table")}),o.jsx(me,{size:"small",variant:v==="cards"?"contained":"outlined",onClick:()=>b("cards"),startIcon:o.jsx(Cu,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...v==="cards"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("cards")})]})})})]}),Er()>0&&o.jsxs(T,{sx:{mt:3,pt:2,borderTop:"1px solid rgba(0,0,0,0.1)"},children:[o.jsxs(w,{variant:"body2",sx:{fontWeight:600,mb:1,color:"text.secondary"},children:[t("active_filters"),":"]}),o.jsxs(T,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[l&&o.jsx(Ke,{label:`${t("search")}: "${l}"`,size:"small",onDelete:()=>c(""),color:"primary",variant:"outlined"}),p.gender&&o.jsx(Ke,{label:`${t("gender")}: ${p.gender}`,size:"small",onDelete:()=>Rt("gender",""),color:"primary",variant:"outlined"}),p.ageRange&&o.jsx(Ke,{label:`${t("age")}: ${p.ageRange}`,size:"small",onDelete:()=>Rt("ageRange",""),color:"primary",variant:"outlined"}),p.status&&o.jsx(Ke,{label:`${t("status")}: ${p.status}`,size:"small",onDelete:()=>Rt("status",""),color:"primary",variant:"outlined"}),p.condition&&o.jsx(Ke,{label:`${t("condition")}: ${p.condition}`,size:"small",onDelete:()=>Rt("condition",""),color:"primary",variant:"outlined"}),o.jsx(me,{size:"small",onClick:Dn,sx:{fontSize:"0.75rem",color:"error.main","&:hover":{backgroundColor:"error.light",color:"white"}},children:t("clear_all")})]})]})]}),$e!=="all"&&ce&&o.jsxs(T,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",borderBottom:1,borderColor:"divider"},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,textAlign:"center",color:"primary.main"},children:["📊 ",t("organization_summary")," - ",t($e==="reservation"?"by_reservation_status":"by_completion_status")]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{textAlign:"center",p:3,backgroundColor:"white",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"2px solid #4caf50",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},transition:"all 0.3s ease"},children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"success.main",mb:1},children:$e==="reservation"?Ja().patientsWithPending.concat(Ja().patientsWithCompleted).length:Ja().patientsWithCompleted.length}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:$e==="reservation"?`📅 ${t("with_appointments")}`:`✅ ${t("with_completed")}`}),o.jsx(T,{sx:{position:"absolute",top:-10,right:-10,width:40,height:40,borderRadius:"50%",backgroundColor:"rgba(76, 175, 80, 0.1)"}})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{textAlign:"center",p:3,backgroundColor:"white",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"2px solid #ff9800",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},transition:"all 0.3s ease"},children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"warning.main",mb:1},children:$e==="reservation"?Ja().patientsWithNoAppointments.length:Ja().patientsWithPending.length}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:$e==="reservation"?`❌ ${t("no_appointments")}`:`⏳ ${t("with_pending")}`}),o.jsx(T,{sx:{position:"absolute",top:-10,right:-10,width:40,height:40,borderRadius:"50%",backgroundColor:"rgba(255, 152, 0, 0.1)"}})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{textAlign:"center",p:3,backgroundColor:"white",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"2px solid #2196f3",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},transition:"all 0.3s ease"},children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"primary.main",mb:1},children:$e==="completion"?Ja().patientsWithNoAppointments.length:ce.completed.length+ce.notCompleted.length}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{fontWeight:600},children:$e==="completion"?`🚫 ${t("no_appointments")}`:`📊 ${t("total_appointments")}`}),o.jsx(T,{sx:{position:"absolute",top:-10,right:-10,width:40,height:40,borderRadius:"50%",backgroundColor:"rgba(33, 150, 243, 0.1)"}})]})})]})]}),(Er()>0||l)&&o.jsx(T,{sx:{px:3,py:2,backgroundColor:"#f8f9fa",borderBottom:1,borderColor:"divider"},children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("showing_patients")," ",gt.length," ",t("of_patients")," ",le.length," ",t("patients"),Er()>0&&` ${t("with")} ${Er()} ${t("filters_applied")}`,$e!=="all"&&` • ${t("organized_by")} ${$e}`]})}),o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:4,py:2,background:"linear-gradient(to right, #fafbfc, #f8f9fa)"},children:o.jsxs(_l,{value:s,onChange:_e,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{fontWeight:600,fontSize:"0.9rem",borderRadius:3,margin:"0 4px",minHeight:48,transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(102, 126, 234, 0.1)",transform:"translateY(-2px)"},"&.Mui-selected":{backgroundColor:"white",color:"primary.main",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid rgba(102, 126, 234, 0.2)"}},"& .MuiTabs-indicator":{display:"none"}},children:[o.jsx(un,{label:`👥 ${t("all patients")} (${gt.length})`,icon:o.jsx(Lr,{}),iconPosition:"start"}),o.jsx(un,{label:`🆕 ${t("new")} (${gt.filter(z=>z.status==="new").length})`,icon:o.jsx(mu,{}),iconPosition:"start"}),o.jsx(un,{label:`📋 ${t("follow-up")} (${gt.filter(z=>z.status==="follow-up").length})`,icon:o.jsx(li,{}),iconPosition:"start"}),o.jsx(un,{label:`👴 ${t("old")} (${gt.filter(z=>z.status==="old").length})`,icon:o.jsx(Qb,{}),iconPosition:"start"}),o.jsx(un,{label:`🏥 ${t("under observation")} (${gt.filter(z=>z.status==="admitted").length})`,icon:o.jsx(Cu,{}),iconPosition:"start"}),o.jsx(un,{label:`↗️ ${t("transferred")} (${gt.filter(z=>z.status==="transferred").length})`,icon:o.jsx(eK,{}),iconPosition:"start"}),o.jsx(un,{label:`✅ ${t("discharged")} (${gt.filter(z=>z.status==="discharged").length})`,icon:o.jsx(zr,{}),iconPosition:"start"}),o.jsx(un,{label:`📅 ${t("appointment data")} (${ce?ce.completed.length+ce.notCompleted.length:0})`,icon:o.jsx(En,{}),iconPosition:"start",sx:{color:"primary.main",fontWeight:700,"&.Mui-selected":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"}}})]})}),v==="table"&&o.jsxs(o.Fragment,{children:[o.jsxs(go,{value:s,index:0,children:[$e!=="all"&&o.jsx(Zn,{severity:"info",sx:{m:3,mb:2},children:o.jsxs(w,{variant:"body2",children:[t("organized_by_text")," ",t($e==="reservation"?"appointment_reservations":"appointment_completion_status"),".",$e==="reservation"&&` ${t("patients_with_appointments_listed_first")}`,$e==="completion"&&` ${t("patients_with_completed_listed_first")}`]})}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0&&Er()>0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(bs,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t("no_patients_match_filters")}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("try_adjusting_criteria")}),o.jsx(me,{variant:"outlined",onClick:Dn,startIcon:o.jsx(bs,{}),children:t("clear_all_filters")})]})})}):gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t("no_patients_found")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("add_first_patient")})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})]}),o.jsx(go,{value:s,index:1,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t("no_new_patients")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("all_new_patients_appear")})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:2,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t("no_follow_up_patients")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("follow_up_patients_appear")})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:3,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0&&Er()>0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(bs,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No patients match your filters"}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Try adjusting your search criteria or clearing some filters"}),o.jsx(me,{variant:"outlined",onClick:Dn,startIcon:o.jsx(bs,{}),children:"Clear All Filters"})]})})}):gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No patients found"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Add your first patient to get started"})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:4,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No patients under observation"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Patients admitted for observation or delivery will appear here"})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:5,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No transferred patients"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Patients transferred to other facilities will appear here"})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:6,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("contact")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("next_appointment")}),o.jsx(ae,{sx:{fontWeight:600},children:t("condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:gt.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(Lr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No discharged patients"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Discharged patients will appear here"})]})})}):gt.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:z.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o.jsx(w,{variant:"body2",children:z.phone}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:z.email})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.lastVisit})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:z.nextAppointment})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:i(z.condition)})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient Info",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",color:"success",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})})]})})]},z.id))})]})})}),o.jsx(go,{value:s,index:7,children:ce?o.jsxs(T,{sx:{p:3},children:[o.jsx(Zn,{severity:"info",sx:{mb:3},children:o.jsx(w,{variant:"body2",children:t("appointment_data_organized_by_completion")})}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(Ve,{sx:{p:3,backgroundColor:"#e8f5e8"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(zr,{sx:{color:"#4caf50",mr:1}}),o.jsx(w,{variant:"h6",sx:{color:"#4caf50",fontWeight:700},children:"Completed Appointments"})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"#4caf50",mb:1},children:ce.completed.length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("successfully_completed_appointments")})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(Ve,{sx:{p:3,backgroundColor:"#fff3e0"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(Sr,{sx:{color:"#ff9800",mr:1}}),o.jsx(w,{variant:"h6",sx:{color:"#ff9800",fontWeight:700},children:t("pending_not_completed")})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"#ff9800",mb:1},children:ce.notCompleted.length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("appointments_awaiting_completion")})]})})]}),o.jsx(Ve,{sx:{mb:4},children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#4caf50"},children:["✅ ",t("completed_appointments")," (",ce.completed.length,")"]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("date")}),o.jsx(ae,{sx:{fontWeight:600},children:t("time")}),o.jsx(ae,{sx:{fontWeight:600},children:t("doctor")}),o.jsx(ae,{sx:{fontWeight:600},children:t("type")}),o.jsx(ae,{sx:{fontWeight:600},children:t("duration")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")})]})}),o.jsx(xi,{children:ce.completed.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:4},children:o.jsx(w,{variant:"body2",color:"text.secondary",children:t("no_completed_appointments_found")})})}):ce.completed.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:32,height:32,mr:2,fontSize:"0.75rem"},children:z.patientAvatar||z.patient.substring(0,2).toUpperCase()}),o.jsx(w,{variant:"body2",fontWeight:600,children:z.patient})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.date})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.time})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.doctor})}),o.jsx(ae,{children:o.jsx(Ke,{label:z.type,size:"small",variant:"outlined"})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",children:[z.duration||30," min"]})}),o.jsx(ae,{children:o.jsx(Ke,{label:t("completed"),color:"success",size:"small",icon:o.jsx(zr,{})})})]},z.id))})]})})]})}),o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#ff9800"},children:["⏳ ",t("pending_not_completed")," (",ce.notCompleted.length,")"]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("date")}),o.jsx(ae,{sx:{fontWeight:600},children:t("time")}),o.jsx(ae,{sx:{fontWeight:600},children:t("doctor")}),o.jsx(ae,{sx:{fontWeight:600},children:t("type")}),o.jsx(ae,{sx:{fontWeight:600},children:t("duration")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")})]})}),o.jsx(xi,{children:ce.notCompleted.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:7,sx:{textAlign:"center",py:4},children:o.jsx(w,{variant:"body2",color:"text.secondary",children:t("no_pending_appointments_found")})})}):ce.notCompleted.map(z=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:32,height:32,mr:2,fontSize:"0.75rem"},children:z.patientAvatar||z.patient.substring(0,2).toUpperCase()}),o.jsx(w,{variant:"body2",fontWeight:600,children:z.patient})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.date})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.time})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:z.doctor})}),o.jsx(ae,{children:o.jsx(Ke,{label:z.type,size:"small",variant:"outlined"})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",children:[z.duration||30," min"]})}),o.jsx(ae,{children:o.jsx(Ke,{label:z.status,color:z.status==="confirmed"?"primary":z.status==="pending"?"warning":"error",size:"small"})})]},z.id))})]})})]})})]}):o.jsxs(T,{sx:{p:6,textAlign:"center"},children:[o.jsx(En,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:t("loading_appointment_data")}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("syncing_appointment_data")})]})})]}),v==="cards"&&o.jsxs(o.Fragment,{children:[o.jsx(go,{value:s,index:0,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0&&Er()>0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(bs,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No patients match your filters"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Try adjusting your search criteria or clearing some filters"}),o.jsx(me,{variant:"contained",onClick:Dn,startIcon:o.jsx(bs,{}),children:"Clear All Filters"})]})}):gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No patients found"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Add your first patient to get started"}),o.jsx(me,{variant:"contained",onClick:()=>x(!0),startIcon:o.jsx(mu,{}),sx:{minHeight:{xs:48,md:"auto"},px:{xs:3,md:4},py:{xs:1.5,md:1.5},fontSize:{xs:"0.9rem",md:"1rem"},borderRadius:{xs:2,md:1},fontWeight:600},children:"Add New Patient"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:1,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No new patients found"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"All new patients will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:2,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No follow-up patients found"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Patients requiring follow-up will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:3,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No old patients found"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Established patients will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:4,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No patients under observation"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Patients admitted for observation or delivery will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:5,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No transferred patients"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Patients transferred to other facilities will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:6,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:gt.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(Lr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:"No discharged patients"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Discharged patients will appear here"})]})}):gt.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4}},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:z.avatar}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>St(z),children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.gender,", ",z.age," years"]})]}),o.jsx(Ze,{title:"Click to change status",arrow:!0,children:o.jsx(Ke,{label:i(z.status),color:Te(z.status),size:"small",variant:"outlined",onClick:Me=>fi(z,Me),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Phone: ",z.phone]}),o.jsx(hr,{sx:{fontSize:14,color:"#25D366"}})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Condition: ",i(z.condition)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Last Visit: ",z.lastVisit]}),o.jsxs(w,{variant:"body2",color:"primary.main",fontWeight:600,children:["Next: ",z.nextAppointment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[o.jsx(Ze,{title:"Medical Notes & History",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>St(z),children:o.jsx(li,{fontSize:"small"})})}),o.jsx(Ze,{title:"Send WhatsApp Message",children:o.jsx(qe,{size:"small",onClick:()=>ct(z.phone,z.name),sx:{color:"#25D366"},children:o.jsx(hr,{fontSize:"small"})})}),o.jsx(Ze,{title:"Schedule Appointment",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>br(z),children:o.jsx(En,{fontSize:"small"})})}),o.jsx(Ze,{title:"Edit Patient",children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(z),children:o.jsx(Wn,{fontSize:"small"})})})]})]})})},z.id))})}),o.jsx(go,{value:s,index:7,children:ce?o.jsxs(T,{sx:{p:3},children:[o.jsx(Zn,{severity:"info",sx:{mb:3},children:o.jsx(w,{variant:"body2",children:t("appointment_data_organized_by_completion")})}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(Ve,{sx:{p:3,backgroundColor:"#e8f5e8"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(zr,{sx:{color:"#4caf50",mr:1}}),o.jsx(w,{variant:"h6",sx:{color:"#4caf50",fontWeight:700},children:"Completed Appointments"})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"#4caf50",mb:1},children:ce.completed.length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("successfully_completed_appointments")})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(Ve,{sx:{p:3,backgroundColor:"#fff3e0"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(Sr,{sx:{color:"#ff9800",mr:1}}),o.jsx(w,{variant:"h6",sx:{color:"#ff9800",fontWeight:700},children:t("pending_not_completed")})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"#ff9800",mb:1},children:ce.notCompleted.length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("appointments_awaiting_completion")})]})})]}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#4caf50"},children:["✅ Completed Appointments (",ce.completed.length,")"]}),o.jsx(V,{container:!0,spacing:3,sx:{mb:4},children:ce.completed.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:4,textAlign:"center"},children:[o.jsx(zr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No completed appointments"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Completed appointments will appear here"})]})}):ce.completed.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%",border:"2px solid #e8f5e8"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"#4caf50"},children:z.patientAvatar||z.patient.substring(0,2).toUpperCase()}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5},children:z.patient}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.date," at ",z.time]})]}),o.jsx(Ke,{label:t("completed"),color:"success",size:"small",icon:o.jsx(zr,{})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Doctor: ",z.doctor]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Type: ",z.type]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Duration: ",z.duration||30," minutes"]})]})]})})},z.id))}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#ff9800"},children:["⏳ ",t("pending_not_completed")," Appointments (",ce.notCompleted.length,")"]}),o.jsx(V,{container:!0,spacing:3,children:ce.notCompleted.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:4,textAlign:"center"},children:[o.jsx(Sr,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No pending appointments"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Pending appointments will appear here"})]})}):ce.notCompleted.map(z=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsx(Ve,{sx:{height:"100%",border:"2px solid #fff3e0"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"#ff9800"},children:z.patientAvatar||z.patient.substring(0,2).toUpperCase()}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5},children:z.patient}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.date," at ",z.time]})]}),o.jsx(Ke,{label:z.status,color:z.status==="confirmed"?"primary":z.status==="pending"?"warning":"error",size:"small"})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Doctor: ",z.doctor]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Type: ",z.type]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Duration: ",z.duration||30," minutes"]})]})]})})},z.id))})]}):o.jsxs(T,{sx:{p:6,textAlign:"center"},children:[o.jsx(En,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:t("loading_appointment_data")}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("syncing_appointment_data")})]})})]})]})}),o.jsxs(bl,{anchorEl:d,open:!!d,onClose:()=>f(null),PaperProps:{sx:{minWidth:250,maxHeight:500}},children:[o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"Filter Patients"}),Er()>0&&o.jsx(me,{size:"small",color:"primary",onClick:Dn,children:"Clear All"})]}),Er()>0&&o.jsxs(w,{variant:"caption",color:"text.secondary",children:[Er()," filter(s) active • ",gt.length," patient(s) found"]})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Gender"}),o.jsx(ye,{onClick:()=>Rt("gender",""),selected:p.gender==="",dense:!0,children:"All Genders"}),o.jsx(ye,{onClick:()=>Rt("gender","Male"),selected:p.gender==="Male",dense:!0,children:"Male Patients"}),o.jsx(ye,{onClick:()=>Rt("gender","Female"),selected:p.gender==="Female",dense:!0,children:"Female Patients"})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Age Range"}),o.jsx(ye,{onClick:()=>Rt("ageRange",""),selected:p.ageRange==="",dense:!0,children:"All Ages"}),o.jsx(ye,{onClick:()=>Rt("ageRange","18-30"),selected:p.ageRange==="18-30",dense:!0,children:"18-30 years"}),o.jsx(ye,{onClick:()=>Rt("ageRange","31-50"),selected:p.ageRange==="31-50",dense:!0,children:"31-50 years"}),o.jsx(ye,{onClick:()=>Rt("ageRange","51-65"),selected:p.ageRange==="51-65",dense:!0,children:"51-65 years"}),o.jsx(ye,{onClick:()=>Rt("ageRange","65+"),selected:p.ageRange==="65+",dense:!0,children:"65+ years"})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Status"}),o.jsx(ye,{onClick:()=>Rt("status",""),selected:p.status==="",dense:!0,children:"All Statuses"}),o.jsx(ye,{onClick:()=>Rt("status","old"),selected:p.status==="old",dense:!0,children:"Old Patients"}),o.jsx(ye,{onClick:()=>Rt("status","new"),selected:p.status==="new",dense:!0,children:"New Patients"}),o.jsx(ye,{onClick:()=>Rt("status","follow-up"),selected:p.status==="follow-up",dense:!0,children:t("follow-up")}),o.jsx(ye,{onClick:()=>Rt("status","admitted"),selected:p.status==="admitted",dense:!0,children:t("under observation")})]}),o.jsxs(T,{sx:{p:2},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Common Conditions"}),o.jsx(ye,{onClick:()=>Rt("condition",""),selected:p.condition==="",dense:!0,children:"All Conditions"}),o.jsx(ye,{onClick:()=>Rt("condition","Diabetes"),selected:p.condition==="Diabetes",dense:!0,children:"Diabetes"}),o.jsx(ye,{onClick:()=>Rt("condition","Hypertension"),selected:p.condition==="Hypertension",dense:!0,children:"Hypertension"}),o.jsx(ye,{onClick:()=>Rt("condition","Asthma"),selected:p.condition==="Asthma",dense:!0,children:"Asthma"}),o.jsx(ye,{onClick:()=>Rt("condition","Routine"),selected:p.condition==="Routine",dense:!0,children:"Routine Checkup"})]})]}),o.jsx(In,{open:I,onClose:te,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{height:"90vh"}},children:S&&o.jsxs(o.Fragment,{children:[o.jsx(kn,{sx:{pb:1},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:60,height:60,mr:2,backgroundColor:"primary.main",fontSize:"1.5rem"},children:S.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:S.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[S.gender,", ",S.age," years • Patient ID: ",S.id]})]})]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(hr,{}),onClick:()=>ct(S.phone,S.name),sx:{color:"#25D366",borderColor:"#25D366"},children:"WhatsApp"}),o.jsx(qe,{onClick:te,children:o.jsx(Qo,{})})]})]})}),o.jsxs(Tn,{sx:{p:0},children:[o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:3},children:o.jsxs(_l,{value:P,onChange:Re,children:[o.jsx(un,{label:t("overview"),icon:o.jsx(Ps,{}),iconPosition:"start"}),o.jsx(un,{label:t("medical_history"),icon:o.jsx(Qb,{}),iconPosition:"start"}),o.jsx(un,{label:t("medications"),icon:o.jsx(iL,{}),iconPosition:"start"}),o.jsx(un,{label:t("visit_notes"),icon:o.jsx(Twe,{}),iconPosition:"start"}),o.jsx(un,{label:t("documents"),icon:o.jsx(Hl,{}),iconPosition:"start"})]})}),P===0&&o.jsx(T,{sx:{p:3},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Basic Information"}),o.jsxs(mi,{sx:{p:0},children:[o.jsx(An,{sx:{px:0},children:o.jsx(pr,{primary:t("phone"),secondary:S.phone})}),o.jsx(An,{sx:{px:0},children:o.jsx(pr,{primary:t("email"),secondary:S.email})}),o.jsx(An,{sx:{px:0},children:o.jsx(pr,{primary:t("address"),secondary:S.address})}),o.jsx(An,{sx:{px:0},children:o.jsx(pr,{primary:t("emergency_contact"),secondary:S.emergencyContact})}),o.jsx(An,{sx:{px:0},children:o.jsx(pr,{primary:t("blood_type"),secondary:S.bloodType})})]})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Medical Summary"}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Current Condition"}),o.jsx(w,{variant:"body1",fontWeight:600,children:i(S.condition)})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Allergies"}),o.jsx(T,{sx:{display:"flex",gap:1,mt:.5},children:(Po=S.allergies)==null?void 0:Po.map((z,Me)=>o.jsx(Ke,{label:z,size:"small",color:"warning",variant:"outlined"},Me))})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Last Visit"}),o.jsx(w,{variant:"body1",fontWeight:600,children:S.lastVisit})]}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Next Appointment"}),o.jsx(w,{variant:"body1",fontWeight:600,color:"primary.main",children:S.nextAppointment})]})]})})}),S.vitalSigns&&o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Latest Vital Signs"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:6,sm:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"primary.50",borderRadius:2},children:[o.jsx(w,{variant:"h6",color:"primary.main",children:(qu=S.vitalSigns[0])==null?void 0:qu.bp}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Blood Pressure"})]})}),o.jsx(V,{item:!0,xs:6,sm:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"success.50",borderRadius:2},children:[o.jsx(w,{variant:"h6",color:"success.main",children:(Il=S.vitalSigns[0])==null?void 0:Il.pulse}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Pulse (BPM)"})]})}),o.jsx(V,{item:!0,xs:6,sm:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"warning.50",borderRadius:2},children:[o.jsx(w,{variant:"h6",color:"warning.main",children:(Tl=S.vitalSigns[0])==null?void 0:Tl.weight}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Weight"})]})}),o.jsx(V,{item:!0,xs:6,sm:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"info.50",borderRadius:2},children:[o.jsx(w,{variant:"h6",color:"info.main",children:(ha=S.vitalSigns[0])==null?void 0:ha.height}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Height"})]})})]})]})})})]})}),P===1&&o.jsxs(T,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"Medical History"}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(rr,{}),onClick:()=>{const z=(S==null?void 0:S.medications)&&S.medications.length>0;Zt(z?"existing":"new"),On(""),ve({name:"",dosage:"",frequency:"",duration:""}),zt(!0)},children:"Add Medical History"}),o.jsx(me,{variant:"text",size:"small",color:"primary",onClick:()=>{yt({id:999,name:"Test Medication",dosage:"⚠️ Pending",frequency:"⚠️ Pending",duration:"⚠️ Pending"}),Ue(!0)},children:"Test Popup"})]})]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:8,children:((Va=S.medicalHistory)==null?void 0:Va.length)>0?S.medicalHistory.map((z,Me)=>o.jsx(Ve,{sx:{mb:2},children:o.jsxs(st,{children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:z.condition}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:z.date}),o.jsx(qe,{size:"small",color:"primary",onClick:()=>{console.log("Edit medical history:",z)},children:o.jsx(Wn,{fontSize:"small"})})]})]}),o.jsxs(w,{variant:"body2",sx:{mb:1},children:[o.jsx("strong",{children:"Treatment:"})," ",z.treatment]}),o.jsxs(w,{variant:"body2",sx:{mb:1},children:[o.jsx("strong",{children:"Doctor:"})," ",z.doctor]}),z.notes&&o.jsxs(w,{variant:"body2",color:"text.secondary",children:[o.jsx("strong",{children:"Notes:"})," ",z.notes]})]})},Me)):o.jsxs(Ve,{sx:{p:4,textAlign:"center"},children:[o.jsx(Qb,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No Medical History"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:`Click "Add Medical History" to record the patient's medical background`})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Quick Add Medical History"}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Pe,{fullWidth:!0,label:"Date",type:"date",value:mt.date,onChange:z=>It({...mt,date:z.target.value}),InputLabelProps:{shrink:!0}}),o.jsx(Pe,{fullWidth:!0,label:"Medical Condition",value:mt.condition,onChange:z=>It({...mt,condition:z.target.value}),placeholder:"e.g., Diabetes Type 2, Hypertension"}),o.jsxs(w,{variant:"body2",color:"primary.main",sx:{mb:1},children:["Treatment: ",lt==="existing"?"Select from medications":lt==="new"?"Add new medication":"Custom treatment"]}),lt==="existing"&&o.jsxs(hn,{fullWidth:!0,sx:{mb:2},children:[o.jsx(jn,{children:"Select Medication"}),o.jsxs(yn,{value:Xt,onChange:z=>{z.target.value==="__ADD_NEW__"?(Zt("new"),On("")):On(z.target.value)},label:"Select Medication",size:"small",children:[((Ph=S==null?void 0:S.medications)==null?void 0:Ph.length)>0&&S.medications.map(z=>o.jsx(ye,{value:z.name,children:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.dosage,", ",z.frequency]})]})},z.id)),o.jsx(ye,{value:"__ADD_NEW__",sx:{borderTop:"1px solid #e0e0e0",mt:1},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",color:"primary.main"},children:[o.jsx(rr,{sx:{fontSize:16,mr:1}}),o.jsx(w,{variant:"body2",fontWeight:600,children:"Add New..."})]})}),((Ds=S==null?void 0:S.medications)==null?void 0:Ds.length)===0&&o.jsx(ye,{disabled:!0,children:o.jsx(w,{variant:"caption",color:"text.secondary",children:'No medications. Click "Add New..." to create one.'})})]})]}),lt==="new"&&o.jsx(Pe,{fullWidth:!0,label:"New Medication Name",value:G.name,onChange:z=>ve({...G,name:z.target.value}),placeholder:"e.g., Metformin",size:"small",sx:{mb:2}}),lt==="custom"&&o.jsx(Pe,{fullWidth:!0,label:"Treatment",value:mt.treatment,onChange:z=>It({...mt,treatment:z.target.value}),placeholder:"e.g., Surgery, Physical therapy",size:"small",sx:{mb:2}}),o.jsxs(me,{variant:"text",size:"small",onClick:()=>{const z=(S==null?void 0:S.medications)&&S.medications.length>0;Zt(lt==="existing"?"new":lt==="new"?"custom":z?"existing":"new")},sx:{mb:2},children:["Switch to ",lt==="existing"?"New Medication":lt==="new"?"Custom Treatment":"Existing Medication"]}),o.jsx(Pe,{fullWidth:!0,label:"Doctor",value:mt.doctor,onChange:z=>It({...mt,doctor:z.target.value}),size:"small"}),o.jsx(Pe,{fullWidth:!0,label:"Additional Notes",multiline:!0,rows:2,value:mt.notes,onChange:z=>It({...mt,notes:z.target.value}),placeholder:"Additional information...",size:"small"}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Oo,{}),onClick:re,disabled:!mt.condition.trim()||lt==="existing"&&!Xt||lt==="new"&&!G.name.trim()||lt==="custom"&&!mt.treatment.trim(),children:"Add to Medical History"})]})]})})})]})]}),P===2&&o.jsxs(T,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:600},children:["Current Medications (",((co=S.medications)==null?void 0:co.length)||0,")"]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(me,{variant:"text",size:"small",onClick:()=>{const z=le.find(Me=>Me.id===S.id);z&&k(z)},children:"🔄 Refresh"}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(rr,{}),onClick:()=>{L({name:"",dosage:"",frequency:"",duration:""})},children:"Add Medication"})]})]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:8,children:((Ba=S.medications)==null?void 0:Ba.length)>0?S.medications.map((z,Me)=>o.jsx(Ve,{sx:{mb:2},children:o.jsx(st,{children:o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:z.name}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[z.dosage," • ",z.frequency]}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:["Prescribed: ",z.dateStarted||z.prescribed||"Unknown"]}),z.duration&&o.jsxs(w,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["Duration: ",z.duration]})]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(qe,{size:"small",color:"primary",onClick:()=>nt(z,Me),children:o.jsx(Wn,{fontSize:"small"})}),o.jsx(qe,{size:"small",color:"error",onClick:()=>Ar(Me),children:o.jsx(Cs,{fontSize:"small"})})]})]})})},Me)):o.jsxs(Ve,{sx:{p:4,textAlign:"center"},children:[o.jsx(iL,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No Medications"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:'No medications have been prescribed yet. Add medications via Medical History or use the "Add Medication" button.'})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Add New Medication"}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Pe,{fullWidth:!0,label:"Medication Name",value:D.name,onChange:z=>L({...D,name:z.target.value})}),o.jsx(Pe,{fullWidth:!0,label:"Dosage",value:D.dosage,onChange:z=>L({...D,dosage:z.target.value})}),o.jsx(Pe,{fullWidth:!0,label:"Frequency",value:D.frequency,onChange:z=>L({...D,frequency:z.target.value})}),o.jsx(Pe,{fullWidth:!0,label:"Duration",value:D.duration,onChange:z=>L({...D,duration:z.target.value})}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Oo,{}),onClick:je,disabled:!D.name.trim(),children:"Add Medication"})]})]})})})]})]}),P===3&&o.jsxs(T,{sx:{p:3},children:[o.jsx(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"Visit Notes"})}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:8,children:(fa=S.visitNotes)==null?void 0:fa.map((z,Me)=>o.jsx(Ve,{sx:{mb:2},children:o.jsxs(st,{children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[z.date," • ",z.doctor]}),o.jsx(qe,{size:"small",color:"primary",onClick:()=>mn(z,Me),children:o.jsx(Wn,{fontSize:"small"})})]}),o.jsx(w,{variant:"body1",children:z.note})]})},Me))}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Add New Note"}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Pe,{fullWidth:!0,multiline:!0,rows:6,label:"Visit Notes",value:E,onChange:z=>O(z.target.value),placeholder:"Enter detailed notes about the patient's visit, symptoms, diagnosis, and treatment plan..."}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Oo,{}),onClick:J,disabled:!E.trim(),children:"Save Note"})]})]})})})]})]}),P===4&&o.jsxs(T,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"Medical Documents"}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(Hl,{}),onClick:()=>ht(!0),children:"Upload Document"})]}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsxs(Ve,{sx:{p:3,textAlign:"center",cursor:"pointer","&:hover":{boxShadow:4}},onClick:()=>alert("Sample document - No file available for preview"),children:[o.jsx(Cu,{sx:{fontSize:48,color:"primary.main",mb:2}}),o.jsx(w,{variant:"body2",fontWeight:600,children:"Lab Results"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Blood Test - Jan 15, 2024"})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsxs(Ve,{sx:{p:3,textAlign:"center",cursor:"pointer","&:hover":{boxShadow:4}},onClick:()=>alert("Sample document - No file available for preview"),children:[o.jsx(li,{sx:{fontSize:48,color:"success.main",mb:2}}),o.jsx(w,{variant:"body2",fontWeight:600,children:"X-Ray Report"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Chest X-Ray - Dec 10, 2023"})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsxs(Ve,{sx:{p:3,textAlign:"center",cursor:"pointer","&:hover":{boxShadow:4}},onClick:()=>alert("Sample document - No file available for preview"),children:[o.jsx(Hl,{sx:{fontSize:48,color:"warning.main",mb:2}}),o.jsx(w,{variant:"body2",fontWeight:600,children:"Insurance Card"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Egyptian General Insurance"})]})}),(pa=S.documents)==null?void 0:pa.map(z=>{var Me;return o.jsx(V,{item:!0,xs:12,sm:6,md:4,children:o.jsxs(Ve,{sx:{p:3,textAlign:"center",cursor:"pointer","&:hover":{boxShadow:4}},onClick:()=>Os(z),children:[z.type==="image"?o.jsx(T,{sx:{mb:2},children:o.jsx("img",{src:z.fileUrl,alt:z.title,style:{width:48,height:48,objectFit:"cover",borderRadius:4,border:"2px solid #e0e0e0"}})}):z.type==="pdf"?o.jsx(Owe,{sx:{fontSize:48,color:"error.main",mb:2}}):(Me=z.fileType)!=null&&Me.includes("text")?o.jsx(JG,{sx:{fontSize:48,color:"primary.main",mb:2}}):o.jsx(Hl,{sx:{fontSize:48,color:"info.main",mb:2}}),o.jsx(w,{variant:"body2",fontWeight:600,children:z.title}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.fileName," • ",z.uploadDate]})]})},z.id)})]})]})]})]})}),o.jsxs(In,{open:y,onClose:()=>{x(!1),an({name:"",phone:"",email:"",age:"",gender:"",address:"",emergencyContact:"",bloodType:"",condition:"",status:"new"})},maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:700,fontSize:"1.5rem"},children:"➕ Add New Patient"}),o.jsx(Tn,{sx:{py:3},children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Nn,{sx:{my:2},children:o.jsx(Ke,{label:"👤 Basic Information",sx:{fontWeight:600,backgroundColor:"primary.main",color:"white","& .MuiChip-label":{px:3}}})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Full Name *",value:Ut.name,onChange:z=>an({...Ut,name:z.target.value}),required:!0,error:!Ut.name.trim(),helperText:Ut.name.trim()?"":"Name is required"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Phone Number *",value:Ut.phone,onChange:z=>an({...Ut,phone:z.target.value}),required:!0,error:!Ut.phone.trim(),helperText:Ut.phone.trim()?"":"Phone number is required"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Email",type:"email",value:Ut.email,onChange:z=>an({...Ut,email:z.target.value}),placeholder:"patient@example.com"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Age",type:"number",value:Ut.age,onChange:z=>an({...Ut,age:z.target.value}),inputProps:{min:0,max:150}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Gender"}),o.jsxs(yn,{label:"Gender",value:Ut.gender,onChange:z=>an({...Ut,gender:z.target.value}),children:[N$.map(z=>o.jsx(ye,{value:z.value,children:t(z.key)},z.value)),o.jsx(ye,{value:"Other",children:t("other")})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Blood Type",value:Ut.bloodType,onChange:z=>an({...Ut,bloodType:z.target.value}),placeholder:"e.g., A+, B-, O+, AB-"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Address",multiline:!0,rows:2,value:Ut.address,onChange:z=>an({...Ut,address:z.target.value}),placeholder:"Patient's full address..."})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Emergency Contact",value:Ut.emergencyContact,onChange:z=>an({...Ut,emergencyContact:z.target.value}),placeholder:"Name and phone number"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Initial Condition",value:Ut.condition,onChange:z=>an({...Ut,condition:z.target.value}),placeholder:"e.g., Routine checkup, Follow-up visit"})})]})}),o.jsxs($n,{sx:{px:3,py:2,gap:2},children:[o.jsx(me,{onClick:()=>{x(!1),an(Pg)},sx:{borderRadius:3},children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:gn,disabled:!Ut.name.trim()||!Ut.phone.trim(),sx:{borderRadius:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",fontWeight:700,px:4,"&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:"Add Patient"})]})]}),o.jsxs(In,{open:$,onClose:()=>B(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:"Edit Patient Information"}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Full Name",value:(N==null?void 0:N.name)||"",onChange:z=>q({...N,name:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Phone Number",value:(N==null?void 0:N.phone)||"",onChange:z=>q({...N,phone:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Email",value:(N==null?void 0:N.email)||"",onChange:z=>q({...N,email:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Age",type:"number",value:(N==null?void 0:N.age)||"",onChange:z=>q({...N,age:parseInt(z.target.value)})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Gender"}),o.jsxs(yn,{label:"Gender",value:(N==null?void 0:N.gender)||"",onChange:z=>q({...N,gender:z.target.value}),children:[N$.map(z=>o.jsx(ye,{value:z.value,children:t(z.key)},z.value)),o.jsx(ye,{value:"Other",children:t("other")})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Blood Type",value:(N==null?void 0:N.bloodType)||"",onChange:z=>q({...N,bloodType:z.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Address",multiline:!0,rows:2,value:(N==null?void 0:N.address)||"",onChange:z=>q({...N,address:z.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Emergency Contact",value:(N==null?void 0:N.emergencyContact)||"",onChange:z=>q({...N,emergencyContact:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Current Condition",value:(N==null?void 0:N.condition)||"",onChange:z=>q({...N,condition:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Status"}),o.jsxs(yn,{label:"Status",value:(N==null?void 0:N.status)||"",onChange:z=>q({...N,status:z.target.value}),children:[o.jsx(ye,{value:"new",children:t("new")}),o.jsx(ye,{value:"active",children:"Active"}),o.jsx(ye,{value:"follow-up",children:t("follow-up")}),o.jsx(ye,{value:"admitted",children:t("under observation")}),o.jsx(ye,{value:"transferred",children:t("transferred")}),o.jsx(ye,{value:"discharged",children:t("discharged")})]})]})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>B(!1),children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:kt,children:"Save Changes"})]})]}),o.jsxs(In,{open:Y,onClose:()=>ne(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:"Edit Medication"}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Medication Name",value:(Q==null?void 0:Q.name)||"",onChange:z=>ee({...Q,name:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Dosage",value:(Q==null?void 0:Q.dosage)||"",onChange:z=>ee({...Q,dosage:z.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Frequency",value:(Q==null?void 0:Q.frequency)||"",onChange:z=>ee({...Q,frequency:z.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Duration",value:(Q==null?void 0:Q.duration)||"",onChange:z=>ee({...Q,duration:z.target.value})})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>ne(!1),children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:bn,children:"Save Changes"})]})]}),o.jsxs(In,{open:Z,onClose:()=>de(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:"Edit Visit Note"}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Date",type:"date",value:(K==null?void 0:K.date)||"",onChange:z=>se({...K,date:z.target.value}),InputLabelProps:{shrink:!0}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Doctor",value:(K==null?void 0:K.doctor)||"",onChange:z=>se({...K,doctor:z.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Visit Notes",multiline:!0,rows:6,value:(K==null?void 0:K.note)||"",onChange:z=>se({...K,note:z.target.value}),placeholder:"Enter detailed notes about the patient's visit, symptoms, diagnosis, and treatment plan..."})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>de(!1),children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:Pr,children:"Save Changes"})]})]}),o.jsxs(In,{open:Je,onClose:()=>ht(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:"Upload Document"}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Document Title",value:jt,onChange:z=>Mt(z.target.value),placeholder:"e.g., Lab Report, X-Ray, Prescription"})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{border:"2px dashed #ccc",borderRadius:2,p:3,textAlign:"center",cursor:"pointer","&:hover":{backgroundColor:"#f5f5f5"}},children:[o.jsx("input",{type:"file",hidden:!0,id:"file-upload",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:z=>{z.target.files&&z.target.files[0]&&Lt(z.target.files[0])}}),o.jsxs("label",{htmlFor:"file-upload",style:{cursor:"pointer"},children:[o.jsx(Hl,{sx:{fontSize:48,color:"primary.main",mb:1}}),o.jsx(w,{variant:"body1",children:Xe?Xe.name:"Click to upload file"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Supports PDF, Images, Word documents"})]})]})}),Xe&&o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{p:2,backgroundColor:"#f5f5f5",borderRadius:1},children:[o.jsxs(w,{variant:"body2",children:[o.jsx("strong",{children:"File:"})," ",Xe.name]}),o.jsxs(w,{variant:"body2",children:[o.jsx("strong",{children:"Size:"})," ",(Xe.size/1024/1024).toFixed(2)," MB"]}),o.jsxs(w,{variant:"body2",children:[o.jsx("strong",{children:"Type:"})," ",Xe.type]})]})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>{ht(!1),Lt(null),Mt("")},children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:Bt,disabled:!Xe||!jt.trim(),children:"Upload Document"})]})]}),o.jsx(In,{open:pt,onClose:eo,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{height:"90vh"}},children:at&&o.jsxs(o.Fragment,{children:[o.jsx(kn,{sx:{pb:1},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:at.title}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[at.fileName," • ",at.uploadDate," • ",(at.fileSize/1024/1024).toFixed(2)," MB"]})]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(Hl,{}),onClick:()=>{const z=document.createElement("a");z.href=at.fileUrl,z.download=at.fileName,z.click()},children:"Download"}),o.jsx(qe,{onClick:eo,children:o.jsx(Qo,{})})]})]})}),o.jsxs(Tn,{sx:{p:3,overflow:"hidden"},children:[o.jsx(T,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",borderRadius:2},children:at.type==="image"?o.jsx("img",{src:at.fileUrl,alt:at.title,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:8}}):at.type==="pdf"?o.jsx(T,{sx:{width:"100%",height:"100%"},children:o.jsx("iframe",{src:at.fileUrl,width:"100%",height:"100%",style:{border:"none",borderRadius:8},title:at.title})}):(cr=at.fileType)!=null&&cr.includes("text")?o.jsx(T,{sx:{width:"100%",height:"100%",p:3,backgroundColor:"white",borderRadius:2,overflow:"auto"},children:o.jsx(w,{variant:"body1",component:"pre",sx:{whiteSpace:"pre-wrap"},children:"Loading text content..."})}):o.jsxs(T,{sx:{textAlign:"center",p:4},children:[o.jsx(Hl,{sx:{fontSize:80,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",sx:{mb:2},children:"Preview not available"}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This file type cannot be previewed in the browser."}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Hl,{}),onClick:()=>{const z=document.createElement("a");z.href=at.fileUrl,z.download=at.fileName,z.click()},children:"Download to View"})]})}),o.jsxs(T,{sx:{mt:3,p:2,backgroundColor:"#f8f9fa",borderRadius:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Document Information"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:6,sm:3,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"File Name"}),o.jsx(w,{variant:"body2",fontWeight:600,children:at.fileName})]}),o.jsxs(V,{item:!0,xs:6,sm:3,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"File Size"}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[(at.fileSize/1024/1024).toFixed(2)," MB"]})]}),o.jsxs(V,{item:!0,xs:6,sm:3,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Upload Date"}),o.jsx(w,{variant:"body2",fontWeight:600,children:at.uploadDate})]}),o.jsxs(V,{item:!0,xs:6,sm:3,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"File Type"}),o.jsx(w,{variant:"body2",fontWeight:600,children:at.fileType||"Unknown"})]})]})]})]})]})}),o.jsxs(In,{open:vn,onClose:()=>zt(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:"Add Medical History Entry"}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Date of Diagnosis/Treatment",type:"date",value:mt.date,onChange:z=>It({...mt,date:z.target.value}),InputLabelProps:{shrink:!0}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Attending Doctor",value:mt.doctor,onChange:z=>It({...mt,doctor:z.target.value}),placeholder:""})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Medical Condition",value:mt.condition,onChange:z=>It({...mt,condition:z.target.value}),placeholder:"e.g., Diabetes Type 2, Hypertension, Asthma, Heart Disease",helperText:"Enter the diagnosed medical condition"})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{border:"1px solid #e0e0e0",borderRadius:2,p:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Treatment/Medication"}),o.jsx(hn,{component:"fieldset",sx:{mb:2},children:o.jsxs(_ve,{value:lt,onChange:z=>Zt(z.target.value),row:!0,children:[o.jsx(ei,{value:"existing",control:o.jsx(eC,{}),label:"Select from existing medications"}),o.jsx(ei,{value:"new",control:o.jsx(eC,{}),label:"Add new medication"}),o.jsx(ei,{value:"custom",control:o.jsx(eC,{}),label:"Custom treatment"})]})}),lt==="existing"&&o.jsx(T,{children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Select Medication"}),o.jsxs(yn,{value:Xt,onChange:z=>{z.target.value==="__ADD_NEW__"?(Zt("new"),On("")):On(z.target.value)},label:"Select Medication",children:[((ma=S==null?void 0:S.medications)==null?void 0:ma.length)>0&&S.medications.map(z=>o.jsx(ye,{value:z.name,children:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",children:z.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[z.dosage,", ",z.frequency]})]})},z.id)),o.jsx(ye,{value:"__ADD_NEW__",sx:{borderTop:"1px solid #e0e0e0",mt:1},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",color:"primary.main"},children:[o.jsx(rr,{sx:{fontSize:18,mr:1}}),o.jsx(w,{variant:"body2",fontWeight:600,children:"Add New Medication..."})]})}),((zn=S==null?void 0:S.medications)==null?void 0:zn.length)===0&&o.jsx(ye,{disabled:!0,children:o.jsx(w,{variant:"caption",color:"text.secondary",children:'No medications found. Click "Add New Medication..." to create one.'})})]})]})}),lt==="new"&&o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Medication Name *",value:G.name,onChange:z=>ve({...G,name:z.target.value}),placeholder:"e.g., Metformin, Aspirin, Insulin",helperText:"Required: Enter the medication name"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Dosage (Optional)",value:G.dosage,onChange:z=>ve({...G,dosage:z.target.value}),placeholder:"e.g., 500mg, 10ml",helperText:"Can be completed later"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Frequency (Optional)",value:G.frequency,onChange:z=>ve({...G,frequency:z.target.value}),placeholder:"e.g., Twice daily, Once daily",helperText:"Can be completed later"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Duration (Optional)",value:G.duration,onChange:z=>ve({...G,duration:z.target.value}),placeholder:"e.g., 30 days, 3 months",helperText:"Can be completed later"})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(Zn,{severity:"success",sx:{mt:1},children:[o.jsx("strong",{children:"Quick Add Mode:"})," Just enter the medication name and submit. You'll get a popup to complete the dosage and frequency details afterward."]})})]}),lt==="custom"&&o.jsx(Pe,{fullWidth:!0,label:"Custom Treatment",value:mt.treatment,onChange:z=>It({...mt,treatment:z.target.value}),placeholder:"e.g., Lifestyle changes, Surgery, Physical therapy",helperText:"Describe non-medication treatments, procedures, or interventions"})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Additional Notes",multiline:!0,rows:4,value:mt.notes,onChange:z=>It({...mt,notes:z.target.value}),placeholder:"Additional information about the condition, treatment response, complications, follow-up requirements, etc.",helperText:"Optional: Add any relevant additional information"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(T,{sx:{p:2,backgroundColor:"#f8f9fa",borderRadius:1},children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[o.jsx("strong",{children:"Important:"})," This medical history will be permanently added to the patient's record. Please ensure all information is accurate and complete."]})})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>{zt(!1),It({date:new Date().toISOString().split("T")[0],condition:"",treatment:"",doctor:"",notes:""})},children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:re,disabled:!mt.condition.trim()||lt==="existing"&&!Xt||lt==="new"&&!G.name.trim()||lt==="custom"&&!mt.treatment.trim(),startIcon:o.jsx(Oo,{}),children:"Add to Medical History"})]})]}),o.jsxs(In,{open:ke,onClose:Ii,maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:"Complete Medication Details"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[it==null?void 0:it.name," has been added to medical history. Please complete the medication details."]})]}),o.jsx(qe,{onClick:Ii,children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(T,{sx:{mt:2},children:[o.jsx(Zn,{severity:"info",sx:{mb:3},children:"This medication has been automatically added to the patient's medications list. Complete the details below for proper dosing and tracking."}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Medication Name",value:(it==null?void 0:it.name)||"",disabled:!0,sx:{backgroundColor:"#f5f5f5"}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Dosage *",placeholder:"e.g., 500mg, 10ml, 1 tablet",defaultValue:"",id:"dosage-input",helperText:"Enter the strength/amount per dose"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Frequency *",placeholder:"e.g., Twice daily, Every 8 hours",defaultValue:"",id:"frequency-input",helperText:"How often should it be taken"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Duration",placeholder:"e.g., 30 days, 3 months",defaultValue:"",id:"duration-input",helperText:"How long to continue (optional)"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Additional Notes",multiline:!0,rows:3,placeholder:"Special instructions, side effects to watch for, timing with meals, etc.",defaultValue:"",id:"notes-input",helperText:"Optional: Any special instructions or notes"})})]})]})}),o.jsxs($n,{sx:{p:3,pt:0},children:[o.jsx(me,{onClick:Ii,color:"inherit",children:"Skip for Now"}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Oo,{}),onClick:()=>{const z=document.getElementById("dosage-input"),Me=document.getElementById("frequency-input"),Ft=document.getElementById("duration-input"),nn=document.getElementById("notes-input");if(!(z!=null&&z.value.trim())||!(Me!=null&&Me.value.trim())){alert("Please enter at least the dosage and frequency");return}const ln={dosage:z.value.trim(),frequency:Me.value.trim(),duration:Ft.value.trim()||"As needed",notes:nn.value.trim()};Xn(ln)},children:"Complete Medication Details"})]})]}),o.jsxs(In,{open:pn,onClose:()=>Sn(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:"Schedule Appointment"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[sn==null?void 0:sn.name," • ",sn==null?void 0:sn.phone]})]}),o.jsx(qe,{onClick:()=>Sn(!1),children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Appointment Date",type:"date",value:vt.date,onChange:z=>Pn({...vt,date:z.target.value}),InputLabelProps:{shrink:!0},inputProps:{min:new Date().toISOString().split("T")[0]},helperText:"Select appointment date"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Appointment Time",type:"time",value:vt.time,onChange:z=>Pn({...vt,time:z.target.value}),InputLabelProps:{shrink:!0},helperText:"Select appointment time"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Appointment Type"}),o.jsxs(yn,{value:vt.type,onChange:z=>Pn({...vt,type:z.target.value}),label:"Appointment Type",children:[o.jsx(ye,{value:"Follow-up",children:"Follow-up"}),o.jsx(ye,{value:"Consultation",children:"Initial Consultation"}),o.jsx(ye,{value:"Check-up",children:"Regular Check-up"}),o.jsx(ye,{value:"Emergency",children:"Emergency"}),o.jsx(ye,{value:"Lab Review",children:"Lab Results Review"}),o.jsx(ye,{value:"Procedure",children:"Medical Procedure"}),o.jsx(ye,{value:"Vaccination",children:"Vaccination"})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Duration (minutes)"}),o.jsxs(yn,{value:vt.duration,onChange:z=>Pn({...vt,duration:z.target.value}),label:"Duration (minutes)",children:[o.jsx(ye,{value:"15",children:"15 minutes"}),o.jsx(ye,{value:"30",children:"30 minutes"}),o.jsx(ye,{value:"45",children:"45 minutes"}),o.jsx(ye,{value:"60",children:"1 hour"}),o.jsx(ye,{value:"90",children:"1.5 hours"}),o.jsx(ye,{value:"120",children:"2 hours"})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Priority"}),o.jsxs(yn,{value:vt.priority,onChange:z=>Pn({...vt,priority:z.target.value}),label:"Priority",children:[o.jsx(ye,{value:"Low",children:"Low Priority"}),o.jsx(ye,{value:"Normal",children:"Normal Priority"}),o.jsx(ye,{value:"High",children:"High Priority"}),o.jsx(ye,{value:"Urgent",children:"Urgent"})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1,pt:2},children:[o.jsx(En,{color:"primary"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Current appointment: ",(sn==null?void 0:sn.nextAppointment)||"Not scheduled"]})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Appointment Notes",multiline:!0,rows:3,value:vt.notes,onChange:z=>Pn({...vt,notes:z.target.value}),placeholder:"Reason for visit, special instructions, or additional notes...",helperText:"Optional: Add any relevant notes for the appointment"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(T,{sx:{p:2,backgroundColor:"#f8f9fa",borderRadius:2},children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[o.jsx("strong",{children:"Appointment Summary:"})," ",vt.type," appointment for ",vt.duration," minutes",vt.date&&vt.time&&o.jsxs("span",{children:[" scheduled on ",new Date(`${vt.date}T${vt.time}`).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})})})]})}),o.jsxs($n,{sx:{p:3,pt:0},children:[o.jsx(me,{onClick:()=>Sn(!1),color:"inherit",children:"Cancel"}),o.jsx(me,{variant:"contained",startIcon:o.jsx(En,{}),onClick:er,disabled:!vt.date||!vt.time,children:"Schedule Appointment"})]})]}),o.jsxs(bl,{anchorEl:hi,open:!!hi,onClose:()=>{lr(null),Mr(null)},PaperProps:{sx:{minWidth:200}},children:[o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600},children:"Change Status"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:Mn==null?void 0:Mn.name})]}),o.jsx(ye,{onClick:()=>lo("new"),selected:(Mn==null?void 0:Mn.status)==="new",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"New",color:"info",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:"New Patient"})]})}),o.jsx(ye,{onClick:()=>lo("old"),selected:(Mn==null?void 0:Mn.status)==="old",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"Old",color:"success",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:"Old Patient"})]})}),o.jsx(ye,{onClick:()=>lo("follow-up"),selected:(Mn==null?void 0:Mn.status)==="follow-up",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"Follow-up",color:"warning",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("follow-up")})]})}),o.jsx(ye,{onClick:()=>lo("admitted"),selected:(Mn==null?void 0:Mn.status)==="admitted",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:t("under observation"),color:"secondary",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("under observation")})]})}),o.jsx(ye,{onClick:()=>lo("transferred"),selected:(Mn==null?void 0:Mn.status)==="transferred",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:t("transferred"),color:"secondary",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("transferred")})]})}),o.jsx(ye,{onClick:()=>lo("discharged"),selected:(Mn==null?void 0:Mn.status)==="discharged",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:t("discharged"),color:"default",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("discharged")})]})})]})]})},Jk=()=>{const t=gh(),e=t.filter(i=>i.status==="completed"||i.completed===!0),n=t.filter(i=>i.status!=="completed"&&i.completed!==!0),r={};return t.forEach(i=>{r[i.patient]||(r[i.patient]={completed:[],notCompleted:[],totalAppointments:0}),i.status==="completed"||i.completed===!0?r[i.patient].completed.push(i):r[i.patient].notCompleted.push(i),r[i.patient].totalAppointments++}),console.log("📊 Organized Appointment Data:",{totalAppointments:t.length,completed:e.length,notCompleted:n.length,patientSummary:Object.keys(r).map(i=>({patient:i,completed:r[i].completed.length,notCompleted:r[i].notCompleted.length,total:r[i].totalAppointments}))}),{completed:e,notCompleted:n,patientSummary:r}},aD=()=>{const t=Jk(),e=$y(),n=new Set(gh().map(c=>c.patient)),r=new Set(e.map(c=>c.name)),i=[...n].filter(c=>!r.has(c)),s=i.map((c,d)=>{var m,y;const f=gh().filter(x=>x.patient===c),p=f[0];return{id:Math.max(0,...e.map(x=>x.id))+d+1,name:c,age:null,gender:"",phone:(p==null?void 0:p.phone)||"",email:"",lastVisit:((m=f.filter(x=>x.status==="completed"||x.completed).sort((x,v)=>new Date(v.date).getTime()-new Date(x.date).getTime())[0])==null?void 0:m.date)||"",nextAppointment:((y=f.filter(x=>new Date(x.date)>=new Date&&x.status!=="completed"&&!x.completed).sort((x,v)=>new Date(x.date).getTime()-new Date(v.date).getTime())[0])==null?void 0:y.date)||"",condition:(p==null?void 0:p.type)||"",status:"new",avatar:c.split(" ").map(x=>x[0]).join("").toUpperCase(),address:"",bloodType:"",allergies:[],emergencyContact:"",medicalHistory:[],medications:[],visitNotes:[],vitalSigns:[],documents:[],_createdFromAppointment:!0}}),a=[...e,...s];SQ(a);const l=a.map(c=>{var m;const d=t.patientSummary[c.name]||{completed:[],notCompleted:[],totalAppointments:0},f=d.completed.length>0?d.completed.sort((y,x)=>new Date(x.date).getTime()-new Date(y.date).getTime())[0].date:void 0,p=d.notCompleted.length>0?(m=d.notCompleted.filter(y=>new Date(y.date)>=new Date).sort((y,x)=>new Date(y.date).getTime()-new Date(x.date).getTime())[0])==null?void 0:m.date:void 0;return{...c,appointmentData:{...d,lastCompletedDate:f,nextPendingDate:p}}});return console.log("🔄 Appointment Data Sent to Patients (Enhanced):",{totalExistingPatients:e.length,missingPatientsCreated:s.length,totalPatientsAfterSync:a.length,appointmentPatientNames:[...n],missingPatientNames:i,patientsWithCompletedAppointments:l.filter(c=>c.appointmentData.completed.length>0).length,patientsWithPendingAppointments:l.filter(c=>c.appointmentData.notCompleted.length>0).length}),l},Ja=()=>{const t=aD(),e=t.filter(i=>i.appointmentData.completed.length>0),n=t.filter(i=>i.appointmentData.notCompleted.length>0),r=t.filter(i=>i.appointmentData.totalAppointments===0);return{patientsWithCompleted:e,patientsWithPending:n,patientsWithNoAppointments:r,allPatients:t}},Zk=()=>{console.log("🔄 Syncing appointment changes to patients..."),aD(),window.dispatchEvent(new CustomEvent("appointmentPatientSync",{detail:{timestamp:new Date().toISOString()}}))},CQ=()=>{window.addEventListener("appointmentsUpdated",Zk),Zk()},nB=(t,e,n={})=>{const{autoSave:r=!1,autoSaveDelay:i=2e3,validateOnSave:s=!1}=n,[a,l]=C.useState(()=>{try{const S=localStorage.getItem(t);if(S){const k=JSON.parse(S);return console.log(`✅ Loaded ${t} from localStorage:`,k),{...e,...k}}}catch(S){console.error(`❌ Failed to parse ${t} from localStorage:`,S)}return console.log(`ℹ️ Using default values for ${t}`),e}),[c,d]=C.useState(!1),[f,p]=C.useState(null),m=C.useCallback((S=a)=>{try{return localStorage.setItem(t,JSON.stringify(S)),p(new Date),d(!1),console.log(`✅ Saved ${t} to localStorage:`,S),!0}catch(k){return console.error(`❌ Failed to save ${t}:`,k),!1}},[t,a]),y=C.useCallback(S=>{l(k=>{const P=typeof S=="function"?S(k):{...k,...S};return d(JSON.stringify(P)!==JSON.stringify(k)),P})},[]),x=C.useCallback((S,k)=>{y({[S]:k})},[y]),v=C.useCallback(()=>{try{localStorage.removeItem(t),d(!1),p(null),console.log(`🗑️ Cleared ${t} from localStorage`)}catch(S){console.error(`❌ Failed to clear ${t}:`,S)}},[t]),b=C.useCallback(()=>{l(e),d(!1)},[e]),I=C.useCallback(S=>(!s||!S||console.log("🔍 Validating form data:",a),!0),[a,s]);C.useEffect(()=>{if(!r||!c)return;const S=setTimeout(()=>{m(),console.log(`🔄 Auto-saved ${t}`)},i);return()=>clearTimeout(S)},[r,c,i,m,t]);const A=C.useCallback(async S=>{if(console.log(`🔄 Save button clicked for ${t}!`),console.log("📋 Data to save:",a),s&&S&&!I(S))return console.log("❌ Validation failed!"),!1;console.log("✅ Validation passed!");const k=m();if(k){const P=localStorage.getItem(t);console.log("✅ Verification - Data in localStorage:",P)}return k},[a,t,I,s,m]);return{formData:a,isDirty:c,lastSaved:f,setFormData:y,updateField:x,saveToStorage:m,clearStorage:v,resetForm:b,handleSave:A,validateForm:I}},mh={APPOINTMENTS:"clinic_appointments_data",PAYMENTS:"clinic_payments_data",PATIENTS:"clinic_patients_data",DOCTORS:"clinic_doctor_schedules"},im={APPOINTMENTS_UPDATED:"appointmentsUpdated",PAYMENTS_UPDATED:"paymentsUpdated",DOCTORS_UPDATED:"doctorsUpdated"},oMe=(t,e,n)=>{const r={source:e,timestamp:new Date().toISOString(),data:n},i=new CustomEvent(t,{detail:r});window.dispatchEvent(i),console.log(`🔔 DataSync: Dispatched ${t} from ${e}`,r)},lD=(t,e,n,r)=>{try{localStorage.setItem(t,JSON.stringify(e)),oMe(n,r,{count:e.length}),console.log(`✅ DataSync: Saved ${e.length} items to ${t}`)}catch(i){throw console.error(`❌ DataSync: Error saving to ${t}:`,i),i}},cD=(t,e=[])=>{try{const n=localStorage.getItem(t);if(n){const r=JSON.parse(n);if(Array.isArray(r))return console.log(`✅ DataSync: Loaded ${r.length} items from ${t}`),r}}catch(n){console.error(`❌ DataSync: Error loading from ${t}:`,n)}return console.log(`ℹ️ DataSync: Using default data for ${t}`),e},uD=(t,e,n)=>{const r=i=>{const s=i;console.log(`📞 DataSync: ${n} received ${t}`,s.detail),e(s)};return window.addEventListener(t,r),()=>{window.removeEventListener(t,r),console.log(`🧹 DataSync: ${n} cleaned up ${t} listener`)}},e5={save:(t,e)=>{lD(mh.APPOINTMENTS,t,im.APPOINTMENTS_UPDATED,e)},load:(t=[])=>cD(mh.APPOINTMENTS,t),listen:(t,e)=>uD(im.APPOINTMENTS_UPDATED,t,e)},H_={save:(t,e)=>{lD(mh.PAYMENTS,t,im.PAYMENTS_UPDATED,e)},load:(t=[])=>cD(mh.PAYMENTS,t),listen:(t,e)=>uD(im.PAYMENTS_UPDATED,t,e)},Ly={save:(t,e)=>{lD(mh.DOCTORS,t,im.DOCTORS_UPDATED,e)},load:(t=[])=>cD(mh.DOCTORS,t),listen:(t,e)=>uD(im.DOCTORS_UPDATED,t,e)},PQ=()=>{console.group("🔍 DataSync: Current Storage State"),Object.entries(mh).forEach(([t,e])=>{try{const n=localStorage.getItem(e),r=n?JSON.parse(n):null,i=Array.isArray(r)?r.length:0;console.log(`${t}: ${i} items`)}catch{console.error(`${t}: Error parsing data`)}}),console.groupEnd()};function dI(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,id:`scheduling-tabpanel-${r}`,...i,children:n===r&&o.jsx(T,{sx:{py:3},children:e})})}const sMe=()=>{var Ot,St;const{t}=Dr(),[e,n]=C.useState(0),[r,i]=C.useState(new Date().toISOString().split("T")[0]),[s,a]=C.useState([]);C.useEffect(()=>{const te=()=>{const tt=gh();a(tt)};te();const Re=()=>{te()},J=()=>{D(!0)},je=()=>{a([]),E(bT.map(tt=>({...tt,specialty:t(tt.specialty)}))),n(0),i(new Date().toISOString().split("T")[0]),S(),ne(),oe(oC),x(null),b(null),N(null),se(null),c(!1),f(!1),D(!1),$(!1),de(!1),m(null),console.log("✅ Doctor scheduling reset to default state")};return window.addEventListener("appointmentsUpdated",Re),window.addEventListener("userDataCleared",je),window.addEventListener("openAddDoctor",J),()=>{window.removeEventListener("appointmentsUpdated",Re),window.removeEventListener("userDataCleared",je),window.removeEventListener("openAddDoctor",J)}},[t]);const[l,c]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState(null),[y,x]=C.useState(null),[v,b]=C.useState(null),{formData:I,updateField:A,resetForm:S}=nB("doctor-scheduling-form",{time:""},{autoSave:!0,autoSaveDelay:2e3}),[k,P]=C.useState({open:!1,message:"",severity:"success"}),[R,E]=C.useState(()=>{try{const te=localStorage.getItem("clinic_doctor_schedules");if(te){const Re=JSON.parse(te);if(Array.isArray(Re)&&Re.length>0)return console.log("✅ DoctorScheduling: Loaded doctors from localStorage on init:",Re.length),Re.map(J=>({...J,specialty:t(J.specialty)}))}}catch(te){console.error("❌ DoctorScheduling: Error loading doctors from localStorage:",te)}return console.log("ℹ️ DoctorScheduling: Using default doctor schedules"),bT.map(te=>({...te,specialty:t(te.specialty)}))});C.useEffect(()=>{try{Ly.save(R,"DoctorScheduling")}catch(te){console.error("❌ DoctorScheduling: Error saving doctors:",te)}},[R]);const[O,D]=C.useState(!1),[L,$]=C.useState(!1),[B,N]=C.useState(null),{formData:q,updateField:Y,resetForm:ne,isDirty:Q,lastSaved:ee}=nB("doctor-form-data",i1e,{autoSave:!0,autoSaveDelay:2e3}),[Z,de]=C.useState(!1),[K,se]=C.useState(null),[le,oe]=C.useState(oC),[ge,fe]=C.useState(!1),[Se,be]=C.useState(null),[ce,We]=C.useState(()=>{const te=new Date,Re=new Date(te);return Re.setDate(te.getDate()-te.getDay()+1),Re.toISOString().split("T")[0]}),[Fe,pe]=C.useState({}),[$e,Ce]=C.useState(!1),[Je,ht]=C.useState({enabled:!0,weeksToRepeat:4,includeOffDays:!1,autoApprove:!1}),[Xe,Lt]=C.useState(""),jt=(te,Re)=>{n(Re)},Mt=()=>{const te=new Date(r);return Bs[te.getDay()]},pt=te=>{const Re=Mt();return!te.offDays.includes(Re)},Qe=()=>R.filter(te=>pt(te)),at=(te,Re)=>{const J=R.find(je=>je.id===te);return J?s.filter(je=>je.doctor===J.name&&je.date===Re):[]},Tt=te=>vn(te.id),vn=te=>{const Re=R.find(gn=>gn.id===te);if(!Re)return[];const J=at(te,r),je=[],tt=parseInt(Re.workingHours.start.split(":")[0]),kt=parseInt(Re.workingHours.start.split(":")[1]),nt=parseInt(Re.workingHours.end.split(":")[0]),bn=parseInt(Re.workingHours.end.split(":")[1]),mn=tt*60+kt,Pr=nt*60+bn;for(let gn=mn;gn<Pr;gn+=Re.consultationDuration){const Xn=Math.floor(gn/60),Ii=gn%60,br=`${Xn.toString().padStart(2,"0")}:${Ii.toString().padStart(2,"0")}`;je.push(br)}const Ar=J.map(gn=>gn.timeSlot).filter(gn=>!je.includes(gn));return[...je,...Ar].sort().map(gn=>{const Xn=J.find(er=>er.timeSlot===gn),Ii=!!(Xn&&Xn.patient&&!Xn.isAvailableSlot&&Xn.status!=="cancelled"),br=!!(Xn&&Xn.isAvailableSlot);return{time:gn,isReserved:Ii,isAvailableSlot:br,patient:(Xn==null?void 0:Xn.patient)||null,appointment:Xn||null}})},zt=te=>{b(te),A("time",""),c(!0)},mt=te=>{x(te),A("time",te.timeSlot),f(!0),m(null)},It=te=>{const Re=s.filter(J=>J.id!==te.id);a(Re),Ra(Re),m(null)},lt=()=>{if(!v||!I.time){P({open:!0,message:`❌ ${t("please_select_doctor_and_time")}`,severity:"error"});return}const te=R.find(nt=>nt.id===v);if(!te)return;const Re=s.find(nt=>nt.doctor===te.name&&nt.date===r&&nt.timeSlot===I.time);if(Re){const nt=Re.patient&&!Re.isAvailableSlot?t("reserved_appointment"):Re.isAvailableSlot?t("available_slot"):t("time_slot");P({open:!0,message:`❌ ${t("time_slot_already_exists",{time:I.time,type:nt,doctor:te.name})}`,severity:"error"});return}const J=new Date(`2024-01-01T${I.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),je={id:Math.max(...s.map(nt=>nt.id||0))+1,doctor:te.name,date:r,time:J,timeSlot:I.time,patient:t("available_slot"),patientAvatar:"AS",duration:te.consultationDuration||30,type:t("available_slot"),status:"pending",location:`${t("room")} ${100+te.id}`,phone:"",notes:t("available_time_slot_created"),completed:!1,priority:"normal",paymentStatus:"pending",createdAt:new Date().toISOString(),isAvailableSlot:!0},tt=[...s,je];a(tt),Ra(tt),c(!1);const kt=s.filter(nt=>nt.doctor===te.name&&nt.date===r).length;P({open:!0,message:`✅ ${t("available_time_slot_added",{time:J,doctor:te.name,date:r,count:kt+1})}`,severity:"success"}),b(null),A("time","")},Zt=()=>{if(!I.time||!y){alert(t("please_fill_all_fields"));return}if(s.find(je=>je.doctor===y.doctor&&je.date===r&&je.timeSlot===I.time&&je.id!==y.id)){alert(t("time_slot_already_reserved",{time:I.time}));return}const Re=new Date(`2024-01-01T${I.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),J=s.map(je=>je.id===y.id?{...je,time:Re,timeSlot:I.time}:je);a(J),Ra(J),f(!1),x(null),A("time","")},Xt=(te,Re)=>{te.stopPropagation(),x(Re),m(te.currentTarget)},On=()=>{ne(),D(!0)},G=te=>{N(te),Y("name",te.name),Y("specialty",te.specialty),Y("workingHoursStart",te.workingHours.start),Y("workingHoursEnd",te.workingHours.end),Y("offDays",te.offDays),Y("consultationDuration",te.consultationDuration),Y("maxPatientsPerHour",te.maxPatientsPerHour),$(!0)},ve=()=>{if(!q.name.trim()||!q.specialty.trim()){P({open:!0,message:`❌ ${t("please_fill_doctor_name_specialty")}`,severity:"error"});return}const te=q.name.trim().split(" "),Re=te.length>=2?`${te[0][0]}${te[1][0]}`.toUpperCase():q.name.substring(0,2).toUpperCase(),J={id:Math.max(...R.map(je=>je.id))+1,name:q.name.trim(),avatar:Re,specialty:q.specialty.trim(),workingHours:{start:q.workingHoursStart,end:q.workingHoursEnd},offDays:q.offDays,maxPatientsPerHour:q.maxPatientsPerHour,consultationDuration:q.consultationDuration};E(je=>[...je,J]),D(!1),P({open:!0,message:`✅ ${t("doctor_added_successfully",{name:q.name})}`,severity:"success"})},ke=()=>{if(!q.name.trim()||!q.specialty.trim()){P({open:!0,message:`❌ ${t("please_fill_doctor_name_specialty")}`,severity:"error"});return}const te={...B,name:q.name.trim(),specialty:q.specialty.trim(),workingHours:{start:q.workingHoursStart,end:q.workingHoursEnd},offDays:q.offDays,maxPatientsPerHour:q.maxPatientsPerHour,consultationDuration:q.consultationDuration};E(Re=>Re.map(J=>J.id===B.id?te:J)),$(!1),N(null),P({open:!0,message:`✅ ${t("doctor_updated_successfully",{name:q.name})}`,severity:"success"})},Ue=(te,Re,J,je)=>{let tt="regular";je&&(je.patient&&!je.isAvailableSlot?tt="reserved":je.isAvailableSlot&&(tt="available")),se({doctorId:te,time:Re,type:tt,appointment:je||void 0}),oe({...oC,time:Re,type:tt,patientName:(je==null?void 0:je.patient)||""}),de(!0)},it=()=>{if(!K)return;if(le.type==="reserved"&&!le.patientName.trim()){P({open:!0,message:`❌ ${t("patient_name_required")}`,severity:"error"});return}const te=R.find(je=>je.id===K.doctorId);if(!te)return;const Re=s.filter(je=>!(je.doctor===te.name&&je.date===r&&je.timeSlot===K.time));if(le.type==="available"||le.type==="reserved"){const je=new Date(`2024-01-01T${K.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),tt={id:Math.max(...s.length>0?s.map(nt=>nt.id||0):[0])+1,doctor:te.name,date:r,time:je,timeSlot:K.time,patient:le.type==="reserved"?le.patientName.trim():t("available_slot"),patientAvatar:le.type==="reserved"?le.patientName.trim().split(" ").map(nt=>nt[0]).join("").toUpperCase()||"PA":"AS",duration:te.consultationDuration||30,type:le.type==="reserved"?le.appointmentType:t("available_slot"),status:le.type==="reserved"?"confirmed":"pending",location:`${t("room")} ${100+te.id}`,phone:le.patientPhone||"",notes:le.notes||(le.type==="available"?t("available_time_slot"):""),completed:!1,priority:"normal",paymentStatus:"pending",createdAt:new Date().toISOString(),isAvailableSlot:le.type==="available"},kt=[...Re,tt];a(kt),Ra(kt)}else a(Re),Ra(Re);de(!1),se(null);const J={regular:`✅ ${t("converted_to_regular")}`,available:`⏰ ${t("converted_to_available")}`,reserved:`🔒 ${t("reserved_for_patient",{patient:le.patientName||t("patient")})}`};P({open:!0,message:J[le.type],severity:"success"})},yt=te=>{console.log("🔧 Opening weekly schedule for doctor:",te.name,te.id),be(te);const Re=`weekly_schedule_${te.id}`,J=localStorage.getItem(Re);let je={};if(J)try{je=JSON.parse(J),console.log("📅 Loaded existing weekly schedule for Dr.",te.name)}catch{console.warn("Error loading existing schedule, creating default"),je={}}Bs.forEach(tt=>{if(!je[tt]&&(je[tt]={isWorking:!te.offDays.includes(tt),timeSlots:[],notes:""},!J&&!te.offDays.includes(tt))){const kt=[],nt=parseInt(te.workingHours.start.split(":")[0]),bn=parseInt(te.workingHours.start.split(":")[1]),mn=parseInt(te.workingHours.end.split(":")[0]),Pr=parseInt(te.workingHours.end.split(":")[1]),Ar=nt*60+bn,Bt=mn*60+Pr;for(let gn=Ar;gn<Bt;gn+=te.consultationDuration){const Xn=Math.floor(gn/60),Ii=gn%60,br=`${Xn.toString().padStart(2,"0")}:${Ii.toString().padStart(2,"0")}`;kt.push(br)}je[tt].timeSlots=kt}}),pe(je),fe(!0),console.log("✅ Weekly schedule dialog should now be open")},pn=()=>{if(!Se)return;const te=`weekly_schedule_${Se.id}`;localStorage.setItem(te,JSON.stringify(Fe));const Re=Bs.filter(kt=>{var nt;return!((nt=Fe[kt])!=null&&nt.isWorking)}),J={...Se,offDays:Re};E(kt=>kt.map(nt=>nt.id===Se.id?J:nt));const je=[],tt=new Date(ce);if(Bs.forEach((kt,nt)=>{var bn,mn;if((bn=Fe[kt])!=null&&bn.isWorking&&((mn=Fe[kt])==null?void 0:mn.timeSlots.length)>0){const Pr=new Date(tt);Pr.setDate(tt.getDate()+nt);const Ar=Pr.toISOString().split("T")[0];Fe[kt].timeSlots.forEach(Bt=>{if(!s.find(Xn=>Xn.doctor===Se.name&&Xn.date===Ar&&Xn.timeSlot===Bt)){const Xn=new Date(`2024-01-01T${Bt}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Ii={id:Math.max(...s.length>0?s.map(br=>br.id||0):[0])+je.length+1,doctor:Se.name,date:Ar,time:Xn,timeSlot:Bt,patient:t("available_slot"),patientAvatar:"AS",duration:Se.consultationDuration||30,type:t("available_slot"),status:"pending",location:`${t("room")} ${100+Se.id}`,phone:"",notes:Fe[kt].notes||t("weekly_schedule_generated"),completed:!1,priority:"normal",paymentStatus:"pending",createdAt:new Date().toISOString(),isAvailableSlot:!0};je.push(Ii)}})}}),je.length>0){const kt=[...s,...je];a(kt),Ra(kt)}fe(!1),P({open:!0,message:`✅ ${t("weekly_schedule_saved",{doctor:Se.name,count:je.length})}`,severity:"success"})},Sn=te=>{var J;if(!Xe){P({open:!0,message:"⚠️ Please select a time first",severity:"error"});return}if((((J=Fe[te])==null?void 0:J.timeSlots)||[]).includes(Xe)){P({open:!0,message:`⚠️ Time slot ${Xe} already exists for ${t(te)}`,severity:"error"});return}pe(je=>{var tt;return{...je,[te]:{...je[te],timeSlots:[...((tt=je[te])==null?void 0:tt.timeSlots)||[],Xe].sort()}}}),P({open:!0,message:`✅ Added time slot ${Xe} to ${t(te)}`,severity:"success"}),Lt("")},sn=te=>{if(!Se)return;const Re=[],J=parseInt(Se.workingHours.start.split(":")[0]),je=parseInt(Se.workingHours.start.split(":")[1]),tt=parseInt(Se.workingHours.end.split(":")[0]),kt=parseInt(Se.workingHours.end.split(":")[1]),nt=J*60+je,bn=tt*60+kt;for(let mn=nt;mn<bn;mn+=Se.consultationDuration){const Pr=Math.floor(mn/60),Ar=mn%60,Bt=`${Pr.toString().padStart(2,"0")}:${Ar.toString().padStart(2,"0")}`;Re.push(Bt)}pe(mn=>({...mn,[te]:{...mn[te],timeSlots:Re}})),P({open:!0,message:`✅ Applied default hours (${Se.workingHours.start} - ${Se.workingHours.end}) to ${t(te)}`,severity:"success"})},Yn=te=>{pe(Re=>({...Re,[te]:{...Re[te],timeSlots:[]}})),P({open:!0,message:`🗑️ Cleared all time slots for ${t(te)}`,severity:"success"})},vt=(te,Re)=>{let J=[];switch(Re){case"morning":J=["09:00","09:30","10:00","10:30","11:00","11:30"];break;case"afternoon":J=["14:00","14:30","15:00","15:30","16:00","16:30"];break;case"evening":J=["18:00","18:30","19:00","19:30","20:00","20:30"];break;case"full":J=["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30"];break}pe(je=>({...je,[te]:{...je[te],timeSlots:J}})),P({open:!0,message:`⏰ Applied ${Re} availability to ${t(te)} (${J.length} slots)`,severity:"success"})},Pn=(te,Re)=>{pe(J=>{var je;return{...J,[te]:{...J[te],timeSlots:((je=J[te])==null?void 0:je.timeSlots.filter((tt,kt)=>kt!==Re))||[]}}})},Mn=(te,Re,J)=>{pe(je=>{var tt;return{...je,[te]:{...je[te],timeSlots:((tt=je[te])==null?void 0:tt.timeSlots.map((kt,nt)=>nt===Re?J:kt))||[]}}})},Mr=()=>{Ce(!0)},hi=()=>{if(!Je.enabled)return;const te=s.filter(J=>{const je=new Date(J.date),tt=new Date(ce),kt=new Date(tt);return kt.setDate(tt.getDate()+6),je>=tt&&je<=kt}),Re=[];for(let J=1;J<=Je.weeksToRepeat;J++)te.forEach(je=>{if(!Je.includeOffDays){const bn=R.find(Ar=>Ar.name===je.doctor),mn=new Date(je.date),Pr=Bs[mn.getDay()];if(bn!=null&&bn.offDays.includes(Pr))return}const tt=new Date(je.date);tt.setDate(tt.getDate()+J*7);const kt=tt.toISOString().split("T")[0];if(!s.find(bn=>bn.doctor===je.doctor&&bn.date===kt&&bn.timeSlot===je.timeSlot)){const bn={...je,id:Math.max(...s.length>0?s.map(mn=>mn.id||0):[0])+Re.length+1,date:kt,status:Je.autoApprove?"confirmed":"pending",notes:`${je.notes||""} (${t("recurring_appointment")} - ${t("week")} ${J+1})`,createdAt:new Date().toISOString()};Re.push(bn)}});if(Re.length>0){const J=[...s,...Re];a(J),Ra(J)}Ce(!1),P({open:!0,message:`✅ ${t("recurring_appointments_created",{count:Re.length,weeks:Je.weeksToRepeat})}`,severity:"success"})},lr=()=>{const te=new Date(ce),Re=[];for(let J=0;J<7;J++){const je=new Date(te);je.setDate(te.getDate()+J),Re.push(je.toISOString().split("T")[0])}return Re},Ut=te=>{const Re=new Date(ce),J=te==="next"?7:-7;Re.setDate(Re.getDate()+J),We(Re.toISOString().split("T")[0])},an=Qe().length,_e=s.filter(te=>te.date===r).length,ct=Qe().filter(te=>at(te.id,r).length>0).length;return o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.25)"},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",gap:{xs:3,md:0},position:"relative",zIndex:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,sm:56,md:64},height:{xs:48,sm:56,md:64},borderRadius:{xs:"16px",md:"20px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:{xs:2,sm:2.5,md:3},backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",flexShrink:0},children:o.jsx(Sr,{sx:{fontSize:{xs:24,sm:28,md:32},color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:{xs:.5,md:1},textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("doctor_scheduling")}),o.jsxs(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",sm:"1.1rem",md:"1.25rem"}},children:["🩺 ",t("comprehensive_schedule_management")]})]})]}),o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1.5,sm:2},width:{xs:"100%",md:"auto"}},children:[o.jsx(me,{variant:"contained",startIcon:o.jsx(Sr,{}),onClick:()=>i(new Date().toISOString().split("T")[0]),sx:{borderRadius:3,backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:700,px:{xs:2,sm:3},py:{xs:1,sm:1.5},backdropFilter:"blur(10px)",fontSize:{xs:"0.8rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.25)"},transition:"all 0.3s ease"},children:t("todays_schedule")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(rL,{}),onClick:Mr,sx:{borderRadius:3,backgroundColor:"rgba(255,255,255,0.1)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:600,px:{xs:2,sm:3},py:{xs:1,sm:1.5},backdropFilter:"blur(10px)",fontSize:{xs:"0.8rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.2)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.25)"},transition:"all 0.3s ease"},children:t("recurring_schedule")}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:On,sx:{borderRadius:{xs:2,md:3},backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:700,px:{xs:3,sm:4},py:{xs:1.5,sm:1.5},minHeight:{xs:48,md:"auto"},backdropFilter:"blur(10px)",fontSize:{xs:"0.875rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.2)"},transition:"all 0.3s ease"},children:t("add_new_doctor")})]})]}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}}),o.jsx(T,{sx:{position:"absolute",bottom:-30,left:-30,width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.05)",zIndex:1}})]}),o.jsx(Ve,{sx:{mb:4,background:"linear-gradient(135deg, #fafbfc 0%, #f0f2f5 100%)",borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)"},children:o.jsx(st,{sx:{p:{xs:2,md:3}},children:o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:{xs:2,sm:3}},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"text.primary",fontSize:{xs:"1rem",sm:"1.25rem"}},children:["📅 ",t("schedule_date"),":"]}),o.jsx(Pe,{type:"date",label:t("select_date"),value:r,onChange:te=>i(te.target.value),InputLabelProps:{shrink:!0},sx:{minWidth:{xs:"100%",sm:"auto"},"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"}}}}),o.jsx(Ke,{label:`${t(Mt())}`,sx:{textTransform:"capitalize",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:600,alignSelf:{xs:"flex-start",sm:"center"}}})]})})}),o.jsxs(Ve,{sx:{mb:4,background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",position:"relative",overflow:"hidden"},children:[o.jsxs(st,{sx:{p:4,position:"relative",zIndex:2},children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700,mb:3,color:"text.primary"},children:["📊 ",t("doctor_schedule_statistics")]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"primary.main",mb:.5},children:an}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("working_today")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"success.main",mb:.5},children:_e}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("total_appointments")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"warning.main",mb:.5},children:ct}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("busy_doctors")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"info.main",mb:.5},children:an-ct}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("available_doctors")})]})})]})]}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(102, 126, 234, 0.1)",zIndex:1}}),o.jsx(T,{sx:{position:"absolute",bottom:-30,left:-30,width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(118, 75, 162, 0.1)",zIndex:1}})]}),o.jsx(Ve,{sx:{mb:4,borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:4},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:3,color:"text.primary"},children:["🎨 ",t("time_slot_color_guide")]}),o.jsxs(T,{sx:{display:"flex",flexWrap:"wrap",gap:3,mb:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"✅ 10:00",size:"small",variant:"outlined",sx:{backgroundColor:"#e8f5e8",borderColor:"#4caf50",color:"#2e7d32",fontWeight:600,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["✅ ",t("regular_working_hours")]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"⏰ 14:30",size:"small",variant:"outlined",sx:{backgroundColor:"#e3f2fd",borderColor:"#2196f3",color:"#1976d2",fontWeight:600,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["⏰ ",t("available_slot_added_manually")]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"🔒 16:00",size:"small",variant:"filled",sx:{backgroundColor:"#ffcdd2",borderColor:"#f44336",color:"#d32f2f",textDecoration:"line-through",fontWeight:700,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["🔒 ",t("reserved_patient_appointment")]})]})]}),o.jsxs(T,{sx:{p:3,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",borderRadius:3,border:"1px solid rgba(102, 126, 234, 0.2)",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-10,right:-10,width:40,height:40,borderRadius:"50%",backgroundColor:"rgba(102, 126, 234, 0.1)",zIndex:1}}),o.jsxs(w,{variant:"body1",sx:{fontWeight:700,color:"primary.main",position:"relative",zIndex:2},children:["💡 ",t("interactive_time_slots")]}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,mt:.5,position:"relative",zIndex:2},children:t("click_time_slot_to_edit")})]})]})}),o.jsxs(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden"},children:[o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:{xs:1,md:4}},children:o.jsxs(_l,{value:e,onChange:jt,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-scrollButtons":{"&.Mui-disabled":{opacity:.3}},"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:{xs:"0.8rem",md:"0.95rem"},minWidth:{xs:120,md:"auto"},padding:{xs:"8px 12px",md:"12px 16px"},borderRadius:"8px 8px 0 0",margin:{xs:"0 1px",md:"0 2px"},"&.Mui-selected":{color:"white",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{backgroundColor:"rgba(102, 126, 234, 0.1)"}},"& .MuiTabs-indicator":{height:4,borderRadius:"4px 4px 0 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},children:[o.jsx(un,{label:`📅 ${t("doctor_schedules")}`}),o.jsx(un,{label:`📊 ${t("weekly_overview")}`}),o.jsx(un,{label:`👥 ${t("all_doctors")}`})]})}),o.jsx(dI,{value:e,index:0,children:o.jsxs(T,{sx:{p:4},children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700,mb:3,color:"text.primary"},children:["📋 ",t("doctor_schedules_for_date",{date:new Date(r).toLocaleDateString()})]}),o.jsxs(T,{sx:{mb:4,p:3,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:3,border:"1px solid rgba(102, 126, 234, 0.2)",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(102, 126, 234, 0.1)",zIndex:1}}),o.jsxs(w,{variant:"body1",sx:{fontWeight:700,color:"primary.main",mb:1,position:"relative",zIndex:2},children:["💡 ",t("how_to_manage_time_slots"),":"]}),o.jsxs(w,{variant:"body2",sx:{mb:.5,color:"text.secondary",fontWeight:500,position:"relative",zIndex:2},children:["• ",t("click_plus_button_to_add")]}),o.jsxs(w,{variant:"body2",sx:{mb:.5,color:"text.secondary",fontWeight:500,position:"relative",zIndex:2},children:["• ",t("add_multiple_time_slots")]}),o.jsxs(w,{variant:"body2",sx:{color:"text.secondary",fontWeight:500,position:"relative",zIndex:2},children:["• ",t("click_time_slot_chip_to_edit")]})]}),o.jsx(V,{container:!0,spacing:3,children:Qe().map(te=>{const Re=at(te.id,r),J=Tt(te),je=J.filter(nt=>nt.isReserved).length,tt=J.length,kt=tt-je;return o.jsx(V,{item:!0,xs:12,sm:6,lg:4,children:o.jsx(Ve,{sx:{height:"100%",borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"2px solid",borderColor:Re.length>0?"rgba(102, 126, 234, 0.3)":"rgba(0,0,0,0.1)",position:"relative",overflow:"hidden","&:hover":{boxShadow:"0 8px 32px rgba(0,0,0,0.15)",transform:"translateY(-2px)",borderColor:"rgba(102, 126, 234, 0.5)"},transition:"all 0.3s ease",...Re.length>0&&{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.02) 0%, rgba(118, 75, 162, 0.02) 100%)"}},children:o.jsxs(st,{sx:{p:{xs:2,md:3}},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"flex-start"},justifyContent:"space-between",mb:3,gap:{xs:2,sm:0}},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",flex:1,textAlign:{xs:"center",sm:"left"}},children:[o.jsx(dn,{sx:{width:{xs:56,md:64},height:{xs:56,md:64},mr:{xs:0,sm:3},mb:{xs:1,sm:0},background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",fontSize:{xs:"1.1rem",md:"1.3rem"},fontWeight:"bold",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)",color:"white"},children:te.avatar}),o.jsxs(T,{sx:{flex:1},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1rem",md:"1.25rem"}},children:te.name}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"0.875rem"}},children:te.specialty}),o.jsxs(w,{variant:"caption",color:"primary.main",sx:{fontWeight:600,fontSize:{xs:"0.7rem",md:"0.75rem"}},children:[te.workingHours.start," - ",te.workingHours.end]})]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1,flexDirection:{xs:"row",sm:"column",md:"row"}},children:[o.jsx(Ze,{title:t("weekly_schedule"),children:o.jsx(qe,{onClick:()=>yt(te),sx:{background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",color:"white",boxShadow:"0 4px 16px rgba(76, 175, 80, 0.3)","&:hover":{background:"linear-gradient(135deg, #388E3C 0%, #1B5E20 100%)",transform:"scale(1.1)",boxShadow:"0 6px 20px rgba(76, 175, 80, 0.4)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(Sr,{})})}),o.jsx(Ze,{title:t("add_time_slot"),children:o.jsx(qe,{onClick:()=>zt(te.id),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"scale(1.1)",boxShadow:"0 6px 20px rgba(102, 126, 234, 0.4)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(rr,{})})}),o.jsx(uG,{badgeContent:Re.length,max:99,sx:{"& .MuiBadge-badge":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:700,fontSize:"0.75rem",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)"}},children:o.jsx(Pu,{sx:{color:"text.secondary",fontSize:{xs:24,md:28}}})})]})]}),o.jsxs(T,{sx:{mb:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("schedule_utilization")}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:[je,"/",tt," ",t("slots")]})]}),o.jsx(Od,{variant:"determinate",value:je/tt*100,sx:{height:8,borderRadius:4,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:je/tt>.8?"#f44336":je/tt>.6?"#ff9800":"#4caf50"}}}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[o.jsxs(w,{variant:"caption",sx:{color:"#4caf50"},children:[kt," ",t("available")]}),o.jsxs(w,{variant:"caption",sx:{color:"#f44336"},children:[je," ",t("reserved")]})]})]}),o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,mb:2,fontSize:{xs:"0.9rem",md:"1rem"}},children:[t("time_slots_total",{count:J.length}),":"]}),o.jsx(T,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:.5,md:1},justifyContent:{xs:"center",sm:"flex-start"}},children:J.map((nt,bn)=>{const mn=nt.isReserved?"reserved":nt.isAvailableSlot?"available":"regular",Pr=nt.isReserved?"🔒":nt.isAvailableSlot?"⏰":"✅";return o.jsx(Ke,{label:`${Pr} ${nt.time}`,size:"small",variant:nt.isReserved?"filled":"outlined",clickable:!0,onClick:()=>Ue(te.id,nt.time,mn,nt.appointment||void 0),sx:{fontSize:{xs:"0.65rem",md:"0.75rem"},fontWeight:nt.isReserved?700:600,textDecoration:nt.isReserved?"line-through":"none",cursor:"pointer",minWidth:{xs:"auto",md:"auto"},height:{xs:28,md:32},...mn==="regular"&&{backgroundColor:"#e8f5e8",borderColor:"#4caf50",color:"#2e7d32","&:hover":{backgroundColor:"#c8e6c8",borderColor:"#388e3c",transform:"scale(1.05)"}},...mn==="available"&&{backgroundColor:"#e3f2fd",borderColor:"#2196f3",color:"#1976d2","&:hover":{backgroundColor:"#bbdefb",borderColor:"#1976d2",transform:"scale(1.05)"}},...mn==="reserved"&&{backgroundColor:"#ffcdd2",borderColor:"#f44336",color:"#d32f2f","&:hover":{backgroundColor:"#ffb3ba",borderColor:"#d32f2f",transform:"scale(1.05)"}},transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}},title:nt.isReserved?t("reserved_slot_tooltip",{patient:nt.patient}):nt.isAvailableSlot?t("available_slot_tooltip"):t("regular_hours_tooltip")},bn)})}),Re.filter(nt=>nt.patient&&!nt.isAvailableSlot).length>0&&o.jsxs(T,{sx:{mt:3},children:[o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:["🔒 ",t("reserved_appointments_count",{count:Re.filter(nt=>nt.patient&&!nt.isAvailableSlot).length}),":"]}),o.jsx(mi,{dense:!0,children:Re.filter(nt=>nt.patient&&!nt.isAvailableSlot).map((nt,bn)=>o.jsxs(An,{sx:{px:0,py:.5,backgroundColor:"#ffebee",borderRadius:1,mb:1,border:"2px solid #f44336"},children:[o.jsx(pr,{primary:o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["🔒 ",nt.time," - ",nt.patient]}),secondary:o.jsxs(w,{variant:"caption",color:"text.secondary",children:[nt.duration," ",t("min")," • Dr. ",te.name," • ",t("reserved_appointment")]})}),o.jsx(ol,{children:o.jsx(qe,{size:"small",onClick:mn=>Xt(mn,nt),children:o.jsx(oL,{fontSize:"small"})})})]},bn))})]}),Re.filter(nt=>nt.isAvailableSlot).length>0&&o.jsxs(T,{sx:{mt:3},children:[o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:["⏰ ",t("available_slots_count",{count:Re.filter(nt=>nt.isAvailableSlot).length}),":"]}),o.jsx(mi,{dense:!0,children:Re.filter(nt=>nt.isAvailableSlot).map((nt,bn)=>o.jsxs(An,{sx:{px:0,py:.5,backgroundColor:"#e3f2fd",borderRadius:1,mb:1,border:"2px solid #2196f3"},children:[o.jsx(pr,{primary:o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["⏰ ",nt.time," - ",t("available")]}),secondary:o.jsxs(w,{variant:"caption",color:"text.secondary",children:[nt.duration," ",t("min")," • Dr. ",te.name," • ",t("available_slot")]})}),o.jsx(ol,{children:o.jsx(qe,{size:"small",onClick:mn=>Xt(mn,nt),children:o.jsx(oL,{fontSize:"small"})})})]},bn))})]})]})})},te.id)})}),R.filter(te=>!pt(te)).length>0&&o.jsxs(T,{sx:{mt:4},children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700,mb:3,color:"text.primary"},children:["👥 ",t("doctors_off_today",{day:t(Mt())}),":"]}),o.jsx(V,{container:!0,spacing:3,children:R.filter(te=>!pt(te)).map(te=>o.jsx(V,{item:!0,xs:12,sm:6,md:4,lg:3,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"2px solid rgba(0,0,0,0.1)",position:"relative",overflow:"hidden","&:hover":{boxShadow:"0 8px 32px rgba(0,0,0,0.15)",transform:"translateY(-2px)",borderColor:"rgba(102, 126, 234, 0.3)"},transition:"all 0.3s ease",background:"linear-gradient(135deg, rgba(0,0,0,0.02) 0%, rgba(0,0,0,0.05) 100%)"},children:o.jsx(st,{sx:{p:{xs:2,md:3}},children:o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",textAlign:{xs:"center",sm:"left"},gap:{xs:2,sm:0}},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",flex:1},children:[o.jsx(dn,{sx:{width:{xs:40,md:48},height:{xs:40,md:48},mr:{xs:0,sm:2},mb:{xs:1,sm:0},backgroundColor:"#bdbdbd",fontSize:{xs:"1rem",md:"1.1rem"},fontWeight:"bold"},children:te.avatar}),o.jsxs(T,{sx:{flex:1},children:[o.jsx(w,{variant:"body1",sx:{fontWeight:700,fontSize:{xs:"0.9rem",md:"1rem"}},children:te.name}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:te.specialty}),o.jsxs(w,{variant:"caption",sx:{color:"warning.main",fontWeight:600,backgroundColor:"rgba(255, 152, 0, 0.1)",padding:"2px 8px",borderRadius:"12px",display:"inline-block",mt:.5,fontSize:{xs:"0.7rem",md:"0.75rem"}},children:["📅 ",t("day_off")]})]})]}),o.jsx(Ze,{title:t("edit_doctor_schedule"),children:o.jsx(qe,{onClick:()=>G(te),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"scale(1.05)",boxShadow:"0 6px 20px rgba(102, 126, 234, 0.4)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(Wn,{fontSize:"small"})})})]})})})},te.id))})]})]})}),o.jsx(dI,{value:e,index:1,children:o.jsxs(T,{sx:{p:{xs:2,md:4}},children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700,mb:3,color:"text.primary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:["📊 ",t("weekly_schedule_overview")]}),o.jsxs(T,{sx:{mb:4,p:{xs:2,md:3},background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:3,border:"1px solid rgba(102, 126, 234, 0.2)"},children:[o.jsxs(w,{variant:"body1",sx:{fontWeight:600,color:"primary.main",mb:1,fontSize:{xs:"0.9rem",md:"1rem"}},children:["📅 ",t("weekly_working_patterns")]}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("weekly_overview_description")})]}),o.jsx(T,{sx:{display:{xs:"none",lg:"block"}},children:o.jsx(yi,{component:Qi,sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden"},children:o.jsxs(gi,{children:[o.jsx(vi,{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:700,fontSize:"0.95rem"},children:t("doctor")}),Bs.map(te=>o.jsx(ae,{sx:{fontWeight:700,textTransform:"capitalize",fontSize:"0.95rem"},children:t(te).substring(0,3)},te)),o.jsx(ae,{sx:{fontWeight:700,fontSize:"0.95rem",textAlign:"center"},children:t("actions")})]})}),o.jsx(xi,{children:R.map(te=>o.jsxs(Qt,{hover:!0,sx:{"&:hover":{backgroundColor:"rgba(102, 126, 234, 0.02)"}},children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"bold",fontSize:"1rem"},children:te.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:700,children:te.name}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:te.specialty})]})]})}),Bs.map(Re=>o.jsx(ae,{children:te.offDays.includes(Re)?o.jsx(Ke,{label:t("off"),size:"small",sx:{backgroundColor:"rgba(244, 67, 54, 0.1)",color:"#d32f2f",border:"1px solid rgba(244, 67, 54, 0.3)",fontWeight:600}}):o.jsxs(T,{sx:{p:1,backgroundColor:"rgba(76, 175, 80, 0.1)",borderRadius:2,border:"1px solid rgba(76, 175, 80, 0.3)"},children:[o.jsx(w,{variant:"caption",sx:{fontWeight:700,color:"#2e7d32",display:"block",textAlign:"center"},children:te.workingHours.start}),o.jsx(w,{variant:"caption",sx:{fontWeight:500,color:"#2e7d32",display:"block",textAlign:"center"},children:te.workingHours.end})]})},Re)),o.jsx(ae,{sx:{textAlign:"center"},children:o.jsxs(T,{sx:{display:"flex",gap:1,justifyContent:"center"},children:[o.jsx(Ze,{title:t("weekly_schedule"),children:o.jsx(me,{variant:"contained",size:"small",startIcon:o.jsx(Sr,{}),onClick:()=>yt(te),sx:{background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",color:"white",boxShadow:"0 4px 16px rgba(76, 175, 80, 0.3)",borderRadius:2,fontSize:"0.75rem",fontWeight:600,px:2,"&:hover":{background:"linear-gradient(135deg, #388E3C 0%, #1B5E20 100%)",transform:"scale(1.05)",boxShadow:"0 6px 20px rgba(76, 175, 80, 0.4)"},transition:"all 0.3s ease"},children:"Weekly Schedule"})}),o.jsx(Ze,{title:t("edit_doctor_profile"),children:o.jsx(qe,{onClick:()=>G(te),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"scale(1.05)",boxShadow:"0 6px 20px rgba(102, 126, 234, 0.4)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(Wn,{fontSize:"small"})})})]})})]},te.id))})]})})}),o.jsx(T,{sx:{display:{xs:"block",lg:"none"}},children:o.jsx(V,{container:!0,spacing:2,children:R.map(te=>o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.1)",overflow:"hidden","&:hover":{boxShadow:"0 8px 32px rgba(0,0,0,0.15)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"bold",fontSize:"1.1rem"},children:te.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:te.name}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:te.specialty})]})]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(Ze,{title:t("weekly_schedule"),children:o.jsx(qe,{onClick:()=>yt(te),sx:{background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",color:"white",boxShadow:"0 4px 16px rgba(76, 175, 80, 0.3)","&:hover":{background:"linear-gradient(135deg, #388E3C 0%, #1B5E20 100%)",transform:"scale(1.05)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(Sr,{})})}),o.jsx(Ze,{title:t("edit_doctor_profile"),children:o.jsx(qe,{onClick:()=>G(te),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"scale(1.05)"},transition:"all 0.3s ease"},size:"small",children:o.jsx(Wn,{})})})]})]}),o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,mb:2,color:"primary.main"},children:["📅 ",t("weekly_schedule")]}),o.jsx(V,{container:!0,spacing:1,children:Bs.map(Re=>o.jsx(V,{item:!0,xs:6,sm:4,md:3,children:o.jsxs(T,{sx:{p:1.5,borderRadius:2,border:"1px solid rgba(0,0,0,0.1)",textAlign:"center",backgroundColor:te.offDays.includes(Re)?"rgba(244, 67, 54, 0.05)":"rgba(76, 175, 80, 0.05)"},children:[o.jsx(w,{variant:"caption",sx:{fontWeight:700,display:"block",color:"text.primary",mb:.5,fontSize:"0.75rem"},children:t(Re).substring(0,3)}),te.offDays.includes(Re)?o.jsx(Ke,{label:t("off"),size:"small",sx:{backgroundColor:"rgba(244, 67, 54, 0.2)",color:"#d32f2f",fontWeight:600,fontSize:"0.7rem",height:24}}):o.jsxs(T,{children:[o.jsx(w,{variant:"caption",sx:{fontWeight:600,color:"#2e7d32",display:"block",fontSize:"0.7rem"},children:te.workingHours.start}),o.jsx(w,{variant:"caption",sx:{fontWeight:500,color:"#2e7d32",display:"block",fontSize:"0.7rem"},children:te.workingHours.end})]})]})},Re))})]})})},te.id))})})]})}),o.jsx(dI,{value:e,index:2,children:o.jsxs(T,{sx:{p:3},children:[o.jsx(w,{variant:"h6",gutterBottom:!0,children:t("all_doctors_count",{count:R.length})}),o.jsx(mi,{children:R.map(te=>o.jsxs(he.Fragment,{children:[o.jsxs(An,{children:[o.jsx(W1,{children:o.jsx(dn,{sx:{backgroundColor:"primary.main"},children:te.avatar})}),o.jsx(pr,{primary:te.name,secondary:o.jsxs(T,{children:[o.jsxs(w,{variant:"body2",children:[te.specialty," • ",te.workingHours.start," - ",te.workingHours.end]}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[t("off_days"),": ",te.offDays.length>0?te.offDays.map(Re=>t(Re)).join(", "):t("none")," •",t("max_patients_per_hour",{max:te.maxPatientsPerHour})," •",t("consultation_duration_min",{duration:te.consultationDuration})]})]})})]}),o.jsx(Nn,{})]},te.id))})]})})]}),o.jsxs(In,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,background:"linear-gradient(135deg, #e3f2fd 0%, #ffffff 100%)"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #2196f3 0%, #42a5f5 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(rr,{sx:{fontSize:28}}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("add_available_time_slot")}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("create_availability_for",{doctor:((Ot=R.find(te=>te.id===v))==null?void 0:Ot.name)||t("doctor")})})]})]})}),o.jsxs(Tn,{sx:{p:4},children:[o.jsxs(T,{sx:{p:3,backgroundColor:"#f8f9fa",borderRadius:2,border:"1px solid #e9ecef",mb:3},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["ℹ️ ",o.jsxs("strong",{children:[t("what_this_does"),":"]})]}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("add_time_slot_description")}),o.jsxs(T,{sx:{mt:2,ml:2},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["• ",o.jsx("span",{style:{color:"#2e7d32",fontWeight:600},children:t("green_slots")}),": ",t("regular_working_hours_description")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["• ",o.jsx("span",{style:{color:"#1976d2",fontWeight:600},children:t("blue_slots")}),": ",t("available_slots_description")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["• ",o.jsx("span",{style:{color:"#d32f2f",fontWeight:600},children:t("red_slots")}),": ",t("reserved_slots_description")]}),o.jsxs(w,{variant:"body2",sx:{mt:1,p:1,backgroundColor:"#e8f5e8",borderRadius:1,color:"#2e7d32",fontWeight:600},children:["✅ ",t("can_add_multiple_time_slots")]})]})]}),o.jsxs(hn,{fullWidth:!0,margin:"normal",children:[o.jsx(jn,{id:"doctor-label",children:t("doctor")}),o.jsx(yn,{labelId:"doctor-label",id:"doctor",value:v||"",label:t("doctor"),onChange:te=>b(te.target.value),sx:{borderRadius:2},children:Qe().map(te=>{const Re=at(te.id,r),J=Re.length>0;return o.jsx(ye,{value:te.id,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[o.jsx(dn,{sx:{width:32,height:32,backgroundColor:J?"#4caf50":"primary.main"},children:te.avatar}),o.jsxs(T,{sx:{flex:1},children:[o.jsx(w,{variant:"body2",fontWeight:600,children:te.name}),o.jsx(w,{variant:"caption",color:"text.secondary",children:te.specialty}),J&&o.jsxs(w,{variant:"caption",sx:{color:"#4caf50",fontWeight:600,display:"block"},children:["✅ ",t("has_existing_appointments")]})]}),J&&o.jsx(Ke,{label:t("slots_count",{count:Re.length}),size:"small",sx:{backgroundColor:"#e8f5e8",color:"#2e7d32"}})]})},te.id)})})]}),o.jsx(Pe,{fullWidth:!0,margin:"normal",id:"time",label:t("time_slot"),type:"time",value:I.time||"",onChange:te=>A("time",te.target.value),helperText:t("enter_time_format"),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),o.jsxs($n,{sx:{p:3,gap:2},children:[o.jsx(me,{onClick:()=>c(!1),variant:"outlined",sx:{borderRadius:2,px:4},children:t("cancel")}),o.jsx(me,{onClick:lt,variant:"contained",sx:{borderRadius:2,px:4},children:t("add_time_slot")})]})]}),o.jsxs(In,{open:d,onClose:()=>f(!1),children:[o.jsx(kn,{children:t("edit_appointment")}),o.jsx(Tn,{children:o.jsx(Pe,{fullWidth:!0,margin:"normal",id:"time",label:t("time_hhmm_format"),type:"time",value:I.time||"",onChange:te=>A("time",te.target.value),helperText:t("change_time_or_enter_new")})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>f(!1),children:t("cancel")}),o.jsx(me,{onClick:Zt,children:t("save")})]})]}),y&&o.jsxs(bl,{anchorEl:p,open:!!p,onClose:()=>m(null),children:[o.jsxs(ye,{onClick:te=>{te.stopPropagation(),mt(y)},children:[o.jsx(Wn,{}),t("edit")]}),o.jsxs(ye,{onClick:te=>{te.stopPropagation(),It(y)},children:[o.jsx(Cs,{}),t("delete")]})]}),o.jsxs(In,{open:O,onClose:()=>D(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:4,background:"linear-gradient(145deg, #f8fffe 0%, #e8f5e8 25%, #ffffff 100%)",boxShadow:"0 24px 50px rgba(76, 175, 80, 0.15)",overflow:"hidden"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #4caf50 0%, #66bb6a 50%, #81c784 100%)",color:"white",borderRadius:0,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 0%, transparent 50%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3,position:"relative",zIndex:1},children:[o.jsx(T,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"50%",backdropFilter:"blur(10px)"},children:o.jsx(pl,{sx:{fontSize:36,color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,mb:.5,fontSize:"1.8rem"},children:t("add_new_doctor")}),o.jsxs(w,{variant:"h6",sx:{opacity:.9,fontWeight:400},children:["🩺 ",t("register_new_medical_professional")]})]})]})}),o.jsxs(Tn,{sx:{p:5,backgroundColor:"#fafafa"},children:[o.jsxs(T,{sx:{mb:4,p:3,backgroundColor:"white",borderRadius:3,border:"2px solid #e8f5e8",boxShadow:"0 4px 20px rgba(76, 175, 80, 0.1)"},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#4caf50",mb:2},children:["👨‍⚕️ ",t("doctor_information")]}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6},children:t("doctor_registration_description")})]}),o.jsxs(V,{container:!0,spacing:4,children:[o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#2e7d32",display:"flex",alignItems:"center",gap:1},children:[o.jsx(Pu,{sx:{fontSize:24}}),t("personal_information")]}),o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:1},children:Q?o.jsx(Ke,{label:"⏳ Auto-saving...",size:"small",sx:{backgroundColor:"#fff3cd",color:"#856404",fontWeight:600,animation:"pulse 1.5s infinite"}}):ee?o.jsx(Ke,{label:"✅ Saved",size:"small",sx:{backgroundColor:"#d4edda",color:"#155724",fontWeight:600}}):null})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:`${t("full_name")} *`,value:q.name,onChange:te=>Y("name",te.target.value),placeholder:t("doctor_name_placeholder"),required:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}},children:[o.jsx(jn,{children:`${t("medical_specialty")} *`}),o.jsx(yn,{value:q.specialty,label:`${t("medical_specialty")} *`,onChange:te=>Y("specialty",te.target.value),required:!0,children:O$.map(te=>o.jsx(ye,{value:te.value,children:t(te.key)},te.value))})]})}),o.jsx(V,{item:!0,xs:12,sx:{mt:3},children:o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#2e7d32",mb:3,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Sr,{sx:{fontSize:24}}),t("working_schedule")]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_hours_start"),type:"time",value:q.workingHoursStart,onChange:te=>Y("workingHoursStart",te.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_hours_end"),type:"time",value:q.workingHoursEnd,onChange:te=>Y("workingHoursEnd",te.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:t("consultation_duration_minutes"),type:"number",value:q.consultationDuration,onChange:te=>Y("consultationDuration",parseInt(te.target.value)||30),inputProps:{min:15,max:120,step:15},helperText:t("typical_duration_range"),sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:t("max_patients_per_hour"),type:"number",value:q.maxPatientsPerHour,onChange:te=>Y("maxPatientsPerHour",parseInt(te.target.value)||2),inputProps:{min:1,max:10},helperText:t("recommended_patients_range"),sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(hn,{fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#4caf50"},"&.Mui-focused fieldset":{borderColor:"#4caf50",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#4caf50"}},children:[o.jsx(jn,{children:t("off_days")}),o.jsx(yn,{multiple:!0,value:q.offDays,onChange:te=>Y("offDays",te.target.value),label:t("off_days"),renderValue:te=>te.map(Re=>t(Re)).join(", "),children:Bs.map(te=>o.jsx(ye,{value:te,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:q.offDays.includes(te)?"#4caf50":"#e0e0e0"}}),t(te)]})},te))})]})})]})]}),o.jsxs($n,{sx:{p:4,gap:3,backgroundColor:"#f5f5f5",borderTop:"1px solid #e0e0e0"},children:[o.jsx(me,{onClick:()=>D(!1),variant:"outlined",size:"large",sx:{borderRadius:3,px:5,py:1.5,borderColor:"#bdbdbd",color:"#757575","&:hover":{borderColor:"#9e9e9e",backgroundColor:"#f5f5f5"}},children:t("cancel")}),o.jsxs(me,{onClick:ve,variant:"contained",size:"large",sx:{borderRadius:3,px:6,py:1.5,background:"linear-gradient(135deg, #4caf50 0%, #66bb6a 100%)",boxShadow:"0 6px 20px rgba(76, 175, 80, 0.3)",fontWeight:600,fontSize:"1.1rem","&:hover":{background:"linear-gradient(135deg, #388e3c 0%, #4caf50 100%)",boxShadow:"0 8px 25px rgba(76, 175, 80, 0.4)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:["✨ ",t("add_doctor_to_clinic")]})]})]}),o.jsxs(In,{open:L,onClose:()=>$(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:4,background:"linear-gradient(145deg, #fff8e1 0%, #e8f5e8 25%, #ffffff 100%)",boxShadow:"0 24px 50px rgba(102, 126, 234, 0.15)",overflow:"hidden"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:0,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 0%, transparent 50%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3,position:"relative",zIndex:1},children:[o.jsx(T,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"50%",backdropFilter:"blur(10px)"},children:o.jsx(Wn,{sx:{fontSize:36,color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,mb:.5,fontSize:"1.8rem"},children:t("edit_doctor_information")}),o.jsxs(w,{variant:"h6",sx:{opacity:.9,fontWeight:400},children:["🩺 ",t("update_doctor_profile",{doctor:(B==null?void 0:B.name)||t("doctor")})]})]})]})}),o.jsx(Tn,{sx:{p:5,backgroundColor:"#fafafa"},children:o.jsxs(V,{container:!0,spacing:4,children:[o.jsx(V,{item:!0,xs:12,children:o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#667eea",mb:3,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Pu,{}),t("personal_information")]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("doctor_name"),value:q.name,onChange:te=>Y("name",te.target.value),required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}},children:[o.jsx(jn,{children:t("medical_specialty")}),o.jsx(yn,{value:q.specialty,label:t("medical_specialty"),onChange:te=>Y("specialty",te.target.value),required:!0,children:O$.map(te=>o.jsx(ye,{value:te.value,children:t(te.key)},te.value))})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#667eea",mb:3,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Sr,{}),t("working_hours_and_schedule")]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_hours_start"),type:"time",value:q.workingHoursStart,onChange:te=>Y("workingHoursStart",te.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_hours_end"),type:"time",value:q.workingHoursEnd,onChange:te=>Y("workingHoursEnd",te.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}}})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(hn,{fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}},children:[o.jsx(jn,{children:t("off_days")}),o.jsx(yn,{multiple:!0,value:q.offDays,onChange:te=>Y("offDays",te.target.value),label:t("off_days"),renderValue:te=>te.map(Re=>t(Re)).join(", "),children:Bs.map(te=>o.jsx(ye,{value:te,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:q.offDays.includes(te)?"#667eea":"#e0e0e0"}}),t(te)]})},te))})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("consultation_duration_minutes"),type:"number",value:q.consultationDuration,onChange:te=>Y("consultationDuration",parseInt(te.target.value)||30),inputProps:{min:15,max:120,step:15},helperText:t("typical_duration_range"),sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("max_patients_per_hour"),type:"number",value:q.maxPatientsPerHour,onChange:te=>Y("maxPatientsPerHour",parseInt(te.target.value)||2),inputProps:{min:1,max:10},helperText:t("recommended_patients_range"),sx:{"& .MuiOutlinedInput-root":{borderRadius:3,backgroundColor:"white","&:hover fieldset":{borderColor:"#667eea"},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}},"& .MuiInputLabel-root.Mui-focused":{color:"#667eea"}}})})]})}),o.jsxs($n,{sx:{p:4,gap:3,backgroundColor:"#f8f9fa",borderTop:"1px solid #e0e0e0"},children:[o.jsx(me,{onClick:()=>$(!1),variant:"outlined",size:"large",sx:{borderRadius:3,px:5,py:1.5,borderColor:"#bdbdbd",color:"#757575","&:hover":{borderColor:"#9e9e9e",backgroundColor:"#f5f5f5"}},children:t("cancel")}),o.jsxs(me,{onClick:ke,variant:"contained",size:"large",sx:{borderRadius:3,px:6,py:1.5,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)",fontWeight:600,fontSize:"1.1rem","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",boxShadow:"0 12px 40px rgba(102, 126, 234, 0.4)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:["✨ ",t("update_doctor")]})]})]}),o.jsxs(In,{open:Z,onClose:()=>de(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:4,background:"linear-gradient(145deg, #fff8e1 0%, #ffffff 100%)",boxShadow:"0 20px 40px rgba(255, 152, 0, 0.15)"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)",color:"white",borderRadius:0},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Wn,{sx:{fontSize:28}}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("edit_time_slot_time",{time:K==null?void 0:K.time})}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("configure_slot_type_and_patient")})]})]})}),o.jsxs(Tn,{sx:{p:4},children:[o.jsxs(T,{sx:{mb:4,p:3,backgroundColor:"#f5f5f5",borderRadius:2,border:"1px solid #e0e0e0"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:t("current_status")}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ke,{label:(K==null?void 0:K.type)==="reserved"?`🔒 ${t("reserved")}`:(K==null?void 0:K.type)==="available"?`⏰ ${t("available")}`:`✅ ${t("regular")}`,size:"small",sx:{backgroundColor:(K==null?void 0:K.type)==="reserved"?"#ffcdd2":(K==null?void 0:K.type)==="available"?"#e3f2fd":"#e8f5e8",color:(K==null?void 0:K.type)==="reserved"?"#d32f2f":(K==null?void 0:K.type)==="available"?"#1976d2":"#2e7d32",fontWeight:600}}),((St=K==null?void 0:K.appointment)==null?void 0:St.patient)&&o.jsxs(w,{variant:"body2",children:[t("patient"),": ",o.jsx("strong",{children:K.appointment.patient})]})]})]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("slot_type")}),o.jsxs(yn,{value:le.type,label:t("slot_type"),onChange:te=>oe({...le,type:te.target.value}),children:[o.jsx(ye,{value:"regular",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ke,{label:"✅",size:"small",sx:{backgroundColor:"#e8f5e8",color:"#2e7d32"}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("regular_working_hours")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("standard_doctor_availability")})]})]})}),o.jsx(ye,{value:"available",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ke,{label:"⏰",size:"small",sx:{backgroundColor:"#e3f2fd",color:"#1976d2"}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("available_slot_added_manually")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("extra_availability_outside_hours")})]})]})}),o.jsx(ye,{value:"reserved",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Ke,{label:"🔒",size:"small",sx:{backgroundColor:"#ffcdd2",color:"#d32f2f"}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("reserved_patient_appointment")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("booked_appointment_with_patient")})]})]})})]})]})}),le.type==="reserved"&&o.jsxs(o.Fragment,{children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:`${t("patient_name")} *`,value:le.patientName,onChange:te=>oe({...le,patientName:te.target.value}),placeholder:t("full_patient_name"),required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"#ff9800"},"&.Mui-focused fieldset":{borderColor:"#ff9800"}},"& .MuiInputLabel-root.Mui-focused":{color:"#ff9800"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("patient_phone"),value:le.patientPhone,onChange:te=>oe({...le,patientPhone:te.target.value}),placeholder:t("contact_number"),sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"#ff9800"},"&.Mui-focused fieldset":{borderColor:"#ff9800"}},"& .MuiInputLabel-root.Mui-focused":{color:"#ff9800"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("appointment_type")}),o.jsx(yn,{value:le.appointmentType,label:t("appointment_type"),onChange:te=>oe({...le,appointmentType:te.target.value}),sx:{borderRadius:2,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#ff9800"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#ff9800"}},children:r1e.map(te=>o.jsx(ye,{value:te.value,children:t(te.key)},te.value))})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("notes"),multiline:!0,rows:3,value:le.notes,onChange:te=>oe({...le,notes:te.target.value}),placeholder:t("additional_notes_placeholder"),sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"#ff9800"},"&.Mui-focused fieldset":{borderColor:"#ff9800"}},"& .MuiInputLabel-root.Mui-focused":{color:"#ff9800"}}})})]})]})]}),o.jsxs($n,{sx:{p:3,gap:2,backgroundColor:"#f5f5f5"},children:[o.jsx(me,{onClick:()=>de(!1),variant:"outlined",sx:{borderRadius:2,px:4},children:t("cancel")}),o.jsx(me,{onClick:it,variant:"contained",sx:{borderRadius:2,px:4,background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)","&:hover":{background:"linear-gradient(135deg, #f57c00 0%, #ff9800 100%)"}},children:t("save_changes")})]})]}),o.jsxs(In,{open:ge,onClose:()=>fe(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:4,background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",boxShadow:"0 20px 40px rgba(76, 175, 80, 0.15)",maxHeight:"90vh"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",color:"white",borderRadius:0},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Sr,{sx:{fontSize:32}}),o.jsxs(T,{children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700},children:["📅 Weekly Schedule for Dr. ",Se==null?void 0:Se.name]}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:"Set working days, time slots, and off days for the entire week"})]})]})}),o.jsxs(Tn,{sx:{p:4,maxHeight:"60vh",overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:3,backgroundColor:"#e8f5e9",borderRadius:3,border:"1px solid #4CAF50"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:"#2e7d32",mb:1},children:"💡 Flexible Weekly Scheduling"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["• ",o.jsx("strong",{children:"Different schedules per day:"})," Monday 9-12, Tuesday 2-5, Wednesday off, etc.",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Custom time slots:"})," Add any time slots you want for each day",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Copy & Apply:"})," Use helper buttons to copy slots between days",o.jsx("br",{}),"• ",o.jsx("strong",{children:"Persistent:"})," Your custom schedule is saved and remembered"]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4,p:3,backgroundColor:"#f5f5f5",borderRadius:3},children:[o.jsx(me,{onClick:()=>Ut("prev"),variant:"outlined",startIcon:o.jsx(rr,{sx:{transform:"rotate(180deg)"}}),sx:{borderRadius:2},children:"Previous Week"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["Week of ",new Date(ce).toLocaleDateString()]}),o.jsx(me,{onClick:()=>Ut("next"),variant:"outlined",endIcon:o.jsx(rr,{}),sx:{borderRadius:2},children:"Next Week"})]}),o.jsx(V,{container:!0,spacing:3,children:Bs.map((te,Re)=>{const J=Fe[te]||{isWorking:!1,timeSlots:[],notes:""},je=lr()[Re];return o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{border:J.isWorking?"2px solid #4CAF50":"2px solid #e0e0e0",backgroundColor:J.isWorking?"#f1f8e9":"#fafafa",borderRadius:3},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,textTransform:"capitalize"},children:[t(te)," (",new Date(je).toLocaleDateString(),")"]}),o.jsx(Ke,{label:J.isWorking?"Working Day":"Day Off",size:"small",sx:{backgroundColor:J.isWorking?"#c8e6c8":"#ffcdd2",color:J.isWorking?"#2e7d32":"#d32f2f",fontWeight:600}})]}),o.jsx(me,{variant:J.isWorking?"contained":"outlined",color:J.isWorking?"success":"primary",onClick:()=>pe(tt=>{var kt;return{...tt,[te]:{...tt[te],isWorking:!J.isWorking,timeSlots:J.isWorking?((kt=tt[te])==null?void 0:kt.timeSlots)||[]:[]}}}),sx:{borderRadius:2},children:J.isWorking?"Set as Day Off":"Set as Working Day"})]}),J.isWorking&&o.jsxs(T,{children:[o.jsx(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:o.jsxs(w,{variant:"subtitle1",sx:{fontWeight:600},children:["Time Slots (",J.timeSlots.length,")"]})}),o.jsxs(T,{sx:{mb:3,p:2,backgroundColor:"#f8f9fa",borderRadius:2,border:"1px solid #e0e0e0"},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,mb:1.5,color:"#333"},children:"⚡ Quick Availability Presets:"}),o.jsxs(T,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[o.jsx(me,{size:"small",variant:"outlined",onClick:()=>vt(te,"morning"),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#e3f2fd","&:hover":{backgroundColor:"#bbdefb"}},children:"🌅 Morning (9-12)"}),o.jsx(me,{size:"small",variant:"outlined",onClick:()=>vt(te,"afternoon"),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#fff3e0","&:hover":{backgroundColor:"#ffe0b2"}},children:"☀️ Afternoon (2-5)"}),o.jsx(me,{size:"small",variant:"outlined",onClick:()=>vt(te,"evening"),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#f3e5f5","&:hover":{backgroundColor:"#e1bee7"}},children:"🌙 Evening (6-9)"}),o.jsx(me,{size:"small",variant:"outlined",onClick:()=>vt(te,"full"),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#e8f5e9",color:"#2e7d32",borderColor:"#4caf50","&:hover":{backgroundColor:"#c8e6c9",borderColor:"#2e7d32"}},children:"🌈 Full Day"}),o.jsx(me,{size:"small",variant:"outlined",startIcon:o.jsx(Sr,{}),onClick:()=>sn(te),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#e8eaf6"},children:"📋 Default Hours"}),o.jsx(me,{size:"small",variant:"outlined",onClick:()=>Yn(te),sx:{borderRadius:2,fontSize:"0.75rem",backgroundColor:"#ffebee",color:"#d32f2f",borderColor:"#f44336","&:hover":{backgroundColor:"#ffcdd2",borderColor:"#d32f2f"}},children:"🗑️ Clear All"})]})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,mb:1.5,color:"#333"},children:"📅 Current Time Slots:"}),J.timeSlots.length===0?o.jsx(T,{sx:{p:3,textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:2,border:"2px dashed #ccc"},children:o.jsx(w,{variant:"body2",color:"text.secondary",children:"No time slots added yet. Use quick presets above or add custom slots below."})}):o.jsx(T,{sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:J.timeSlots.map((tt,kt)=>o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1,p:1,backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx(Pe,{size:"small",type:"time",value:tt,onChange:nt=>Mn(te,kt,nt.target.value),sx:{width:130,"& .MuiOutlinedInput-root":{borderRadius:2,"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#2196f3"},"&.Mui-focused fieldset":{borderColor:"#2196f3"}}}}),o.jsx(qe,{size:"small",color:"error",onClick:()=>Pn(te,kt),sx:{backgroundColor:"#ffebee","&:hover":{backgroundColor:"#ffcdd2"}},children:o.jsx(Cs,{})})]},kt))})]}),o.jsxs(T,{sx:{p:2,backgroundColor:"#f8f9fa",borderRadius:2,border:"1px solid #e0e0e0"},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,mb:1.5,color:"#333"},children:"➕ Add Custom Time Slot:"}),o.jsxs(T,{sx:{display:"flex",gap:1,alignItems:"center"},children:[o.jsx(Pe,{size:"small",type:"time",value:Xe,onChange:tt=>Lt(tt.target.value),placeholder:"Select time",sx:{width:150,"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"#ffffff"}}}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:()=>Sn(te),disabled:!Xe,sx:{borderRadius:2,background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)","&:hover":{background:"linear-gradient(135deg, #388E3C 0%, #1B5E20 100%)"}},children:"Add Slot"})]})]}),o.jsx(Pe,{fullWidth:!0,size:"small",label:`Notes for ${t(te)}`,value:J.notes,onChange:tt=>pe(kt=>({...kt,[te]:{...kt[te],notes:tt.target.value}})),placeholder:"Special notes or instructions for this day...",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]})]})})},te)})}),o.jsxs(T,{sx:{mt:4,p:3,backgroundColor:"#f8f9fa",borderRadius:3,border:"1px solid #e0e0e0"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:"📋 Weekly Schedule Summary"}),o.jsx(V,{container:!0,spacing:1,children:Bs.map(te=>{const Re=Fe[te]||{isWorking:!1,timeSlots:[]};return o.jsx(V,{item:!0,xs:12,sm:6,md:4,lg:3,children:o.jsxs(T,{sx:{p:2,backgroundColor:Re.isWorking?"#e8f5e8":"#ffebee",borderRadius:2,border:`1px solid ${Re.isWorking?"#4CAF50":"#f44336"}`},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:700,textTransform:"capitalize"},children:t(te)}),Re.isWorking?o.jsxs(w,{variant:"caption",color:"text.secondary",children:[Re.timeSlots.length," time slots",Re.timeSlots.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),Re.timeSlots[0]," - ",Re.timeSlots[Re.timeSlots.length-1]]})]}):o.jsx(w,{variant:"caption",sx:{color:"#d32f2f"},children:"Day Off"})]})},te)})})]})]}),o.jsxs($n,{sx:{p:4,gap:3,backgroundColor:"#f8f9fa"},children:[o.jsx(me,{onClick:()=>fe(!1),variant:"outlined",size:"large",sx:{borderRadius:3,px:4},children:"Cancel"}),o.jsx(me,{onClick:pn,variant:"contained",size:"large",sx:{borderRadius:3,px:6,background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",boxShadow:"0 8px 32px rgba(76, 175, 80, 0.3)","&:hover":{background:"linear-gradient(135deg, #388E3C 0%, #1B5E20 100%)",boxShadow:"0 12px 40px rgba(76, 175, 80, 0.4)"}},children:"✅ Save Weekly Schedule"})]})]}),o.jsxs(In,{open:$e,onClose:()=>Ce(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:4,background:"linear-gradient(145deg, #fff3e0 0%, #ffffff 100%)",boxShadow:"0 20px 40px rgba(255, 152, 0, 0.15)"}},children:[o.jsx(kn,{sx:{background:"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)",color:"white",borderRadius:0},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(rL,{sx:{fontSize:32}}),o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:"🔄 Recurring Appointments Setup"}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:"Automatically repeat current week's schedule for upcoming weeks"})]})]})}),o.jsx(Tn,{sx:{p:4},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{p:3,backgroundColor:"#f5f5f5",borderRadius:2,mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:1},children:"ℹ️ How Recurring Appointments Work"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["This feature will copy all appointments from the current week (week of ",new Date(ce).toLocaleDateString(),") and create them for the specified number of future weeks. Perfect for doctors with regular schedules!"]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Number of Weeks to Repeat",type:"number",value:Je.weeksToRepeat,onChange:te=>ht(Re=>({...Re,weeksToRepeat:parseInt(te.target.value)||1})),inputProps:{min:1,max:12},helperText:"How many future weeks to create appointments for",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover fieldset":{borderColor:"#ff9800"},"&.Mui-focused fieldset":{borderColor:"#ff9800"}},"& .MuiInputLabel-root.Mui-focused":{color:"#ff9800"}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,mb:1},children:"Recurring Options"}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o.jsx(ei,{control:o.jsx(ti,{checked:Je.enabled,onChange:te=>ht(Re=>({...Re,enabled:te.target.checked})),color:"warning"}),label:"Enable Recurring Appointments"}),o.jsx(ei,{control:o.jsx(ti,{checked:Je.includeOffDays,onChange:te=>ht(Re=>({...Re,includeOffDays:te.target.checked})),color:"warning"}),label:"Include Doctor's Off Days"}),o.jsx(ei,{control:o.jsx(ti,{checked:Je.autoApprove,onChange:te=>ht(Re=>({...Re,autoApprove:te.target.checked})),color:"warning"}),label:"Auto-approve Recurring Appointments"})]})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{p:3,backgroundColor:"#fff3e0",borderRadius:2,border:"1px solid #ffcc02"},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:700,color:"#e65100",mb:1},children:"⚠️ Preview"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["This will create ",o.jsx("strong",{children:s.filter(te=>{const Re=new Date(te.date),J=new Date(ce),je=new Date(J);return je.setDate(J.getDate()+6),Re>=J&&Re<=je}).length*Je.weeksToRepeat})," new appointments across ",o.jsx("strong",{children:Je.weeksToRepeat})," weeks, starting from"," ",o.jsx("strong",{children:new Date(new Date(ce).getTime()+7*24*60*60*1e3).toLocaleDateString()}),"."]})]})})]})}),o.jsxs($n,{sx:{p:4,gap:3,backgroundColor:"#f8f9fa"},children:[o.jsx(me,{onClick:()=>Ce(!1),variant:"outlined",size:"large",sx:{borderRadius:3,px:4},children:"Cancel"}),o.jsx(me,{onClick:hi,variant:"contained",size:"large",disabled:!Je.enabled,sx:{borderRadius:3,px:6,background:"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)",boxShadow:"0 8px 32px rgba(255, 152, 0, 0.3)","&:hover":{background:"linear-gradient(135deg, #f57c00 0%, #e65100 100%)",boxShadow:"0 12px 40px rgba(255, 152, 0, 0.4)"}},children:"🔄 Create Recurring Schedule"})]})]}),o.jsx(xm,{open:k.open,autoHideDuration:4e3,onClose:()=>P(te=>({...te,open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(Zn,{onClose:()=>P(te=>({...te,open:!1})),severity:k.severity,variant:"filled",sx:{width:"100%"},children:k.message})})]})},Td=class Td{constructor(){}static getInstance(){return Td.instance||(Td.instance=new Td),Td.instance}async notifyPaymentCompleted(e){const{patientName:n,amount:r,paymentId:i,method:s}=e;console.log(`💰 PAYMENT COMPLETED: ${i}`),console.log(`Patient: ${n}`),console.log(`Amount: ${r} EGP`),console.log(`Method: ${s||"Not specified"}`),await this.sendBrowserNotification({title:"💰 Payment Received!",message:`${n} paid ${r} EGP (${i})`,paymentData:e}),await this.sendEmailNotification(e),this.logPaymentNotification(e)}async sendBrowserNotification(e){try{if(!("Notification"in window)){console.log("🔔 Browser notifications not supported");return}let n=Notification.permission;if(n==="default"&&(n=await Notification.requestPermission()),n==="granted"){const r=new Notification(e.title,{body:e.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:`payment-${e.paymentData.paymentId}`,requireInteraction:!0});setTimeout(()=>r.close(),1e4),r.onclick=()=>{console.log("🔔 Payment notification clicked"),r.close()},console.log("✅ Browser notification sent successfully")}else console.log("❌ Browser notification permission denied")}catch(n){console.error("❌ Failed to send browser notification:",n)}}async sendEmailNotification(e){try{const n=`
🏥 PAYMENT NOTIFICATION

A payment has been received:

Patient: ${e.patientName}
Amount: ${e.amount} EGP
Invoice ID: ${e.paymentId}
Payment Method: ${e.method||"Not specified"}
Date: ${new Date().toLocaleString()}

This is an automated notification from your clinic management system.
      `;console.log("📧 Email notification (simulated):"),console.log(n);const r=JSON.parse(localStorage.getItem("clinic_payment_email_log")||"[]");r.unshift({timestamp:new Date().toISOString(),subject:`Payment Received - ${e.paymentId}`,content:n,paymentData:e,status:"sent"}),r.length>10&&r.splice(10),localStorage.setItem("clinic_payment_email_log",JSON.stringify(r)),console.log("✅ Email notification logged")}catch(n){console.error("❌ Failed to send email notification:",n)}}logPaymentNotification(e){const n=JSON.parse(localStorage.getItem("clinic_payment_notifications")||"[]"),r={id:Date.now(),timestamp:new Date().toISOString(),type:"payment_completed",title:"Payment Received",message:`Payment of ${e.amount} EGP received from ${e.patientName}`,paymentData:e,read:!1};n.unshift(r),n.length>50&&n.splice(50),localStorage.setItem("clinic_payment_notifications",JSON.stringify(n)),this.showPaymentAlert(e)}showPaymentAlert(e){`${e.patientName}${e.amount}${e.paymentId}`;const n=document.createElement("div");n.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
      z-index: 10000;
      max-width: 350px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      animation: slideIn 0.3s ease-out;
    `,n.innerHTML=`
      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <span style="font-size: 24px; margin-right: 10px;">💰</span>
        <strong style="font-size: 16px;">Payment Received!</strong>
      </div>
      <div style="font-size: 14px; opacity: 0.9;">
        <div><strong>Patient:</strong> ${e.patientName}</div>
        <div><strong>Amount:</strong> ${e.amount} EGP</div>
        <div><strong>Invoice:</strong> ${e.paymentId}</div>
      </div>
    `,document.body.appendChild(n),setTimeout(()=>{n.parentNode&&(n.style.animation="slideOut 0.3s ease-out",setTimeout(()=>{n.parentNode&&document.body.removeChild(n)},300))},5e3);const r=document.createElement("style");r.textContent=`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.querySelector("#payment-notification-styles")||(r.id="payment-notification-styles",document.head.appendChild(r))}getNotificationHistory(){return JSON.parse(localStorage.getItem("clinic_payment_notifications")||"[]")}getEmailLog(){return JSON.parse(localStorage.getItem("clinic_payment_email_log")||"[]")}async testPaymentNotification(){await this.notifyPaymentCompleted({patientName:"Test Patient",amount:250,paymentId:`TEST-${Date.now()}`,method:"Credit Card"})}};b6(Td,"instance");let om=Td;const AQ="clinic_payments_data",EQ="clinic_payment_settings",aMe="clinic_vat_settings",ip=()=>{try{const t=localStorage.getItem(EQ);if(t){const e=JSON.parse(t);return{...U$,...e}}}catch(t){console.warn("Error loading clinic payment settings:",t)}return U$},rB=t=>{try{localStorage.setItem(EQ,JSON.stringify(t))}catch(e){console.warn("Error saving clinic payment settings:",e)}},Vj=()=>{try{const t=localStorage.getItem(aMe);if(t){const e=JSON.parse(t);return{...jT,...e}}}catch(t){console.warn("Error loading VAT settings:",t)}return jT},rc=()=>{try{const t=localStorage.getItem(AQ);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:[]}}catch(t){console.warn("Error loading payments from storage:",t)}return[]},Av=t=>{try{localStorage.setItem(AQ,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("paymentsUpdated",{detail:{payments:t}}))}catch(e){console.warn("Error saving payments to storage:",e)}},IQ=()=>{const t=Date.now(),e=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`INV-${t}-${e}`},Bj=(t,e)=>t*e/100,dD=(t,e)=>t+Bj(t,e),TQ=t=>ip().appointmentTypes.find(n=>n.type.toLowerCase()===t.toLowerCase())||null,lMe=t=>{try{const e=ip();!t.isCompleted&&e.autoCreatePaymentOnCompletion;const n=TQ(t.appointmentType);!n&&!t.customAmount&&(console.warn(`No cost settings found for appointment type: ${t.appointmentType}`),t.isCompleted&&console.log("Using default amount for completed appointment"));const r=t.customAmount||(n==null?void 0:n.cost)||(t.isCompleted?200:0),i=Vj(),s=(n==null?void 0:n.includeVAT)!==!1&&i.enabled;let a=0,l=r;s&&(a=Bj(r,i.rate),l=dD(r,i.rate));const c=new Date;c.setDate(c.getDate()+e.defaultPaymentDueDays);const d=rc(),f=d.length>0?Math.max(...d.map(x=>x.id))+1:1,p=t.isCompleted?"paid":"pending",m={id:f,invoiceId:IQ(),patient:t.patientName,patientAvatar:t.patientAvatar,doctor:t.doctorName,appointmentId:t.appointmentId.toString(),amount:l,currency:(n==null?void 0:n.currency)||"EGP",date:new Date().toISOString().split("T")[0],dueDate:c.toISOString().split("T")[0],status:p,method:e.defaultPaymentMethod,description:`${t.appointmentType} appointment with Dr. ${t.doctorName} ${t.isCompleted?"(Completed - Auto-paid)":"(Auto-generated)"}`,category:(n==null?void 0:n.category)||t.appointmentType.toLowerCase(),insurance:"No",insuranceAmount:0,paidAmount:t.isCompleted?l:0,includeVAT:s,vatRate:s?i.rate:0,vatAmount:a,totalAmountWithVAT:l,baseAmount:r},y=[...d,m];return Av(y),console.log(`✅ Auto-payment created for appointment ${t.appointmentId} (${p}):`,m),t.isCompleted&&om.getInstance().notifyPaymentCompleted({patientName:m.patient,amount:m.amount,paymentId:m.invoiceId,method:m.method}),m}catch(e){return console.error("Error creating auto-payment for appointment:",e),null}},cMe=(t,e)=>{try{const r=rc().map(i=>i.appointmentId===t.toString()?{...i,status:e}:i);Av(r)}catch(n){console.error("Error updating appointment payment status in payments:",n)}},uMe=async(t,e,n)=>{try{const r=rc(),i=r.findIndex(c=>c.id===t);if(i===-1)return console.error("Payment not found:",t),!1;const s=r[i],a=s.status,l={...s,status:e,paidAmount:n??s.paidAmount};return r[i]=l,Av(r),a!=="paid"&&e==="paid"&&(await om.getInstance().notifyPaymentCompleted({patientName:l.patient,amount:l.amount,paymentId:l.invoiceId,method:l.method}),console.log(`✅ Payment ${l.invoiceId} marked as paid - notification sent`)),l.appointmentId&&cMe(parseInt(l.appointmentId),e),!0}catch(r){return console.error("Error updating payment status:",r),!1}},dMe=async()=>{await om.getInstance().testPaymentNotification()},hMe=t=>{var e;try{const n=ip(),r=TQ(t.type),i=(r==null?void 0:r.cost)||200,s=Vj(),a=(r==null?void 0:r.includeVAT)!==!1&&s.enabled;let l=0,c=i;a&&(l=Bj(i,s.rate),c=dD(i,s.rate));const d=new Date;d.setDate(d.getDate()+n.defaultPaymentDueDays);const f=rc(),p=f.find(I=>{var A;return I.appointmentId===((A=t.id)==null?void 0:A.toString())});if(p)return console.log(`Payment already exists for appointment ${t.id}`),p;const m=f.length>0?Math.max(...f.map(I=>I.id))+1:1,y=t.status==="completed"||t.completed===!0,x=y?"paid":"pending",v={id:m,invoiceId:IQ(),patient:t.patient,patientAvatar:t.patient.split(" ").map(I=>I[0]).join("").toUpperCase(),doctor:t.doctor,appointmentId:((e=t.id)==null?void 0:e.toString())||m.toString(),amount:c,currency:(r==null?void 0:r.currency)||"EGP",date:t.date,dueDate:d.toISOString().split("T")[0],status:x,method:n.defaultPaymentMethod,description:`${t.type} appointment with Dr. ${t.doctor} ${y?"(Completed - Auto-paid)":"(Pending appointment)"}`,category:(r==null?void 0:r.category)||t.type.toLowerCase(),insurance:"No",insuranceAmount:0,paidAmount:y?c:0,includeVAT:a,vatRate:a?s.rate:0,vatAmount:l,totalAmountWithVAT:c,baseAmount:i},b=[...f,v];return Av(b),console.log(`✅ Payment created for appointment ${t.id} (${x}):`,v),y&&om.getInstance().notifyPaymentCompleted({patientName:v.patient,amount:v.amount,paymentId:v.invoiceId,method:v.method}),v}catch(n){return console.error("Error creating payment for appointment:",n),null}},iB=t=>{const e=[];return t.forEach(n=>{const r=hMe(n);r&&e.push(r)}),console.log(`📋 Processed ${t.length} appointments, created ${e.length} payments`),e},fMe=(t,e,n)=>{try{const r=rc(),i=r.findIndex(f=>f.id===t);if(i===-1)return console.error("Payment not found:",t),!1;const s=r[i],a=Vj();let l=0,c=e;s.includeVAT&&a.enabled&&(l=Bj(e,s.vatRate||a.rate),c=dD(e,s.vatRate||a.rate));const d={...s,baseAmount:e,amount:c,vatAmount:l,totalAmountWithVAT:c,paidAmount:n??s.paidAmount};return r[i]=d,Av(r),console.log(`✅ Payment amount updated for ${s.invoiceId}: ${s.amount} → ${c}`),!0}catch(r){return console.error("Error updating payment amount:",r),!1}},kQ="clinic_appointments_data",gh=()=>{try{const t=localStorage.getItem(kQ);if(t){const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e.map(r=>({...r,paymentStatus:r.paymentStatus||"pending"}))}}catch(t){console.warn("Error loading appointments from localStorage:",t)}return Dd()},Ra=t=>{try{e5.save(t,"AppointmentListPage"),Zk()}catch(e){console.warn("Error saving appointments to localStorage:",e)}},pMe=()=>{var vn,zt,mt,It,lt,Zt,Xt,On;const{t}=Dr(),{user:e,loading:n,initialized:r}=ym(),[i,s]=C.useState(0),[a,l]=C.useState(""),[c,d]=C.useState(null),[f,p]=C.useState(!1),[m,y]=C.useState("table"),[x,v]=C.useState(new Date().toISOString().split("T")[0]),[b,I]=C.useState(()=>{try{const G=localStorage.getItem(kQ);if(G){const ve=JSON.parse(G);if(Array.isArray(ve)&&ve.length>0)return console.log("✅ AppointmentListPage: Loaded appointments from localStorage on init:",ve.length),ve.map(Ue=>({...Ue,paymentStatus:Ue.paymentStatus||"pending"}))}}catch(G){console.error("❌ AppointmentListPage: Error loading from localStorage:",G)}return console.log("ℹ️ AppointmentListPage: Using default appointments"),Dd()}),[A,S]=C.useState(!0),[k]=C.useState("15:00"),[P,R]=C.useState({status:"",type:"",priority:"",completed:"",doctor:""}),[E,O]=C.useState(!1),[D,L]=C.useState(!1),[$,B]=C.useState(null),[N,q]=C.useState(null),[Y,ne]=C.useState(null),[Q,ee]=C.useState({patient:"",doctor:"",date:x,time:"",hour:"",minute:"",type:"",duration:25,priority:"normal",location:"",notes:"",phone:"",paymentStatus:"pending"}),[Z,de]=C.useState(()=>{try{const G=localStorage.getItem("clinic_doctor_schedules");if(G){const ve=JSON.parse(G);if(Array.isArray(ve)&&ve.length>0)return console.log("✅ AppointmentListPage: Loaded doctors from localStorage on init:",ve.length),ve}}catch(G){console.error("❌ AppointmentListPage: Error loading doctors from localStorage:",G)}return console.log("ℹ️ AppointmentListPage: Using default doctor schedules"),Jx}),[K,se]=C.useState(()=>{try{const G=localStorage.getItem("clinic_patients_data");if(G){const ve=JSON.parse(G);if(Array.isArray(ve)&&ve.length>0)return console.log("✅ AppointmentListPage: Loaded patients from localStorage on init:",ve.length),ve}}catch(G){console.error("❌ AppointmentListPage: Error loading patients from localStorage:",G)}return[]});C.useEffect(()=>{if(!r||n||!e){console.log("🔄 AppointmentListPage: Waiting for auth initialization...",{initialized:r,authLoading:n,hasUser:!!e});return}console.log("✅ AppointmentListPage: Auth initialized, loading appointment data..."),S(!0);try{const ke=gh();I(ke),CQ();const Ue=$y();se(Ue),console.log("✅ AppointmentListPage: Appointment data loaded successfully")}catch(ke){console.error("❌ AppointmentListPage: Error loading appointment data:",ke)}finally{S(!1)}const G=()=>{p(!0)},ve=()=>{I(Dd()),s(0),l(""),R({status:"",type:"",priority:"",completed:"",doctor:""}),v(new Date().toISOString().split("T")[0]),ee({patient:"",doctor:"",date:new Date().toISOString().split("T")[0],time:"",hour:"",minute:"",type:"",duration:25,priority:"normal",location:"",notes:"",phone:"",paymentStatus:"pending"}),B(null),ne(null),p(!1),O(!1),L(!1),d(null),q(null),y("table"),console.log("✅ Appointments reset to default state")};return window.addEventListener("userDataCleared",ve),window.addEventListener("openAddAppointment",G),()=>{window.removeEventListener("userDataCleared",ve),window.removeEventListener("openAddAppointment",G)}},[r,n,e]),C.useEffect(()=>{const G=H_.listen(ke=>{const Ue=H_.load([]);console.log("🔄 AppointmentListPage: Synced payments from event",Ue.length),window.dispatchEvent(new CustomEvent("appointmentPaymentSync",{detail:{payments:Ue}}))},"AppointmentListPage"),ve=Ly.listen(ke=>{const Ue=Ly.load(Jx);de(Ue),console.log("🔄 AppointmentListPage: Synced doctors from event")},"AppointmentListPage");return PQ(),()=>{G(),ve()}},[]);const le=(G,ve)=>{s(ve)},oe=G=>{const ve=b.find(yt=>yt.id===G);if(!ve)return;const ke=ve.completed,Ue=!ke,it=b.map(yt=>yt.id===G?{...yt,completed:Ue,status:Ue?"completed":"confirmed"}:yt);Ue&&!ke&&Ce(ve),I(it),Ra(it)},ge=()=>{const G=b.filter(it=>it.date===x&&!it.completed).sort((it,yt)=>it.timeSlot.localeCompare(yt.timeSlot));if(G.length===0)return t("no_pending_appointments");const ve=G.reduce((it,yt)=>it+yt.duration,0),ke=new Date(`${x}T${k}`);return new Date(ke.getTime()+ve*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},fe=()=>{const G=[];for(let Ue=15;Ue<20;Ue++)for(let it=0;it<60;it+=20){const yt=`${Ue.toString().padStart(2,"0")}:${it.toString().padStart(2,"0")}`,pn=new Date(`2024-01-01T${yt}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Sn=b.some(sn=>sn.date===x&&sn.timeSlot===yt);G.push({value:yt,label:pn,available:!Sn})}return G},Se=G=>{switch(G){case"high":return"#F59E0B";case"urgent":return"#EF4444";default:return"#6B7280"}},be=()=>{const ve=b.filter(it=>it.date===x&&!it.completed).reduce((it,yt)=>it+yt.duration,0),ke=Math.floor(ve/60),Ue=ve%60;return ke>0?`${ke}${t("hours_short")} ${Ue}${t("minutes_short")} ${t("remaining")}`:`${Ue}${t("minutes_short")} ${t("remaining")}`},ce=(G,ve)=>{R(ke=>({...ke,[G]:ve})),d(null)},We=G=>{var it;B(G);const ve=(it=G.time)==null?void 0:it.match(/(\d{1,2}):(\d{2})\s*(AM|PM)?/i);let ke="",Ue="";ve&&(ke=ve[1],Ue=ve[2],ve[3]&&ve[3].toUpperCase()==="PM"&&ke!=="12"?ke=(parseInt(ke)+12).toString():ve[3]&&ve[3].toUpperCase()==="AM"&&ke==="12"&&(ke="0")),ee({patient:G.patient,doctor:G.doctor,date:G.date,time:G.time,hour:ke,minute:Ue,type:G.type,duration:G.duration,priority:G.priority,location:G.location,notes:G.notes,phone:G.phone,paymentStatus:G.paymentStatus||"pending"}),O(!0)},Fe=G=>{B(G),L(!0)},pe=(G,ve)=>{ve.stopPropagation(),ne(G),q(ve.currentTarget)},$e=G=>{if(!Y)return;const ve=Y.status,ke=b.map(Ue=>Ue.id===Y.id?{...Ue,status:G,completed:G==="completed"}:Ue);G==="completed"&&ve!=="completed"&&Ce(Y),I(ke),Ra(ke),q(null),ne(null)},Ce=G=>{try{console.log(`🏥 Creating paid payment for completed appointment: ${G.id}`);const ve=lMe({appointmentId:G.id,patientName:G.patient,patientAvatar:G.patientAvatar,doctorName:G.doctor,appointmentType:G.type,appointmentDate:G.date,appointmentDuration:G.duration,isCompleted:!0});if(ve){const ke=b.map(Ue=>Ue.id===G.id?{...Ue,paymentStatus:"completed"}:Ue);I(ke),Ra(ke),console.log(`✅ PAID payment of ${ve.amount} ${ve.currency} created for ${G.patient}'s ${G.type} appointment`),console.log(`💰 Payment ${ve.invoiceId} is now showing as PAID in Payment Management`),window.dispatchEvent(new CustomEvent("appointmentCompletedWithPayment",{detail:{appointment:G,payment:ve,revenue:ve.amount}}))}else console.warn(`❌ Failed to create payment for completed appointment: ${G.id}`)}catch(ve){console.error("Error handling appointment completion:",ve)}},Je=()=>{if(!Q.patient||!Q.doctor||!Q.date||!Q.time){alert(t("fill_required_fields"));return}let G;const ve=Q.hour&&Q.minute?`${Q.hour.padStart(2,"0")}:${Q.minute.padStart(2,"0")}`:Q.time;if($)G=b.map(ke=>ke.id===$.id?{...ke,...Q,timeSlot:ve,patientAvatar:ke.patient===Q.patient?ke.patientAvatar:Q.patient.split(" ").map(Ue=>Ue[0]).join("").toUpperCase()}:ke),O(!1);else{const ke={id:b.length>0?Math.max(...b.map(Ue=>Ue.id))+1:1,patient:Q.patient,patientAvatar:Q.patient.split(" ").map(Ue=>Ue[0]).join("").toUpperCase(),date:Q.date,time:Q.time,timeSlot:ve,duration:Q.duration,doctor:Q.doctor,type:Q.type,status:"confirmed",location:Q.location||"TBD",phone:Q.phone,notes:Q.notes,completed:!1,priority:Q.priority,paymentStatus:Q.paymentStatus||"pending",createdAt:new Date().toISOString()};G=[...b,ke],p(!1)}I(G),Ra(G),ee({patient:"",doctor:"",date:x,time:"",hour:"",minute:"",type:"",duration:25,priority:"normal",location:"",notes:"",phone:"",paymentStatus:"pending"}),B(null)},ht=()=>{R({status:"",type:"",priority:"",completed:"",doctor:""}),l(""),d(null)},Xe=()=>Object.values(P).filter(G=>G!=="").length+(a?1:0),Lt=G=>{switch(G){case"confirmed":return"success";case"pending":return"warning";case"completed":return"info";case"cancelled":return"error";case"rescheduled":return"info";case"no-show":return"secondary";default:return"default"}},jt=G=>{switch(G){case"confirmed":return o.jsx(zr,{fontSize:"small"});case"pending":return o.jsx(nl,{fontSize:"small"});case"completed":return o.jsx(zr,{fontSize:"small"});case"cancelled":return o.jsx(du,{fontSize:"small"});case"rescheduled":return o.jsx(Sr,{fontSize:"small"});case"no-show":return o.jsx(du,{fontSize:"small"});default:return o.jsx(Sr,{fontSize:"small"})}},Mt=G=>{switch(G){case"completed":return"success";case"partial":return"warning";case"failed":return"error";case"pending":default:return"default"}},Qe=(()=>{let G=b.filter(ve=>{const ke=a===""||ve.patient.toLowerCase().includes(a.toLowerCase())||ve.doctor.toLowerCase().includes(a.toLowerCase())||ve.type.toLowerCase().includes(a.toLowerCase())||ve.phone.toLowerCase().includes(a.toLowerCase()),Ue=P.status===""||ve.status===P.status,it=P.type===""||ve.type.toLowerCase().includes(P.type.toLowerCase()),yt=P.priority===""||ve.priority===P.priority,pn=P.completed===""||P.completed==="completed"&&ve.completed||P.completed==="pending"&&!ve.completed,Sn=P.doctor===""||ve.doctor.toLowerCase().includes(P.doctor.toLowerCase());return ke&&Ue&&it&&yt&&pn&&Sn});switch(i){case 1:G=G.filter(ve=>ve.date===x);break;case 2:G=G.filter(ve=>!ve.completed);break;case 3:G=G.filter(ve=>ve.completed);break;case 4:G=G.filter(ve=>ve.status==="confirmed");break;case 5:G=G.filter(ve=>ve.status==="pending");break;case 6:G=G.filter(ve=>ve.status==="cancelled");break;case 7:G=G.filter(ve=>ve.status==="rescheduled");break;case 8:G=G.filter(ve=>ve.status==="no-show");break}return G})(),at=b.filter(G=>G.date===x).sort((G,ve)=>G.timeSlot.localeCompare(ve.timeSlot));b.filter(G=>new Date(G.date)>new Date(x));const Tt=at.filter(G=>G.completed).length;return at.filter(G=>!G.completed).length,A?o.jsx(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Loading appointment data..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we load your appointment information"})]})}):o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.25)"},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",gap:{xs:3,md:0},position:"relative",zIndex:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,sm:56,md:64},height:{xs:48,sm:56,md:64},borderRadius:{xs:"16px",md:"20px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:{xs:2,sm:2.5,md:3},backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",flexShrink:0},children:o.jsx(En,{sx:{fontSize:{xs:24,sm:28,md:32},color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:{xs:.5,md:1},textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("appointment_management")}),o.jsxs(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",sm:"1.1rem",md:"1.25rem"}},children:["🩺 ",t("comprehensive_appointment_scheduling")]})]})]}),o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1.5,sm:2},width:{xs:"100%",md:"auto"}},children:[o.jsx(me,{variant:"contained",startIcon:o.jsx(hC,{}),onClick:()=>v(new Date().toISOString().split("T")[0]),sx:{borderRadius:3,backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:600,px:{xs:2,sm:3},py:{xs:1,sm:1.5},backdropFilter:"blur(10px)",fontSize:{xs:"0.8rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.25)"},transition:"all 0.3s ease"},children:t("todays_schedule")}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:()=>p(!0),sx:{borderRadius:{xs:2,md:3},backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",fontWeight:700,px:{xs:3,sm:4},py:{xs:1.5,sm:1.5},minHeight:{xs:48,md:"auto"},backdropFilter:"blur(10px)",fontSize:{xs:"0.875rem",sm:"0.875rem"},"&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255,255,255,0.2)"},transition:"all 0.3s ease"},children:t("schedule_new_appointment")})]})]}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}}),o.jsx(T,{sx:{position:"absolute",bottom:-30,left:-30,width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.05)",zIndex:1}})]}),o.jsx(Ve,{sx:{mb:4,background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:4,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",position:"relative",overflow:"hidden"},children:o.jsxs(st,{sx:{p:4,position:"relative",zIndex:2},children:[o.jsxs(w,{variant:"h5",sx:{fontWeight:700,mb:3,color:"text.primary"},children:["📊 ",t("appointment_statistics")]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"primary.main",mb:.5},children:`${Tt}/${at.length}`}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("todays_progress")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"success.main",mb:.5},children:t("doctor hours display")}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("doctor_hours")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"warning.main",mb:.5},children:b.filter(G=>G.status==="confirmed").length}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("confirmed_today")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"info.main",mb:.5},children:fe().filter(G=>G.available).length}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontWeight:600},children:t("available_slots")})]})})]})]})}),o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",mb:4},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,borderBottom:1,borderColor:"divider",background:"linear-gradient(135deg, #fafbfc 0%, #f0f2f5 100%)"},children:o.jsxs(V,{container:!0,spacing:2,alignItems:"center",children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(Pe,{fullWidth:!0,placeholder:t("search_appointments_placeholder"),value:a,onChange:G=>l(G.target.value),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(K1,{sx:{color:"primary.main",fontSize:24}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:4,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",border:"2px solid transparent",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 32px rgba(0,0,0,0.15)",transform:"translateY(-1px)"},"&.Mui-focused":{border:"2px solid #667eea",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.2)"}},"& .MuiInputBase-input":{padding:"16px 14px",fontSize:"1rem",fontWeight:500}}}),Xe()>0&&o.jsxs(T,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:[a&&o.jsx(Ke,{label:`${t("search")}: "${a}"`,size:"small",onDelete:()=>l(""),color:"primary",variant:"outlined"}),Object.entries(P).map(([G,ve])=>ve&&o.jsx(Ke,{label:`${t(G)}: ${t(ve)}`,size:"small",onDelete:()=>ce(G,""),color:"primary",variant:"outlined"},G))]})]}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[o.jsx(Pe,{type:"date",value:x,onChange:G=>v(G.target.value),size:"small"}),o.jsxs(me,{variant:"outlined",startIcon:o.jsx(bs,{}),onClick:G=>d(G.currentTarget),sx:{borderRadius:3,fontWeight:600,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",minWidth:120,"&:hover":{transform:"translateY(-1px)",boxShadow:"0 8px 32px rgba(0,0,0,0.15)"},transition:"all 0.3s ease",...Xe()>0&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)",transform:"translateY(-1px)",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"}}},children:["🔽 ",t("filter"),Xe()>0&&o.jsx(Ke,{label:Xe(),size:"small",sx:{ml:1,height:20,backgroundColor:"rgba(255,255,255,0.9)",color:"primary.main",fontSize:"0.75rem",fontWeight:700}})]}),o.jsxs(T,{sx:{display:"flex",gap:1,p:1.5,backgroundColor:"white",borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)"},children:[o.jsx(me,{size:"small",variant:m==="table"?"contained":"outlined",onClick:()=>y("table"),startIcon:o.jsx(Wwe,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...m==="table"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("table")}),o.jsx(me,{size:"small",variant:m==="cards"?"contained":"outlined",onClick:()=>y("cards"),startIcon:o.jsx(Fwe,{}),sx:{borderRadius:2,fontWeight:600,fontSize:"0.8rem",px:2,minWidth:"fit-content",...m==="cards"&&{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:t("cards")})]})]})})]})}),(Xe()>0||a)&&o.jsx(T,{sx:{px:4,py:3,background:"linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderBottom:1,borderColor:"divider",borderRadius:"0 0 16px 16px"},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(T,{sx:{width:32,height:32,borderRadius:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:o.jsx(K1,{sx:{fontSize:18}})}),o.jsxs(w,{variant:"body1",sx:{fontWeight:600,color:"text.primary"},children:[t("showing_appointments",{showing:Qe.length,total:b.length}),Xe()>0&&` ${t("with_filters_applied",{count:Xe()})}`]})]})}),o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:4},children:o.jsxs(_l,{value:i,onChange:le,variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"0.95rem",minWidth:"auto",padding:"12px 16px",borderRadius:"8px 8px 0 0",margin:"0 2px","&.Mui-selected":{color:"white",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},"&:hover":{backgroundColor:"rgba(102, 126, 234, 0.1)"}},"& .MuiTabs-indicator":{height:4,borderRadius:"4px 4px 0 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},"& .MuiTabs-scrollButtons":{color:"primary.main"}},children:[o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(En,{fontSize:"small"}),o.jsx("span",{children:t("all")}),o.jsx(Ke,{label:b.length,size:"small",color:"primary",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(hC,{fontSize:"small"}),o.jsx("span",{children:t("today")}),o.jsx(Ke,{label:b.filter(G=>G.date===x).length,size:"small",color:"info",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(nl,{fontSize:"small"}),o.jsx("span",{children:t("pending")}),o.jsx(Ke,{label:b.filter(G=>!G.completed).length,size:"small",color:"warning",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(zr,{fontSize:"small"}),o.jsx("span",{children:t("completed")}),o.jsx(Ke,{label:b.filter(G=>G.completed).length,size:"small",color:"success",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(zr,{fontSize:"small"}),o.jsx("span",{children:t("confirmed")}),o.jsx(Ke,{label:b.filter(G=>G.status==="confirmed").length,size:"small",color:"success",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(nl,{fontSize:"small"}),o.jsx("span",{children:t("pending_confirmation")}),o.jsx(Ke,{label:b.filter(G=>G.status==="pending").length,size:"small",color:"warning",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(du,{fontSize:"small"}),o.jsx("span",{children:t("cancelled")}),o.jsx(Ke,{label:b.filter(G=>G.status==="cancelled").length,size:"small",color:"error",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Sr,{fontSize:"small"}),o.jsx("span",{children:t("rescheduled")}),o.jsx(Ke,{label:b.filter(G=>G.status==="rescheduled").length,size:"small",color:"info",sx:{height:20,fontSize:"0.75rem"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(du,{fontSize:"small"}),o.jsx("span",{children:t("no_show")}),o.jsx(Ke,{label:b.filter(G=>G.status==="no-show").length,size:"small",color:"secondary",sx:{height:20,fontSize:"0.75rem"}})]})})]})}),m==="table"&&o.jsx(T,{sx:{py:3},children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:"✓"}),o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("time_duration")}),o.jsx(ae,{sx:{fontWeight:600},children:t("type")}),o.jsx(ae,{sx:{fontWeight:600},children:t("priority")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment_status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("actions")})]})}),o.jsx(xi,{children:Qe.length===0&&Xe()>0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:8,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(bs,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t("no_appointments_match_filters")}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t("try_adjusting_search_criteria")}),o.jsx(me,{variant:"outlined",onClick:ht,startIcon:o.jsx(bs,{}),children:t("clear_all_filters")})]})})}):Qe.length===0?o.jsx(Qt,{children:o.jsx(ae,{colSpan:8,sx:{textAlign:"center",py:6},children:o.jsxs(T,{children:[o.jsx(En,{sx:{fontSize:48,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:1},children:t(i===1?"no_appointments_today":i===2?"no_pending_appointments":i===3?"no_completed_appointments":i===4?"no_confirmed_appointments":i===5?"no_pending_confirmation_appointments":i===6?"no_cancelled_appointments":i===7?"no_rescheduled_appointments":i===8?"no_no_show_appointments":"no_appointments_found")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t(i===1?"schedule_appointments_today":i===2?"all_appointments_completed_confirmed":i===3?"complete_appointments_to_see_here":i===4?"no_confirmed_status_yet":i===5?"all_appointments_confirmed":i===6?"no_appointments_cancelled":i===7?"no_appointments_rescheduled":i===8?"no_patients_missed_appointments":"schedule_first_appointment")})]})})}):Qe.map(G=>o.jsxs(Qt,{hover:!0,sx:{opacity:G.completed?.6:1,backgroundColor:G.completed?"#f8f9fa":"inherit",borderLeft:`4px solid ${Se(G.priority)}`},children:[o.jsx(ae,{children:o.jsx(Ze,{title:G.completed?t("mark_as_pending"):t("mark_as_completed"),children:o.jsx(qe,{size:"small",onClick:()=>oe(G.id),sx:{color:G.completed?"success.main":"text.secondary","&:hover":{backgroundColor:G.completed?"success.light":"primary.light",color:G.completed?"success.dark":"primary.main"}},children:o.jsx(zr,{fontSize:"small"})})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:G.patientAvatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,sx:{textDecoration:G.completed?"line-through":"none",color:G.completed?"text.secondary":"text.primary"},children:G.patient}),o.jsx(w,{variant:"caption",color:"text.secondary",children:G.phone})]})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,color:"primary.main",children:G.time}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[G.duration," ",t("minutes")]})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:t(G.type.toLowerCase().replace(/\s+/g,"_"))})}),o.jsx(ae,{children:o.jsx(Ke,{label:t(G.priority),size:"small",variant:"outlined",sx:{borderColor:Se(G.priority),color:Se(G.priority)}})}),o.jsx(ae,{children:o.jsx(Ke,{label:t(G.paymentStatus||"pending"),size:"small",variant:"filled",color:Mt(G.paymentStatus||"pending"),sx:{minWidth:80,fontWeight:600,textTransform:"capitalize"}})}),o.jsx(ae,{children:o.jsx(Ze,{title:t("click_to_change_status"),arrow:!0,children:o.jsx(Ke,{icon:jt(G.status),label:t(G.completed?"completed":G.status),color:G.completed?"success":Lt(G.status),size:"small",variant:"outlined",onClick:ve=>pe(G,ve),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:t("view_notes"),children:o.jsx(qe,{size:"small",color:"primary",onClick:ve=>{ve.stopPropagation(),Fe(G)},children:o.jsx(Ps,{fontSize:"small"})})}),o.jsx(Ze,{title:t("edit_appointment"),children:o.jsx(qe,{size:"small",color:"primary",onClick:ve=>{ve.stopPropagation(),We(G)},children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:t("whatsapp_patient"),children:o.jsx(qe,{size:"small",sx:{color:"#25D366"},onClick:ve=>{ve.stopPropagation();const ke=t("whatsapp_reminder_message",{patient:G.patient,type:G.type,time:G.time}),Ue=G.phone.replace(/\D/g,"");window.open(`https://wa.me/${Ue}?text=${encodeURIComponent(ke)}`,"_blank")},children:o.jsx(Zb,{fontSize:"small"})})})]})})]},G.id))})]})})}),m==="cards"&&o.jsx(T,{sx:{py:3},children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:Qe.length===0&&Xe()>0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(bs,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:t("no_appointments_match_filters")}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:t("try_adjusting_search_criteria")}),o.jsx(me,{variant:"contained",onClick:ht,startIcon:o.jsx(bs,{}),children:t("clear_all_filters")})]})}):Qe.length===0?o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:6,textAlign:"center"},children:[o.jsx(En,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",color:"text.secondary",sx:{mb:1},children:t(i===1?"no_appointments_today":i===2?"no_pending_appointments":i===3?"no_completed_appointments":i===4?"no_confirmed_appointments":i===5?"no_pending_confirmation_appointments":i===6?"no_cancelled_appointments":i===7?"no_rescheduled_appointments":i===8?"no_no_show_appointments":"no_appointments_found")}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:3},children:t(i===1?"schedule_appointments_today":i===2?"all_appointments_completed_confirmed":i===3?"complete_appointments_to_see_here":i===4?"no_confirmed_status_yet":i===5?"all_appointments_confirmed":i===6?"no_appointments_cancelled":i===7?"no_appointments_rescheduled":i===8?"no_patients_missed_appointments":"schedule_first_appointment")}),o.jsx(me,{variant:"contained",onClick:()=>p(!0),startIcon:o.jsx(rr,{}),sx:{minHeight:{xs:48,md:"auto"},px:{xs:3,md:4},py:{xs:1.5,md:2},fontSize:{xs:"0.9rem",md:"1rem"},borderRadius:{xs:2,md:1}},children:t("schedule_appointment")})]})}):Qe.map(G=>o.jsx(V,{item:!0,xs:12,sm:6,md:6,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4},border:G.status==="pending"?"2px solid #F59E0B":"none"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:50,height:50,mr:2,backgroundColor:"primary.main"},children:G.patientAvatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5},children:G.patient}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t(G.type.toLowerCase().replace(/\s+/g,"_"))})]})]}),o.jsx(Ze,{title:t("click_to_change_status"),arrow:!0,children:o.jsx(Ke,{icon:jt(G.status),label:t(G.status),color:Lt(G.status),size:"small",variant:"outlined",onClick:ve=>pe(G,ve),sx:{cursor:"pointer","&:hover":{backgroundColor:"primary.light",transform:"scale(1.05)"},transition:"all 0.2s ease"}})})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:6,children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(En,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),o.jsx(w,{variant:"body2",color:"text.secondary",children:G.date})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(nl,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),o.jsx(w,{variant:"body2",color:"primary.main",fontWeight:600,children:G.time})]})]}),o.jsxs(V,{item:!0,xs:6,children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(Lr,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),o.jsx(w,{variant:"body2",color:"text.secondary",children:G.doctor})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(eK,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),o.jsx(w,{variant:"body2",color:"text.secondary",children:G.location})]})]})]}),G.notes&&o.jsx(T,{sx:{mt:2,p:2,backgroundColor:"grey.50",borderRadius:2},children:o.jsxs(w,{variant:"caption",color:"text.secondary",children:[t("notes"),": ",G.notes]})}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(Ze,{title:G.completed?t("mark_as_pending"):t("mark_as_completed"),children:o.jsx(qe,{size:"small",onClick:()=>oe(G.id),sx:{color:G.completed?"success.main":"text.secondary","&:hover":{backgroundColor:"primary.light"}},children:o.jsx(zr,{fontSize:"small"})})}),o.jsx(me,{size:"small",startIcon:o.jsx(Zb,{}),sx:{color:"#25D366"},onClick:ve=>{ve.stopPropagation();const ke=t("whatsapp_reminder_message",{patient:G.patient,type:G.type,time:G.time}),Ue=G.phone.replace(/\D/g,"");window.open(`https://wa.me/${Ue}?text=${encodeURIComponent(ke)}`,"_blank")},children:t("whatsapp")})]}),o.jsx(Ke,{label:t(G.priority),size:"small",variant:"outlined",sx:{borderColor:Se(G.priority),color:Se(G.priority)}})]})]})})},G.id))})})]})}),o.jsxs(V,{container:!0,spacing:4,children:[o.jsx(V,{item:!0,xs:12,md:8,children:o.jsxs(Ve,{sx:{borderRadius:3,boxShadow:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:0,right:0,width:100,height:100,background:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(30px, -30px)"}}),o.jsxs(st,{sx:{p:4,position:"relative",zIndex:1},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(hC,{sx:{fontSize:32}}),o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700,mb:.5},children:t("todays_schedule")}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("appointments_finishing_at",{count:at.length,time:ge()})})]})]}),o.jsx(Ke,{label:t("done_count",{completed:Tt,total:at.length}),sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontWeight:600}})]}),at.length===0?o.jsxs(T,{sx:{textAlign:"center",py:4},children:[o.jsx(En,{sx:{fontSize:48,mb:2,opacity:.7}}),o.jsx(w,{variant:"h6",sx:{mb:1,opacity:.9},children:t("no_appointments_today")}),o.jsx(w,{variant:"body2",sx:{opacity:.7,mb:3},children:t("enjoy_free_day_or_schedule")}),o.jsxs(T,{sx:{display:"flex",gap:{xs:1.5,md:2},justifyContent:"center",flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"},alignItems:"center"},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(rr,{}),onClick:()=>p(!0),sx:{color:"white",borderColor:"rgba(255,255,255,0.5)",minHeight:48,px:{xs:3,md:3},py:{xs:1.5,md:1.5},fontSize:{xs:"0.9rem",md:"1rem"},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"280px",sm:"none"},borderRadius:3,fontWeight:600,minWidth:{xs:"auto",sm:120},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:t("schedule")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(Lr,{}),onClick:()=>window.location.href="/patients",sx:{color:"white",borderColor:"rgba(255,255,255,0.5)",minHeight:{xs:48,md:"auto"},px:{xs:3,md:2},py:{xs:1.5,md:1},fontSize:{xs:"0.9rem",md:"1rem"},width:{xs:"100%",sm:"auto"},maxWidth:{xs:"280px",sm:"none"},borderRadius:{xs:2,md:1},"&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:t("patients")})]})]}):o.jsxs(T,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[at.slice(0,3).map(G=>o.jsx(Ve,{sx:{minWidth:200,backgroundColor:"rgba(255,255,255,0.15)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",cursor:"pointer","&:hover":{backgroundColor:"rgba(255,255,255,0.25)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},onClick:ve=>pe(G,ve),children:o.jsxs(st,{sx:{p:2,color:"white"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(dn,{sx:{width:24,height:24,mr:1,fontSize:"0.75rem"},children:G.patientAvatar}),o.jsx(w,{variant:"body2",fontWeight:600,children:G.patient})]}),o.jsxs(w,{variant:"caption",sx:{opacity:.9,display:"block"},children:[G.time," • ",t(G.type.toLowerCase().replace(/\s+/g,"_"))]}),o.jsxs(T,{sx:{mt:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(Ke,{size:"small",label:t(G.status),sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontSize:"0.65rem"}}),G.completed&&o.jsx(zr,{sx:{fontSize:16,color:"#4CAF50"}})]})]})},G.id)),at.length>3&&o.jsx(Ve,{sx:{minWidth:120,backgroundColor:"rgba(255,255,255,0.1)",border:"2px dashed rgba(255,255,255,0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(255,255,255,0.15)"}},children:o.jsxs(st,{sx:{textAlign:"center",color:"white"},children:[o.jsxs(w,{variant:"h6",fontWeight:700,children:["+",at.length-3]}),o.jsx(w,{variant:"caption",sx:{opacity:.8},children:t("more_appointments")})]})})]})]})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{borderRadius:3,boxShadow:3,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",height:"100%",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",bottom:0,left:0,width:80,height:80,background:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(-20px, 20px)"}}),o.jsxs(st,{sx:{p:4,position:"relative",zIndex:1},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx(ty,{sx:{fontSize:28,mr:2}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("performance_today")})]}),o.jsxs(T,{sx:{mb:3},children:[o.jsxs(w,{variant:"h2",sx:{fontWeight:800,mb:.5},children:[Math.round(Tt/(at.length||1)*100),"%"]}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("completion_rate")})]}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("completed")}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[Tt,"/",at.length]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("time_remaining")}),o.jsx(w,{variant:"body2",fontWeight:600,children:be().split(" remaining")[0]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t("avg_duration")}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[Math.round(b.reduce((G,ve)=>G+ve.duration,0)/b.length)," ",t("min")]})]})]})]})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:3,boxShadow:3},children:o.jsxs(st,{sx:{p:4},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:3,display:"flex",alignItems:"center",gap:1},children:[o.jsx(fwe,{sx:{color:"primary.main"}}),t("clinic_analytics_overview")]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{p:3,borderRadius:2,backgroundColor:"#E3F2FD",textAlign:"center",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:60,height:60,background:"rgba(25, 118, 210, 0.1)",borderRadius:"50%"}}),o.jsx(En,{sx:{fontSize:32,color:"#1976D2",mb:1}}),o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"#1976D2",mb:.5},children:b.length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("total_appointments")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{p:3,borderRadius:2,backgroundColor:"#E8F5E8",textAlign:"center",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:60,height:60,background:"rgba(46, 125, 50, 0.1)",borderRadius:"50%"}}),o.jsx(zr,{sx:{fontSize:32,color:"#2E7D32",mb:1}}),o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"#2E7D32",mb:.5},children:b.filter(G=>G.completed).length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("completed")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{p:3,borderRadius:2,backgroundColor:"#FFF3E0",textAlign:"center",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:60,height:60,background:"rgba(245, 124, 0, 0.1)",borderRadius:"50%"}}),o.jsx(As,{sx:{fontSize:32,color:"#F57C00",mb:1}}),o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"#F57C00",mb:.5},children:b.filter(G=>G.status==="pending").length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("pending_confirmation")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsxs(T,{sx:{p:3,borderRadius:2,backgroundColor:"#FCE4EC",textAlign:"center",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:60,height:60,background:"rgba(194, 24, 91, 0.1)",borderRadius:"50%"}}),o.jsx(ty,{sx:{fontSize:32,color:"#C2185B",mb:1}}),o.jsx(w,{variant:"h4",sx:{fontWeight:800,color:"#C2185B",mb:.5},children:b.filter(G=>G.priority==="high"||G.priority==="urgent").length}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("high_priority")})]})})]})]})})})]}),o.jsxs(bl,{anchorEl:c,open:!!c,onClose:()=>d(null),PaperProps:{sx:{minWidth:280,maxHeight:500}},children:[o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("filter_appointments")}),Xe()>0&&o.jsx(me,{size:"small",color:"primary",onClick:ht,children:t("clear_all")})]}),Xe()>0&&o.jsx(w,{variant:"caption",color:"text.secondary",children:t("filters_active_results",{count:Xe(),results:Qe.length})})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("appointment_status")}),o.jsx(ye,{onClick:()=>ce("status",""),selected:P.status==="",dense:!0,children:t("all_statuses")}),o.jsx(ye,{onClick:()=>ce("status","confirmed"),selected:P.status==="confirmed",dense:!0,children:t("confirmed")}),o.jsx(ye,{onClick:()=>ce("status","pending"),selected:P.status==="pending",dense:!0,children:t("pending")}),o.jsx(ye,{onClick:()=>ce("status","cancelled"),selected:P.status==="cancelled",dense:!0,children:t("cancelled")}),o.jsx(ye,{onClick:()=>ce("status","rescheduled"),selected:P.status==="rescheduled",dense:!0,children:t("rescheduled")}),o.jsx(ye,{onClick:()=>ce("status","no-show"),selected:P.status==="no-show",dense:!0,children:t("no_show")})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("progress_status")}),o.jsx(ye,{onClick:()=>ce("completed",""),selected:P.completed==="",dense:!0,children:t("all_progress")}),o.jsxs(ye,{onClick:()=>ce("completed","completed"),selected:P.completed==="completed",dense:!0,children:["✅ ",t("completed")]}),o.jsxs(ye,{onClick:()=>ce("completed","pending"),selected:P.completed==="pending",dense:!0,children:["⏱️ ",t("pending")]})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("appointment_type")}),o.jsx(ye,{onClick:()=>ce("type",""),selected:P.type==="",dense:!0,children:t("all_types")}),o.jsx(ye,{onClick:()=>ce("type","Consultation"),selected:P.type==="Consultation",dense:!0,children:t("consultation")}),o.jsx(ye,{onClick:()=>ce("type","Check-up"),selected:P.type==="Check-up",dense:!0,children:t("check_up")}),o.jsx(ye,{onClick:()=>ce("type","Follow-up"),selected:P.type==="Follow-up",dense:!0,children:t("follow_up")}),o.jsx(ye,{onClick:()=>ce("type","Surgery"),selected:P.type==="Surgery",dense:!0,children:t("surgery_consultation")})]}),o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("priority_level")}),o.jsx(ye,{onClick:()=>ce("priority",""),selected:P.priority==="",dense:!0,children:t("all_priorities")}),o.jsxs(ye,{onClick:()=>ce("priority","normal"),selected:P.priority==="normal",dense:!0,children:["🟢 ",t("normal")]}),o.jsxs(ye,{onClick:()=>ce("priority","high"),selected:P.priority==="high",dense:!0,children:["🟡 ",t("high_priority")]}),o.jsxs(ye,{onClick:()=>ce("priority","urgent"),selected:P.priority==="urgent",dense:!0,children:["🔴 ",t("urgent")]})]}),o.jsxs(T,{sx:{p:2},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("doctor")}),o.jsx(ye,{onClick:()=>ce("doctor",""),selected:P.doctor==="",dense:!0,children:t("all_doctors")}),Z.map(G=>o.jsx(ye,{onClick:()=>ce("doctor",G.name),selected:P.doctor===G.name,dense:!0,children:G.name},G.id))]})]}),o.jsxs(In,{open:f||E,onClose:()=>{p(!1),O(!1),B(null)},maxWidth:"lg",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(En,{sx:{color:"primary.main"}}),o.jsx(w,{variant:"h6",children:t($?"edit_appointment":"schedule_new_appointment")})]})}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("patient_name")}),o.jsxs(yn,{label:t("patient_name"),value:K.find(G=>G.name===Q.patient)?Q.patient:"custom",onChange:G=>{if(G.target.value==="custom")ee(ve=>({...ve,patient:"",phone:""}));else{const ve=K.find(ke=>ke.name===G.target.value);ee(ke=>({...ke,patient:G.target.value,phone:(ve==null?void 0:ve.phone)||ke.phone}))}},children:[o.jsx(ye,{value:"custom",children:o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:1,color:"primary.main"},children:o.jsx(rr,{fontSize:"small"})})}),K.map(G=>o.jsx(ye,{value:G.name,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(dn,{sx:{width:32,height:32,fontSize:"0.75rem"},children:G.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",children:G.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[G.phone," • ",G.condition]})]})]})},G.id))]})]})}),!K.find(G=>G.name===Q.patient)&&o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("enter_patient_name"),value:Q.patient,onChange:G=>ee(ve=>({...ve,patient:G.target.value})),placeholder:t("type_patient_name_here"),required:!0,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"👤"})},helperText:t("enter_new_patient_name_helper")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("phone_number"),value:Q.phone,onChange:G=>ee(ve=>({...ve,phone:G.target.value})),placeholder:t("phone_placeholder"),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"📞"})}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("doctor")}),o.jsx(yn,{label:t("doctor"),value:Q.doctor,onChange:G=>ee(ve=>({...ve,doctor:G.target.value})),children:Z.map(G=>{var ve,ke;return o.jsx(ye,{value:G.name,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(dn,{sx:{width:32,height:32,backgroundColor:"primary.main"},children:G.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:G.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[G.specialty," • ",((ve=G.workingHours)==null?void 0:ve.start)||"09:00"," - ",((ke=G.workingHours)==null?void 0:ke.end)||"17:00"]})]})]})},G.id)})})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("appointment_date"),type:"date",value:Q.date,onChange:G=>ee(ve=>({...ve,date:G.target.value})),InputLabelProps:{shrink:!0},inputProps:{min:new Date().toISOString().split("T")[0]}})}),o.jsx(V,{item:!0,xs:12,md:3,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("hour")}),o.jsx(yn,{label:t("hour"),value:Q.hour,onChange:G=>{const ve=G.target.value,ke=Q.minute;let Ue="";if(ve&&ke){const it=parseInt(ve),yt=it>12?it-12:it===0?12:it,pn=it>=12?"PM":"AM";Ue=`${yt}:${ke} ${pn}`}ee(it=>({...it,hour:G.target.value,time:Ue}))},children:Array.from({length:24},(G,ve)=>o.jsxs(ye,{value:ve.toString().padStart(2,"0"),children:[ve.toString().padStart(2,"0"),":00 (",ve<12?"AM":"PM",")"]},ve))})]})}),o.jsx(V,{item:!0,xs:12,md:3,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("minutes")}),o.jsx(yn,{label:t("minutes"),value:Q.minute,onChange:G=>{const ve=Q.hour,ke=G.target.value;let Ue="";if(ve&&ke){const it=parseInt(ve),yt=it>12?it-12:it===0?12:it,pn=it>=12?"PM":"AM";Ue=`${yt}:${ke} ${pn}`}ee(it=>({...it,minute:G.target.value,time:Ue}))},children:["00","15","30","45"].map(G=>o.jsx(ye,{value:G,children:G},G))})]})}),Q.time&&o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(Zn,{severity:"info",sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(nl,{fontSize:"small"}),o.jsxs(w,{variant:"body2",children:[t("selected_time"),": ",o.jsx("strong",{children:Q.time})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("appointment_type")}),o.jsxs(yn,{label:t("appointment_type"),value:Q.type,onChange:G=>ee(ve=>({...ve,type:G.target.value})),children:[o.jsx(ye,{value:"Consultation",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Cu,{fontSize:"small",color:"primary"}),t("consultation")]})}),o.jsx(ye,{value:"Check-up",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(li,{fontSize:"small",color:"info"}),t("check_up")]})}),o.jsx(ye,{value:"Follow-up",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Sr,{fontSize:"small",color:"warning"}),t("follow_up")]})}),o.jsx(ye,{value:"Surgery Consultation",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(pl,{fontSize:"small",color:"error"}),t("surgery_consultation")]})}),o.jsx(ye,{value:"Emergency",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(As,{fontSize:"small",color:"error"}),t("emergency")]})})]})]})}),o.jsx(V,{item:!0,xs:12,md:3,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("duration")}),o.jsxs(yn,{label:t("duration"),value:Q.duration,onChange:G=>ee(ve=>({...ve,duration:Number(G.target.value)})),children:[o.jsx(ye,{value:15,children:t("duration_minutes",{minutes:15})}),o.jsx(ye,{value:20,children:t("duration_minutes",{minutes:20})}),o.jsx(ye,{value:25,children:t("duration_minutes",{minutes:25})}),o.jsx(ye,{value:30,children:t("duration_minutes",{minutes:30})}),o.jsx(ye,{value:45,children:t("duration_minutes",{minutes:45})}),o.jsx(ye,{value:60,children:t("duration_hour",{hours:1})})]})]})}),o.jsx(V,{item:!0,xs:12,md:3,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("priority")}),o.jsxs(yn,{label:t("priority"),value:Q.priority,onChange:G=>ee(ve=>({...ve,priority:G.target.value})),children:[o.jsx(ye,{value:"normal",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🟢 ",t("normal")]})}),o.jsx(ye,{value:"high",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🟡 ",t("high_priority")]})}),o.jsx(ye,{value:"urgent",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🔴 ",t("urgent")]})})]})]})}),o.jsx(V,{item:!0,xs:12,md:3,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("payment_status")}),o.jsxs(yn,{label:t("payment_status"),value:Q.paymentStatus||"pending",onChange:G=>ee(ve=>({...ve,paymentStatus:G.target.value})),children:[o.jsx(ye,{value:"pending",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🟡 ",t("pending")]})}),o.jsx(ye,{value:"completed",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🟢 ",t("completed")]})}),o.jsx(ye,{value:"partial",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🟠 ",t("partial")]})}),o.jsx(ye,{value:"failed",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:["🔴 ",t("failed")]})})]})]})}),Q.doctor&&o.jsx(V,{item:!0,xs:12,children:o.jsx(Zn,{severity:"info",sx:{mt:1},children:o.jsxs(w,{variant:"body2",children:[o.jsxs("strong",{children:["📅 ",t("doctor_schedule"),":"]})," ",((zt=(vn=Z.find(G=>G.name===Q.doctor))==null?void 0:vn.workingHours)==null?void 0:zt.start)||"09:00"," - ",((It=(mt=Z.find(G=>G.name===Q.doctor))==null?void 0:mt.workingHours)==null?void 0:It.end)||"17:00",o.jsx("br",{}),o.jsxs("strong",{children:["🚫 ",t("off_days"),":"]})," ",((Zt=(lt=Z.find(G=>G.name===Q.doctor))==null?void 0:lt.offDays)==null?void 0:Zt.join(", "))||t("none"),o.jsx("br",{}),o.jsxs("strong",{children:["🏥 ",t("specialty"),":"]})," ",((Xt=Z.find(G=>G.name===Q.doctor))==null?void 0:Xt.specialty)||t("general_practice")]})})}),Q.date&&Q.time&&Q.doctor&&o.jsx(V,{item:!0,xs:12,children:b.some(G=>G.date===Q.date&&G.doctor===Q.doctor&&G.time===Q.time&&G.id!==($==null?void 0:$.id))?o.jsx(Zn,{severity:"warning",children:o.jsxs(w,{variant:"body2",children:["⚠️ ",o.jsxs("strong",{children:[t("time_conflict"),":"]})," ",t("doctor_has_appointment_at_time",{doctor:Q.doctor,time:Q.time,date:Q.date})]})}):o.jsx(Zn,{severity:"success",children:o.jsxs(w,{variant:"body2",children:["✅ ",o.jsxs("strong",{children:[t("time_available"),":"]})," ",t("doctor_is_free_at_time",{doctor:Q.doctor,time:Q.time,date:Q.date})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("location_room"),placeholder:t("location_placeholder"),value:Q.location,onChange:G=>ee(ve=>({...ve,location:G.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"🏥"})}})}),Q.patient&&Q.doctor&&Q.date&&Q.time&&o.jsx(V,{item:!0,xs:12,children:o.jsxs(Ve,{sx:{p:2,backgroundColor:"#f0f7ff",border:"1px solid #2196f3"},children:[o.jsxs(w,{variant:"h6",color:"primary.main",sx:{mb:1},children:["📅 ",t("appointment_summary")]}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(w,{variant:"body2",children:[o.jsxs("strong",{children:[t("patient"),":"]})," ",Q.patient]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(w,{variant:"body2",children:[o.jsxs("strong",{children:[t("doctor"),":"]})," ",Q.doctor]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(w,{variant:"body2",children:[o.jsxs("strong",{children:[t("date_time"),":"]})," ",Q.date," ",t("at")," ",Q.time]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(w,{variant:"body2",children:[o.jsxs("strong",{children:[t("duration"),":"]})," ",Q.duration," ",t("minutes")]})})]})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("additional_notes"),multiline:!0,rows:3,placeholder:t("notes_placeholder"),value:Q.notes,onChange:G=>ee(ve=>({...ve,notes:G.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"📝"})}})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>{p(!1),O(!1),B(null)},children:t("cancel")}),o.jsx(me,{variant:"contained",onClick:Je,children:t($?"update_appointment":"schedule_appointment")})]})]}),o.jsxs(In,{open:D,onClose:()=>L(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(dn,{sx:{backgroundColor:"primary.main"},children:$==null?void 0:$.patientAvatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",children:$==null?void 0:$.patient}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[t(((On=$==null?void 0:$.type)==null?void 0:On.toLowerCase().replace(/\s+/g,"_"))||"")," • ",$==null?void 0:$.date," ",t("at")," ",$==null?void 0:$.time]})]})]})}),o.jsx(Tn,{children:o.jsxs(T,{sx:{mt:2},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("appointment_details")}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:1,mb:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("doctor"),":"]}),o.jsx(w,{variant:"body2",children:$==null?void 0:$.doctor})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("duration"),":"]}),o.jsxs(w,{variant:"body2",children:[$==null?void 0:$.duration," ",t("minutes")]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("location"),":"]}),o.jsx(w,{variant:"body2",children:$==null?void 0:$.location})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between"},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("priority"),":"]}),o.jsx(Ke,{label:t(($==null?void 0:$.priority)||""),size:"small",variant:"outlined",sx:{borderColor:Se(($==null?void 0:$.priority)||"normal"),color:Se(($==null?void 0:$.priority)||"normal")}})]})]}),o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:t("notes")}),o.jsx(Qi,{sx:{p:2,backgroundColor:"grey.50",borderRadius:2},children:o.jsx(w,{variant:"body2",color:"text.secondary",children:($==null?void 0:$.notes)||t("no_notes_available")})}),o.jsxs(T,{sx:{mt:3,display:"flex",gap:1},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(Zb,{}),sx:{color:"#25D366",borderColor:"#25D366"},onClick:G=>{if(G.stopPropagation(),$){const ve=t("whatsapp_appointment_message",{patient:$.patient,type:$.type,date:$.date,time:$.time}),ke=$.phone.replace(/\D/g,"");window.open(`https://wa.me/${ke}?text=${encodeURIComponent(ve)}`,"_blank")}},children:t("whatsapp_patient")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(Wn,{}),onClick:G=>{G.stopPropagation(),L(!1),We($)},children:t("edit_appointment")})]})]})}),o.jsx($n,{children:o.jsx(me,{onClick:()=>L(!1),children:t("close")})})]}),o.jsxs(bl,{anchorEl:N,open:!!N,onClose:()=>{q(null),ne(null)},PaperProps:{sx:{minWidth:200}},children:[o.jsxs(T,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600},children:t("change_status")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:Y==null?void 0:Y.patient})]}),o.jsx(ye,{onClick:()=>$e("confirmed"),selected:(Y==null?void 0:Y.status)==="confirmed",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{icon:o.jsx(zr,{fontSize:"small"}),label:t("confirmed"),color:"success",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("confirmed")})]})}),o.jsx(ye,{onClick:()=>$e("pending"),selected:(Y==null?void 0:Y.status)==="pending",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{icon:o.jsx(nl,{fontSize:"small"}),label:t("pending"),color:"warning",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("pending_confirmation")})]})}),o.jsx(ye,{onClick:()=>$e("cancelled"),selected:(Y==null?void 0:Y.status)==="cancelled",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{icon:o.jsx(du,{fontSize:"small"}),label:t("cancelled"),color:"error",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("cancelled")})]})}),o.jsx(ye,{onClick:()=>$e("rescheduled"),selected:(Y==null?void 0:Y.status)==="rescheduled",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{icon:o.jsx(Sr,{fontSize:"small"}),label:t("rescheduled"),color:"info",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("rescheduled")})]})}),o.jsx(ye,{onClick:()=>$e("completed"),selected:(Y==null?void 0:Y.status)==="completed",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{icon:o.jsx(zr,{fontSize:"small"}),label:t("completed"),color:"success",size:"small",variant:"outlined"}),o.jsxs(w,{variant:"body2",children:[t("completed")," 💰"]})]})}),o.jsx(ye,{onClick:()=>$e("no-show"),selected:(Y==null?void 0:Y.status)==="no-show",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:t("no_show"),color:"secondary",size:"small",variant:"outlined"}),o.jsx(w,{variant:"body2",children:t("no_show")})]})})]})]})},md=()=>{try{const t=localStorage.getItem("clinic_vat_settings");if(t)return JSON.parse(t)}catch(t){console.warn("Error loading VAT settings:",t)}return jT},oB=(t,e,n=!1)=>{const r=n?t*e/100:0,i=t+r;return{baseAmount:t,vatRate:e,vatAmount:r,totalAmountWithVAT:i,includeVAT:n}},RQ="clinic_employees_data",OQ="clinic_business_expenses_data",Px="clinic_vat_adjustments",Uj=()=>{try{const t=localStorage.getItem(RQ);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:q$}}catch(t){console.warn("Error loading employees from storage:",t)}return q$},DQ=t=>{try{localStorage.setItem(RQ,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("employeesUpdated",{detail:{employees:t}}))}catch(e){console.warn("Error saving employees to storage:",e)}},Ev=()=>{try{const t=localStorage.getItem(OQ);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:H$}}catch(t){console.warn("Error loading business expenses from storage:",t)}return H$},MQ=t=>{try{localStorage.setItem(OQ,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("businessExpensesUpdated",{detail:{expenses:t}}))}catch(e){console.warn("Error saving business expenses to storage:",e)}},t1=()=>{try{const t=localStorage.getItem(Px);if(console.log("📋 Loading VAT adjustments from localStorage:",{stored:t,key:Px}),t){const e=JSON.parse(t);return console.log("💾 Parsed VAT adjustments:",e),Array.isArray(e)?e:[]}}catch(t){console.warn("Error loading VAT adjustments from storage:",t)}return console.log("⚠️ No VAT adjustments found in localStorage"),[]},mMe=t=>{try{console.log("💾 Saving VAT adjustments to localStorage:",{adjustments:t,key:Px}),localStorage.setItem(Px,JSON.stringify(t));const e=localStorage.getItem(Px);console.log("✅ VAT adjustments save verification:",{saved:e}),window.dispatchEvent(new CustomEvent("vatAdjustmentsUpdated",{detail:{adjustments:t}})),console.log("📡 Dispatched vatAdjustmentsUpdated event")}catch(e){console.warn("Error saving VAT adjustments to storage:",e)}},gMe=()=>Uj().filter(e=>e.isActive).reduce((e,n)=>{let r=n.salary;switch(n.paymentFrequency){case"weekly":r=n.salary*4.33;break;case"daily":r=n.salary*22;break;case"monthly":default:r=n.salary;break}return n.benefits&&(r+=(n.benefits.healthInsurance||0)+(n.benefits.transportation||0)+(n.benefits.bonus||0)),e+r},0),xMe=()=>{const t=Ev(),e=new Date,n=e.getMonth(),r=e.getFullYear();return t.reduce((i,s)=>{const a=new Date(s.date);if(s.isRecurring)switch(s.frequency){case"monthly":return i+s.amount;case"quarterly":return i+s.amount/3;case"yearly":return i+s.amount/12;default:return i+s.amount}else if(a.getMonth()===n&&a.getFullYear()===r)return i+s.amount;return i},0)},yMe=()=>Ev().filter(e=>e.vatIncluded&&e.vatAmount).reduce((e,n)=>e+(n.vatAmount||0),0),vMe=()=>{const t=t1();return{total:t.reduce((n,r)=>r.type==="addition"?n+r.amount:n-r.amount,0),details:t}},Mf=(t=0,e=0)=>{const n=gMe(),r=xMe(),i=yMe(),{total:s,details:a}=vMe(),l=n+r,c=t+s,d=s,f=c,p=f-l,m=f,y=p;return console.log("💰 Financial Summary Debug:",{netVATAdjustments:s,finalVATCollected:d,vatAdjustmentDetails:a.length,adjustments:a}),{totalRevenue:t,totalRevenueWithVAT:t,automaticVATFromPayments:e,totalSalaryExpenses:n,totalBusinessExpenses:r,totalVATFromExpenses:i,totalExpenses:l,netVATAdjustments:s,vatAdjustmentDetails:a,adjustedRevenue:c,finalVATCollected:d,grossProfit:m,netProfit:y,expenseBreakdown:{salaries:n,business:r,vatFromExpenses:i},vatBreakdown:{fromPayments:0,fromAdjustments:s,fromExpenses:i,total:d}}},bMe=t=>{const e=Uj(),n={...t,id:Date.now().toString()},r=[...e,n];return DQ(r),n},_Me=t=>{const e=Uj(),n=e.filter(r=>r.id!==t);return n.length===e.length?!1:(DQ(n),!0)},wMe=t=>{const e=Ev(),n={...t,id:Date.now().toString()},r=[...e,n];return MQ(r),n},jMe=t=>{const e=Ev(),n=e.filter(r=>r.id!==t);return n.length===e.length?!1:(MQ(n),!0)},SMe=({invoiceData:t,onDownload:e,onPrint:n,onShare:r})=>{const{t:i,i18n:s}=Dr(),a=s.language==="ar",{invoiceId:l,patient:c,amount:d,currency:f,date:p,dueDate:m,status:y,method:x,description:v,category:b,insurance:I,insuranceAmount:A,clinicName:S=i("invoice.defaultClinic.name"),clinicAddress:k=i("invoice.defaultClinic.address"),clinicPhone:P=i("invoice.defaultClinic.phone"),clinicEmail:R=i("invoice.defaultClinic.email")}=t,E=d,O=t.includeVAT&&(t.vatRate||0)>0,D=O?(t.vatRate||0)/100:0,L=O?E*D:0,$=E+L,B=A||0,N=$-B,q=Q=>({paid:"success",pending:"warning",overdue:"error",partial:"info"})[Q]||"default",Y=Q=>new Date(Q).toLocaleDateString(a?"ar-EG":"en-US"),ne=Q=>new Intl.NumberFormat(a?"ar-EG":"en-US",{style:"decimal",minimumFractionDigits:2}).format(Q);return o.jsxs(Qi,{elevation:3,sx:{maxWidth:800,mx:"auto",p:4,backgroundColor:"#fafafa",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",direction:a?"rtl":"ltr"},children:[o.jsx(T,{sx:{mb:4},children:o.jsxs(V,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"#1976d2",mb:1,background:"linear-gradient(45deg, #1976d2, #42a5f5)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:S}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:k}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:[i("invoice.labels.phone"),": ",P]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.labels.email"),": ",R]})]}),o.jsxs(V,{item:!0,xs:12,md:6,sx:{textAlign:{xs:"left",md:a?"left":"right"},mt:{xs:3,md:0}},children:[o.jsx(w,{variant:"h4",sx:{fontWeight:700,color:"#1976d2",mb:2},children:i("invoice.title")}),o.jsxs(T,{sx:{p:2,backgroundColor:"#e3f2fd",borderRadius:2,border:"2px solid #1976d2"},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:i("invoice.labels.invoiceNumber")}),o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:"#1976d2"},children:l})]})]})]})}),o.jsx(Nn,{sx:{my:3,borderWidth:2,borderColor:"#1976d2"}}),o.jsxs(V,{container:!0,spacing:4,sx:{mb:4},children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#1976d2"},children:[i("invoice.sections.billTo"),":"]}),o.jsx(T,{sx:{p:3,backgroundColor:"#f5f5f5",borderRadius:2,border:"1px solid #e0e0e0"},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(dn,{sx:{width:48,height:48,backgroundColor:"primary.main",fontSize:"1.2rem",fontWeight:700},children:t.patientAvatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:1},children:c}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.labels.patientId"),": ",c.split(" ").map(Q=>Q[0]).join(""),"-001"]})]})]})})]}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#1976d2"},children:[i("invoice.sections.invoiceDetails"),":"]}),o.jsx(T,{sx:{p:3,backgroundColor:"#f5f5f5",borderRadius:2,border:"1px solid #e0e0e0"},children:o.jsxs(V,{container:!0,spacing:1,children:[o.jsx(V,{item:!0,xs:6,children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.labels.issueDate"),":"]})}),o.jsx(V,{item:!0,xs:6,children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:Y(p)})}),o.jsx(V,{item:!0,xs:6,children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.labels.dueDate"),":"]})}),o.jsx(V,{item:!0,xs:6,children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:Y(m)})}),o.jsx(V,{item:!0,xs:6,children:o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.labels.status"),":"]})}),o.jsx(V,{item:!0,xs:6,children:o.jsx(Ke,{label:i(`invoice.status.${y}`),color:q(y),size:"small",variant:"filled",sx:{fontWeight:600}})})]})})]})]}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#1976d2"},children:[i("invoice.sections.servicesAndProcedures"),":"]}),o.jsx(yi,{component:Qi,sx:{mb:3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:2,overflow:"hidden"},children:o.jsxs(gi,{children:[o.jsx(vi,{sx:{backgroundColor:"#1976d2"},children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{color:"white",fontWeight:700},children:i("invoice.table.description")}),o.jsx(ae,{sx:{color:"white",fontWeight:700},align:"center",children:i("invoice.table.category")}),o.jsx(ae,{sx:{color:"white",fontWeight:700},align:"center",children:i("invoice.table.paymentMethod")}),o.jsx(ae,{sx:{color:"white",fontWeight:700},align:"right",children:i("invoice.table.amount")})]})}),o.jsx(xi,{children:o.jsxs(Qt,{sx:{"&:hover":{backgroundColor:"#f5f5f5"}},children:[o.jsx(ae,{children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:v})}),o.jsx(ae,{align:"center",sx:{textTransform:"capitalize"},children:i(`invoice.categories.${b}`)}),o.jsx(ae,{align:"center",children:i(`invoice.paymentMethods.${x.toLowerCase().replace(" ","_")}`)}),o.jsx(ae,{align:"right",children:o.jsxs(w,{variant:"body2",sx:{fontWeight:700},children:[f," ",ne(d)]})})]})})]})}),o.jsx(T,{sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:3,border:"1px solid #e0e0e0"},children:o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,md:8,children:I==="Yes"&&o.jsxs(T,{sx:{p:2,backgroundColor:"#e8f5e8",borderRadius:1,border:"1px solid #4caf50",display:"flex",alignItems:"center",gap:1},children:[o.jsx(zr,{sx:{color:"#2e7d32",fontSize:20}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,color:"#2e7d32"},children:i("invoice.insurance.coverageApplied")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:i("invoice.insurance.activeDescription")})]})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{textAlign:a?"left":"right"},children:[o.jsxs(V,{container:!0,justifyContent:"space-between",sx:{mb:1},children:[o.jsxs(w,{variant:"body2",children:[i("invoice.calculations.subtotal"),":"]}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:[f," ",ne(E)]})]}),O&&o.jsxs(V,{container:!0,justifyContent:"space-between",sx:{mb:1},children:[o.jsxs(w,{variant:"body2",children:[i("invoice.calculations.vat")," (",(D*100).toFixed(1),"%):"]}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:[f," ",ne(L)]})]}),!O&&o.jsxs(V,{container:!0,justifyContent:"space-between",sx:{mb:1},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",children:[i("invoice.calculations.vat"),": ",i("invoice.calculations.notApplicable")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[f," 0.00"]})]}),o.jsx(Nn,{sx:{my:1}}),o.jsxs(V,{container:!0,justifyContent:"space-between",sx:{mb:2},children:[o.jsxs(w,{variant:"body1",sx:{fontWeight:700},children:[i("invoice.calculations.totalAmount"),":"]}),o.jsxs(w,{variant:"body1",sx:{fontWeight:700,color:"#1976d2"},children:[f," ",ne($)]})]}),I==="Yes"&&B>0&&o.jsxs(o.Fragment,{children:[o.jsxs(V,{container:!0,justifyContent:"space-between",sx:{mb:1},children:[o.jsxs(w,{variant:"body2",color:"success.main",children:[i("invoice.calculations.insuranceCoverage"),":"]}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600,color:"success.main"},children:["-",f," ",ne(B)]})]}),o.jsx(Nn,{sx:{my:1}}),o.jsxs(V,{container:!0,justifyContent:"space-between",children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:[i("invoice.calculations.patientBalance"),":"]}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:"#1976d2"},children:[f," ",ne(N)]})]})]})]})})]})}),o.jsx(T,{sx:{mt:4,pt:3,borderTop:"2px solid #e0e0e0"},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsxs(V,{item:!0,xs:12,md:8,children:[o.jsxs(w,{variant:"body2",sx:{fontWeight:600,mb:1},children:[i("invoice.footer.paymentTermsTitle"),":"]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["• ",i("invoice.footer.paymentDue30Days")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["• ",i("invoice.footer.latePaymentCharges")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["• ",i("invoice.footer.questionsContact"),": ",P]})]}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o.jsx(me,{variant:"contained",startIcon:o.jsx(Xl,{}),onClick:e,fullWidth:!0,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:i("invoice.actions.downloadPDF")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(Dwe,{}),onClick:n,fullWidth:!0,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:i("invoice.actions.printInvoice")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(tK,{}),onClick:r,fullWidth:!0,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:i("invoice.actions.share")})]})})]})}),o.jsx(T,{sx:{textAlign:"center",mt:4,pt:2,borderTop:"1px solid #e0e0e0",opacity:.6},children:o.jsxs(w,{variant:"caption",color:"text.secondary",children:[i("invoice.footer.generatedBy")," ",S," ",i("invoice.footer.managementSystem")," • ",Y(new Date().toISOString())]})})]})},CMe=({open:t,onClose:e,currentRevenue:n,currentVATCollected:r,onSave:i})=>{const{t:s}=Dr(),[a,l]=C.useState(()=>{try{const S=localStorage.getItem("clinic_vat_adjustments");return S?JSON.parse(S):[]}catch(S){return console.error("Error loading VAT adjustments:",S),[]}}),[c,d]=C.useState({amount:0,reason:"",type:"deduction",description:""}),[f,p]=C.useState({}),m=a.reduce((S,k)=>k.type==="addition"?S+k.amount:S-k.amount,0),y=n+m,x=()=>{const S={};return(!c.amount||c.amount<=0)&&(S.amount="Amount must be greater than 0"),c.reason||(S.reason="Reason is required"),p(S),Object.keys(S).length===0},v=()=>{if(!x())return;const S={id:Date.now().toString(),amount:c.amount,reason:c.reason,type:c.type,date:new Date().toISOString(),description:c.description},k=[...a,S];l(k),localStorage.setItem("clinic_vat_adjustments",JSON.stringify(k)),d({amount:0,reason:"",type:"deduction",description:""}),p({})},b=S=>{const k=a.filter(P=>P.id!==S);l(k),localStorage.setItem("clinic_vat_adjustments",JSON.stringify(k))},I=()=>{i(a),e()},A=[{value:"manual_vat_correction",label:"Manual VAT Correction"},{value:"tax_adjustment",label:"Tax Adjustment"},{value:"accounting_correction",label:"Accounting Correction"},{value:"external_vat_payment",label:"External VAT Payment"},{value:"vat_refund",label:"VAT Refund"},{value:"other",label:"Other"}];return o.jsxs(In,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:3,minHeight:"70vh"}},children:[o.jsxs(kn,{sx:{display:"flex",alignItems:"center",gap:2,borderBottom:1,borderColor:"divider",pb:2},children:[o.jsx(T,{sx:{width:48,height:48,borderRadius:"12px",background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:o.jsx(G1,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:"VAT Collection Adjustments"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Manually adjust VAT deductions from total revenue"})]})]}),o.jsxs(Tn,{sx:{p:3},children:[o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{sx:{bgcolor:"primary.light",border:"1px solid",borderColor:"primary.main"},children:o.jsxs(st,{sx:{textAlign:"center"},children:[o.jsx(Jb,{sx:{fontSize:32,color:"primary.main",mb:1}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:"Current Revenue"}),o.jsxs(w,{variant:"h4",sx:{fontWeight:800},children:["EGP ",n.toLocaleString()]})]})})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{sx:{bgcolor:"warning.light",border:"1px solid",borderColor:"warning.main"},children:o.jsxs(st,{sx:{textAlign:"center"},children:[o.jsx(G1,{sx:{fontSize:32,color:"warning.main",mb:1}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:"warning.main"},children:"Current VAT Adjustments"}),o.jsxs(w,{variant:"h4",sx:{fontWeight:800},children:["EGP ",m.toLocaleString()]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Manual adjustments only"})]})})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Ve,{sx:{bgcolor:m>=0?"success.light":"error.light",border:"1px solid",borderColor:m>=0?"success.main":"error.main"},children:o.jsxs(st,{sx:{textAlign:"center"},children:[o.jsx(Wn,{sx:{fontSize:32,color:m>=0?"success.main":"error.main",mb:1}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:m>=0?"success.main":"error.main"},children:"Adjusted Revenue"}),o.jsxs(w,{variant:"h4",sx:{fontWeight:800},children:["EGP ",y.toLocaleString()]}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[m>=0?"+":"","EGP ",m.toLocaleString()," adjustment"]})]})})})]}),o.jsx(Zn,{severity:"info",sx:{mb:3},children:o.jsxs(w,{variant:"body2",children:["💡 ",o.jsx("strong",{children:"Manual VAT Adjustments:"})," Use this to manually add or deduct amounts from your total revenue. These are separate from automatic invoice VAT and are useful for external payments, corrections, or manual adjustments.",o.jsx("br",{}),o.jsx("strong",{children:"Note:"})," Employee expenses are automatically deducted from revenue."]})}),o.jsx(Ve,{sx:{mb:3,border:"1px solid",borderColor:"divider"},children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Wn,{sx:{color:"primary.main"}}),"Add New VAT Adjustment"]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Adjustment Amount (EGP)",type:"number",value:c.amount||"",onChange:S=>d(k=>({...k,amount:parseFloat(S.target.value)||0})),error:!!f.amount,helperText:f.amount,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:.01}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,error:!!f.type,children:[o.jsx(jn,{children:"Adjustment Type"}),o.jsxs(yn,{value:c.type,label:"Adjustment Type",onChange:S=>d(k=>({...k,type:S.target.value})),children:[o.jsx(ye,{value:"deduction",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"−",color:"error",size:"small"}),"Deduction (Reduce Revenue)"]})}),o.jsx(ye,{value:"addition",children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ke,{label:"+",color:"success",size:"small"}),"Addition (Increase Revenue)"]})})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,error:!!f.reason,children:[o.jsx(jn,{children:"Reason"}),o.jsx(yn,{value:c.reason,label:"Reason",onChange:S=>d(k=>({...k,reason:S.target.value})),children:A.map(S=>o.jsx(ye,{value:S.value,children:S.label},S.value))}),f.reason&&o.jsx(w,{variant:"caption",color:"error",sx:{mt:.5,ml:2},children:f.reason})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Description",value:c.description,onChange:S=>d(k=>({...k,description:S.target.value})),error:!!f.description,helperText:"Optional: Detailed description of the adjustment",placeholder:"e.g., Manual VAT payment for Q4 2023 (Optional)"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(me,{variant:"contained",onClick:v,startIcon:o.jsx(Oo,{}),sx:{borderRadius:2},children:"Add Adjustment"})})]})]})}),a.length>0&&o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,display:"flex",alignItems:"center",gap:1},children:[o.jsx(q1,{sx:{color:"primary.main"}}),"Current VAT Adjustments (",a.length,")"]}),a.map((S,k)=>{var P;return o.jsxs(T,{sx:{mb:2},children:[o.jsx(Ve,{sx:{bgcolor:S.type==="addition"?"success.light":"error.light",border:"1px solid",borderColor:S.type==="addition"?"success.main":"error.main"},children:o.jsx(st,{sx:{py:2},children:o.jsxs(V,{container:!0,spacing:2,alignItems:"center",children:[o.jsxs(V,{item:!0,xs:12,sm:3,children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:[S.type==="addition"?"+":"-","EGP ",S.amount.toLocaleString()]}),o.jsx(Ke,{label:S.type==="addition"?"Addition":"Deduction",color:S.type==="addition"?"success":"error",size:"small"})]}),o.jsxs(V,{item:!0,xs:12,sm:6,children:[o.jsx(w,{variant:"body1",sx:{fontWeight:600},children:((P=A.find(R=>R.value===S.reason))==null?void 0:P.label)||S.reason}),o.jsx(w,{variant:"body2",color:"text.secondary",children:S.description})]}),o.jsx(V,{item:!0,xs:12,sm:2,children:o.jsx(w,{variant:"caption",color:"text.secondary",children:new Date(S.date).toLocaleDateString()})}),o.jsx(V,{item:!0,xs:12,sm:1,children:o.jsx(me,{variant:"outlined",color:"error",size:"small",onClick:()=>b(S.id),children:"Delete"})})]})})}),k<a.length-1&&o.jsx(Nn,{sx:{my:1}})]},S.id)}),o.jsxs(T,{sx:{p:3,bgcolor:"primary.light",borderRadius:2,border:"1px solid",borderColor:"primary.main",mt:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,color:"primary.main",mb:2},children:"📊 VAT Adjustments Impact"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:12,sm:4,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Net Adjustment Amount"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700,color:m>=0?"success.main":"error.main"},children:[m>=0?"+":"","EGP ",Math.abs(m).toLocaleString()]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:m>=0?"Revenue Increase":"Revenue Decrease"})]}),o.jsxs(V,{item:!0,xs:12,sm:4,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Adjusted Total Revenue"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",y.toLocaleString()]}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:["Original: EGP ",n.toLocaleString()]})]}),o.jsxs(V,{item:!0,xs:12,sm:4,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Net VAT Adjustment"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:[m>=0?"+":"","EGP ",m.toLocaleString()]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Manual adjustments only"})]})]})]})]})})]}),o.jsxs($n,{sx:{p:3,borderTop:1,borderColor:"divider"},children:[o.jsx(me,{onClick:e,startIcon:o.jsx(du,{}),children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:I,startIcon:o.jsx(Oo,{}),sx:{borderRadius:2},children:"Save & Apply Adjustments"})]})]})};function hI(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,...i,children:n===r&&o.jsx(T,{sx:{py:2},children:e})})}const PMe=({open:t,onClose:e,totalRevenue:n,automaticVATFromPayments:r})=>{const{t:i}=Dr(),[s,a]=C.useState(0),[l,c]=C.useState([]),[d,f]=C.useState({name:"",position:"",salary:0,currency:"EGP",paymentFrequency:"monthly",startDate:new Date().toISOString().split("T")[0],isActive:!0,benefits:{healthInsurance:0,transportation:0,bonus:0}}),[p,m]=C.useState([]),[y]=C.useState(h1e),[x,v]=C.useState({category:"",description:"",amount:0,currency:"EGP",date:new Date().toISOString().split("T")[0],isRecurring:!1,frequency:"monthly",vatIncluded:!1,vatAmount:0,supplier:"",notes:"",attachments:[]}),[b,I]=C.useState({}),[A,S]=C.useState(null);C.useEffect(()=>{if(t){const N=Uj(),q=Ev();c(N),m(q);const Y=Mf(n,r);S(Y)}},[t,n,r]);const k=(N,q)=>{a(q)},P=()=>{if(!d.name||!d.position||d.salary<=0)return;const N=bMe(d);c(Y=>[...Y,N]),f({name:"",position:"",salary:0,currency:"EGP",paymentFrequency:"monthly",startDate:new Date().toISOString().split("T")[0],isActive:!0,benefits:{healthInsurance:0,transportation:0,bonus:0}});const q=Mf(n,r);S(q)},R=N=>{if(window.confirm("Are you sure you want to delete this employee?")){_Me(N),c(Y=>Y.filter(ne=>ne.id!==N));const q=Mf(n,r);S(q)}},E=()=>{if(!x.category||!x.description||x.amount<=0)return;const N=x.vatIncluded?x.amount*.14:0,q=wMe({...x,vatAmount:N});m(ne=>[...ne,q]),v({category:"",description:"",amount:0,currency:"EGP",date:new Date().toISOString().split("T")[0],isRecurring:!1,frequency:"monthly",vatIncluded:!1,vatAmount:0,supplier:"",notes:"",attachments:[]});const Y=Mf(n,r);S(Y)},O=N=>{if(window.confirm("Are you sure you want to delete this expense?")){jMe(N),m(Y=>Y.filter(ne=>ne.id!==N));const q=Mf(n,r);S(q)}},D=N=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(N),L=N=>{const q=y.find(Y=>Y.name===N);return(q==null?void 0:q.icon)||"📋"},$=N=>{const q=N.target.files;if(q){const Y=Array.from(q);v(ne=>({...ne,attachments:[...ne.attachments,...Y]}))}},B=N=>{v(q=>({...q,attachments:q.attachments.filter((Y,ne)=>ne!==N)}))};return o.jsxs(In,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,PaperProps:{sx:{borderRadius:3,minHeight:"80vh"}},children:[o.jsxs(kn,{sx:{display:"flex",alignItems:"center",gap:2,borderBottom:1,borderColor:"divider",pb:2},children:[o.jsx(T,{sx:{width:48,height:48,borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:o.jsx(ey,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:"💼 Expense Management"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:"Manage employees, business expenses, and financial overview"})]})]}),o.jsxs(Tn,{sx:{p:0},children:[A&&o.jsxs(T,{sx:{p:3,bgcolor:"background.paper",borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:"📊 Financial Overview"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,sm:6,md:2.4,children:o.jsx(Ve,{sx:{bgcolor:"primary.light",textAlign:"center"},children:o.jsxs(st,{sx:{py:2},children:[o.jsx(w,{variant:"body2",color:"primary.main",children:"Total Revenue"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",D(A.adjustedRevenue)]})]})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2.4,children:o.jsx(Ve,{sx:{bgcolor:"warning.light",textAlign:"center"},children:o.jsxs(st,{sx:{py:2},children:[o.jsx(w,{variant:"body2",color:"warning.main",children:"Salary Expenses"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",D(A.totalSalaryExpenses)]})]})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2.4,children:o.jsx(Ve,{sx:{bgcolor:"info.light",textAlign:"center"},children:o.jsxs(st,{sx:{py:2},children:[o.jsx(w,{variant:"body2",color:"info.main",children:"Business Expenses"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",D(A.totalBusinessExpenses)]})]})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2.4,children:o.jsx(Ve,{sx:{bgcolor:"error.light",textAlign:"center"},children:o.jsxs(st,{sx:{py:2},children:[o.jsx(w,{variant:"body2",color:"error.main",children:"VAT Collected"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",D(A.finalVATCollected)]})]})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2.4,children:o.jsx(Ve,{sx:{bgcolor:A.netProfit>=0?"success.light":"error.light",textAlign:"center"},children:o.jsxs(st,{sx:{py:2},children:[o.jsx(w,{variant:"body2",color:A.netProfit>=0?"success.main":"error.main",children:"Net Profit"}),o.jsxs(w,{variant:"h6",sx:{fontWeight:700},children:["EGP ",D(A.netProfit)]})]})})})]})]}),o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:3,pt:2},children:o.jsxs(_l,{value:s,onChange:k,children:[o.jsx(un,{label:`👥 Employees (${l.filter(N=>N.isActive).length})`}),o.jsx(un,{label:`📋 Business Expenses (${p.length})`}),o.jsx(un,{label:"📈 Summary"})]})}),o.jsx(hI,{value:s,index:0,children:o.jsxs(T,{sx:{p:3},children:[o.jsx(Ve,{sx:{mb:3,border:"1px solid",borderColor:"divider"},children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,display:"flex",alignItems:"center",gap:1},children:[o.jsx(rr,{sx:{color:"primary.main"}}),"Add New Employee"]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Employee Name",value:d.name,onChange:N=>f(q=>({...q,name:N.target.value})),placeholder:"e.g., Dr. Ahmed Mohamed"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Position",value:d.position,onChange:N=>f(q=>({...q,position:N.target.value})),placeholder:"e.g., Doctor, Nurse, Receptionist"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Salary Amount",type:"number",value:d.salary||"",onChange:N=>f(q=>({...q,salary:parseFloat(N.target.value)||0})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:100}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Payment Frequency"}),o.jsxs(yn,{value:d.paymentFrequency,label:"Payment Frequency",onChange:N=>f(q=>({...q,paymentFrequency:N.target.value})),children:[o.jsx(ye,{value:"monthly",children:"Monthly"}),o.jsx(ye,{value:"weekly",children:"Weekly"}),o.jsx(ye,{value:"daily",children:"Daily"})]})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Start Date",type:"date",value:d.startDate,onChange:N=>f(q=>({...q,startDate:N.target.value})),InputLabelProps:{shrink:!0}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Nn,{sx:{my:1},children:o.jsx(Ke,{label:"Benefits & Allowances (Optional)",size:"small"})})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Health Insurance",type:"number",value:d.benefits.healthInsurance||"",onChange:N=>f(q=>({...q,benefits:{...q.benefits,healthInsurance:parseFloat(N.target.value)||0}})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:10}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Transportation",type:"number",value:d.benefits.transportation||"",onChange:N=>f(q=>({...q,benefits:{...q.benefits,transportation:parseFloat(N.target.value)||0}})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:10}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Monthly Bonus",type:"number",value:d.benefits.bonus||"",onChange:N=>f(q=>({...q,benefits:{...q.benefits,bonus:parseFloat(N.target.value)||0}})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:10}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(me,{variant:"contained",onClick:P,startIcon:o.jsx(rr,{}),disabled:!d.name||!d.position||d.salary<=0,sx:{borderRadius:2},children:"Add Employee"})})]})]})}),l.length>0&&o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:["👥 Current Employees (",l.filter(N=>N.isActive).length," active)"]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{children:"Name"}),o.jsx(ae,{children:"Position"}),o.jsx(ae,{children:"Salary"}),o.jsx(ae,{children:"Frequency"}),o.jsx(ae,{children:"Benefits"}),o.jsx(ae,{children:"Status"}),o.jsx(ae,{children:"Actions"})]})}),o.jsx(xi,{children:l.map(N=>o.jsxs(Qt,{children:[o.jsx(ae,{children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:N.name})}),o.jsx(ae,{children:N.position}),o.jsxs(ae,{children:["EGP ",D(N.salary),o.jsxs(w,{variant:"caption",color:"text.secondary",display:"block",children:["per ",N.paymentFrequency]})]}),o.jsx(ae,{children:o.jsx(Ke,{label:N.paymentFrequency,size:"small",variant:"outlined"})}),o.jsx(ae,{children:N.benefits&&o.jsxs(w,{variant:"caption",color:"text.secondary",children:["Total: EGP ",D((N.benefits.healthInsurance||0)+(N.benefits.transportation||0)+(N.benefits.bonus||0))]})}),o.jsx(ae,{children:o.jsx(Ke,{label:N.isActive?"Active":"Inactive",color:N.isActive?"success":"default",size:"small"})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Delete Employee",children:o.jsx(qe,{size:"small",color:"error",onClick:()=>R(N.id),children:o.jsx(Cs,{fontSize:"small"})})})})]},N.id))})]})})]})})]})}),o.jsx(hI,{value:s,index:1,children:o.jsxs(T,{sx:{p:3},children:[o.jsx(Ve,{sx:{mb:3,border:"1px solid",borderColor:"divider"},children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2,display:"flex",alignItems:"center",gap:1},children:[o.jsx(rr,{sx:{color:"primary.main"}}),"Add New Business Expense"]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Expense Category"}),o.jsx(yn,{value:x.category,label:"Expense Category",onChange:N=>v(q=>({...q,category:N.target.value})),children:y.map(N=>o.jsx(ye,{value:N.name,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx("span",{children:N.icon}),N.name]})},N.id))})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Description",value:x.description,onChange:N=>v(q=>({...q,description:N.target.value})),placeholder:"e.g., Office rent for December"})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Amount",type:"number",value:x.amount||"",onChange:N=>v(q=>({...q,amount:parseFloat(N.target.value)||0})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:1}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Date",type:"date",value:x.date,onChange:N=>v(q=>({...q,date:N.target.value})),InputLabelProps:{shrink:!0}})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsx(Pe,{fullWidth:!0,label:"Supplier (Optional)",value:x.supplier,onChange:N=>v(q=>({...q,supplier:N.target.value})),placeholder:"e.g., ABC Medical Supplies"})}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(ei,{control:o.jsx(ti,{checked:x.isRecurring,onChange:N=>v(q=>({...q,isRecurring:N.target.checked}))}),label:"Recurring Expense"}),x.isRecurring&&o.jsxs(hn,{fullWidth:!0,sx:{mt:1},children:[o.jsx(jn,{children:"Frequency"}),o.jsxs(yn,{value:x.frequency,label:"Frequency",onChange:N=>v(q=>({...q,frequency:N.target.value})),children:[o.jsx(ye,{value:"monthly",children:"Monthly"}),o.jsx(ye,{value:"quarterly",children:"Quarterly"}),o.jsx(ye,{value:"yearly",children:"Yearly"})]})]})]}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(ei,{control:o.jsx(ti,{checked:x.vatIncluded,onChange:N=>v(q=>({...q,vatIncluded:N.target.checked}))}),label:"VAT Included (14%)"}),x.vatIncluded&&x.amount>0&&o.jsxs(w,{variant:"caption",color:"text.secondary",display:"block",children:["VAT Amount: EGP ",D(x.amount*.14)]})]}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Notes (Optional)",multiline:!0,rows:2,value:x.notes,onChange:N=>v(q=>({...q,notes:N.target.value})),placeholder:"Additional notes about this expense..."})}),o.jsxs(V,{item:!0,xs:12,children:[o.jsx(Nn,{sx:{my:1},children:o.jsx(Ke,{label:"📎 File Attachments (Optional)",size:"small"})}),o.jsxs(T,{sx:{mt:2},children:[o.jsx("input",{accept:"image/*,.pdf,.doc,.docx,.txt",style:{display:"none"},id:"file-upload",multiple:!0,type:"file",onChange:$}),o.jsx("label",{htmlFor:"file-upload",children:o.jsx(me,{variant:"outlined",component:"span",startIcon:o.jsx(QG,{}),sx:{mb:2},children:"Upload Files (Images, PDF, Documents)"})}),x.attachments.length>0&&o.jsxs(T,{sx:{mt:2},children:[o.jsxs(w,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:["📎 Attached Files (",x.attachments.length,")"]}),o.jsx(mi,{dense:!0,children:x.attachments.map((N,q)=>o.jsxs(An,{sx:{border:1,borderColor:"divider",borderRadius:1,mb:1,bgcolor:"background.paper"},secondaryAction:o.jsx(qe,{edge:"end",onClick:()=>B(q),color:"error",size:"small",children:o.jsx(Cs,{fontSize:"small"})}),children:[o.jsx(Xo,{children:o.jsx(JG,{color:"primary"})}),o.jsx(pr,{primary:N.name,secondary:`${(N.size/1024).toFixed(2)} KB`})]},q))})]})]})]}),o.jsx(V,{item:!0,xs:12,children:o.jsx(me,{variant:"contained",onClick:E,startIcon:o.jsx(rr,{}),disabled:!x.category||!x.description||x.amount<=0,sx:{borderRadius:2},children:"Add Expense"})})]})]})}),p.length>0&&o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:["📋 Business Expenses (",p.length," total)"]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{children:"Category"}),o.jsx(ae,{children:"Description"}),o.jsx(ae,{children:"Amount"}),o.jsx(ae,{children:"Date"}),o.jsx(ae,{children:"Type"}),o.jsx(ae,{children:"VAT"}),o.jsx(ae,{children:"Files"}),o.jsx(ae,{children:"Actions"})]})}),o.jsx(xi,{children:p.map(N=>o.jsxs(Qt,{children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx("span",{children:L(N.category)}),o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:N.category})]})}),o.jsxs(ae,{children:[o.jsx(w,{variant:"body2",children:N.description}),N.supplier&&o.jsxs(w,{variant:"caption",color:"text.secondary",display:"block",children:["Supplier: ",N.supplier]})]}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["EGP ",D(N.amount)]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:new Date(N.date).toLocaleDateString()})}),o.jsx(ae,{children:o.jsx(Ke,{label:N.isRecurring?`Recurring (${N.frequency})`:"One-time",size:"small",variant:"outlined",color:N.isRecurring?"primary":"default"})}),o.jsx(ae,{children:N.vatIncluded?o.jsxs(w,{variant:"caption",color:"primary.main",children:["EGP ",D(N.vatAmount||0)]}):o.jsx(w,{variant:"caption",color:"text.secondary",children:"No VAT"})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Hl,{sx:{fontSize:16,color:"text.secondary"}}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"0 files"})]})}),o.jsx(ae,{children:o.jsx(Ze,{title:"Delete Expense",children:o.jsx(qe,{size:"small",color:"error",onClick:()=>O(N.id),children:o.jsx(Cs,{fontSize:"small"})})})})]},N.id))})]})})]})})]})}),o.jsx(hI,{value:s,index:2,children:o.jsx(T,{sx:{p:3},children:A&&o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{bgcolor:"primary.light"},children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2,color:"primary.main"},children:"📊 Complete Financial Breakdown"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Revenue & Income"}),o.jsxs(w,{variant:"body2",children:["Total Revenue: EGP ",D(A.totalRevenue)]}),o.jsxs(w,{variant:"body2",children:["VAT Adjustments: EGP ",D(A.netVATAdjustments)]}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["Adjusted Revenue: EGP ",D(A.adjustedRevenue)]})]}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Expenses & Deductions"}),o.jsxs(w,{variant:"body2",children:["Employee Salaries: EGP ",D(A.totalSalaryExpenses)]}),o.jsxs(w,{variant:"body2",children:["Business Expenses: EGP ",D(A.totalBusinessExpenses)]}),o.jsxs(w,{variant:"body2",children:["VAT Collected: EGP ",D(A.finalVATCollected)]}),o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["Total Expenses: EGP ",D(A.totalExpenses)]})]})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:"Final Net Profit:"}),o.jsxs(w,{variant:"h4",sx:{fontWeight:800,color:A.netProfit>=0?"success.main":"error.main"},children:["EGP ",D(A.netProfit)]})]})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:"👥 Employee Expenses Breakdown"}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Monthly salary costs for ",l.filter(N=>N.isActive).length," active employees"]}),o.jsxs(w,{variant:"h4",sx:{fontWeight:700,color:"warning.main"},children:["EGP ",D(A.totalSalaryExpenses)]})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:700,mb:2},children:"📋 Business Expenses Breakdown"}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Monthly equivalent of all business expenses"}),o.jsxs(w,{variant:"h4",sx:{fontWeight:700,color:"info.main"},children:["EGP ",D(A.totalBusinessExpenses)]})]})})})]})})})]}),o.jsx($n,{sx:{p:3,borderTop:1,borderColor:"divider"},children:o.jsx(me,{onClick:e,startIcon:o.jsx(du,{}),children:"Close"})})]})};function sB(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,id:`payment-tabpanel-${r}`,"aria-labelledby":`payment-tab-${r}`,...i,children:n===r&&o.jsx(T,{sx:{py:3},children:e})})}const AMe="clinic_payments_data",t5=()=>{try{const t=localStorage.getItem(AMe);if(t){const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}}catch(t){console.warn("Error loading payments from localStorage:",t)}return wT()},EMe=t=>{H_.save(t,"PaymentListPage")},bf=({title:t,value:e,icon:n,color:r,subtitle:i,trend:s,trendDirection:a})=>{const{t:l}=Dr();return o.jsx(Ve,{sx:{height:"100%",background:`linear-gradient(135deg, ${r}10 0%, ${r}05 100%)`,backdropFilter:"blur(10px)",border:`1px solid ${r}20`,borderRadius:3,position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:`0 8px 25px ${r}25`},transition:"all 0.3s ease","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${r} 0%, ${r}80 100%)`}},children:o.jsxs(st,{sx:{p:3,position:"relative"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(T,{sx:{width:56,height:56,borderRadius:"16px",background:`linear-gradient(135deg, ${r}20 0%, ${r}10 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:r,backdropFilter:"blur(10px)",border:`1px solid ${r}30`,"& svg":{fontSize:28,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}},children:n}),s&&o.jsxs(T,{sx:{display:"flex",alignItems:"center",backgroundColor:a==="up"?"#10B98110":"#EF444410",borderRadius:2,px:1.5,py:.5,border:`1px solid ${a==="up"?"#10B98130":"#EF444430"}`},children:[a==="up"?o.jsx(ty,{sx:{fontSize:16,color:"#10B981",mr:.5}}):o.jsx(Lwe,{sx:{fontSize:16,color:"#EF4444",mr:.5}}),o.jsx(w,{variant:"caption",sx:{color:a==="up"?"#10B981":"#EF4444",fontWeight:700,fontSize:"0.75rem"},children:s})]})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,mb:.5,color:"text.primary",background:`linear-gradient(135deg, ${r} 0%, ${r}80 100%)`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"none"},children:e}),o.jsx(w,{variant:"body1",sx:{fontWeight:600,mb:1,color:"text.primary"},children:t}),i&&o.jsx(w,{variant:"body2",color:"text.secondary",sx:{opacity:.8},children:i})]})})},IMe=()=>{const{t,i18n:e}=Dr(),{user:n,loading:r,initialized:i}=ym(),s=e.language==="ar",[a,l]=C.useState(0),[c,d]=C.useState(""),[f,p]=C.useState(null),[m,y]=C.useState(!1),[x,v]=C.useState("table"),[b,I]=C.useState(null),[A,S]=C.useState("all"),[k,P]=C.useState(!1),[R,E]=C.useState(null),[O,D]=C.useState({open:!1,message:"",severity:"success"}),[L,$]=C.useState(null),[B,N]=C.useState(null),[q,Y]=C.useState(!1),[ne,Q]=C.useState(new Date().toISOString().split("T")[0]),[ee,Z]=C.useState(!1),[de,K]=C.useState(!1),[se,le]=C.useState(!1),[oe,ge]=C.useState(!1),[fe,Se]=C.useState(null),[be,ce]=C.useState({amount:"",paidAmount:""}),[We,Fe]=C.useState(0),[pe,$e]=C.useState(()=>{try{const re=t1();return console.log("✅ PaymentListPage: Loaded VAT adjustments from localStorage:",re.length),re}catch(re){return console.error("❌ PaymentListPage: Error loading VAT adjustments:",re),[]}}),[Ce,Je]=C.useState(()=>{try{const re=localStorage.getItem("clinic_appointments_data");if(re){const Te=JSON.parse(re);if(Array.isArray(Te)&&Te.length>0)return console.log("✅ PaymentListPage: Loaded appointments from localStorage on init:",Te.length),Te}}catch(re){console.error("❌ PaymentListPage: Error loading appointments from localStorage:",re)}return[]}),[ht,Xe]=C.useState(()=>{const re=H_.load(wT());return console.log("✅ PaymentListPage: Initialized with sync manager"),re}),[Lt,jt]=C.useState(!1),[Mt,pt]=C.useState(!0),[Qe,at]=C.useState(()=>{try{const re=localStorage.getItem("clinic_new_invoice_form");if(re){const Te=JSON.parse(re);return console.log("✅ PaymentListPage: Loaded invoice form from localStorage"),{...rb,includeVAT:md().defaultIncludeVAT,vatRate:md().rate,...Te}}}catch(re){console.error("❌ PaymentListPage: Error loading invoice form:",re)}return{...rb,includeVAT:md().defaultIncludeVAT,vatRate:md().rate}}),[Tt,vn]=C.useState(md()),[zt,mt]=C.useState(null),[It,lt]=C.useState(()=>{try{const re=localStorage.getItem("clinic_doctor_schedules");if(re){const Te=JSON.parse(re);if(Array.isArray(Te)&&Te.length>0)return console.log("✅ PaymentListPage: Loaded doctors from localStorage on init:",Te.length),Te}}catch(re){console.error("❌ PaymentListPage: Error loading doctors from localStorage:",re)}return console.log("ℹ️ PaymentListPage: Using default doctor schedules"),Jx});C.useEffect(()=>{if(!i||r||!n){console.log("🔄 PaymentListPage: Waiting for auth initialization...",{initialized:i,authLoading:r,hasUser:!!n});return}console.log("✅ PaymentListPage: Auth initialized, loading payment data..."),pt(!0);try{const Kt=t5();Xe(Kt),jt(!0),console.log("✅ PaymentListPage: Payment data loaded successfully")}catch(Kt){console.error("❌ PaymentListPage: Error loading payment data:",Kt)}finally{pt(!1)}const re=()=>{y(!0)},Te=()=>{Xe(wT()),l(0),d(""),S("all"),at({...rb,includeVAT:md().defaultIncludeVAT,vatRate:md().rate}),I(null),E(null),N(null),y(!1),P(!1),Y(!1),p(null),$(null),v("table"),console.log("✅ Payments reset to default state")};return window.addEventListener("userDataCleared",Te),window.addEventListener("openAddPayment",re),()=>{window.removeEventListener("userDataCleared",Te),window.removeEventListener("openAddPayment",re)}},[i,r,n]),C.useEffect(()=>{const re=e5.listen(gt=>{const Rt=e5.load([]);Je(Rt),console.log("🔄 PaymentListPage: Synced appointments from event")},"PaymentListPage"),Te=Ly.listen(gt=>{const Rt=Ly.load(Jx);lt(Rt),console.log("🔄 PaymentListPage: Synced doctors from event")},"PaymentListPage"),Kt=()=>{try{const gt=t1();$e(gt),console.log("🔄 PaymentListPage: Synced VAT adjustments from storage event"),Fe(Rt=>Rt+1)}catch(gt){console.error("Error syncing VAT adjustments:",gt)}};return window.addEventListener("vatAdjustmentsUpdated",Kt),PQ(),()=>{re(),Te(),window.removeEventListener("vatAdjustmentsUpdated",Kt)}},[]),C.useEffect(()=>{Lt&&ht.length>0&&EMe(ht)},[ht,Lt]),C.useEffect(()=>{try{localStorage.setItem("clinic_new_invoice_form",JSON.stringify(Qe)),console.log("✅ PaymentListPage: Saved invoice form to localStorage")}catch(re){console.error("❌ PaymentListPage: Error saving invoice form:",re)}},[Qe]),C.useEffect(()=>{const re=parseFloat(Qe.amount);if(!isNaN(re)&&re>0){const Te=oB(re,Qe.vatRate,Qe.includeVAT);mt(Te)}else mt(null)},[Qe.amount,Qe.vatRate,Qe.includeVAT]);const Zt=re=>Ce.filter(Te=>Te.date===re),Xt=re=>Ce.filter(Te=>Te.date===re&&(Te.status==="completed"||Te.completed===!0)),On=re=>Ce.filter(Te=>Te.date===re&&Te.status!=="completed"&&Te.completed!==!0),G=re=>{at(Te=>{var Kt;return{...Te,patient:re.patient,doctor:re.doctor,appointmentId:(Kt=re.id)==null?void 0:Kt.toString(),invoiceDate:re.date,description:`${re.type} appointment with Dr. ${re.doctor}`,category:re.type.toLowerCase().includes("consultation")?"consultation":re.type.toLowerCase().includes("checkup")?"checkup":re.type.toLowerCase().includes("emergency")?"emergency":"consultation"}}),Z(!1)},ve=Zt(new Date().toISOString().split("T")[0]),ke=Xt(new Date().toISOString().split("T")[0]),Ue=On(new Date().toISOString().split("T")[0]),it=ht.filter(re=>re.appointmentId),yt=it.filter(re=>re.date===new Date().toISOString().split("T")[0]).reduce((re,Te)=>re+(Te.status==="paid"?Te.amount:0),0),pn=(re,Te)=>{l(Te)},Sn=re=>({paid:"success",pending:"warning",overdue:"error",partial:"info"})[re]||"default",sn=re=>({paid:o.jsx(zr,{fontSize:"small"}),pending:o.jsx(nl,{fontSize:"small"}),overdue:o.jsx(As,{fontSize:"small"}),partial:o.jsx(tL,{fontSize:"small"})})[re]||o.jsx(xf,{fontSize:"small"}),Yn=re=>({"credit card":o.jsx(nL,{fontSize:"small"}),cash:o.jsx(Jb,{fontSize:"small"}),"bank transfer":o.jsx(cwe,{fontSize:"small"}),insurance:o.jsx(xf,{fontSize:"small"})})[re.toLowerCase()]||o.jsx(ml,{fontSize:"small"}),vt=re=>new Intl.NumberFormat(s?"ar-EG":"en-US",{style:"decimal",minimumFractionDigits:2}).format(re),Pn=re=>new Date(re).toLocaleDateString(s?"ar-EG":"en-US"),Mr=(()=>{let re=ht;switch(A){case"thisMonth":const Te=new Date;Te.setDate(1),re=re.filter(Rt=>new Date(Rt.date)>=Te);break;case"lastMonth":const Kt=new Date;Kt.setMonth(Kt.getMonth()-1);const gt=new Date(Kt.getFullYear(),Kt.getMonth()+1,0);Kt.setDate(1),re=re.filter(Rt=>{const Dn=new Date(Rt.date);return Dn>=Kt&&Dn<=gt});break;case"paid":re=re.filter(Rt=>Rt.status==="paid");break;case"pending":re=re.filter(Rt=>Rt.status==="pending");break;case"overdue":re=re.filter(Rt=>Rt.status==="overdue");break;case"withInsurance":re=re.filter(Rt=>Rt.insurance==="Yes");break}return c&&(re=re.filter(Te=>Te.patient.toLowerCase().includes(c.toLowerCase())||Te.invoiceId.toLowerCase().includes(c.toLowerCase())||Te.description.toLowerCase().includes(c.toLowerCase()))),re})(),hi=ht.filter(re=>re.status==="paid"),lr=hi.reduce((re,Te)=>re+Te.amount,0);hi.filter(re=>re.insurance==="Yes").reduce((re,Te)=>re+(Te.insuranceAmount||0),0);const Ut=hi.filter(re=>re.includeVAT&&(re.vatAmount||0)>0),an=Ut.reduce((re,Te)=>re+(Te.vatAmount||0),0);Ut.length>0,C.useEffect(()=>{Ce.length>0&&(iB(Ce),setTimeout(()=>{const re=rc();Xe(re),console.log(`🔄 Reloaded ${re.length} payments after processing appointments`)},100))},[Ce]);const _e=C.useMemo(()=>{console.log("📊 Calculating financial summary with:",{baseRevenue:lr,automaticVATFromPayments:an,vatAdjustments:pe.length,refreshTrigger:We}),console.log("🔍 Current VAT adjustments in state:",pe);const re=Mf(lr,an);return console.log("💰 Financial summary calculated:",{finalVATCollected:re.finalVATCollected,netVATAdjustments:re.netVATAdjustments,totalExpenses:re.totalExpenses,netProfit:re.netProfit,vatAdjustmentDetails:re.vatAdjustmentDetails}),console.log("🎯 VAT Card will show:",Math.abs(re.finalVATCollected)),re},[lr,an,pe,We]),ct=_e.adjustedRevenue,Ot=_e.netProfit;_e.grossProfit;const St=_e.totalExpenses,te=_e.finalVATCollected,Re=ht.filter(re=>re.status==="pending").reduce((re,Te)=>re+Te.amount,0),J=()=>{if(!Qe.patient||!Qe.amount||!Qe.category||!Qe.invoiceDate||!Qe.dueDate||!Qe.description||!Qe.method){D({open:!0,message:t("payment.validation.fillAllFields"),severity:"error"});return}const re=parseFloat(Qe.amount);if(isNaN(re)||re<=0){D({open:!0,message:t("payment.validation.validAmount"),severity:"error"});return}const Te=new Date(Qe.invoiceDate),Kt=new Date;if(Kt.setHours(23,59,59,999),Te>Kt){D({open:!0,message:t("payment.validation.futureDateNotAllowed"),severity:"error"});return}if(new Date(Qe.dueDate)<=Te){D({open:!0,message:t("payment.validation.dueDateAfterInvoice"),severity:"error"});return}const Rt=parseFloat(Qe.insuranceAmount)||0,Dn=oB(re,Qe.vatRate,Qe.includeVAT),Er={id:ht.length>0?Math.max(...ht.map(Po=>Po.id))+1:1,invoiceId:`INV-2024-${String(ht.length+1).padStart(3,"0")}`,patientAvatar:Qe.patient.split(" ").map(Po=>Po[0]).join("").toUpperCase(),date:Qe.invoiceDate,status:"pending",currency:"EGP",patient:Qe.patient,doctor:Qe.doctor,amount:Dn.totalAmountWithVAT,category:Qe.category,dueDate:Qe.dueDate,description:Qe.description,method:Qe.method,insurance:Rt>0?"Yes":"No",insuranceAmount:Rt,includeVAT:Dn.includeVAT,vatRate:Dn.vatRate,vatAmount:Dn.vatAmount,totalAmountWithVAT:Dn.totalAmountWithVAT,baseAmount:Dn.baseAmount,...Qe.appointmentId&&{appointmentId:Qe.appointmentId}};Xe(Po=>[Er,...Po]),y(!1),at({...rb,includeVAT:Tt.defaultIncludeVAT,vatRate:Tt.rate}),D({open:!0,message:t("payment.success.invoiceCreated",{invoiceId:Er.invoiceId,patient:Er.patient}),severity:"success"}),setTimeout(()=>{E(Er),P(!0)},1e3)},je=async(re,Te,Kt)=>{try{if(await uMe(re,Te,Kt)){const Rt=rc();Xe(Rt);const Dn=Rt.find(Po=>Po.id===re),Er=t(`payment.status.${Te}`);D({open:!0,message:`Payment ${Dn==null?void 0:Dn.invoiceId} status updated to ${Er}. ${Te==="paid"?"Notifications sent!":""}`,severity:"success"})}else throw new Error("Failed to update payment status")}catch(gt){console.error("Error updating payment status:",gt),D({open:!0,message:"Failed to update payment status. Please try again.",severity:"error"})}},tt=re=>{E(re),P(!0)},kt=re=>{D({open:!0,message:t("payment.actions.generatingPDF",{invoiceId:re.invoiceId}),severity:"info"}),setTimeout(()=>{const Te=er(re);fi(Te,`Invoice_${re.invoiceId}.txt`),D({open:!0,message:t("payment.success.invoiceDownloaded",{invoiceId:re.invoiceId}),severity:"success"})},1e3)},nt=re=>{D({open:!0,message:t("payment.actions.preparingPrint",{invoiceId:re.invoiceId}),severity:"info"}),setTimeout(()=>{const Te=lo(re);Os(Te),D({open:!0,message:t("payment.success.invoiceSentToPrinter",{invoiceId:re.invoiceId}),severity:"success"})},800)},bn=re=>{if(re.status==="paid"){D({open:!0,message:t("payment.info.alreadyPaid",{invoiceId:re.invoiceId}),severity:"info"});return}const Te=eo(re),gt=`https://wa.me/+20123456789?text=${encodeURIComponent(Te)}`;D({open:!0,message:t("payment.actions.openingWhatsApp",{patient:re.patient}),severity:"info"}),setTimeout(()=>{window.open(gt,"_blank"),D({open:!0,message:t("payment.success.reminderSent",{patient:re.patient}),severity:"success"})},1e3)},mn=re=>{var Te,Kt;Se(re),ce({amount:((Te=re.baseAmount)==null?void 0:Te.toString())||re.amount.toString(),paidAmount:((Kt=re.paidAmount)==null?void 0:Kt.toString())||"0"}),ge(!0)},Pr=async()=>{if(!fe)return;const re=parseFloat(be.amount),Te=parseFloat(be.paidAmount);if(isNaN(re)||re<=0){D({open:!0,message:"Please enter a valid amount",severity:"error"});return}if(isNaN(Te)||Te<0){D({open:!0,message:"Please enter a valid paid amount",severity:"error"});return}try{if(fMe(fe.id,re,Te)){const gt=rc();Xe(gt),ge(!1),Se(null),D({open:!0,message:`Payment ${fe.invoiceId} amount updated successfully!`,severity:"success"})}else throw new Error("Failed to update payment amount")}catch(Kt){console.error("Error updating payment amount:",Kt),D({open:!0,message:"Failed to update payment amount. Please try again.",severity:"error"})}},Ar=re=>{const Te=ht.find(Kt=>Kt.id===re);window.confirm(t("payment.confirmation.deleteInvoice",{invoiceId:Te==null?void 0:Te.invoiceId}))&&(Xe(Kt=>Kt.filter(gt=>gt.id!==re)),D({open:!0,message:t("payment.success.invoiceDeleted",{invoiceId:Te==null?void 0:Te.invoiceId}),severity:"success"}))},Bt=(re,Te)=>{re.stopPropagation(),$(re.currentTarget),N(Te)},gn=()=>{$(null),N(null)},Xn=async re=>{B&&await je(B.id,re),gn()},Ii=()=>{D(re=>({...re,open:!1}))},br=re=>{console.log("💰 VAT Adjustments saved:",re),$e(re),mMe(re),console.log("💾 VAT adjustments saved to localStorage"),Fe(Te=>{const Kt=Te+1;return console.log("🔄 Triggering financial summary recalculation:",Kt),Kt}),setTimeout(()=>{const Te=t1();console.log("🔍 Verification - Reloaded VAT adjustments from localStorage:",Te),Te.length!==re.length&&console.warn("⚠️ VAT adjustments count mismatch!")},100),D({open:!0,message:`VAT adjustments saved successfully! ${re.length} adjustments applied.`,severity:"success"})},er=re=>{const Te=re.includeVAT&&(re.vatRate||0)>0,Kt=Te?(re.vatRate||0)/100:0,gt=Te?re.amount*Kt:0,Rt=re.amount+gt,Dn=re.insurance==="Yes"?Rt-(re.insuranceAmount||0):Rt;return`
${t("invoice.title")} ${re.invoiceId}
========================================

${t("invoice.sections.billTo")}: ${re.patient}
${t("invoice.labels.issueDate")}: ${Pn(re.date)}
${t("invoice.labels.dueDate")}: ${Pn(re.dueDate)}

${t("invoice.table.description")}: ${re.description}
${t("invoice.table.category")}: ${t(`payment.categories.${re.category}`)}
${t("invoice.table.paymentMethod")}: ${t(`payment.methods.${re.method.toLowerCase().replace(" ","_")}`)}

----------------------------------------
${t("invoice.calculations.subtotal")}: ${re.currency} ${vt(re.amount)}
${Te?`${t("invoice.calculations.vat")} (${(Kt*100).toFixed(1)}%): ${re.currency} ${vt(gt)}`:`${t("invoice.calculations.vat")}: Not Applicable - ${re.currency} 0.00`}
${t("invoice.calculations.totalAmount")}: ${re.currency} ${vt(Rt)}

${re.insurance==="Yes"?`
${t("invoice.calculations.insuranceCoverage")}: ${re.currency} ${vt(re.insuranceAmount)}
${t("invoice.calculations.patientBalance")}: ${re.currency} ${vt(Dn)}
`:""}

${t("invoice.labels.status")}: ${t(`payment.status.${re.status}`).toUpperCase()}

----------------------------------------
${t("invoice.footer.generatedBy")} ${t("invoice.defaultClinic.name")} ${t("invoice.footer.managementSystem")}
${Pn(new Date().toISOString())}
  `},fi=(re,Te)=>{const Kt=new Blob([re],{type:"text/plain"}),gt=window.URL.createObjectURL(Kt),Rt=document.createElement("a");Rt.href=gt,Rt.download=Te,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),window.URL.revokeObjectURL(gt)},lo=re=>{const Te=re.includeVAT&&(re.vatRate||0)>0,Kt=Te?(re.vatRate||0)/100:0,gt=Te?re.amount*Kt:0,Rt=re.amount+gt;return re.insurance==="Yes"&&Rt-(re.insuranceAmount||0),`
    <!DOCTYPE html>
    <html dir="${s?"rtl":"ltr"}" lang="${e.language}">
    <head>
      <meta charset="UTF-8">
      <title>${t("invoice.title")} ${re.invoiceId}</title>
      <style>
        body { 
          font-family: ${s?"Noto Sans Arabic, Arial":"Arial"}, sans-serif; 
          margin: 20px; 
          line-height: 1.6;
          color: #333;
          direction: ${s?"rtl":"ltr"};
        }
        .header { 
          text-align: center; 
          border-bottom: 2px solid #1976d2; 
          padding-bottom: 20px; 
          margin-bottom: 30px;
        }
        .clinic-name { 
          font-size: 28px; 
          font-weight: bold; 
          color: #1976d2; 
          margin-bottom: 10px;
        }
        .invoice-title { 
          font-size: 24px; 
          margin: 20px 0; 
          color: #1976d2;
        }
        /* Add more styles as needed */
      </style>
    </head>
    <body>
      <div class="header">
        <div class="clinic-name">${t("invoice.defaultClinic.name")}</div>
        <div>${t("invoice.defaultClinic.address")}</div>
        <div>${t("invoice.labels.phone")}: ${t("invoice.defaultClinic.phone")} | ${t("invoice.labels.email")}: ${t("invoice.defaultClinic.email")}</div>
      </div>

      <div class="invoice-title">${t("invoice.title")}</div>

      <!-- Add complete invoice HTML structure here -->
      
    </body>
    </html>
  `},Os=re=>{const Te=window.open("","_blank");Te&&(Te.document.write(re),Te.document.close(),Te.focus(),setTimeout(()=>{Te.print(),Te.close()},500))},eo=re=>{const Te=re.includeVAT&&(re.vatRate||0)>0,Kt=Te?(re.vatRate||0)/100:0,gt=Te?re.amount*Kt:0,Rt=re.amount+gt,Dn=re.insurance==="Yes"?Rt-(re.insuranceAmount||0):Rt;return`🏥 *${t("payment.reminder.title")}*

${t("payment.reminder.dear")} ${re.patient},

${t("payment.reminder.friendlyReminder")}:

📋 *${t("invoice.labels.invoiceId")}:* ${re.invoiceId}
🗓️ *${t("invoice.labels.serviceDate")}:* ${Pn(re.date)}
📝 *${t("invoice.table.description")}:* ${re.description}
💰 *${t("payment.reminder.amountDue")}:* ${re.currency} ${vt(Dn)}
📅 *${t("invoice.labels.dueDate")}:* ${Pn(re.dueDate)}

${t("payment.reminder.pleaseArrange")}

${t("payment.reminder.questions")}

${t("payment.reminder.thankYou")} 🙏`};return Mt?o.jsx(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Loading payment data..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we load your payment information"})]})}):o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto",direction:s?"rtl":"ltr"},children:[o.jsx(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:3,color:"white",position:"relative",overflow:"hidden"},children:o.jsxs(T,{sx:{display:"flex",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",position:"relative",zIndex:1,flexDirection:{xs:"column",md:"row"},gap:{xs:3,md:0}},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,md:60},height:{xs:48,md:60},borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:s?0:{xs:2,md:3},ml:s?{xs:2,md:3}:0,backdropFilter:"blur(10px)",flexShrink:0},children:o.jsx(Jb,{sx:{fontSize:{xs:24,md:32},color:"white"}})}),o.jsxs(T,{sx:{minWidth:0},children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:1,textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("payment.title")}),o.jsx(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",md:"1.25rem"},lineHeight:1.3},children:t("payment.subtitle")})]})]}),o.jsxs(T,{sx:{display:"flex",gap:{xs:2,md:2},width:{xs:"100%",md:"auto"},flexDirection:{xs:"column",sm:"row"},alignItems:"stretch"},children:[o.jsxs(me,{variant:"contained",size:"large",startIcon:o.jsx(rr,{}),onClick:()=>y(!0),sx:{borderRadius:3,px:{xs:3,md:4},py:{xs:1.5,md:1.5},minHeight:48,backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",color:"white",fontWeight:700,textTransform:"none",fontSize:{xs:"0.9rem",md:"1.1rem"},flex:{xs:1,sm:"none"},minWidth:{xs:"auto",sm:160},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},transition:"all 0.3s ease"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.actions.createNewInvoice")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"New Invoice"})]}),o.jsxs(me,{variant:"outlined",size:"large",startIcon:o.jsx(Xl,{}),onClick:()=>Y(!0),sx:{borderRadius:3,px:{xs:3,md:4},py:{xs:1.5,md:1.5},minHeight:48,backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",color:"white",fontWeight:600,textTransform:"none",fontSize:{xs:"0.9rem",md:"1rem"},flex:{xs:1,sm:"none"},minWidth:{xs:"auto",sm:120},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&:hover":{backgroundColor:"rgba(255,255,255,0.2)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},transition:"all 0.3s ease"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.actions.exportAll")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Export All"})]})]})]})}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(bf,{title:t("payment.stats.totalRevenue"),value:`EGP ${vt(ct)}`,icon:o.jsx(ty,{}),color:"#10B981",subtitle:t("payment.stats.thisMonth"),trend:"+12.5%",trendDirection:"up"})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(bf,{title:"Net Profit (After All Expenses)",value:`EGP ${vt(Ot)}`,icon:o.jsx(Jb,{}),color:"#8B5CF6",subtitle:`Revenue: EGP ${vt(ct)} | Total Expenses: EGP ${vt(St)} | Net: EGP ${vt(Ot)}`,trend:"+15.3%",trendDirection:"up"})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(bf,{title:t("payment.stats.pendingPayments"),value:`EGP ${vt(Re)}`,icon:o.jsx(nl,{}),color:"#F59E0B",subtitle:t("payment.stats.pendingInvoices",{count:ht.filter(re=>re.status==="pending").length})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(T,{onClick:()=>le(!0),sx:{cursor:"pointer","&:hover":{transform:"scale(1.02)",transition:"transform 0.2s ease"}},children:o.jsx(bf,{title:"💼 Total Expenses (Click to Edit)",value:`EGP ${vt(St)}`,icon:o.jsx(ey,{}),color:"#EF4444",subtitle:`Salaries: EGP ${vt(_e.totalSalaryExpenses)} | Business: EGP ${vt(_e.totalBusinessExpenses)}`,trend:St>0?"Active":"None",trendDirection:St>0?"up":void 0})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(bf,{title:"Today's Appointments Revenue",value:`EGP ${vt(yt)}`,icon:o.jsx(En,{}),color:"#2196F3",subtitle:`${ve.length} appointments: ${ke.length} completed • ${Ue.length} pending`,trend:yt>0?`+EGP ${vt(yt)}`:"No Revenue",trendDirection:yt>0?"up":void 0})}),o.jsx(V,{item:!0,xs:12,sm:6,md:2,children:o.jsx(T,{onClick:()=>Tt.enabled&&K(!0),sx:{cursor:Tt.enabled?"pointer":"default","&:hover":Tt.enabled?{transform:"scale(1.02)",transition:"transform 0.2s ease"}:{}},children:o.jsx(bf,{title:Tt.enabled?"VAT Adjustments (Click to Edit)":"Appointment Payments",value:Tt.enabled?`EGP ${vt(Math.abs(te))}`:it.length,icon:Tt.enabled?o.jsx(G1,{}):o.jsx(xf,{}),color:Tt.enabled?te!==0?"#F59E0B":"#9CA3AF":"#673AB7",subtitle:Tt.enabled?te!==0?`Manual VAT Adjustments: ${_e.netVATAdjustments>=0?"+":""}EGP ${vt(Math.abs(_e.netVATAdjustments))} | ${_e.vatAdjustmentDetails.length} adjustment(s)`:`Rate: ${Tt.rate}% | Click to add manual VAT adjustments`:`${it.length} linked to appointments`,trend:te!==0?te>0?"+Manual":"-Manual":"0%",trendDirection:te>0?"up":te<0?"down":void 0})})})]}),o.jsx(V,{container:!0,spacing:3,children:o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:3,borderBottom:1,borderColor:"divider"},children:o.jsxs(V,{container:!0,spacing:2,alignItems:"center",children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,placeholder:t("payment.search.placeholder"),value:c,onChange:re=>d(re.target.value),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(K1,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{display:"flex",gap:{xs:1.5,md:2},justifyContent:{xs:"flex-start",md:"flex-end"},flexWrap:"wrap",alignItems:"center"},children:[o.jsxs(me,{variant:"outlined",startIcon:o.jsx(bs,{}),onClick:re=>p(re.currentTarget),sx:{minHeight:48,px:{xs:3,md:3},py:{xs:1.5,md:1.5},fontSize:{xs:"0.875rem",md:"0.875rem"},borderRadius:2,fontWeight:600,minWidth:{xs:"auto",sm:100},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.actions.filter")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Filter"})]}),o.jsxs(me,{variant:"outlined",startIcon:o.jsx(Xl,{}),onClick:()=>Y(!0),sx:{minHeight:48,px:{xs:3,md:3},py:{xs:1.5,md:1.5},fontSize:{xs:"0.875rem",md:"0.875rem"},borderRadius:2,fontWeight:600,minWidth:{xs:"auto",sm:100},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.actions.export")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Export"})]}),o.jsxs(me,{variant:x==="table"?"contained":"outlined",onClick:()=>v("table"),sx:{minHeight:48,px:{xs:3,md:3},py:{xs:1.5,md:1.5},fontSize:{xs:"0.875rem",md:"0.875rem"},borderRadius:2,fontWeight:600,minWidth:{xs:"auto",sm:90},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.view.table")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Table"})]}),o.jsxs(me,{variant:x==="cards"?"contained":"outlined",onClick:()=>v("cards"),sx:{minHeight:48,px:{xs:3,md:3},py:{xs:1.5,md:1.5},fontSize:{xs:"0.875rem",md:"0.875rem"},borderRadius:2,fontWeight:600,minWidth:{xs:"auto",sm:90},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:[o.jsx(T,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:t("payment.view.cards")}),o.jsx(T,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:"Cards"})]})]})})]})}),o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",px:3},children:o.jsxs(_l,{value:a,onChange:pn,children:[o.jsx(un,{label:t("payment.tabs.all",{count:ht.length})}),o.jsx(un,{label:t("payment.tabs.paid",{count:ht.filter(re=>re.status==="paid").length})}),o.jsx(un,{label:t("payment.tabs.pending",{count:ht.filter(re=>re.status==="pending").length})}),o.jsx(un,{label:t("payment.tabs.overdue",{count:ht.filter(re=>re.status==="overdue").length})})]})}),x==="table"&&o.jsx(sB,{value:a,index:0,children:o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.invoice")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.amount")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.method")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.date")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("payment.table.actions")})]})}),o.jsx(xi,{children:Mr.map(re=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:re.invoiceId}),o.jsx(w,{variant:"caption",color:"text.secondary",children:re.description})]})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:32,height:32,mr:s?0:1.5,ml:s?1.5:0,backgroundColor:"primary.main",fontSize:"0.75rem"},children:re.patientAvatar}),o.jsx(w,{variant:"body2",children:re.patient})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsxs(w,{variant:"body2",fontWeight:600,children:[re.currency," ",vt(re.amount)]}),re.insurance==="Yes"&&o.jsxs(w,{variant:"caption",color:"info.main",children:[t("payment.table.insurance"),": ",re.currency," ",vt(re.insuranceAmount)]})]})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[Yn(re.method),o.jsx(w,{variant:"body2",sx:{ml:s?0:1,mr:s?1:0},children:t(`payment.methods.${re.method.toLowerCase().replace(" ","_")}`)})]})}),o.jsx(ae,{children:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",children:Pn(re.date)}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[t("payment.table.due"),": ",Pn(re.dueDate)]})]})}),o.jsx(ae,{children:o.jsx(Ze,{title:t("payment.actions.clickToChangeStatus"),children:o.jsx(Ke,{icon:sn(re.status),label:t(`payment.status.${re.status}`),color:Sn(re.status),size:"small",variant:"filled",clickable:!0,onClick:Te=>Bt(Te,re),sx:{cursor:"pointer",fontWeight:600,textTransform:"capitalize","&:hover":{transform:"scale(1.05)",boxShadow:2},transition:"all 0.2s ease"}})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:t("payment.actions.viewInvoice"),children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>tt(re),children:o.jsx(xf,{fontSize:"small"})})}),o.jsx(Ze,{title:t("payment.actions.downloadPDF"),children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>kt(re),children:o.jsx(Xl,{fontSize:"small"})})}),o.jsx(Ze,{title:t("payment.actions.sendReminder"),children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>bn(re),children:o.jsx(aL,{fontSize:"small"})})}),o.jsx(Ze,{title:t("payment.actions.edit"),children:o.jsx(qe,{size:"small",color:"primary",onClick:()=>mn(re),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:t("payment.actions.delete"),children:o.jsx(qe,{size:"small",color:"error",onClick:()=>Ar(re.id),children:o.jsx(wwe,{fontSize:"small"})})})]})})]},re.id))})]})})}),x==="cards"&&o.jsx(sB,{value:a,index:0,children:o.jsx(V,{container:!0,spacing:3,sx:{p:3},children:Mr.map(re=>o.jsx(V,{item:!0,xs:12,sm:6,md:6,children:o.jsx(Ve,{sx:{height:"100%","&:hover":{boxShadow:4},border:re.status==="overdue"?"2px solid #EF4444":re.status==="pending"?"2px solid #F59E0B":"none"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:re.invoiceId}),o.jsx(Ze,{title:t("payment.actions.clickToChangeStatus"),children:o.jsx(Ke,{icon:sn(re.status),label:t(`payment.status.${re.status}`),color:Sn(re.status),size:"small",variant:"filled",clickable:!0,onClick:Te=>Bt(Te,re),sx:{cursor:"pointer",fontWeight:600,textTransform:"capitalize","&:hover":{transform:"scale(1.05)",boxShadow:2},transition:"all 0.2s ease"}})})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(dn,{sx:{width:40,height:40,mr:s?0:2,ml:s?2:0,backgroundColor:"primary.main"},children:re.patientAvatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body1",fontWeight:600,children:re.patient}),o.jsx(w,{variant:"body2",color:"text.secondary",children:re.description})]})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:6,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("payment.fields.amount")}),o.jsxs(w,{variant:"h6",fontWeight:600,color:"primary.main",children:[re.currency," ",vt(re.amount)]})]}),o.jsxs(V,{item:!0,xs:6,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("payment.fields.dueDate")}),o.jsx(w,{variant:"body2",fontWeight:600,children:Pn(re.dueDate)})]}),o.jsxs(V,{item:!0,xs:6,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("payment.fields.method")}),o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[Yn(re.method),o.jsx(w,{variant:"body2",sx:{ml:s?0:.5,mr:s?.5:0},children:t(`payment.methods.${re.method.toLowerCase().replace(" ","_")}`)})]})]}),o.jsxs(V,{item:!0,xs:6,children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("payment.fields.insurance")}),o.jsx(w,{variant:"body2",fontWeight:600,children:re.insurance==="Yes"?`${re.currency} ${vt(re.insuranceAmount)}`:t("payment.insurance.none")})]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[o.jsx(me,{size:"small",startIcon:o.jsx(xf,{}),onClick:()=>tt(re),children:t("payment.actions.view")}),o.jsx(me,{size:"small",startIcon:o.jsx(Xl,{}),onClick:()=>kt(re),children:t("payment.actions.download")}),o.jsx(me,{size:"small",startIcon:o.jsx(aL,{}),onClick:()=>bn(re),children:t("payment.actions.send")})]})]})})},re.id))})})]})})})}),o.jsx(T,{sx:{mt:4},children:o.jsx(V,{container:!0,spacing:3,children:o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{height:"100%",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",border:"1px solid #e9ecef",borderRadius:3,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:o.jsxs(st,{sx:{p:4},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx(nL,{sx:{fontSize:28,color:"primary.main",mr:s?0:2,ml:s?2:0}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("payment.analytics.paymentMethods")})]}),["Credit Card","Cash","Bank Transfer","Insurance"].map(re=>{const Te=ht.filter(Rt=>Rt.method===re).length,Kt=ht.length>0?Te/ht.length*100:0,gt=ht.filter(Rt=>Rt.method===re).reduce((Rt,Dn)=>Rt+Dn.amount,0);return o.jsxs(T,{sx:{mb:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[Yn(re),o.jsx(w,{variant:"body1",fontWeight:600,children:t(`payment.methods.${re.toLowerCase().replace(" ","_")}`)})]}),o.jsxs(w,{variant:"body2",fontWeight:600,children:["EGP ",vt(gt)]})]}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Od,{variant:"determinate",value:Kt,sx:{flex:1,height:8,borderRadius:2,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:2,backgroundColor:re==="Credit Card"?"#1976d2":re==="Cash"?"#2e7d32":re==="Bank Transfer"?"#ed6c02":"#9c27b0"}}}),o.jsxs(w,{variant:"caption",fontWeight:600,sx:{minWidth:40},children:[Kt.toFixed(0),"%"]})]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.analytics.transactions",{count:Te})})]},re)})]})})})})}),o.jsxs(In,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{direction:s?"rtl":"ltr"}},children:[o.jsx(kn,{children:t("payment.dialogs.createNewInvoice")}),o.jsxs(Tn,{children:[o.jsxs(T,{sx:{mb:3,p:2,bgcolor:"primary.light",borderRadius:2,border:"1px solid",borderColor:"primary.main"},children:[o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,mb:2,color:"primary.main",display:"flex",alignItems:"center",gap:1},children:[o.jsx(En,{fontSize:"small"}),"Select Date to View Appointments"]}),o.jsxs(V,{container:!0,spacing:2,alignItems:"center",children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Appointment Date",type:"date",value:ne,onChange:re=>Q(re.target.value),InputLabelProps:{shrink:!0},size:"small"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(me,{variant:"outlined",startIcon:o.jsx(Lr,{}),onClick:()=>Z(!ee),disabled:Xt(ne).length===0,size:"small",sx:{height:40,fontSize:"0.875rem",whiteSpace:"nowrap"},children:["View Appointments (",Xt(ne).length,")"]})})]}),ee&&o.jsxs(T,{sx:{mt:2},children:[o.jsxs(w,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:["🏥 Completed appointments for ",Pn(ne),":"]}),Xt(ne).length>0?o.jsx(T,{sx:{maxHeight:200,overflowY:"auto"},children:Xt(ne).map((re,Te)=>o.jsx(Qi,{sx:{p:2,mb:1,cursor:"pointer",border:"1px solid",borderColor:"divider","&:hover":{borderColor:"primary.main",backgroundColor:"primary.light"}},onClick:()=>G(re),children:o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs(T,{children:[o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["👤 ",re.patient," • 🩺 Dr. ",re.doctor]}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:["⏰ ",re.time," • 📋 ",re.type," • 📍 ",re.location]})]}),o.jsx(Ke,{label:"Select",size:"small",color:"primary",variant:"outlined"})]})},re.id||Te))}):o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",textAlign:"center",py:2},children:"No completed appointments found for this date"})]})]}),o.jsxs(V,{container:!0,spacing:2,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"patient",label:t("payment.fields.patientName"),required:!0,value:Qe.patient,onChange:re=>at(Te=>({...Te,patient:re.target.value})),placeholder:t("payment.placeholders.patientName")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,required:!0,children:[o.jsx(jn,{children:"Doctor"}),o.jsx(yn,{name:"doctor",label:"Doctor",value:Qe.doctor,onChange:re=>at(Te=>({...Te,doctor:re.target.value})),children:It.map(re=>o.jsx(ye,{value:re.name,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(pl,{sx:{fontSize:18,color:"primary.main"}}),o.jsxs(T,{children:[o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["Dr. ",re.name]}),o.jsx(w,{variant:"caption",color:"text.secondary",children:re.specialty})]})]})},re.id))})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"amount",label:t("payment.fields.amount"),type:"number",required:!0,value:Qe.amount,onChange:re=>at(Te=>({...Te,amount:re.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:.01}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"invoiceDate",label:t("payment.fields.invoiceDate"),type:"date",required:!0,value:Qe.invoiceDate,onChange:re=>at(Te=>({...Te,invoiceDate:re.target.value})),InputLabelProps:{shrink:!0},inputProps:{max:new Date().toISOString().split("T")[0]},helperText:t("payment.helpers.serviceDate")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,required:!0,children:[o.jsx(jn,{children:t("payment.fields.serviceCategory")}),o.jsxs(yn,{name:"category",label:t("payment.fields.serviceCategory"),value:Qe.category,onChange:re=>at(Te=>({...Te,category:re.target.value})),children:[o.jsx(ye,{value:"consultation",children:t("payment.categories.consultation")}),o.jsx(ye,{value:"checkup",children:t("payment.categories.checkup")}),o.jsx(ye,{value:"surgery",children:t("payment.categories.surgery")}),o.jsx(ye,{value:"emergency",children:t("payment.categories.emergency")}),o.jsx(ye,{value:"followup",children:t("payment.categories.followup")}),o.jsx(ye,{value:"procedure",children:t("payment.categories.procedure")})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"dueDate",label:t("payment.fields.dueDate"),type:"date",required:!0,value:Qe.dueDate,onChange:re=>at(Te=>({...Te,dueDate:re.target.value})),InputLabelProps:{shrink:!0},inputProps:{min:new Date().toISOString().split("T")[0]}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,name:"description",label:t("payment.fields.description"),multiline:!0,rows:3,required:!0,value:Qe.description,onChange:re=>at(Te=>({...Te,description:re.target.value})),placeholder:t("payment.placeholders.description")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,required:!0,children:[o.jsx(jn,{children:t("payment.fields.paymentMethod")}),o.jsxs(yn,{name:"method",label:t("payment.fields.paymentMethod"),value:Qe.method,onChange:re=>at(Te=>({...Te,method:re.target.value})),children:[o.jsx(ye,{value:"Cash",children:t("payment.methods.cash")}),o.jsx(ye,{value:"Credit Card",children:t("payment.methods.credit_card")}),o.jsx(ye,{value:"Bank Transfer",children:t("payment.methods.bank_transfer")}),o.jsx(ye,{value:"Insurance",children:t("payment.methods.insurance")})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"insuranceAmount",label:t("payment.fields.insuranceCoverage"),type:"number",value:Qe.insuranceAmount,onChange:re=>at(Te=>({...Te,insuranceAmount:re.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:.01},placeholder:"0",helperText:t("payment.helpers.insuranceCoverage")})}),Tt.enabled&&o.jsxs(o.Fragment,{children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Nn,{sx:{my:2},children:o.jsx(Ke,{label:"VAT Settings",icon:o.jsx(G1,{})})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(ei,{control:o.jsx(ti,{checked:Qe.includeVAT,onChange:re=>at(Te=>({...Te,includeVAT:re.target.checked})),color:"primary"}),label:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:"Include VAT"}),o.jsx(w,{variant:"caption",color:"text.secondary",children:"Add VAT to the invoice amount"})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,name:"vatRate",label:"VAT Rate",type:"number",value:Qe.vatRate,onChange:re=>at(Te=>({...Te,vatRate:parseFloat(re.target.value)||0})),InputProps:{endAdornment:o.jsx(Bn,{position:"end",children:"%"})},inputProps:{min:0,max:100,step:.1},disabled:!Qe.includeVAT,helperText:Qe.includeVAT?"Current VAT rate":"Enable VAT to set rate"})}),zt&&Qe.includeVAT&&o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{p:2,bgcolor:"primary.light",borderRadius:2,border:"1px solid",borderColor:"primary.main"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1,color:"primary.main"},children:"📊 VAT Calculation Preview"}),o.jsxs(V,{container:!0,spacing:1,children:[o.jsx(V,{item:!0,xs:12,sm:4,children:o.jsxs(w,{variant:"body2",children:["💰 Base Amount: ",o.jsxs("strong",{children:["EGP ",zt.baseAmount.toFixed(2)]})]})}),o.jsx(V,{item:!0,xs:12,sm:4,children:o.jsxs(w,{variant:"body2",children:["📈 VAT (",zt.vatRate,"%): ",o.jsxs("strong",{children:["EGP ",zt.vatAmount.toFixed(2)]})]})}),o.jsx(V,{item:!0,xs:12,sm:4,children:o.jsxs(w,{variant:"body2",sx:{fontWeight:600},children:["💳 Total with VAT: ",o.jsxs("strong",{children:["EGP ",zt.totalAmountWithVAT.toFixed(2)]})]})})]})]})})]})]})]}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>y(!1),children:t("common.cancel")}),o.jsx(me,{variant:"contained",onClick:J,children:t("payment.actions.createInvoice")})]})]}),o.jsxs(In,{open:k,onClose:()=>P(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"90vh",backgroundColor:"#f5f5f5",direction:s?"rtl":"ltr"}},children:[o.jsxs(kn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:t("payment.dialogs.invoicePreview")}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(tK,{}),onClick:()=>R&&window.navigator.share&&window.navigator.share({title:`${t("invoice.title")} ${R.invoiceId}`,text:`${t("invoice.title")} ${t("common.for")} ${R.patient}`,url:window.location.href}),children:t("payment.actions.share")}),o.jsx(me,{variant:"contained",startIcon:o.jsx(Xl,{}),onClick:()=>R&&kt(R),children:t("payment.actions.download")})]})]}),o.jsx(Tn,{sx:{p:3},children:R&&o.jsx(SMe,{invoiceData:R,onDownload:()=>kt(R),onPrint:()=>nt(R),onShare:()=>window.navigator.share&&window.navigator.share({title:`${t("invoice.title")} ${R.invoiceId}`,text:`${t("invoice.title")} ${t("common.for")} ${R.patient}`,url:window.location.href})})}),o.jsx($n,{children:o.jsx(me,{onClick:()=>P(!1),children:t("common.close")})})]}),o.jsxs(bl,{anchorEl:f,open:!!f,onClose:()=>p(null),PaperProps:{sx:{minWidth:200,borderRadius:2,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",direction:s?"rtl":"ltr"}},children:[o.jsxs(T,{sx:{px:2,py:1,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",fontWeight:600,children:t("payment.filters.title")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.filters.subtitle")})]}),o.jsx(ye,{onClick:()=>{S("all"),p(null)},selected:A==="all",sx:{py:1.5},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(xf,{sx:{color:"text.secondary",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.allPayments")})]})}),o.jsx(ye,{onClick:()=>{S("thisMonth"),p(null)},selected:A==="thisMonth",sx:{py:1.5},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(En,{sx:{color:"primary.main",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.thisMonth")})]})}),o.jsx(ye,{onClick:()=>{S("lastMonth"),p(null)},selected:A==="lastMonth",sx:{py:1.5},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(_we,{sx:{color:"text.secondary",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.lastMonth")})]})}),o.jsx(Nn,{}),o.jsx(ye,{onClick:()=>{S("paid"),p(null)},selected:A==="paid",sx:{py:1.5,"&:hover":{backgroundColor:"success.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(zr,{sx:{color:"success.main",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.paidOnly")})]})}),o.jsx(ye,{onClick:()=>{S("pending"),p(null)},selected:A==="pending",sx:{py:1.5,"&:hover":{backgroundColor:"warning.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(nl,{sx:{color:"warning.main",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.pendingOnly")})]})}),o.jsx(ye,{onClick:()=>{S("overdue"),p(null)},selected:A==="overdue",sx:{py:1.5,"&:hover":{backgroundColor:"error.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(As,{sx:{color:"error.main",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.overdueOnly")})]})}),o.jsx(ye,{onClick:()=>{S("withInsurance"),p(null)},selected:A==="withInsurance",sx:{py:1.5},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(pl,{sx:{color:"info.main",fontSize:20}}),o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.filters.withInsurance")})]})})]}),o.jsxs(bl,{anchorEl:L,open:!!L,onClose:gn,PaperProps:{sx:{minWidth:200,borderRadius:2,boxShadow:"0 8px 24px rgba(0,0,0,0.12)",direction:s?"rtl":"ltr"}},children:[o.jsxs(T,{sx:{px:2,py:1,borderBottom:1,borderColor:"divider"},children:[o.jsx(w,{variant:"subtitle2",fontWeight:600,children:t("payment.statusMenu.title")}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[B==null?void 0:B.invoiceId," • ",B==null?void 0:B.patient]})]}),o.jsx(ye,{onClick:()=>Xn("pending"),disabled:(B==null?void 0:B.status)==="pending",sx:{py:1.5,"&:hover":{backgroundColor:"warning.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(nl,{sx:{color:"warning.main",fontSize:20}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.status.pending")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.statusMenu.pendingDesc")})]})]})}),o.jsx(ye,{onClick:()=>Xn("paid"),disabled:(B==null?void 0:B.status)==="paid",sx:{py:1.5,"&:hover":{backgroundColor:"success.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(zr,{sx:{color:"success.main",fontSize:20}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.status.paid")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.statusMenu.paidDesc")})]})]})}),o.jsx(ye,{onClick:()=>Xn("overdue"),disabled:(B==null?void 0:B.status)==="overdue",sx:{py:1.5,"&:hover":{backgroundColor:"error.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(As,{sx:{color:"error.main",fontSize:20}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.status.overdue")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.statusMenu.overdueDesc")})]})]})}),o.jsx(ye,{onClick:()=>Xn("partial"),disabled:(B==null?void 0:B.status)==="partial",sx:{py:1.5,"&:hover":{backgroundColor:"info.light"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(tL,{sx:{color:"info.main",fontSize:20}}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t("payment.status.partial")}),o.jsx(w,{variant:"caption",color:"text.secondary",children:t("payment.statusMenu.partialDesc")})]})]})})]}),o.jsx(xm,{open:O.open,autoHideDuration:4e3,onClose:Ii,anchorOrigin:{vertical:"bottom",horizontal:s?"left":"right"},children:o.jsx(Zn,{onClose:Ii,severity:O.severity,variant:"filled",sx:{width:"100%"},children:O.message})}),o.jsx(CMe,{open:de,onClose:()=>K(!1),currentRevenue:lr,currentVATCollected:0,onSave:br}),o.jsx(PMe,{open:se,onClose:()=>le(!1),totalRevenue:lr,automaticVATFromPayments:an}),o.jsxs(In,{open:oe,onClose:()=>ge(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(kn,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"💰 Edit Payment Amount"}),fe&&o.jsxs(w,{variant:"body2",color:"text.secondary",children:[fe.invoiceId," • ",fe.patient]})]}),o.jsx(Tn,{children:o.jsx(T,{sx:{pt:2},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Payment Amount",type:"number",value:be.amount,onChange:re=>ce(Te=>({...Te,amount:re.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:.01},helperText:"Base amount (before VAT)"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Paid Amount",type:"number",value:be.paidAmount,onChange:re=>ce(Te=>({...Te,paidAmount:re.target.value})),InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:"EGP"})},inputProps:{min:0,step:.01},helperText:"Amount already paid by patient"})}),fe&&o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{p:2,bgcolor:"grey.50",borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"💳 Current Payment Info"}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Current Total: EGP ",vt(fe.amount),o.jsx("br",{}),"Current Paid: EGP ",vt(fe.paidAmount||0),o.jsx("br",{}),"Current Status: ",fe.status]})]})})]})})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>ge(!1),children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:Pr,sx:{fontWeight:600},children:"💾 Save Changes"})]})]}),o.jsx(Ze,{title:"Process All Appointments to Create Payments",placement:"left",children:o.jsx(me,{variant:"contained",onClick:()=>{const re=iB(Ce);setTimeout(()=>{const Te=rc();Xe(Te),D({open:!0,message:`🔄 Processed ${Ce.length} appointments, ${re.length} payments created/updated!`,severity:"success"})},100)},sx:{position:"fixed",bottom:100,right:24,borderRadius:"50%",width:64,height:64,minWidth:64,background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",color:"white",boxShadow:"0 8px 32px rgba(76, 175, 80, 0.4)",zIndex:1e3,"&:hover":{background:"linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%)",transform:"scale(1.1)",boxShadow:"0 12px 48px rgba(76, 175, 80, 0.6)"},transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},children:"📋"})}),o.jsx(Ze,{title:"Test Payment Notification System",placement:"left",children:o.jsx(me,{variant:"contained",onClick:()=>dMe(),sx:{position:"fixed",bottom:24,right:24,borderRadius:"50%",width:64,height:64,minWidth:64,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.4)",zIndex:1e3,"&:hover":{background:"linear-gradient(135deg, #764ba2 0%, #f093fb 100%)",transform:"scale(1.1)",boxShadow:"0 12px 48px rgba(102, 126, 234, 0.6)"},transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},children:"💰"})})]})},Ur={primary:"#1976d2",success:"#4caf50",warning:"#ff9800",error:"#f44336",info:"#00bcd4",purple:"#9c27b0",gradient:{blue:"linear-gradient(135deg, #1976d2 0%, #2196f3 100%)",green:"linear-gradient(135deg, #4caf50 0%, #66bb6a 100%)",orange:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)",purple:"linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%)"}},bb=({title:t,value:e,icon:n,gradient:r,change:i,trend:s,subtitle:a})=>o.jsxs(Ve,{sx:{height:"100%",position:"relative",overflow:"hidden",background:r,color:"white",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 16px 48px rgba(0,0,0,0.15)"}},children:[o.jsxs(st,{sx:{p:{xs:2,md:3},position:"relative",zIndex:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:{xs:1.5,md:2},flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[o.jsx(T,{sx:{width:{xs:40,md:56},height:{xs:40,md:56},borderRadius:{xs:"12px",md:"16px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",backdropFilter:"blur(10px)"},children:n}),i&&o.jsx(Ke,{size:"small",label:i,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontWeight:700,backdropFilter:"blur(10px)",fontSize:{xs:"0.7rem",md:"0.75rem"},height:{xs:24,md:32}}})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:800,mb:.5,color:"white",fontSize:{xs:"1.5rem",sm:"2rem",md:"3rem"},textAlign:{xs:"center",sm:"left"}},children:e}),o.jsx(w,{variant:"body1",sx:{color:"rgba(255,255,255,0.9)",fontWeight:600,fontSize:{xs:"0.8rem",md:"1rem"},textAlign:{xs:"center",sm:"left"}},children:t}),a&&o.jsx(w,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)",display:"block",mt:.5,fontSize:{xs:"0.7rem",md:"0.75rem"},textAlign:{xs:"center",sm:"left"}},children:a})]}),o.jsx(T,{sx:{position:"absolute",top:-20,right:-20,width:80,height:80,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}}),o.jsx(T,{sx:{position:"absolute",bottom:-30,left:-30,width:100,height:100,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.05)",zIndex:1}})]}),aB=()=>{const{t}=Dr(),{user:e,loading:n,initialized:r}=ym(),[i,s]=C.useState(0),[a,l]=C.useState(!0),[c,d]=C.useState(()=>{try{const A=localStorage.getItem("clinic_appointments_data");if(A){const S=JSON.parse(A);if(Array.isArray(S)&&S.length>0)return console.log("✅ DashboardPage: Loaded appointments from localStorage on init:",S.length),S}}catch(A){console.error("❌ DashboardPage: Error loading appointments from localStorage:",A)}return Dd()}),[f,p]=C.useState(()=>{try{const A=localStorage.getItem("clinic_patients_data");if(A){const S=JSON.parse(A);if(Array.isArray(S)&&S.length>0)return console.log("✅ DashboardPage: Loaded patients from localStorage on init:",S.length),S}}catch(A){console.error("❌ DashboardPage: Error loading patients from localStorage:",A)}return[]}),[m,y]=C.useState(()=>{try{const A=localStorage.getItem("clinic_payments_data");if(A){const S=JSON.parse(A);if(Array.isArray(S)&&S.length>0)return console.log("✅ DashboardPage: Loaded payments from localStorage on init:",S.length),S}}catch(A){console.error("❌ DashboardPage: Error loading payments from localStorage:",A)}return[]}),x=Jx;C.useEffect(()=>{if(!r||n||!e){console.log("🔄 DashboardPage: Waiting for auth initialization...",{initialized:r,authLoading:n,hasUser:!!e});return}console.log("✅ DashboardPage: Auth initialized, loading dashboard data..."),l(!0);try{const S=gh();d(S.length>0?S:Dd());const k=$y();p(k);const P=t5();y(P),CQ(),console.log("✅ DashboardPage: Dashboard data loaded successfully")}catch(S){console.error("❌ DashboardPage: Error loading dashboard data:",S)}finally{l(!1)}const A=()=>{d(Dd()),p([]),y([]),s(S=>S+1),console.log("✅ Dashboard reset to default state")};return window.addEventListener("userDataCleared",A),()=>{window.removeEventListener("userDataCleared",A)}},[i,r,n,e]);const v=()=>{if(!r||n||!e){console.log("⚠️ DashboardPage: Cannot refresh data - auth not ready");return}console.log("🔄 DashboardPage: Refreshing dashboard data..."),l(!0);try{s(P=>P+1);const A=gh();d(A.length>0?A:Dd());const S=$y();p(S);const k=t5();y(k),console.log("✅ DashboardPage: Dashboard data refreshed successfully")}catch(A){console.error("❌ DashboardPage: Error refreshing dashboard data:",A)}finally{l(!1)}},b=C.useMemo(()=>{const A=new Date().toISOString().split("T")[0],S=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],k=x.filter(oe=>!oe.offDays.includes(S[new Date().getDay()])),P=c.filter(oe=>oe.date===A),R=c.filter(oe=>oe.status==="completed"||oe.completed===!0),E=c.filter(oe=>oe.status==="pending"||oe.status==="confirmed"&&!oe.completed),O=c.filter(oe=>oe.status==="confirmed"),D=c.filter(oe=>oe.status==="cancelled"||oe.status==="no-show"),L=m.filter(oe=>oe.status==="paid"),$=m.filter(oe=>oe.status==="pending"),B=m.filter(oe=>oe.status==="overdue"),N=m.filter(oe=>oe.status==="partial"),q=L.reduce((oe,ge)=>oe+ge.amount,0),Y=$.reduce((oe,ge)=>oe+ge.amount,0),ne=B.reduce((oe,ge)=>oe+ge.amount,0),Q=N.reduce((oe,ge)=>oe+ge.amount,0);console.log("💰 Revenue Analytics Debug:",{allPayments:m.length,paidCount:L.length,pendingCount:$.length,overdueCount:B.length,partialCount:N.length,totalRevenue:`EGP ${q}`,totalPendingRevenue:`EGP ${Y}`,totalOverdueRevenue:`EGP ${ne}`,totalPartialRevenue:`EGP ${Q}`,paymentDetails:m.map(oe=>({patient:oe.patient,amount:`EGP ${oe.amount}`,status:oe.status,currency:oe.currency}))});const ee=new Set(c.map(oe=>oe.patient)).size,Z=f.filter(oe=>oe.status==="new").length,de=c.length>0?Math.round(c.reduce((oe,ge)=>oe+(ge.duration||30),0)/c.length):30,K=[];for(let oe=6;oe>=0;oe--){const ge=new Date;ge.setDate(ge.getDate()-oe);const fe=ge.toISOString().split("T")[0],Se=c.filter(be=>be.date===fe);K.push({name:ge.toLocaleDateString("en",{weekday:"short"}),date:fe,appointments:Se.length,completed:Se.filter(be=>be.status==="completed"||be.completed).length,pending:Se.filter(be=>be.status==="pending").length,cancelled:Se.filter(be=>be.status==="cancelled"||be.status==="no-show").length})}const se=x.reduce((oe,ge)=>{const fe=c.filter(Se=>{var be;return Se.doctor===ge.name||((be=Se.doctor)==null?void 0:be.includes(ge.name.replace("Dr. ","")))||Se.type===ge.specialty});return oe[ge.specialty]=fe.length,oe},{});console.log("🔍 Department Status Debug:",{doctors:x.map(oe=>({name:oe.name,specialty:oe.specialty})),appointments:c.map(oe=>({doctor:oe.doctor,type:oe.type})),specialtyStats:se});const le=x.map(oe=>{const ge=c.filter(ce=>{var We;return ce.doctor===oe.name||((We=ce.doctor)==null?void 0:We.includes(oe.name.replace("Dr. ","")))}),fe=ge.filter(ce=>ce.status==="completed"||ce.completed).length,Se=ge.length,be=Se>0?Math.round(fe/Se*100):0;return{id:oe.id,name:oe.name,avatar:oe.avatar,specialty:oe.specialty,appointments:Se,completed:fe,efficiency:be,workingHours:oe.workingHours||{start:"09:00",end:"17:00"},offDays:oe.offDays||[]}});return{workingDoctors:k.length,totalDoctors:x.length,totalAppointments:c.length,todayAppointments:P.length,completedAppointments:R.length,pendingAppointments:E.length,confirmedAppointments:O.length,cancelledAppointments:D.length,totalRevenue:q,totalPendingRevenue:Y,totalOverdueRevenue:ne,totalPartialRevenue:Q,avgRevenuePerPayment:L.length>0?Math.round(q/L.length):0,totalPayments:m.length,paidPayments:L.length,pendingPayments:$.length,overduePayments:B.length,partialPayments:N.length,totalPatients:f.length,uniquePatients:ee,newPatients:Z,avgConsultationTime:de,clinicUtilization:Math.round(c.length/(x.length*8)*100),weeklyData:K,specialtyStats:se,doctorPerformance:le,statusDistribution:[{name:t("completed"),value:R.length,color:"#4caf50"},{name:t("confirmed"),value:O.length,color:"#2196f3"},{name:t("pending"),value:E.length,color:"#ff9800"},{name:t("cancelled"),value:D.length,color:"#f44336"}].filter(oe=>oe.value>0)}},[c,f,x,i]),I=Object.entries(b.specialtyStats).map(([A,S],k)=>({name:A,value:S,color:[Ur.primary,Ur.success,Ur.warning,Ur.purple][k%4]}));return a?o.jsx(di,{maxWidth:"xl",sx:{mt:{xs:2,md:4},mb:{xs:2,md:4},flex:1,overflow:"auto"},children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",gap:2},children:[o.jsx(Jn,{size:60}),o.jsx(w,{variant:"h6",color:"textSecondary",children:"Loading dashboard data..."}),o.jsx(w,{variant:"body2",color:"textSecondary",children:"Please wait while we load your clinic data"})]})}):o.jsxs(di,{maxWidth:"xl",sx:{mt:{xs:2,md:4},mb:{xs:2,md:4},flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:{xs:3,md:4},p:{xs:3,md:4},background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:{xs:3,md:4},color:"white",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{position:"relative",zIndex:2},children:o.jsxs(T,{sx:{display:"flex",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:0}},children:[o.jsxs(T,{children:[o.jsxs(w,{variant:"h3",sx:{fontWeight:800,mb:1,fontSize:{xs:"1.75rem",sm:"2.25rem",md:"3rem"}},children:[t("clinical_dashboard")," 🏥"]}),o.jsx(w,{variant:"h6",sx:{opacity:.9,fontWeight:400,fontSize:{xs:"1rem",md:"1.25rem"}},children:t("real_time_data_description")})]}),o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:2},children:o.jsx(Ze,{title:t("refresh_data"),children:o.jsx(qe,{onClick:v,sx:{color:"white",backgroundColor:"rgba(255,255,255,0.2)","&:hover":{backgroundColor:"rgba(255,255,255,0.3)"}},children:o.jsx(sO,{})})})})]})}),o.jsx(T,{sx:{position:"absolute",top:-50,right:-50,width:200,height:200,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}})]}),o.jsxs(V,{container:!0,spacing:{xs:2,md:3},sx:{mb:{xs:3,md:4}},children:[o.jsx(V,{item:!0,xs:6,sm:6,lg:3,children:o.jsx(bb,{title:t("working_doctors_today"),value:`${b.workingDoctors}/${b.totalDoctors}`,icon:o.jsx(pl,{sx:{fontSize:{xs:24,md:32}}}),gradient:Ur.gradient.blue,change:b.workingDoctors>0?`${b.workingDoctors} ${t("active")}`:t("none_today")})}),o.jsx(V,{item:!0,xs:6,sm:6,lg:3,children:o.jsx(bb,{title:t("total_appointments"),value:b.totalAppointments,icon:o.jsx(En,{sx:{fontSize:{xs:24,md:32}}}),gradient:Ur.gradient.green,change:b.todayAppointments>0?`${b.todayAppointments} ${t("today")}`:t("none_today")})}),o.jsx(V,{item:!0,xs:6,sm:6,lg:3,children:o.jsx(bb,{title:t("completion_rate"),value:b.totalAppointments>0?`${Math.round(b.completedAppointments/b.totalAppointments*100)}%`:"0%",icon:o.jsx(zr,{sx:{fontSize:{xs:24,md:32}}}),gradient:Ur.gradient.orange,change:`${b.completedAppointments} ${t("completed")}`,subtitle:`${b.pendingAppointments} ${t("pending_completion")}`})}),o.jsx(V,{item:!0,xs:6,sm:6,lg:3,children:o.jsx(bb,{title:t("total_patients"),value:b.totalPatients,icon:o.jsx(Pwe,{sx:{fontSize:{xs:24,md:32}}}),gradient:Ur.gradient.purple,change:`${b.newPatients} ${t("new_patients")}`})})]}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{height:"100%",p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx(uwe,{sx:{fontSize:28,color:Ur.primary,mr:2}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("revenue_analytics_egp")})]}),o.jsxs(T,{sx:{textAlign:"center",mb:2},children:[o.jsxs(w,{variant:"h3",sx:{fontWeight:800,color:Ur.success},children:["EGP ",b.totalRevenue.toLocaleString()]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[t("total_paid_revenue")," (",b.paidPayments," ",t("invoices"),")"]})]}),o.jsx(Nn,{sx:{my:2}}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(w,{variant:"body2",children:[t("avg_per_payment"),":"]}),o.jsxs(w,{variant:"body2",fontWeight:600,children:["EGP ",b.avgRevenuePerPayment]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(w,{variant:"body2",children:[t("pending")," (",b.pendingPayments,"):"]}),o.jsxs(w,{variant:"body2",fontWeight:600,color:"warning.main",children:["EGP ",b.totalPendingRevenue.toLocaleString()]})]}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(w,{variant:"body2",children:[t("overdue")," (",b.overduePayments,"):"]}),o.jsxs(w,{variant:"body2",fontWeight:600,color:"error.main",children:["EGP ",b.totalOverdueRevenue.toLocaleString()]})]}),b.partialPayments>0&&o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(w,{variant:"body2",children:[t("partial")," (",b.partialPayments,"):"]}),o.jsxs(w,{variant:"body2",fontWeight:600,color:"info.main",children:["EGP ",b.totalPartialRevenue.toLocaleString()]})]}),o.jsx(Nn,{sx:{my:1}}),o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsxs(w,{variant:"body2",fontWeight:700,children:[t("total_expected"),":"]}),o.jsxs(w,{variant:"body2",fontWeight:700,color:"primary.main",children:["EGP ",(b.totalRevenue+b.totalPendingRevenue+b.totalOverdueRevenue+b.totalPartialRevenue).toLocaleString()]})]})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{height:"100%",p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx($we,{sx:{fontSize:28,color:Ur.info,mr:2}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("efficiency_metrics")})]}),o.jsxs(T,{sx:{mb:3},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(w,{variant:"body2",children:t("average_consultation")}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[b.avgConsultationTime," ",t("min")]})]}),o.jsx(Od,{variant:"determinate",value:b.avgConsultationTime/60*100,sx:{height:8,borderRadius:4,backgroundColor:"#e0e0e0"}})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(w,{variant:"body2",children:t("clinic_utilization")}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[b.clinicUtilization,"%"]})]}),o.jsx(Od,{variant:"determinate",value:b.clinicUtilization,sx:{height:8,borderRadius:4,backgroundColor:"#e0e0e0"}})]})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(Ve,{sx:{height:"100%",p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx(Cu,{sx:{fontSize:28,color:Ur.success,mr:2}}),o.jsx(w,{variant:"h6",sx:{fontWeight:700},children:t("department_status")})]}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:2},children:t("doctor_specialties_description")}),I.length>0&&I.some(A=>A.value>0)?I.filter(A=>A.value>0).map((A,S)=>o.jsxs(T,{sx:{mb:2},children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[o.jsx(w,{variant:"body2",fontWeight:600,children:t(A.name)}),o.jsxs(w,{variant:"body2",fontWeight:600,color:"primary.main",children:[A.value," ",t("appointments")]})]}),o.jsx(Od,{variant:"determinate",value:A.value/Math.max(...I.filter(k=>k.value>0).map(k=>k.value))*100,sx:{height:8,borderRadius:4,backgroundColor:"#f0f0f0","& .MuiLinearProgress-bar":{backgroundColor:A.color,borderRadius:4}}})]},S)):o.jsxs(Zn,{severity:"warning",sx:{mt:1},children:[o.jsx(w,{variant:"body2",children:t("no_appointments_found")}),o.jsx(w,{variant:"caption",sx:{display:"block",mt:1,opacity:.8},children:t("check_appointment_doctors")})]})]})})]}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,lg:8,children:o.jsxs(Ve,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsxs(w,{variant:"h6",sx:{fontWeight:700,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Mwe,{sx:{color:Ur.primary}}),t("weekly_appointment_trends")]}),o.jsx(Zn,{severity:"info",children:t("last_7_days_real_data")})]}),o.jsx(T,{sx:{height:300},children:o.jsx(YT,{width:"100%",height:"100%",children:o.jsxs(rMe,{data:b.weeklyData,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"appointmentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:Ur.primary,stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:Ur.primary,stopOpacity:.1})]})}),o.jsx(km,{dataKey:"name"}),o.jsx(Rm,{}),o.jsx(Ta,{}),o.jsx(Uu,{type:"monotone",dataKey:"appointments",stroke:Ur.primary,fillOpacity:1,fill:"url(#appointmentGradient)"})]})})})]})}),o.jsx(V,{item:!0,xs:12,lg:4,children:o.jsxs(Ve,{sx:{p:3},children:[o.jsxs(w,{variant:"h6",sx:{mb:3,fontWeight:700,display:"flex",alignItems:"center",gap:1},children:[o.jsx(li,{sx:{color:Ur.warning}}),t("status_distribution")]}),o.jsx(T,{sx:{height:200,mb:2},children:o.jsx(YT,{width:"100%",height:"100%",children:o.jsxs(nMe,{children:[o.jsx(kc,{data:b.statusDistribution,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.statusDistribution.map((A,S)=>o.jsx(gj,{fill:A.color},`cell-${S}`))}),o.jsx(Ta,{})]})})}),o.jsx(T,{children:b.statusDistribution.map((A,S)=>o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(T,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:A.color,mr:1}}),o.jsx(w,{variant:"body2",children:A.name})]}),o.jsxs(w,{variant:"body2",fontWeight:600,children:[A.value," (",b.totalAppointments>0?Math.round(A.value/b.totalAppointments*100):0,"%)"]})]},S))})]})})]}),o.jsx(V,{container:!0,spacing:3,children:o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:3,pb:0},children:o.jsxs(w,{variant:"h6",sx:{fontWeight:700,display:"flex",alignItems:"center",gap:1},children:[o.jsx(Lr,{sx:{color:Ur.success}}),t("doctor_performance_analytics")]})}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{sx:{backgroundColor:"#f8fafc"},children:[o.jsx(ae,{sx:{fontWeight:700,py:2},children:t("doctor")}),o.jsx(ae,{sx:{fontWeight:700},children:t("specialty")}),o.jsx(ae,{sx:{fontWeight:700},children:t("total_appointments")}),o.jsx(ae,{sx:{fontWeight:700},children:t("completed")}),o.jsx(ae,{sx:{fontWeight:700},children:t("efficiency_rate")}),o.jsx(ae,{sx:{fontWeight:700},children:t("performance")})]})}),o.jsx(xi,{children:b.doctorPerformance.map((A,S)=>o.jsxs(Qt,{hover:!0,sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:Ur.primary,fontWeight:700},children:A.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:700,children:A.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[A.workingHours.start," - ",A.workingHours.end]})]})]})}),o.jsx(ae,{children:o.jsx(Ke,{label:t(A.specialty),size:"small",sx:{backgroundColor:`${Ur.info}15`,color:Ur.info,fontWeight:600}})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",fontWeight:600,children:A.appointments})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",fontWeight:600,color:"success.main",children:A.completed})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",fontWeight:600,children:[A.efficiency,"%"]})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Od,{variant:"determinate",value:A.efficiency,sx:{width:80,height:8,borderRadius:4,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:A.efficiency>=80?Ur.success:A.efficiency>=60?Ur.warning:Ur.error}}}),o.jsx(Ke,{label:A.efficiency>=80?t("excellent"):A.efficiency>=60?t("good"):A.appointments===0?t("no_data"):t("needs_attention"),size:"small",color:A.efficiency>=80?"success":A.efficiency>=60?"warning":A.appointments===0?"default":"error",variant:"outlined"})]})})]},S))})]})})]})})})})]})},TMe=()=>{var q;const{t,i18n:e}=Dr(),n=Pl(),r=Wo(),{user:i}=C.useContext(wm),s=(q=r.state)==null?void 0:q.message,[a,l]=C.useState(!1),[c,d]=C.useState(e.language),[f,p]=C.useState(""),[m,y]=C.useState(""),[x,v]=C.useState(!1),[b,I]=C.useState(""),[A,S]=C.useState(!1),[k,P]=C.useState(""),[R,E]=C.useState(!1),[O,D]=C.useState(!1);he.useEffect(()=>{var Y,ne;if(i){const Q=((ne=(Y=r.state)==null?void 0:Y.from)==null?void 0:ne.pathname)||"/dashboard";n(Q,{replace:!0})}},[i,n,r]);const L=Y=>{d(Y),e.changeLanguage(Y),document.documentElement.dir=e.dir()},$=async Y=>{Y.preventDefault(),I(""),v(!0);try{const ne=await P1e(f,m);ne.success?Su(f)?n("/admin/dashboard"):(ne.userData,n("/dashboard")):I(ne.error||"Failed to sign in. Please check your credentials.")}catch(ne){console.error("Login error:",ne),I("An unexpected error occurred. Please try again.")}finally{v(!1)}},B=async()=>{if(!k){I("Please enter your email address");return}E(!0),I("");try{await lse(bi,k),D(!0)}catch(Y){console.error("Password reset error:",Y),I(Y.message||"Failed to send password reset email. Please try again.")}finally{E(!1)}},N=()=>{S(!1),P(""),D(!1),I("")};return o.jsxs(T,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%)",py:4},children:[o.jsx(di,{maxWidth:"sm",children:o.jsxs(Ve,{sx:{maxWidth:400,mx:"auto",borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"visible",position:"relative"},children:[o.jsxs(T,{sx:{backgroundColor:"primary.main",color:"white",py:4,textAlign:"center",borderRadius:"12px 12px 0 0"},children:[o.jsx(T,{sx:{width:64,height:64,borderRadius:"16px",backgroundColor:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:o.jsx(pl,{sx:{fontSize:32,color:"white"}})}),o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:1},children:t("login")}),o.jsxs(w,{variant:"body2",sx:{opacity:.9},children:[t("clinic_care")," ",t("management_system")]})]}),o.jsxs(st,{sx:{p:4},children:[o.jsx(T,{sx:{mb:3},children:o.jsxs(hn,{size:"small",sx:{minWidth:120},children:[o.jsx(jn,{children:t("language")}),o.jsxs(yn,{value:c,label:t("language"),onChange:Y=>L(Y.target.value),startAdornment:o.jsx(ZG,{sx:{mr:1,color:"text.secondary"}}),children:[o.jsx(ye,{value:"en",children:"English"}),o.jsx(ye,{value:"ar",children:"العربية"})]})]})}),o.jsx(Nn,{sx:{mb:3}}),s&&o.jsx(Zn,{severity:"success",sx:{mb:3},children:s}),b&&o.jsx(Zn,{severity:"error",sx:{mb:3},children:b}),o.jsxs("form",{onSubmit:$,children:[o.jsx(T,{sx:{mb:3},children:o.jsx(Pe,{fullWidth:!0,label:t("email_address"),type:"email",variant:"outlined",value:f,onChange:Y=>p(Y.target.value),required:!0,disabled:x,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Xb,{sx:{color:"text.secondary"}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),o.jsx(T,{sx:{mb:4},children:o.jsx(Pe,{fullWidth:!0,label:t("password"),type:a?"text":"password",variant:"outlined",value:m,onChange:Y=>y(Y.target.value),required:!0,disabled:x,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Ma,{sx:{color:"text.secondary"}})}),endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>l(!a),edge:"end",disabled:x,children:a?o.jsx(ac,{}):o.jsx(Ps,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),o.jsx(me,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:x,sx:{py:1.5,borderRadius:2,fontWeight:600,fontSize:"1rem",textTransform:"none",mb:3},children:x?o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Jn,{size:20,color:"inherit"}),t("signing_in")]}):t("sign_in")})]}),o.jsxs(T,{sx:{textAlign:"center",mt:2},children:[o.jsx(Vxe,{component:"button",variant:"body2",onClick:()=>S(!0),sx:{textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline"},mb:2,display:"block"},children:t("forgot_password")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("authorized_access_only")}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mt:1,fontStyle:"italic"},children:"Contact your administrator for account access"})]})]})]})}),o.jsxs(In,{open:A,onClose:N,maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("reset_password")})}),o.jsx(Tn,{children:O?o.jsx(Zn,{severity:"success",sx:{mb:2},children:o.jsxs(w,{variant:"body2",children:[t("password_reset_email_sent")," ",k]})}):o.jsxs(o.Fragment,{children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t("enter_email_for_reset")}),b&&o.jsx(Zn,{severity:"error",sx:{mb:2},children:b}),o.jsx(Pe,{fullWidth:!0,label:t("email_address"),type:"email",variant:"outlined",value:k,onChange:Y=>P(Y.target.value),required:!0,disabled:R,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Xb,{sx:{color:"text.secondary"}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:N,disabled:R,children:t(O?"close":"cancel")}),!O&&o.jsx(me,{variant:"contained",onClick:B,disabled:R||!k,startIcon:R?o.jsx(Jn,{size:16}):o.jsx(Xb,{}),children:t(R?"sending":"send_reset_email")})]})]})]})},kMe=()=>{const{t}=Dr(),e=Pl(),[n]=ewe(),[r,i]=C.useState(""),[s,a]=C.useState(""),[l,c]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState(!1),[y,x]=C.useState(!0),[v,b]=C.useState(""),[I,A]=C.useState(!1),[S,k]=C.useState(""),P=n.get("oobCode"),R=n.get("mode");C.useEffect(()=>{(async()=>{if(!P||R!=="resetPassword"){b("Invalid password reset link. Please request a new one."),x(!1);return}try{const L=await dse(bi,P);k(L),x(!1)}catch(L){console.error("Error verifying reset code:",L),b("This password reset link is invalid or has expired. Please request a new one."),x(!1)}})()},[P,R]);const E=async D=>{if(D.preventDefault(),b(""),!r||!s){b("Please fill in both password fields.");return}if(r!==s){b("Passwords do not match.");return}if(r.length<6){b("Password must be at least 6 characters long.");return}if(!P){b("Invalid reset code.");return}m(!0);try{await cse(bi,P,r),A(!0),setTimeout(()=>{e("/login",{state:{message:"Password reset successfully! You can now login with your new password."}})},3e3)}catch(L){switch(console.error("Password reset error:",L),L.code){case"auth/invalid-action-code":b("This password reset link has expired or is invalid. Please request a new one.");break;case"auth/expired-action-code":b("This password reset link has expired. Please request a new one.");break;case"auth/weak-password":b("Password is too weak. Please choose a stronger password.");break;default:b("Failed to reset password. Please try again.")}}finally{m(!1)}},O=()=>{e("/login")};return y?o.jsx(T,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%)",py:4},children:o.jsx(di,{maxWidth:"sm",children:o.jsxs(Ve,{sx:{maxWidth:400,mx:"auto",borderRadius:3,textAlign:"center",p:4},children:[o.jsx(Jn,{size:60,sx:{mb:2}}),o.jsx(w,{variant:"h6",children:t("verifying_reset_link")}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("please_wait_verifying")})]})})}):o.jsx(T,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%)",py:4},children:o.jsx(di,{maxWidth:"sm",children:o.jsxs(Ve,{sx:{maxWidth:400,mx:"auto",borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"visible",position:"relative"},children:[o.jsxs(T,{sx:{backgroundColor:I?"success.main":"primary.main",color:"white",py:4,textAlign:"center",borderRadius:"12px 12px 0 0"},children:[o.jsx(T,{sx:{width:64,height:64,borderRadius:"16px",backgroundColor:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:I?o.jsx(zr,{sx:{fontSize:32,color:"white"}}):o.jsx(pl,{sx:{fontSize:32,color:"white"}})}),o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:1},children:t(I?"password_reset_success":"reset_password")}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:t(I?"password_updated_successfully":"clinic_care")})]}),o.jsx(st,{sx:{p:4},children:I?o.jsxs(T,{sx:{textAlign:"center"},children:[o.jsx(Zn,{severity:"success",sx:{mb:3},children:o.jsx(w,{variant:"body2",children:t("password_reset_complete")})}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:3},children:t("redirecting_to_login")}),o.jsx(me,{variant:"outlined",onClick:O,sx:{borderRadius:2},children:t("go_to_login")})]}):v?o.jsxs(T,{sx:{textAlign:"center"},children:[o.jsx(Zn,{severity:"error",sx:{mb:3},children:v}),o.jsx(me,{variant:"contained",onClick:O,sx:{borderRadius:2},children:t("back_to_login")})]}):o.jsxs(o.Fragment,{children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:[t("enter_new_password_for")," ",S]}),o.jsxs("form",{onSubmit:E,children:[o.jsx(T,{sx:{mb:3},children:o.jsx(Pe,{fullWidth:!0,label:t("new_password"),type:l?"text":"password",variant:"outlined",value:r,onChange:D=>i(D.target.value),required:!0,disabled:p,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Ma,{sx:{color:"text.secondary"}})}),endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>c(!l),edge:"end",disabled:p,children:l?o.jsx(ac,{}):o.jsx(Ps,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},helperText:t("password_min_length")})}),o.jsx(T,{sx:{mb:4},children:o.jsx(Pe,{fullWidth:!0,label:t("confirm_new_password"),type:d?"text":"password",variant:"outlined",value:s,onChange:D=>a(D.target.value),required:!0,disabled:p,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Ma,{sx:{color:"text.secondary"}})}),endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>f(!d),edge:"end",disabled:p,children:d?o.jsx(ac,{}):o.jsx(Ps,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),o.jsx(me,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:p,sx:{py:1.5,borderRadius:2,fontWeight:600,fontSize:"1rem",textTransform:"none",mb:3},children:p?o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Jn,{size:20,color:"inherit"}),t("updating_password")]}):t("update_password")}),o.jsx(T,{sx:{textAlign:"center"},children:o.jsx(me,{variant:"text",onClick:O,disabled:p,sx:{textTransform:"none"},children:t("back_to_login")})})]})]})})]})})})},RMe=()=>{const t=Pl(),e=Wo(),{user:n}=C.useContext(wm),[r,i]=C.useState(!1),[s,a]=C.useState(""),[l,c]=C.useState(""),[d,f]=C.useState(!1),[p,m]=C.useState("");he.useEffect(()=>{var x,v;if(n&&Su(n.email||"")){const b=((v=(x=e.state)==null?void 0:x.from)==null?void 0:v.pathname)||"/admin/dashboard";t(b,{replace:!0})}else n&&!Su(n.email||"")&&t("/dashboard",{replace:!0})},[n,t,e]);const y=async x=>{if(x.preventDefault(),m(""),!Su(s)){m("Access denied. This account is not authorized for admin access.");return}f(!0);try{await uw(bi,s,l)}catch(v){console.error("Admin login error:",v),m(v.message||"Failed to sign in. Please check your credentials.")}finally{f(!1)}};return o.jsx(T,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #7C3AED 0%, #EC4899 100%)",py:4},children:o.jsx(di,{maxWidth:"sm",children:o.jsxs(Ve,{sx:{maxWidth:400,mx:"auto",borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"visible",position:"relative"},children:[o.jsxs(T,{sx:{backgroundColor:"#7C3AED",color:"white",py:4,textAlign:"center",borderRadius:"12px 12px 0 0"},children:[o.jsx(T,{sx:{width:64,height:64,borderRadius:"16px",backgroundColor:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:o.jsx(iO,{sx:{fontSize:32,color:"white"}})}),o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Super Admin"}),o.jsx(w,{variant:"body2",sx:{opacity:.9},children:"Multi-Clinic Management Portal"})]}),o.jsxs(st,{sx:{p:4},children:[p&&o.jsx(Zn,{severity:"error",sx:{mb:3},children:p}),o.jsxs("form",{onSubmit:y,children:[o.jsx(T,{sx:{mb:3},children:o.jsx(Pe,{fullWidth:!0,label:"Admin Email Address",type:"email",variant:"outlined",value:s,onChange:x=>a(x.target.value),required:!0,disabled:d,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Xb,{sx:{color:"text.secondary"}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),o.jsx(T,{sx:{mb:4},children:o.jsx(Pe,{fullWidth:!0,label:"Password",type:r?"text":"password",variant:"outlined",value:l,onChange:x=>c(x.target.value),required:!0,disabled:d,InputProps:{startAdornment:o.jsx(Bn,{position:"start",children:o.jsx(Ma,{sx:{color:"text.secondary"}})}),endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>i(!r),edge:"end",disabled:d,children:r?o.jsx(ac,{}):o.jsx(Ps,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),o.jsx(me,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:d,sx:{py:1.5,borderRadius:2,fontWeight:600,fontSize:"1rem",textTransform:"none",mb:3,backgroundColor:"#7C3AED","&:hover":{backgroundColor:"#6D28D9"}},children:d?o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Jn,{size:20,color:"inherit"}),"Signing In..."]}):"Access Admin Panel"})]}),o.jsxs(T,{sx:{textAlign:"center",mt:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:"Super Admin Access Only"}),o.jsx(me,{onClick:()=>t("/login"),sx:{mt:1,textTransform:"none"},children:"Regular Staff Login"})]})]})]})})})},fI={basic:["patients","appointments","basic_reports"],premium:["patients","appointments","payments","inventory","advanced_reports","notifications"],enterprise:["patients","appointments","payments","inventory","advanced_reports","notifications","api_access","custom_integrations","bulk_operations","audit_logs"]},n1={basic:{maxUsers:10,maxPatients:500},premium:{maxUsers:50,maxPatients:2e3},enterprise:{maxUsers:999,maxPatients:999999}},OMe=t=>{switch(t){case"basic":return{name:"Basic",color:"default",features:fI.basic,limits:n1.basic,description:"Essential features for small clinics"};case"premium":return{name:"Premium",color:"primary",features:fI.premium,limits:n1.premium,description:"Advanced features for growing clinics"};case"enterprise":return{name:"Enterprise",color:"secondary",features:fI.enterprise,limits:n1.enterprise,description:"Complete solution for large clinic networks"};default:return{name:"Unknown",color:"default",features:[],limits:{maxUsers:0,maxPatients:0},description:"Unknown plan"}}},DMe=(t,e,n)=>{const r=n1[t];return r?e>r.maxUsers?{isValid:!1,message:`${t} plan supports maximum ${r.maxUsers} users`}:n>=e?{isValid:!1,message:`Cannot add user. Limit of ${e} users reached.`}:{isValid:!0}:{isValid:!1,message:"Invalid subscription plan"}},qj=t=>t?t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():typeof t=="number"?new Date(t):typeof t=="string"?new Date(t):new Date:new Date,lB=t=>{try{return qj(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},cB=t=>{try{return qj(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},_b=t=>{try{return qj(t).toISOString().split("T")[0]}catch{return""}},uB=t=>{try{const e=qj(t),r=new Date().getTime()-e.getTime(),i=Math.floor(r/(1e3*60*60*24)),s=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60));return i>0?`${i} day${i>1?"s":""} ago`:s>0?`${s} hour${s>1?"s":""} ago`:a>0?`${a} minute${a>1?"s":""} ago`:"Just now"}catch{return"Unknown"}},MMe=({open:t,onClose:e,user:n,onSave:r})=>{const[i,s]=C.useState(()=>n?TT(n):vx.receptionist);he.useEffect(()=>{n&&s(TT(n))},[n]);const a=(m,y)=>{s(x=>({...x,[m]:y}))},l=()=>{r(i),e()},c=()=>{n&&s(vx[n.role]||vx.receptionist)},d=m=>{switch(m){case"none":return o.jsx(Ma,{color:"error"});case"read":return o.jsx(Ps,{color:"info"});case"write":return o.jsx(Wn,{color:"warning"});case"full":return o.jsx(gu,{color:"success"});default:return o.jsx(Ma,{})}},f=m=>{switch(m){case"none":return"error";case"read":return"info";case"write":return"warning";case"full":return"success";default:return"error"}},p={"Core Features":["dashboard","patients","appointments"],"Business Operations":["payments","inventory","reports"],"Advanced Features":["doctor_scheduling","notifications","settings"],"Detailed Access":["patient_details","appointment_calendar","payment_management","inventory_management"],Administrative:["user_management","clinic_settings"]};return n?o.jsxs(In,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[o.jsxs(kn,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(gu,{color:"primary"}),o.jsxs(w,{variant:"h6",children:["Manage Permissions - ",n.firstName," ",n.lastName]})]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:["Role: ",n.role," | Clinic: ",n.clinicId]})]}),o.jsxs(Tn,{children:[o.jsx(Zn,{severity:"info",sx:{mb:3},children:o.jsx(w,{variant:"body2",children:"Custom permissions override role defaults. Leave as role default or customize specific features."})}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(me,{variant:"outlined",onClick:c,size:"small",sx:{mr:2},children:"Reset to Role Defaults"}),o.jsx(Ke,{label:`Current Role: ${n.role}`,color:"primary",size:"small"})]}),o.jsx(Nn,{sx:{mb:2}}),Object.entries(p).map(([m,y])=>o.jsxs(Dde,{defaultExpanded:m==="Core Features",children:[o.jsx(she,{expandIcon:o.jsx(Swe,{}),children:o.jsx(w,{variant:"h6",children:m})}),o.jsx(zde,{children:o.jsx(V,{container:!0,spacing:2,children:y.map(x=>o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[d(i[x]),o.jsx(w,{variant:"subtitle2",sx:{textTransform:"capitalize"},children:x.replace("_"," ")})]}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:Vwe[x]}),o.jsxs(hn,{fullWidth:!0,size:"small",children:[o.jsx(jn,{children:"Access Level"}),o.jsx(yn,{value:i[x],label:"Access Level",onChange:v=>a(x,v.target.value),children:["none","read","write","full"].map(v=>o.jsx(ye,{value:v,children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[d(v),o.jsx(w,{sx:{textTransform:"capitalize"},children:v})]})},v))})]}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:Bwe[i[x]]})]})},x))})})]},m)),o.jsxs(T,{sx:{mt:3,p:2,bgcolor:"background.paper",border:1,borderColor:"divider"},children:[o.jsx(w,{variant:"h6",sx:{mb:2},children:"Permission Summary"}),o.jsx(T,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(i).map(([m,y])=>o.jsx(Ke,{label:`${m}: ${y}`,color:f(y),size:"small",icon:d(y)},m))})]})]}),o.jsxs($n,{children:[o.jsx(me,{onClick:e,children:"Cancel"}),o.jsx(me,{onClick:l,variant:"contained",color:"primary",children:"Save Permissions"})]})]}):null},NMe=()=>{var hi,lr,Ut,an;const t=Pl(),{user:e}=C.useContext(wm),[n,r]=C.useState(0),[i,s]=C.useState([]),[a,l]=C.useState([]),[c,d]=C.useState(!0),[f,p]=C.useState(""),[m,y]=C.useState(!1),[x,v]=C.useState(!1),[b,I]=C.useState(!1),[A,S]=C.useState(null),[k,P]=C.useState(null),[R,E]=C.useState(null),[O,D]=C.useState(!1),[L,$]=C.useState(null),[B,N]=C.useState(!1),[q,Y]=C.useState(""),[ne,Q]=C.useState(()=>{}),[ee,Z]=C.useState(!1),[de,K]=C.useState(null),[se,le]=C.useState({isChecking:!1,isValid:!0,error:"",exists:!1}),[oe,ge]=C.useState(!0),[fe,Se]=C.useState(!1),[be,ce]=C.useState(""),[We,Fe]=C.useState({}),[pe,$e]=C.useState({name:"",subscriptionPlan:"basic",maxUsers:10,createdAt:""}),[Ce,Je]=C.useState({email:"",firstName:"",lastName:"",role:"receptionist",clinicId:"",password:"",createdAt:""});C.useEffect(()=>{var _e,ct;console.log("🔍 Debug Auth State:"),console.log("User from AuthContext:",e),console.log("Firebase Auth Current User:",bi.currentUser),console.log("User Email:",(e==null?void 0:e.email)||((_e=bi.currentUser)==null?void 0:_e.email)),console.log("User UID:",(e==null?void 0:e.uid)||((ct=bi.currentUser)==null?void 0:ct.uid))},[e]),C.useEffect(()=>{pt(),e!=null&&e.email&&R1e().catch(_e=>{console.warn("⚠️ Post-auth demo clinic initialization failed:",_e)})},[e]);const ht=()=>{const ct="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let Ot="";for(let St=0;St<12;St++)Ot+=ct.charAt(Math.floor(Math.random()*ct.length));return Ot},Xe=()=>{const _e=ht();Je({...Ce,password:_e}),ge(!0),jt("Password generated and visible!")},Lt=async()=>{try{await navigator.clipboard.writeText(Ce.password),jt("Password copied to clipboard")}catch(_e){console.error("Failed to copy password:",_e),jt("Failed to copy password")}},jt=_e=>{ce(_e),Se(!0)},Mt=_e=>{Je({...Ce,email:_e}),p(""),_e.trim()&&!ST(_e)?le({isChecking:!1,isValid:!1,error:"Please enter a valid email format",exists:!1}):le({isChecking:!1,isValid:!0,error:"",exists:!1})},pt=async()=>{d(!0);try{await Promise.all([Qe(),at()])}catch(_e){console.error("Error fetching data:",_e),p("Failed to load data")}finally{d(!1)}},Qe=async()=>{const _e=R1(Qf(ni,"clinics"),lT("createdAt","desc")),Ot=(await O1(_e)).docs.map(St=>({id:St.id,...St.data()}));s(Ot)},at=async()=>{try{const _e=R1(Qf(ni,"users"),lT("createdAt","desc")),Ot=(await O1(_e)).docs.map(St=>({id:St.id,...St.data()}));l(Ot)}catch(_e){console.error("Error fetching users:",_e)}},Tt=async()=>{if(!pe.name){p("Please enter a clinic name");return}try{await PR(Qf(ni,"clinics"),{name:pe.name,isActive:!0,settings:{allowedFeatures:["patients","appointments","payments"],maxUsers:pe.maxUsers,subscriptionPlan:pe.subscriptionPlan},createdAt:xs(),updatedAt:xs(),createdBy:(e==null?void 0:e.email)||""}),zt(),y(!1),Qe()}catch(_e){console.error("Error creating clinic:",_e),p("Failed to create clinic")}},vn=async()=>{if(!R)return;if(!pe.name){p("Please enter a clinic name");return}const _e=a.filter(Ot=>Ot.clinicId===R.id&&Ot.isActive).length,ct=DMe(pe.subscriptionPlan,pe.maxUsers,0);if(!ct.isValid){p(ct.message||"Invalid user limit for selected plan");return}if(pe.maxUsers<_e){p(`Cannot set max users to ${pe.maxUsers}. Currently has ${_e} active users.`);return}try{const Ot={name:pe.name,settings:{...R.settings,maxUsers:pe.maxUsers,subscriptionPlan:pe.subscriptionPlan},updatedAt:xs()};pe.createdAt&&pe.createdAt!==_b(R.createdAt)&&(Ot.createdAt=new Date(pe.createdAt)),await Ad(Di(ni,"clinics",R.id),Ot),zt(),y(!1),E(null),Qe()}catch(Ot){console.error("Error updating clinic:",Ot),p("Failed to update clinic")}},zt=()=>{$e({name:"",subscriptionPlan:"basic",maxUsers:10,createdAt:""})},mt=_e=>{E(_e),$e({name:_e.name,subscriptionPlan:_e.settings.subscriptionPlan,maxUsers:_e.settings.maxUsers,createdAt:_b(_e.createdAt)}),y(!0)},It=()=>{y(!1),E(null),zt()},lt=async()=>{var Ot,St,te,Re;const _e=bi.currentUser,ct=_e==null?void 0:_e.email;if(!ct){p("Admin session lost. Please refresh and try again.");return}if(p(""),!((Ot=Ce.email)!=null&&Ot.trim())||!((St=Ce.firstName)!=null&&St.trim())||!((te=Ce.lastName)!=null&&te.trim())||!Ce.clinicId||!((Re=Ce.password)!=null&&Re.trim())){p("Please fill in all required fields");return}if(!ST(Ce.email.trim())){p("Please enter a valid email address");return}try{d(!0),jt("Creating user account...");const J=a1(D1,"secondary"),je=MI(J),kt=(await M5(je,Ce.email.trim(),Ce.password)).user.uid;await P4(J);const nt={id:kt,email:Ce.email.trim(),firstName:Ce.firstName.trim(),lastName:Ce.lastName.trim(),role:Ce.role,clinicId:Ce.clinicId,isActive:!0,createdAt:xs(),updatedAt:xs(),createdBy:ct};await fv(Di(ni,"users",kt),nt),Fe(bn=>({...bn,[Ce.email.trim()]:Ce.password})),K({email:Ce.email.trim(),password:Ce.password,name:`${Ce.firstName.trim()} ${Ce.lastName.trim()}`}),Xt(),v(!1),Z(!0),at(),jt("✅ User account created successfully!")}catch(J){console.error("Error creating user:",J),p(`Failed to create user: ${J.message}`),jt("❌ Failed to create user")}finally{d(!1)}},Zt=async()=>{if(k){if(!Ce.email||!Ce.firstName||!Ce.lastName||!Ce.clinicId){p("Please fill in all required fields");return}try{const _e={email:Ce.email,firstName:Ce.firstName,lastName:Ce.lastName,role:Ce.role,clinicId:Ce.clinicId,updatedAt:xs()};Ce.createdAt&&Ce.createdAt!==_b(k.createdAt)&&(_e.createdAt=new Date(Ce.createdAt)),await Ad(Di(ni,"users",k.id),_e),Xt(),v(!1),P(null),at()}catch(_e){console.error("Error updating user:",_e),p("Failed to update user")}}},Xt=()=>{Je({email:"",firstName:"",lastName:"",role:"receptionist",clinicId:"",password:"",createdAt:""}),ge(!0),le({isChecking:!1,isValid:!0,error:"",exists:!1}),clearTimeout(window.emailValidationTimeout)},On=_e=>{P(_e),Je({email:_e.email,firstName:_e.firstName,lastName:_e.lastName,role:_e.role,clinicId:_e.clinicId,password:"",createdAt:_b(_e.createdAt)}),v(!0)},G=()=>{v(!1),P(null),Xt()},ve=_e=>{$(_e),D(!0)},ke=async _e=>{if(L)try{await Ad(Di(ni,"users",L.id),{permissions:_e,updatedAt:xs()}),at(),D(!1),$(null)}catch(ct){console.error("Error updating user permissions:",ct),p("Failed to update user permissions")}},Ue=async(_e,ct)=>{try{await Ad(Di(ni,"clinics",_e),{isActive:!ct,updatedAt:xs()}),Qe()}catch(Ot){console.error("Error updating clinic status:",Ot),p("Failed to update clinic status")}},it=async(_e,ct)=>{try{await Ad(Di(ni,"users",_e),{isActive:!ct,updatedAt:xs()}),at()}catch(Ot){console.error("Error updating user status:",Ot),p("Failed to update user status")}},yt=async()=>{if(!(!A||A.type!=="clinic"))try{await cT(Di(ni,"clinics",A.id)),I(!1),S(null),Qe()}catch(_e){console.error("Error deleting clinic:",_e),p("Failed to delete clinic")}},pn=async()=>{if(!(!A||A.type!=="user"))try{const _e=a.find(te=>te.id===A.id),ct=_e==null?void 0:_e.email;if(!ct){p("User email not found");return}await cT(Di(ni,"users",A.id));let Ot=!1;const St=We[ct];if(St)try{const te=a1(D1,`delete-${Date.now()}`),Re=MI(te),J=await uw(Re,ct,St);await bse(J.user),await P4(te),Ot=!0,console.log(`✅ Firebase Auth account deleted: ${ct}`)}catch(te){console.warn(`⚠️ Could not delete Firebase Auth account for ${ct}:`,te)}We[ct]&&Fe(te=>{const Re={...te};return delete Re[ct],Re}),I(!1),S(null),at(),jt(Ot?`✅ User ${ct} completely deleted (database + auth)`:St?`⚠️ User ${ct} database deleted, auth deletion failed`:`✅ User ${ct} database deleted (auth account remains - no password available)`)}catch(_e){console.error("Error deleting user:",_e),p("Failed to delete user"),jt("❌ Failed to delete user")}},Sn=(_e,ct,Ot)=>{S({type:_e,id:ct,name:Ot}),I(!0)},sn=()=>{(A==null?void 0:A.type)==="clinic"?yt():(A==null?void 0:A.type)==="user"&&pn()},Yn=async()=>{try{await ev(bi),t("/admin/login")}catch(_e){console.error("Error signing out:",_e)}},vt=async()=>{try{d(!0),jt("🔧 Fixing clinic access...");const _e=await lwe("demo-clinic");jt(_e?"✅ Demo clinic access fixed! Users should now be able to login.":"❌ Failed to fix clinic access. Check console for details.")}catch(_e){console.error("Error fixing clinic access:",_e),jt("❌ Error fixing clinic access")}finally{d(!1)}},Pn=async()=>{try{d(!0),jt("🔍 Checking for orphaned accounts...");const _e=["test@example.com","admin@test.com","user@clinic.com","doctor@clinic.com","receptionist@clinic.com"];let ct=0;for(const Ot of _e)try{await yv(Ot)&&(console.warn(`🚨 Orphaned account found: ${Ot}`),ct++)}catch(St){console.error(`Error checking ${Ot}:`,St)}ct>0?jt(`⚠️ Found ${ct} potential orphaned accounts. Check console for details.`):jt("✅ No orphaned accounts found in common email list.")}catch(_e){console.error("Error checking orphaned accounts:",_e),jt("❌ Error checking orphaned accounts")}finally{d(!1)}},Mn=_e=>{const ct=i.find(Ot=>Ot.id===_e);return(ct==null?void 0:ct.name)||"Unknown Clinic"},Mr=_e=>a.filter(ct=>ct.clinicId===_e&&ct.isActive).length;return c?o.jsx(T,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:o.jsx(Jn,{size:60})}):o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(JH,{position:"static",sx:{backgroundColor:"#7C3AED"},children:o.jsxs(AG,{children:[o.jsx(iO,{sx:{mr:2}}),o.jsx(w,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Super Admin Panel"}),o.jsx(me,{color:"inherit",onClick:pt,startIcon:o.jsx(sO,{}),sx:{mr:1},children:"Refresh"}),o.jsx(me,{color:"inherit",onClick:vt,startIcon:o.jsx(As,{}),sx:{mr:1,backgroundColor:"rgba(255,255,255,0.1)"},title:"Fix clinic access issues (if users can't login)",children:"Fix Access"}),o.jsx(me,{color:"inherit",onClick:Pn,startIcon:o.jsx(gu,{}),sx:{mr:2,backgroundColor:"rgba(255,255,255,0.1)"},title:"Check for orphaned Firebase Auth accounts",children:"Check Orphans"}),o.jsx(qe,{color:"inherit",onClick:Yn,children:o.jsx(IT,{})})]})}),o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4},children:[f&&o.jsx(Zn,{severity:"error",sx:{mb:3},onClose:()=>p(""),children:o.jsx(T,{component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"inherit",margin:0},children:f})}),o.jsxs(Zn,{severity:"info",sx:{mb:3},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,mb:1},children:"🔐 Admin-Only User Management:"}),o.jsx(w,{variant:"body2",children:`• Only administrators can create user accounts (no self-registration) • Generated passwords are visible in the Password column and success dialog • If users can't login after creation, click "Fix Access" button above • Share credentials securely with users via secure channels`})]}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{color:"textSecondary",gutterBottom:!0,children:"Total Clinics"}),o.jsx(w,{variant:"h4",children:i.length}),o.jsxs(w,{color:"textSecondary",children:[i.filter(_e=>_e.isActive).length," active"]})]})})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsx(w,{color:"textSecondary",gutterBottom:!0,children:"Total Users"}),o.jsx(w,{variant:"h4",children:a.length}),o.jsxs(w,{color:"textSecondary",children:[a.filter(_e=>_e.isActive).length," active"]})]})})})]}),o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:o.jsxs(_l,{value:n,onChange:(_e,ct)=>r(ct),children:[o.jsx(un,{label:"Clinics Management",icon:o.jsx(ey,{})}),o.jsx(un,{label:"Users Management",icon:o.jsx(Lr,{})})]})}),n===0&&o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[o.jsx(w,{variant:"h5",children:"Clinics"}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:()=>y(!0),sx:{backgroundColor:"#7C3AED"},children:"Add Clinic"})]}),o.jsx(yi,{component:Qi,children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{children:"Name"}),o.jsx(ae,{children:"Plan"}),o.jsx(ae,{children:"Users"}),o.jsx(ae,{children:"Status"}),o.jsx(ae,{children:"Created"}),o.jsx(ae,{children:"Actions"})]})}),o.jsx(xi,{children:i.map(_e=>{const ct=Mr(_e.id),Ot=_e.settings.maxUsers,St=OMe(_e.settings.subscriptionPlan),te=ct/Ot>.8,Re=ct>=Ot;return o.jsxs(Qt,{children:[o.jsx(ae,{children:_e.name}),o.jsx(ae,{children:o.jsx(Ke,{label:St.name,size:"small",color:St.color})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsxs(w,{color:Re?"error":te?"warning.main":"text.primary",fontWeight:Re?"bold":"normal",children:[ct,"/",Ot]}),Re&&o.jsx(Ke,{label:"FULL",size:"small",color:"error"}),te&&!Re&&o.jsx(Ke,{label:"NEAR LIMIT",size:"small",color:"warning"})]})}),o.jsx(ae,{children:o.jsx(Ke,{label:_e.isActive?"Active":"Inactive",color:_e.isActive?"success":"error",size:"small"})}),o.jsx(ae,{children:o.jsx(Ze,{title:cB(_e.createdAt),arrow:!0,children:o.jsxs(T,{sx:{cursor:"pointer"},children:[o.jsx(w,{variant:"body2",children:lB(_e.createdAt)}),o.jsx(w,{variant:"caption",color:"text.secondary",children:uB(_e.createdAt)})]})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(ti,{checked:_e.isActive,onChange:()=>Ue(_e.id,_e.isActive)}),o.jsx(qe,{color:"primary",size:"small",onClick:()=>mt(_e),title:"Edit Clinic",children:o.jsx(Wn,{})}),o.jsx(qe,{color:"error",size:"small",onClick:()=>Sn("clinic",_e.id,_e.name),title:"Delete Clinic",children:o.jsx(Cs,{})})]})})]},_e.id)})})]})})]}),n===1&&o.jsxs(T,{children:[o.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[o.jsx(w,{variant:"h5",children:"Users"}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:()=>v(!0),sx:{backgroundColor:"#7C3AED"},children:"Add User"})]}),o.jsx(yi,{component:Qi,children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{children:"Name"}),o.jsx(ae,{children:"Email"}),o.jsx(ae,{children:"Role"}),o.jsx(ae,{children:"Clinic"}),o.jsx(ae,{children:"Password"}),o.jsx(ae,{children:"Status"}),o.jsx(ae,{children:"Created"}),o.jsx(ae,{children:"Actions"})]})}),o.jsx(xi,{children:a.map(_e=>o.jsxs(Qt,{children:[o.jsx(ae,{children:`${_e.firstName} ${_e.lastName}`}),o.jsx(ae,{children:_e.email}),o.jsx(ae,{children:o.jsx(Ke,{label:_e.role,size:"small"})}),o.jsx(ae,{children:Mn(_e.clinicId)}),o.jsx(ae,{children:o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:1},children:We[_e.email]?o.jsxs(o.Fragment,{children:[o.jsx(w,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem"},children:We[_e.email]}),o.jsx(qe,{size:"small",onClick:()=>{navigator.clipboard.writeText(We[_e.email]),jt("Password copied to clipboard")},title:"Copy password",children:o.jsx(kg,{fontSize:"small"})})]}):o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"Set by user"})})}),o.jsx(ae,{children:o.jsx(Ke,{label:_e.isActive?"Active":"Inactive",color:_e.isActive?"success":"error",size:"small"})}),o.jsx(ae,{children:o.jsx(Ze,{title:cB(_e.createdAt),arrow:!0,children:o.jsxs(T,{sx:{cursor:"pointer"},children:[o.jsx(w,{variant:"body2",children:lB(_e.createdAt)}),o.jsx(w,{variant:"caption",color:"text.secondary",children:uB(_e.createdAt)})]})})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(ti,{checked:_e.isActive,onChange:()=>it(_e.id,_e.isActive)}),o.jsx(qe,{color:"secondary",size:"small",onClick:()=>ve(_e),title:"Manage Permissions",children:o.jsx(gu,{})}),o.jsx(qe,{color:"primary",size:"small",onClick:()=>On(_e),title:"Edit User",children:o.jsx(Wn,{})}),o.jsx(qe,{color:"error",size:"small",onClick:()=>Sn("user",_e.id,`${_e.firstName} ${_e.lastName}`),title:"Delete User",children:o.jsx(Cs,{})})]})})]},_e.id))})]})})]})]}),o.jsxs(In,{open:m,onClose:It,maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:R?"Edit Clinic":"Create New Clinic"}),o.jsxs(Tn,{children:[o.jsx(Pe,{autoFocus:!0,margin:"dense",label:"Clinic Name",fullWidth:!0,variant:"outlined",value:pe.name,onChange:_e=>$e({...pe,name:_e.target.value}),sx:{mb:2}}),o.jsxs(hn,{fullWidth:!0,sx:{mb:2},children:[o.jsx(jn,{children:"Subscription Plan"}),o.jsxs(yn,{value:pe.subscriptionPlan,label:"Subscription Plan",onChange:_e=>$e({...pe,subscriptionPlan:_e.target.value}),children:[o.jsx(ye,{value:"basic",children:"Basic"}),o.jsx(ye,{value:"premium",children:"Premium"}),o.jsx(ye,{value:"enterprise",children:"Enterprise"})]})]}),o.jsx(Pe,{margin:"dense",label:"Max Users",type:"number",fullWidth:!0,variant:"outlined",value:pe.maxUsers,onChange:_e=>$e({...pe,maxUsers:parseInt(_e.target.value)}),sx:{mb:2}}),R&&o.jsx(Pe,{margin:"dense",label:"Created Date",type:"date",fullWidth:!0,variant:"outlined",value:pe.createdAt,onChange:_e=>$e({...pe,createdAt:_e.target.value}),InputLabelProps:{shrink:!0},helperText:"Change the creation date if needed"})]}),o.jsxs($n,{children:[o.jsx(me,{onClick:It,children:"Cancel"}),o.jsx(me,{onClick:R?vn:Tt,variant:"contained",children:R?"Update":"Create"})]})]}),o.jsxs(In,{open:x,onClose:G,maxWidth:"sm",fullWidth:!0,children:[o.jsxs(kn,{children:[k?"Edit User":"Create New User",!k&&o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mt:1,fontWeight:"normal"},children:"🔐 Admin-only user creation - Only administrators can create user accounts"})]}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:6,children:o.jsx(Pe,{margin:"dense",label:"First Name",fullWidth:!0,variant:"outlined",value:Ce.firstName,onChange:_e=>Je({...Ce,firstName:_e.target.value})})}),o.jsx(V,{item:!0,xs:6,children:o.jsx(Pe,{margin:"dense",label:"Last Name",fullWidth:!0,variant:"outlined",value:Ce.lastName,onChange:_e=>Je({...Ce,lastName:_e.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{margin:"dense",label:"Email Address",type:"email",fullWidth:!0,variant:"outlined",value:Ce.email,onChange:_e=>Mt(_e.target.value),error:!se.isValid,helperText:se.isChecking?"Checking email availability...":se.error||(se.isValid&&Ce.email&&!se.exists?"✅ Email is available":""),InputProps:{endAdornment:se.isChecking?o.jsx(Bn,{position:"end",children:o.jsx(Jn,{size:20})}):se.isValid&&Ce.email&&!se.exists?o.jsx(Bn,{position:"end",children:o.jsx(w,{sx:{color:"success.main",fontSize:"1.2rem"},children:"✅"})}):se.error?o.jsx(Bn,{position:"end",children:o.jsx(w,{sx:{color:"error.main",fontSize:"1.2rem"},children:"❌"})}):null},sx:{"& .MuiOutlinedInput-root":{borderColor:se.isValid?"inherit":"error.main"}}})}),o.jsx(V,{item:!0,xs:6,children:o.jsxs(hn,{fullWidth:!0,margin:"dense",children:[o.jsx(jn,{children:"Role"}),o.jsxs(yn,{value:Ce.role,label:"Role",onChange:_e=>Je({...Ce,role:_e.target.value}),children:[o.jsx(ye,{value:"management",children:"Management"}),o.jsx(ye,{value:"doctor",children:"Doctor"}),o.jsx(ye,{value:"receptionist",children:"Receptionist"})]})]})}),o.jsx(V,{item:!0,xs:6,children:o.jsxs(hn,{fullWidth:!0,margin:"dense",children:[o.jsx(jn,{children:"Clinic"}),o.jsx(yn,{value:Ce.clinicId,label:"Clinic",onChange:_e=>Je({...Ce,clinicId:_e.target.value}),children:i.filter(_e=>_e.isActive).map(_e=>{const ct=Mr(_e.id),St=_e.settings.maxUsers-ct<=0;return o.jsxs(ye,{value:_e.id,disabled:St&&!k,children:[_e.name," (",ct,"/",_e.settings.maxUsers," users)",St&&!k&&" - FULL"]},_e.id)})}),Ce.clinicId&&!k&&o.jsx(w,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:(()=>{const _e=i.find(ct=>ct.id===Ce.clinicId);if(_e){const ct=Mr(_e.id),Ot=_e.settings.maxUsers-ct;return Ot>0?`${Ot} user slots remaining`:"No slots available"}return""})()})]})}),!k&&o.jsxs(V,{item:!0,xs:12,children:[o.jsx(w,{variant:"h6",sx:{mb:2,color:"primary.main",fontWeight:600},children:"🔐 User Password"}),o.jsxs(T,{sx:{border:"2px solid",borderColor:Ce.password?"success.main":"grey.300",borderRadius:2,p:2,backgroundColor:Ce.password?"success.50":"grey.50"},children:[o.jsxs(T,{sx:{display:"flex",gap:1,alignItems:"flex-start",mb:2},children:[o.jsx(Pe,{margin:"dense",label:"Temporary Password",type:oe?"text":"password",fullWidth:!0,variant:"outlined",value:Ce.password,onChange:_e=>Je({...Ce,password:_e.target.value}),helperText:Ce.password?"✅ Password is ready! Copy this for the user.":"Generate or enter a password",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"white",fontFamily:oe?"monospace":"inherit",fontSize:oe?"1.1rem":"inherit",fontWeight:oe?"bold":"normal"}},InputProps:{endAdornment:o.jsxs(Bn,{position:"end",children:[o.jsx(qe,{onClick:()=>ge(!oe),edge:"end",size:"small",title:oe?"Hide password":"Show password",color:oe?"primary":"default",children:oe?o.jsx(ac,{}):o.jsx(Ps,{})}),o.jsx(qe,{onClick:Lt,edge:"end",size:"small",disabled:!Ce.password,title:"Copy password",sx:{ml:.5},color:Ce.password?"primary":"default",children:o.jsx(kg,{})})]})}}),o.jsx(me,{variant:"contained",onClick:Xe,startIcon:o.jsx(hwe,{}),sx:{mt:1,minWidth:"auto",px:3,height:"56px",backgroundColor:"secondary.main","&:hover":{backgroundColor:"secondary.dark"}},title:"Generate random password",children:"Generate"})]}),Ce.password&&o.jsxs(T,{sx:{backgroundColor:"success.100",border:"1px solid",borderColor:"success.main",borderRadius:1,p:2,mt:1},children:[o.jsxs(w,{variant:"subtitle2",sx:{fontWeight:600,color:"success.dark",mb:1},children:["📋 Password for ",Ce.firstName," ",Ce.lastName,":"]}),o.jsx(w,{variant:"h6",sx:{fontFamily:"monospace",backgroundColor:"white",p:1,borderRadius:1,border:"1px solid",borderColor:"success.main",color:"success.dark",fontWeight:"bold",letterSpacing:"0.1em"},children:Ce.password}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"💡 Make sure to save this password before creating the user!"})]})]})]}),k&&o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{margin:"dense",label:"Created Date",type:"date",fullWidth:!0,variant:"outlined",value:Ce.createdAt,onChange:_e=>Je({...Ce,createdAt:_e.target.value}),InputLabelProps:{shrink:!0},helperText:"Change the creation date if needed"})}),k&&o.jsx(V,{item:!0,xs:12,children:o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mt:1,fontStyle:"italic"},children:"Note: Password changes must be handled through the authentication system separately."})})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:G,children:"Cancel"}),o.jsx(me,{onClick:k?Zt:lt,variant:"contained",disabled:c||!k&&(se.isChecking||!se.isValid||se.exists||!((hi=Ce.email)!=null&&hi.trim())||!((lr=Ce.firstName)!=null&&lr.trim())||!((Ut=Ce.lastName)!=null&&Ut.trim())||!((an=Ce.password)!=null&&an.trim())||!Ce.clinicId),children:c?o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Jn,{size:16,color:"inherit"}),k?"Updating...":"Creating..."]}):k?"Update":"Create User"})]})]}),o.jsxs(In,{open:b,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(kn,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(As,{color:"error"}),"Confirm Deletion"]}),o.jsxs(Tn,{children:[o.jsxs(w,{children:["Are you sure you want to permanently delete "," ",o.jsx("strong",{children:A==null?void 0:A.name}),"?"]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mt:2},children:["This action cannot be undone. ",(A==null?void 0:A.type)==="clinic"?"All users and data associated with this clinic will become inaccessible.":"This user will be removed from the database."]})]}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>I(!1),children:"Cancel"}),o.jsx(me,{onClick:sn,variant:"contained",color:"error",startIcon:o.jsx(Cs,{}),children:"Delete Permanently"})]})]}),o.jsx(MMe,{open:O,onClose:()=>{D(!1),$(null)},user:L,onSave:ke}),o.jsxs(In,{open:ee,onClose:()=>Z(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{sx:{backgroundColor:"success.main",color:"white",textAlign:"center",py:3},children:o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:"🎉 User Account Created Successfully!"})}),o.jsx(Tn,{sx:{p:4},children:de&&o.jsxs(T,{children:[o.jsx(Zn,{severity:"success",sx:{mb:3},children:o.jsxs(w,{variant:"h6",sx:{mb:2},children:["✅ ",de.name," can now login with these credentials:"]})}),o.jsx(T,{sx:{border:"2px solid",borderColor:"success.main",borderRadius:2,p:3,backgroundColor:"success.50",mb:3},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:1,color:"success.dark"},children:"📧 Email Address:"}),o.jsxs(T,{sx:{backgroundColor:"white",p:2,borderRadius:1,border:"1px solid",borderColor:"success.main",display:"flex",alignItems:"center",gap:1},children:[o.jsx(w,{variant:"h6",sx:{fontFamily:"monospace",flexGrow:1},children:de.email}),o.jsx(qe,{size:"small",onClick:()=>{navigator.clipboard.writeText(de.email),jt("Email copied to clipboard")},title:"Copy email",children:o.jsx(kg,{})})]})]}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:1,color:"success.dark"},children:"🔐 Password:"}),o.jsxs(T,{sx:{backgroundColor:"white",p:2,borderRadius:1,border:"1px solid",borderColor:"success.main",display:"flex",alignItems:"center",gap:1},children:[o.jsx(w,{variant:"h6",sx:{fontFamily:"monospace",flexGrow:1,fontWeight:"bold",letterSpacing:"0.1em"},children:de.password}),o.jsx(qe,{size:"small",onClick:()=>{navigator.clipboard.writeText(de.password),jt("Password copied to clipboard")},title:"Copy password",children:o.jsx(kg,{})})]})]})]})}),o.jsx(Zn,{severity:"info",sx:{mb:2},children:o.jsxs(w,{variant:"body2",children:[o.jsx("strong",{children:"📋 Important Notes:"}),o.jsx("br",{}),"• Share these credentials securely with the user",o.jsx("br",{}),"• The user can login immediately at /login",o.jsx("br",{}),"• Password is also visible in the Users table for future reference",o.jsx("br",{}),"• Consider asking the user to change their password on first login"]})}),o.jsxs(T,{sx:{backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.main",borderRadius:1,p:2},children:[o.jsx(w,{variant:"body2",sx:{fontWeight:600,color:"primary.dark"},children:"🚀 Quick Actions:"}),o.jsx(me,{variant:"outlined",size:"small",onClick:()=>{const _e=`Email: ${de.email}
Password: ${de.password}`;navigator.clipboard.writeText(_e),jt("Full credentials copied to clipboard")},startIcon:o.jsx(kg,{}),sx:{mt:1,mr:1},children:"Copy Both"}),o.jsx(me,{variant:"outlined",size:"small",onClick:()=>Z(!1),sx:{mt:1},children:"Create Another User"})]})]})}),o.jsx($n,{sx:{p:3},children:o.jsx(me,{onClick:()=>Z(!1),variant:"contained",size:"large",sx:{minWidth:120},children:"Got It!"})})]}),o.jsxs(In,{open:B,onClose:()=>N(!1),maxWidth:"md",fullWidth:!0,children:[o.jsxs(kn,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(As,{color:"warning"}),"Manual Cleanup Required"]}),o.jsx(Tn,{children:o.jsx(T,{component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"inherit",margin:0},children:q})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>N(!1),children:"I'll Do This Later"}),o.jsx(me,{variant:"contained",onClick:ne,startIcon:o.jsx(IT,{}),children:"Open Firebase Console"})]})]}),o.jsx(xm,{open:fe,autoHideDuration:3e3,onClose:()=>Se(!1),message:be,anchorOrigin:{vertical:"bottom",horizontal:"right"}})]})},wb=({title:t,value:e,icon:n,color:r,subtitle:i})=>o.jsx(Ve,{sx:{height:"100%"},children:o.jsxs(st,{sx:{p:3},children:[o.jsx(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:o.jsx(T,{sx:{width:48,height:48,borderRadius:"12px",backgroundColor:`${r}15`,display:"flex",alignItems:"center",justifyContent:"center",color:r},children:n})}),o.jsx(w,{variant:"h3",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e}),o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:t}),i&&o.jsx(w,{variant:"caption",color:"text.secondary",children:i})]})}),$Me=()=>{const{t}=Dr(),[e,n]=C.useState(W$),[r,i]=C.useState(V$),[s,a]=C.useState(B$);C.useEffect(()=>{const c=()=>{n(W$),i(V$),a(B$),console.log("✅ Receptionist Dashboard reset to default state")};return window.addEventListener("userDataCleared",c),()=>{window.removeEventListener("userDataCleared",c)}},[]);const l=c=>{switch(c){case"checked-in":return"success";case"waiting":return"warning";case"in-progress":return"info";case"scheduled":return"default";default:return"default"}};return o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4},children:[o.jsxs(w,{variant:"h4",sx:{fontWeight:700,mb:1,color:"text.primary"},children:[t("receptionist_dashboard")," 📋"]}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("manage_appointments_payments")})]}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(wb,{title:t("appointments_today"),value:"12",icon:o.jsx(En,{}),color:"#3B82F6",subtitle:`4 ${t("pending_checkin")}`})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(wb,{title:t("walk_ins_today"),value:"3",icon:o.jsx(mu,{}),color:"#10B981",subtitle:`2 ${t("waiting")}`})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(wb,{title:t("payments_due"),value:"8",icon:o.jsx(ml,{}),color:"#F59E0B",subtitle:`$1,250 ${t("total")}`})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(wb,{title:t("inventory_alerts"),value:"5",icon:o.jsx(As,{}),color:"#EF4444",subtitle:t("low_stock_items")})})]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,lg:8,children:o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("todays_appointments")}),o.jsx(me,{variant:"outlined",size:"small",startIcon:o.jsx(En,{}),children:t("view_calendar")})]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("time")}),o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("doctor")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("table_actions")})]})}),o.jsx(xi,{children:e.map(c=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsx(w,{variant:"body2",fontWeight:600,children:c.time})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:32,height:32,mr:1.5,backgroundColor:"primary.main",fontSize:"0.75rem"},children:c.avatar}),o.jsx(w,{variant:"body2",children:c.patient})]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"text.secondary",children:c.doctor})}),o.jsx(ae,{children:o.jsx(Ke,{label:t(c.status.replace("-","_")),color:l(c.status),size:"small",variant:"outlined"})}),o.jsxs(ae,{children:[o.jsx(qe,{size:"small",sx:{mr:1},children:o.jsx(Ps,{fontSize:"small"})}),o.jsx(qe,{size:"small",sx:{mr:1},children:o.jsx(Wn,{fontSize:"small"})}),o.jsx(qe,{size:"small",children:o.jsx(mwe,{fontSize:"small"})})]})]},c.id))})]})})]})})}),o.jsx(V,{item:!0,xs:12,lg:4,children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:3},children:[o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:t("payments_due")}),o.jsx(mi,{sx:{p:0},children:r.map(c=>o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(W1,{children:o.jsx(dn,{sx:{width:32,height:32,backgroundColor:"warning.main"},children:o.jsx(ml,{fontSize:"small"})})}),o.jsx(pr,{primary:c.patient,secondary:c.dueDate,primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}}),o.jsx(ol,{children:o.jsx(w,{variant:"body2",fontWeight:600,color:"error.main",children:c.amount})})]},c.id))}),o.jsx(me,{variant:"text",size:"small",fullWidth:!0,sx:{mt:1},children:t("view_all_payments")})]})}),o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:t("inventory_alerts")}),o.jsx(mi,{sx:{p:0},children:s.map(c=>o.jsxs(An,{sx:{px:0,py:1,flexDirection:"column",alignItems:"flex-start"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:"100%",mb:1},children:[o.jsx(dn,{sx:{width:32,height:32,backgroundColor:c.status==="critical"?"error.main":"warning.main",mr:1.5},children:o.jsx(H1,{fontSize:"small"})}),o.jsxs(T,{sx:{flexGrow:1},children:[o.jsx(w,{variant:"body2",fontWeight:600,children:c.item}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[c.stock," ",t("left")," (",t("min"),": ",c.minStock,")"]})]}),o.jsx(Ke,{label:t(c.status),size:"small",color:c.status==="critical"?"error":"warning",variant:"outlined"})]}),o.jsx(Od,{variant:"determinate",value:c.stock/c.minStock*100,sx:{width:"100%",height:4,borderRadius:2},color:c.status==="critical"?"error":"warning"})]},c.id))}),o.jsx(me,{variant:"text",size:"small",fullWidth:!0,sx:{mt:1},children:t("manage_inventory")})]})})]})})]})]})},jb=({title:t,value:e,icon:n,color:r,change:i,trend:s})=>o.jsx(Ve,{sx:{height:"100%"},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(T,{sx:{width:48,height:48,borderRadius:"12px",backgroundColor:`${r}15`,display:"flex",alignItems:"center",justifyContent:"center",color:r},children:n}),i&&o.jsx(Ke,{size:"small",label:i,sx:{backgroundColor:s==="up"?"#10B98115":"#EF444415",color:s==="up"?"#10B981":"#EF4444",fontWeight:600}})]}),o.jsx(w,{variant:"h3",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t})]})}),LMe=()=>{const{t}=Dr(),[e,n]=C.useState($$),[r,i]=C.useState(L$),[s,a]=C.useState(z$),[l,c]=C.useState(F$);C.useEffect(()=>{const f=()=>{n($$),i(L$),a(z$),c(F$),console.log("✅ Doctor Dashboard reset to default state")};return window.addEventListener("userDataCleared",f),()=>{window.removeEventListener("userDataCleared",f)}},[]);const d=f=>{switch(f){case"stable":return"success";case"monitoring":return"warning";case"follow-up":return"info";default:return"default"}};return o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4},children:[o.jsxs(w,{variant:"h4",sx:{fontWeight:700,mb:1,color:"text.primary"},children:[t("good_morning_doctor")," 👨‍⚕️"]}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("appointments_and_followups")})]}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(jb,{title:t("todays_patients"),value:"8",icon:o.jsx(Lr,{}),color:"#3B82F6",change:"+2",trend:"up"})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(jb,{title:t("active_treatments"),value:"24",icon:o.jsx(Cu,{}),color:"#10B981",change:"+3",trend:"up"})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(jb,{title:t("completed_consultations"),value:"156",icon:o.jsx(zr,{}),color:"#F59E0B",change:"+12%",trend:"up"})}),o.jsx(V,{item:!0,xs:12,sm:6,md:3,children:o.jsx(jb,{title:t("reports_to_review"),value:"5",icon:o.jsx(li,{}),color:"#8B5CF6",change:"-2",trend:"down"})})]}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsxs(V,{item:!0,xs:12,md:8,children:[o.jsx(Ve,{sx:{mb:3},children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("weekly_patient_overview")}),o.jsx(me,{variant:"outlined",size:"small",startIcon:o.jsx(ty,{}),children:t("view_analytics")})]}),o.jsx(T,{sx:{height:300},children:o.jsx(YT,{width:"100%",height:"100%",children:o.jsxs(tMe,{data:e,children:[o.jsx(km,{dataKey:"name"}),o.jsx(Rm,{}),o.jsx(Ch,{dataKey:"patients",fill:"#3B82F6",radius:[8,8,0,0]})]})})})]})}),o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("my_patients")}),o.jsx(me,{variant:"contained",size:"small",startIcon:o.jsx(rr,{}),children:t("add_patient")})]}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{sx:{fontWeight:600},children:t("patient")}),o.jsx(ae,{sx:{fontWeight:600},children:t("patient_age")}),o.jsx(ae,{sx:{fontWeight:600},children:t("patient_condition")}),o.jsx(ae,{sx:{fontWeight:600},children:t("last_visit")}),o.jsx(ae,{sx:{fontWeight:600},children:t("status")}),o.jsx(ae,{sx:{fontWeight:600},children:t("table_actions")})]})}),o.jsx(xi,{children:r.map(f=>o.jsxs(Qt,{hover:!0,children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(dn,{sx:{width:40,height:40,mr:2,backgroundColor:"primary.main",fontSize:"0.875rem"},children:f.avatar}),o.jsxs(T,{children:[o.jsx(w,{variant:"body2",fontWeight:600,children:f.name}),o.jsxs(w,{variant:"caption",color:"text.secondary",children:[t("next"),": ",f.nextAppointment]})]})]})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",children:[f.age," ",t("years")]})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",color:"text.secondary",children:f.condition})}),o.jsx(ae,{children:o.jsx(w,{variant:"body2",children:f.lastVisit})}),o.jsx(ae,{children:o.jsx(Ke,{label:f.status,color:d(f.status),size:"small",variant:"outlined"})}),o.jsxs(ae,{children:[o.jsx(qe,{size:"small",sx:{mr:1},children:o.jsx(Ps,{fontSize:"small"})}),o.jsx(qe,{size:"small",sx:{mr:1},children:o.jsx(Wn,{fontSize:"small"})}),o.jsx(qe,{size:"small",children:o.jsx(Zb,{fontSize:"small"})})]})]},f.id))})]})})]})})]}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:3},children:[o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("todays_schedule")}),o.jsx(qe,{size:"small",children:o.jsx(En,{fontSize:"small"})})]}),o.jsx(mi,{sx:{p:0},children:s.map((f,p)=>o.jsxs(he.Fragment,{children:[o.jsxs(An,{sx:{px:0,py:1.5},children:[o.jsx(W1,{children:o.jsx(dn,{sx:{width:40,height:40,backgroundColor:"primary.main",fontSize:"0.75rem"},children:f.avatar})}),o.jsx(pr,{primary:f.patient,secondary:o.jsx(T,{children:o.jsxs(w,{variant:"caption",color:"text.secondary",children:[f.type," • ",f.duration]})}),primaryTypographyProps:{variant:"body2",fontWeight:600}}),o.jsx(ol,{children:o.jsx(w,{variant:"body2",fontWeight:600,color:"primary.main",children:f.time})})]}),p<s.length-1&&o.jsx(Nn,{})]},f.id))}),o.jsx(me,{variant:"text",size:"small",fullWidth:!0,sx:{mt:2},children:t("view_full_schedule")})]})}),o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:t("quick_actions")}),o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:1},children:[o.jsx(me,{variant:"contained",fullWidth:!0,startIcon:o.jsx(rr,{}),sx:{textTransform:"none"},children:t("add_new_patient")}),o.jsx(me,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(Sr,{}),sx:{textTransform:"none"},children:t("schedule_appointment")}),o.jsx(me,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(li,{}),sx:{textTransform:"none"},children:t("create_prescription")}),o.jsx(me,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(Cu,{}),sx:{textTransform:"none"},children:t("medical_records_quick_action")})]})]})}),o.jsx(Ve,{children:o.jsxs(st,{sx:{p:3},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:2},children:t("recent_activity")}),o.jsx(mi,{sx:{p:0},children:l.map(f=>o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(W1,{children:o.jsxs(dn,{sx:{width:32,height:32,backgroundColor:f.color},children:[f.icon==="CheckCircle"&&o.jsx(zr,{fontSize:"small"}),f.icon==="Assignment"&&o.jsx(li,{fontSize:"small"}),f.icon==="Schedule"&&o.jsx(Sr,{fontSize:"small"})]})}),o.jsx(pr,{primary:t(f.type),secondary:`${f.patient} • ${f.timeAgo} ${t("hours_ago")}`,primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}})]},f.id))})]})})]})})]})]})},zMe=()=>o.jsx("div",{children:"Profile details will be here."}),FMe=()=>o.jsx("div",{children:"Visits history will be here."}),WMe=()=>{const{t}=Dr(),e=[{id:1,text:"Patient reported feeling better.",date:"2024-07-15"},{id:2,text:"Prescribed medication for flu symptoms.",date:"2024-07-10"}];return o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t("add_note")}),o.jsxs("form",{children:[o.jsx("textarea",{rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:t("enter_note")}),o.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 font-medium text-white rounded-md bg-primary hover:bg-secondary",children:t("save_note")})]}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 my-6",children:t("notes")}),o.jsx("div",{className:"space-y-4",children:e.map(n=>o.jsxs("div",{className:"p-4 bg-gray-100 rounded-md",children:[o.jsx("p",{children:n.text}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n.date})]},n.id))})]})},VMe=()=>{const{t}=Dr(),[e,n]=C.useState("profile"),r=[{id:"profile",label:t("profile")},{id:"visits",label:t("visits")},{id:"doctor_notes",label:t("doctor_notes")}],i=()=>{switch(e){case"profile":return o.jsx(zMe,{});case"visits":return o.jsx(FMe,{});case"doctor_notes":return o.jsx(WMe,{});default:return null}};return o.jsxs("div",{className:"flex h-screen bg-background",children:[o.jsx(nj,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(rj,{}),o.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-background p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:t("patient_profile")}),o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:r.map(s=>o.jsx("button",{onClick:()=>n(s.id),className:`${e===s.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:s.label},s.id))})}),o.jsx("div",{className:"mt-6",children:i()})]})]})]})]})},BMe=()=>o.jsxs("div",{className:"flex h-screen bg-background",children:[o.jsx(nj,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(rj,{}),o.jsx("main",{className:"flex-1 p-6 overflow-x-hidden overflow-y-auto",children:o.jsx(VMe,{})})]})]}),UMe=({isOpen:t,onClose:e,isEdit:n=!1})=>{const{t:r}=Dr(),[i,s]=C.useState({patientName:"",appointmentDate:"",appointmentTime:"",appointmentType:"",duration:30,notes:""}),a=l=>{l.preventDefault(),console.log("Appointment data:",i),e()};return t?o.jsxs(In,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(En,{sx:{color:"primary.main"}}),o.jsx(w,{variant:"h6",children:r(n?"edit_appointment":"create_appointment")})]})}),o.jsx(Tn,{children:o.jsx(T,{component:"form",onSubmit:a,sx:{mt:2},children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:r("patient_name"),value:i.patientName,onChange:l=>s(c=>({...c,patientName:l.target.value})),required:!0,InputProps:{startAdornment:o.jsx(Pu,{sx:{mr:1,color:"text.secondary"}})}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:r("appointment_date"),type:"date",value:i.appointmentDate,onChange:l=>s(c=>({...c,appointmentDate:l.target.value})),required:!0,InputLabelProps:{shrink:!0},inputProps:{min:new Date().toISOString().split("T")[0]}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:r("appointment_time"),type:"time",value:i.appointmentTime,onChange:l=>s(c=>({...c,appointmentTime:l.target.value})),required:!0,InputLabelProps:{shrink:!0},InputProps:{startAdornment:o.jsx(Sr,{sx:{mr:1,color:"text.secondary"}})}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:r("appointment_type")}),o.jsxs(yn,{value:i.appointmentType,label:r("appointment_type"),onChange:l=>s(c=>({...c,appointmentType:l.target.value})),required:!0,children:[o.jsx(ye,{value:"consultation",children:r("consultation")}),o.jsx(ye,{value:"check_up",children:r("check_up")}),o.jsx(ye,{value:"follow_up",children:r("follow_up")}),o.jsx(ye,{value:"surgery_consultation",children:r("surgery_consultation")}),o.jsx(ye,{value:"emergency",children:r("emergency")})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:r("duration")}),o.jsxs(yn,{value:i.duration,label:r("duration"),onChange:l=>s(c=>({...c,duration:Number(l.target.value)})),children:[o.jsx(ye,{value:15,children:r("duration_minutes",{minutes:15})}),o.jsx(ye,{value:30,children:r("duration_minutes",{minutes:30})}),o.jsx(ye,{value:45,children:r("duration_minutes",{minutes:45})}),o.jsx(ye,{value:60,children:r("duration_hour",{hours:1})})]})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:r("notes"),multiline:!0,rows:3,value:i.notes,onChange:l=>s(c=>({...c,notes:l.target.value})),placeholder:r("appointment_notes_placeholder")})})]})})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:e,variant:"outlined",sx:{borderRadius:2},children:r("cancel")}),o.jsx(me,{onClick:a,variant:"contained",sx:{borderRadius:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",px:4},children:r("save_appointment")})]})]}):null},qMe=()=>{const{t}=Dr(),[e,n]=C.useState(!1);return o.jsxs(T,{sx:{display:"flex",height:"100vh",backgroundColor:"background.default"},children:[o.jsx(nj,{}),o.jsxs(T,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[o.jsx(rj,{}),o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(Ve,{sx:{mb:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:4,overflow:"hidden",position:"relative"},children:[o.jsx(st,{sx:{p:4,position:"relative",zIndex:2},children:o.jsxs(T,{sx:{display:"flex",items:"center",justifyContent:"space-between"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(T,{sx:{width:64,height:64,borderRadius:"20px",backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:o.jsx(jwe,{sx:{fontSize:32,color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,mb:.5},children:t("appointment_calendar")}),o.jsxs(w,{variant:"h6",sx:{opacity:.9,fontWeight:400},children:["📅 ",t("calendar_view_description")]})]})]}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(rr,{}),onClick:()=>n(!0),sx:{color:"white",borderColor:"rgba(255,255,255,0.5)",borderRadius:3,px:4,py:1.5,fontWeight:600,"&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:t("create_appointment")})]})}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}})]}),o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.05)",overflow:"hidden"},children:o.jsx(st,{sx:{p:6,textAlign:"center",minHeight:400},children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300},children:[o.jsx(En,{sx:{fontSize:80,color:"primary.main",mb:3,opacity:.7}}),o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:2,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:t("calendar_coming_soon")}),o.jsx(w,{variant:"h6",color:"text.secondary",sx:{mb:4,maxWidth:600},children:t("calendar_description")}),o.jsx(Zn,{severity:"info",sx:{mb:3,maxWidth:500},children:o.jsx(w,{variant:"body2",children:t("calendar_integration_note")})}),o.jsxs(T,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[o.jsx(Ke,{label:t("monthly_view"),variant:"outlined",color:"primary",sx:{borderRadius:2}}),o.jsx(Ke,{label:t("weekly_view"),variant:"outlined",color:"primary",sx:{borderRadius:2}}),o.jsx(Ke,{label:t("daily_view"),variant:"outlined",color:"primary",sx:{borderRadius:2}}),o.jsx(Ke,{label:t("agenda_view"),variant:"outlined",color:"primary",sx:{borderRadius:2}})]})]})})})]}),o.jsx(UMe,{isOpen:e,onClose:()=>n(!1)})]})]})},HMe=()=>{const{t}=Dr();return o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:2},children:[o.jsx(H1,{sx:{fontSize:32,color:"primary.main",mr:2}}),o.jsx(w,{variant:"h4",sx:{fontWeight:700,color:"text.primary"},children:t("inventory")})]}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("manage_inventory")})]}),o.jsx(Ve,{children:o.jsxs(st,{sx:{p:4,textAlign:"center"},children:[o.jsx(H1,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(w,{variant:"h5",sx:{fontWeight:600,mb:2},children:t("coming_soon")}),o.jsx(w,{variant:"body1",color:"text.secondary",children:t("feature_under_development")})]})})]})};function Wg(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,id:`notification-tabpanel-${r}`,"aria-labelledby":`notification-tab-${r}`,...i,children:n===r&&o.jsx(T,{sx:{py:2},children:e})})}const GMe=t=>{switch(t){case"appointment":return o.jsx(Sr,{});case"payment":return o.jsx(ml,{});case"inventory":return o.jsx(As,{});case"system":return o.jsx(q1,{});default:return o.jsx(oO,{})}},KMe=t=>{switch(t){case"appointment":return{main:"#3B82F6",light:"#EBF8FF",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};case"payment":return{main:"#10B981",light:"#F0FDF4",gradient:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"};case"inventory":return{main:"#F59E0B",light:"#FFFBEB",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"};case"system":return{main:"#8B5CF6",light:"#FAF5FF",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};default:return{main:"#6B7280",light:"#F9FAFB",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}},YMe=()=>{const{t}=Dr(),e=(oe,ge=!1)=>{if(!oe.includes(" ")&&oe.includes("_")){if(ge&&oe.includes("|||")){const fe=oe.split("|||"),Se=fe[0],be=fe.slice(1);return Se==="low_stock_message"?t("low_stock_message",{itemName:be[0],quantity:be[1],minQuantity:be[2]}):Se==="out_of_stock_message"?t("out_of_stock_message",{itemName:be[0],supplier:be[1]}):oe}return t(oe)}return oe},{notifications:n,unreadCount:r,loading:i,markAsRead:s,markAllAsRead:a,deleteNotification:l,refreshNotifications:c}=kG(),[d,f]=C.useState(0),[p,m]=C.useState({appointments:!0,payments:!0,inventory:!0,system:!0}),[y,x]=C.useState(!1),[v,b]=C.useState(!1),[I,A]=C.useState(!1),[S,k]=C.useState(null),[P,R]=C.useState(4),[E,O]=C.useState({open:!1,message:"",severity:"success"}),D={id:"user-1",clinicId:"clinic-1",branchId:"branch-1"},L=(oe,ge="success")=>{O({open:!0,message:oe,severity:ge})},$=()=>{O(oe=>({...oe,open:!1}))};C.useEffect(()=>{B()},[]);const B=async()=>{try{const oe=await G$.get(D.id);m(oe)}catch(oe){console.error("Error loading settings:",oe),L(t("failed_to_load_settings"),"error")}},N=async()=>{try{b(!0),await c(),R(4),L(t("notifications_refreshed",{total:n.length,unread:r}),"success")}catch(oe){console.error("Error refreshing notifications:",oe),L(t("failed_to_refresh_notifications"),"error")}finally{b(!1)}},q=(oe,ge)=>{f(ge),R(4)},Y=async oe=>{try{x(!0),await s(oe),L(t("notification_marked_as_read"))}catch(ge){console.error("Error marking as read:",ge),L(t("failed_to_mark_as_read"),"error")}finally{x(!1)}},ne=async oe=>{try{x(!0),await l(oe),L(t("notification_deleted"))}catch(ge){console.error("Error deleting notification:",ge),L(t("failed_to_delete_notification"),"error")}finally{x(!1)}},Q=async()=>{try{x(!0),await a(),L(t("all_notifications_marked_as_read"))}catch(oe){console.error("Error marking all as read:",oe),L(t("failed_to_mark_all_as_read"),"error")}finally{x(!1)}},ee=async()=>{try{x(!0),await Yl.clearAll(D.clinicId,D.branchId),L(t("all_notifications_cleared"))}catch(oe){console.error("Error clearing notifications:",oe),L(t("failed_to_clear_notifications"),"error")}finally{x(!1)}},Z=async()=>{try{A(!0),await G$.update(D.id,p),L(t("settings_saved_successfully"))}catch(oe){console.error("Error saving settings:",oe),L(t("failed_to_save_settings"),"error")}finally{A(!1)}},de=async()=>{try{x(!0),await new Promise(Se=>setTimeout(Se,500));const oe=n.length-P,ge=Math.min(4,oe),fe=P+ge;R(fe),L(t("loaded_more_notifications",{count:ge}),"success")}catch(oe){console.error("Error loading more:",oe),L(t("failed_to_load_more"),"error")}finally{x(!1)}},K=oe=>oe?n.filter(ge=>ge.type===oe):n,se=oe=>{const ge=oe.slice(0,P);return o.jsx(T,{sx:{px:{xs:2,md:3}},children:oe.length===0?o.jsx(F1,{in:!0,timeout:800,children:o.jsx(T,{sx:{textAlign:"center",py:8,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="7" cy="7" r="7"/%3E%3Ccircle cx="53" cy="7" r="7"/%3E%3Ccircle cx="7" cy="53" r="7"/%3E%3Ccircle cx="53" cy="53" r="7"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'}},children:o.jsxs(T,{sx:{position:"relative",zIndex:1},children:[o.jsx(kwe,{sx:{fontSize:64,mb:2,opacity:.8}}),o.jsx(w,{variant:"h5",sx:{fontWeight:600,mb:1},children:t("no_notifications_found")}),o.jsx(w,{variant:"body1",sx:{opacity:.9,maxWidth:400,mx:"auto"},children:t("all_caught_up")})]})})}):o.jsx(kf,{spacing:2,children:ge.map((fe,Se)=>{const be=KMe(fe.type),ce=S===fe.id;return o.jsx(Gb,{in:!0,timeout:300+Se*50,style:{transformOrigin:"0 0 0"},children:o.jsx(Ve,{sx:{position:"relative",overflow:"hidden",borderRadius:3,border:fe.read?"1px solid #E5E7EB":`2px solid ${be.main}`,background:fe.read?"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)":`linear-gradient(135deg, ${be.light} 0%, #ffffff 100%)`,boxShadow:fe.read?"0 2px 4px rgba(0,0,0,0.05)":`0 8px 25px ${be.main}25`,transform:fe.read?"none":"translateY(-2px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer","&:hover":{transform:"translateY(-4px)",boxShadow:fe.read?"0 8px 25px rgba(0,0,0,0.1)":`0 12px 35px ${be.main}35`},"&::before":fe.read?{}:{content:'""',position:"absolute",top:0,left:0,width:"4px",height:"100%",background:be.gradient}},onClick:()=>k(ce?null:fe.id),children:o.jsx(st,{sx:{p:3,pb:ce?2:3},children:o.jsxs(T,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[o.jsx(dn,{sx:{width:48,height:48,background:be.gradient,boxShadow:`0 4px 14px ${be.main}25`,"& svg":{fontSize:24}},children:GMe(fe.type)}),o.jsxs(T,{sx:{flex:1,minWidth:0},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:fe.read?500:700,fontSize:"1.1rem",color:fe.read?"text.secondary":"text.primary"},children:e(fe.title)}),!fe.read&&o.jsx(Cwe,{sx:{fontSize:8,color:be.main,animation:"pulse 2s infinite"}})]}),o.jsx(w,{variant:"body1",sx:{color:"text.secondary",mb:1,lineHeight:1.5,fontWeight:fe.read?400:500},children:e(fe.message,!0)}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(Ke,{label:fe.time,size:"small",sx:{backgroundColor:be.light,color:be.main,fontWeight:600,border:`1px solid ${be.main}20`}}),o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:.5},children:[!fe.read&&o.jsx(Ze,{title:t("mark_as_read"),placement:"top",children:o.jsx(qe,{size:"small",onClick:We=>{We.stopPropagation(),Y(fe.id)},disabled:y,sx:{color:be.main,backgroundColor:be.light,"&:hover":{backgroundColor:be.main,color:"white",transform:"scale(1.1)"},transition:"all 0.2s ease"},children:o.jsx(uC,{fontSize:"small"})})}),o.jsx(Ze,{title:t("delete_notification"),placement:"top",children:o.jsx(qe,{size:"small",onClick:We=>{We.stopPropagation(),ne(fe.id)},disabled:y,sx:{color:"#EF4444",backgroundColor:"#FEF2F2","&:hover":{backgroundColor:"#EF4444",color:"white",transform:"scale(1.1)"},transition:"all 0.2s ease"},children:o.jsx(Cs,{fontSize:"small"})})})]})]}),ce&&o.jsx(zR,{direction:"down",in:ce,mountOnEnter:!0,unmountOnExit:!0,children:o.jsxs(T,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:[o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[o.jsxs("strong",{children:[t("type"),":"]})," ",t(`notification_${fe.type}_type`)]}),o.jsxs(w,{variant:"body2",color:"text.secondary",children:[o.jsxs("strong",{children:[t("created_at"),":"]})," ",new Date(fe.createdAt).toLocaleString()]})]})})]})]})})})},fe.id)})})})},le=()=>o.jsx(T,{sx:{px:3},children:o.jsx(kf,{spacing:2,children:[1,2,3,4].map(oe=>o.jsx(Ve,{sx:{borderRadius:3},children:o.jsx(st,{sx:{p:3},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(Bl,{variant:"circular",width:48,height:48}),o.jsxs(T,{sx:{flex:1},children:[o.jsx(Bl,{variant:"text",width:"60%",height:24}),o.jsx(Bl,{variant:"text",width:"90%",height:20,sx:{mt:1}}),o.jsx(Bl,{variant:"text",width:"30%",height:16,sx:{mt:1}})]})]})})},oe))})});return i?o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1},children:[o.jsxs(T,{sx:{mb:4},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(Bl,{variant:"circular",width:32,height:32,sx:{mr:2}}),o.jsx(Bl,{variant:"text",width:200,height:40})]}),o.jsx(Bl,{variant:"circular",width:48,height:48})]}),o.jsx(Bl,{variant:"text",width:400,height:24})]}),o.jsxs(Ve,{sx:{borderRadius:3,mb:3},children:[o.jsx(T,{sx:{p:3,borderBottom:1,borderColor:"divider"},children:o.jsx(T,{sx:{display:"flex",gap:2},children:[1,2,3,4].map(oe=>o.jsx(Bl,{variant:"rectangular",width:120,height:48,sx:{borderRadius:2}},oe))})}),le()]})]}):o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",position:"relative",zIndex:1,flexDirection:{xs:"column",md:"row"},gap:{xs:3,md:0}},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,sm:56,md:64},height:{xs:48,sm:56,md:64},borderRadius:{xs:"16px",md:"20px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:{xs:2,sm:2.5,md:3},backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",flexShrink:0},children:o.jsx(sL,{sx:{fontSize:{xs:24,sm:28,md:32},color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:{xs:.5,md:1},textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("notifications")}),o.jsxs(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",sm:"1.1rem",md:"1.25rem"}},children:["🔔 ",t("real_time_clinic_notifications")]})]})]}),o.jsxs(T,{sx:{display:"flex",gap:{xs:2,md:2},width:{xs:"100%",md:"auto"},flexDirection:{xs:"column",sm:"row"},alignItems:"stretch"},children:[o.jsx(me,{variant:"contained",startIcon:v?o.jsx(Jn,{size:20,sx:{color:"white"}}):o.jsx(sO,{}),onClick:N,disabled:v,sx:{borderRadius:3,backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",color:"white",fontWeight:700,px:{xs:3,md:4},py:{xs:1.5,md:1.5},minHeight:48,fontSize:{xs:"0.9rem",md:"1rem"},flex:{xs:1,sm:"none"},minWidth:{xs:"auto",sm:140},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},transition:"all 0.3s ease"},children:t(v?"refreshing":"refresh_all")}),o.jsx(me,{variant:"outlined",startIcon:o.jsx(uC,{}),onClick:Q,disabled:y||r===0,sx:{borderRadius:3,backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",color:"white",fontWeight:600,px:{xs:3,md:4},py:{xs:1.5,md:1.5},minHeight:48,fontSize:{xs:"0.9rem",md:"1rem"},flex:{xs:1,sm:"none"},minWidth:{xs:"auto",sm:120},whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden","&:hover":{backgroundColor:"rgba(255,255,255,0.2)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},"&:disabled":{backgroundColor:"rgba(255,255,255,0.05)",borderColor:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.4)"},transition:"all 0.3s ease"},children:t("mark_all_read")})]})]}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}})]}),o.jsxs(V,{container:!0,spacing:4,children:[o.jsx(V,{item:!0,xs:12,lg:8,children:o.jsx(F1,{in:!0,timeout:800,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{borderBottom:1,borderColor:"divider",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",px:3,pt:2},children:o.jsxs(_l,{value:d,onChange:q,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"0.95rem",minWidth:"auto",px:3,py:2,borderRadius:2,mx:.5,transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(102, 126, 234, 0.05)",transform:"translateY(-1px)"},"&.Mui-selected":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white !important",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)"}},"& .MuiTabs-indicator":{display:"none"}},children:[o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(sL,{fontSize:"small"}),o.jsx("span",{children:t("notification_type_all")}),o.jsx(Ke,{label:n.length,size:"small",sx:{height:20,fontSize:"0.75rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Sr,{fontSize:"small"}),o.jsx("span",{children:t("notification_type_appointment")}),o.jsx(Ke,{label:K("appointment").length,size:"small",sx:{height:20,fontSize:"0.75rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(ml,{fontSize:"small"}),o.jsx("span",{children:t("notification_type_payment")}),o.jsx(Ke,{label:K("payment").length,size:"small",sx:{height:20,fontSize:"0.75rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(As,{fontSize:"small"}),o.jsx("span",{children:t("notification_type_inventory")}),o.jsx(Ke,{label:K("inventory").length,size:"small",sx:{height:20,fontSize:"0.75rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}})]})}),o.jsx(un,{label:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(q1,{fontSize:"small"}),o.jsx("span",{children:t("notification_type_system")}),o.jsx(Ke,{label:K("system").length,size:"small",sx:{height:20,fontSize:"0.75rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}})]})})]})}),o.jsx(Wg,{value:d,index:0,children:se(n)}),o.jsx(Wg,{value:d,index:1,children:se(K("appointment"))}),o.jsx(Wg,{value:d,index:2,children:se(K("payment"))}),o.jsx(Wg,{value:d,index:3,children:se(K("inventory"))}),o.jsx(Wg,{value:d,index:4,children:se(K("system"))}),n.length>P&&o.jsx(T,{sx:{p:3,pt:2},children:o.jsx(me,{variant:"outlined",fullWidth:!0,onClick:de,disabled:y,startIcon:y?o.jsx(Jn,{size:16}):null,sx:{borderRadius:3,py:1.5,borderColor:"#667eea",color:"#667eea","&:hover":{borderColor:"#5a67d8",backgroundColor:"#667eea10"}},children:t(y?"loading_more":"load_more_notifications")})}),n.length>0&&n.length<=P&&o.jsx(T,{sx:{p:3,pt:2,textAlign:"center"},children:o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:t("all_notifications_loaded",{count:n.length})})})]})})})}),o.jsx(V,{item:!0,xs:12,lg:4,children:o.jsxs(kf,{spacing:3,children:[o.jsx(Gb,{in:!0,timeout:1e3,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsxs(T,{sx:{p:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(zwe,{sx:{mr:2,fontSize:28}}),o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:t("notification_settings")})]}),o.jsx(w,{variant:"body1",sx:{opacity:.9},children:t("customize_notification_preferences")})]}),o.jsxs(T,{sx:{p:3},children:[o.jsx(kf,{spacing:2.5,children:[{key:"appointments",label:t("appointment_notifications"),icon:o.jsx(Sr,{}),color:"#3B82F6"},{key:"payments",label:t("payment_notifications"),icon:o.jsx(ml,{}),color:"#10B981"},{key:"inventory",label:t("inventory_alerts"),icon:o.jsx(As,{}),color:"#F59E0B"},{key:"system",label:t("system_updates"),icon:o.jsx(q1,{}),color:"#8B5CF6"}].map(oe=>o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderRadius:2,backgroundColor:p[oe.key]?`${oe.color}10`:"transparent",border:`1px solid ${p[oe.key]?`${oe.color}30`:"transparent"}`,transition:"all 0.3s ease"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(dn,{sx:{width:40,height:40,backgroundColor:oe.color,"& svg":{fontSize:20}},children:oe.icon}),o.jsx(w,{variant:"body1",sx:{fontWeight:600},children:oe.label})]}),o.jsx(ti,{checked:p[oe.key],onChange:ge=>m({...p,[oe.key]:ge.target.checked}),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:oe.color},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:oe.color}}})]},oe.key))}),o.jsx(me,{variant:"contained",fullWidth:!0,size:"large",sx:{mt:4,borderRadius:3,py:1.5,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(135deg, #5a67d8 0%, #6c5ce7 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.4)"},transition:"all 0.3s ease"},onClick:Z,disabled:I,startIcon:I?o.jsx(Jn,{size:20,sx:{color:"white"}}):o.jsx(tj,{}),children:t(I?"loading":"save_settings")})]})]})})}),o.jsx(Gb,{in:!0,timeout:1200,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsxs(T,{sx:{p:3,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:1},children:[o.jsx(dwe,{sx:{mr:2,fontSize:28}}),o.jsx(w,{variant:"h5",sx:{fontWeight:700},children:t("quick_actions")})]}),o.jsx(w,{variant:"body1",sx:{opacity:.9},children:t("manage_all_notifications")})]}),o.jsx(T,{sx:{p:3},children:o.jsxs(kf,{spacing:2,children:[o.jsx(me,{variant:"outlined",fullWidth:!0,size:"large",startIcon:v?o.jsx(Jn,{size:20}):o.jsx(Nwe,{}),onClick:N,disabled:v,sx:{borderRadius:3,py:1.5,borderColor:"#667eea",color:"#667eea",fontWeight:600,"&:hover":{borderColor:"#5a67d8",backgroundColor:"#667eea15",transform:"translateY(-1px)"},transition:"all 0.3s ease"},children:t(v?"refreshing":"refresh_all_data")}),o.jsx(me,{variant:"outlined",fullWidth:!0,size:"large",startIcon:y?o.jsx(Jn,{size:20}):o.jsx(uC,{}),onClick:Q,disabled:y||r===0,sx:{borderRadius:3,py:1.5,borderColor:"#10B981",color:"#10B981",fontWeight:600,"&:hover":{borderColor:"#059669",backgroundColor:"#10B98115",transform:"translateY(-1px)"},"&:disabled":{borderColor:"#D1D5DB",color:"#9CA3AF"},transition:"all 0.3s ease"},children:y?t("processing"):`${t("mark_all_as_read")}${r>0?` (${r})`:""}`}),o.jsx(me,{variant:"outlined",fullWidth:!0,size:"large",startIcon:y?o.jsx(Jn,{size:20}):o.jsx(Cs,{}),onClick:ee,disabled:y||n.length===0,sx:{borderRadius:3,py:1.5,borderColor:"#EF4444",color:"#EF4444",fontWeight:600,"&:hover":{borderColor:"#DC2626",backgroundColor:"#EF444415",transform:"translateY(-1px)"},"&:disabled":{borderColor:"#D1D5DB",color:"#9CA3AF"},transition:"all 0.3s ease"},children:y?t("processing"):t("clear_all_with_count",{count:n.length})})]})})]})})})]})})]}),o.jsx(xm,{open:E.open,autoHideDuration:6e3,onClose:$,anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{zIndex:9999},children:o.jsx(Zn,{onClose:$,severity:E.severity,variant:"filled",sx:{borderRadius:3,fontWeight:600,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)","& .MuiAlert-icon":{fontSize:24}},children:E.message})}),o.jsx("style",{children:`
              @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
              }
              
              .animate-spin {
                animation: spin 1s linear infinite;
              }
              
              @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
              }
            `})]})},XMe=()=>{const{t}=Dr(),[e,n]=C.useState(()=>{console.log("🔄 Loading clinic payment settings...");const k=ip();return console.log("✅ Loaded settings:",k),k}),[r,i]=C.useState(!1),[s,a]=C.useState(null),[l,c]=C.useState(!1),[d,f]=C.useState(!1),[p,m]=C.useState({type:"",cost:0,currency:"EGP",description:"",category:"consultation",includeVAT:!0}),[y]=C.useState(()=>Vj());C.useEffect(()=>{if(d){const k=setTimeout(()=>{console.log("🔄 Auto-saving settings..."),rB(e),console.log("✅ Settings auto-saved:",e),f(!1);const P=ip();console.log("🔍 Verification - Settings in localStorage:",P)},2e3);return()=>clearTimeout(k)}},[e,d]);const x=(k,P)=>{m(R=>({...R,[k]:P}))},v=()=>{try{console.log("🔄 Manual save button clicked, saving settings..."),rB(e),f(!1),console.log("✅ Clinic payment settings saved successfully");const k=ip();console.log("🔍 Verification after manual save:",k),alert("✅ Payment settings saved successfully!")}catch(k){console.error("❌ Error saving clinic payment settings:",k),alert("❌ Failed to save settings. Please try again.")}},b=(k=null)=>{k?(m({...k}),a(k),c(!0)):(m({type:"",cost:0,currency:"EGP",description:"",category:"consultation",includeVAT:!0}),a(null),c(!1)),i(!0)},I=()=>{if(!p.type.trim()||p.cost<=0){alert("Please fill in all required fields");return}let k;if(l&&s)k=e.appointmentTypes.map(P=>P.type===s.type?p:P);else{if(e.appointmentTypes.find(R=>R.type.toLowerCase()===p.type.toLowerCase())){alert("Appointment type already exists");return}k=[...e.appointmentTypes,p]}n(P=>({...P,appointmentTypes:k})),f(!0),i(!1)},A=k=>{if(window.confirm(`Are you sure you want to delete "${k.type}"?`)){const P=e.appointmentTypes.filter(R=>R.type!==k.type);n(R=>({...R,appointmentTypes:P})),f(!0)}},S=(k,P)=>!P||!y.enabled?k:k+k*y.rate/100;return o.jsxs(T,{sx:{p:3},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:3},children:[o.jsx(tj,{sx:{mr:2,color:"primary.main"}}),o.jsx(w,{variant:"h5",sx:{fontWeight:600},children:t("clinic_payment_settings")}),d&&o.jsx(Ke,{label:t("unsaved_changes"),color:"warning",size:"small",sx:{ml:2}})]}),o.jsx(Zn,{severity:"info",sx:{mb:3},children:o.jsxs(w,{variant:"caption",children:[o.jsx("strong",{children:"Debug Info:"})," Settings loaded: ",e.appointmentTypes.length," appointment types, Auto-payment: ",e.autoCreatePaymentOnCompletion?"Enabled":"Disabled",", Default method: ",e.defaultPaymentMethod]})}),o.jsx(Ve,{children:o.jsxs(st,{children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600},children:t("appointment_types_and_costs")}),o.jsx(me,{variant:"contained",startIcon:o.jsx(rr,{}),onClick:()=>b(),children:t("Add Appointment type")})]}),y.enabled&&o.jsx(Zn,{severity:"info",sx:{mb:2},children:t("vat_enabled_notice",{rate:y.rate})}),o.jsx(yi,{children:o.jsxs(gi,{children:[o.jsx(vi,{children:o.jsxs(Qt,{children:[o.jsx(ae,{children:t("appointment_type")}),o.jsx(ae,{children:t("base_cost")}),o.jsx(ae,{children:t("final_cost")}),o.jsx(ae,{children:t("category")}),o.jsx(ae,{children:t("description")}),o.jsx(ae,{children:t("actions")})]})}),o.jsx(xi,{children:e.appointmentTypes.map(k=>o.jsxs(Qt,{children:[o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(w,{variant:"body2",fontWeight:600,children:k.type}),k.includeVAT&&y.enabled&&o.jsx(Ke,{label:"VAT",size:"small",color:"info"})]})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",children:[k.cost," ",k.currency]})}),o.jsx(ae,{children:o.jsxs(w,{variant:"body2",fontWeight:600,color:"primary.main",children:[S(k.cost,k.includeVAT).toFixed(2)," ",k.currency]})}),o.jsx(ae,{children:o.jsx(Ke,{label:t(k.category),size:"small",variant:"outlined"})}),o.jsx(ae,{children:o.jsx(w,{variant:"caption",color:"text.secondary",children:k.description})}),o.jsx(ae,{children:o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(Ze,{title:t("edit"),children:o.jsx(qe,{size:"small",onClick:()=>b(k),children:o.jsx(Wn,{fontSize:"small"})})}),o.jsx(Ze,{title:t("delete"),children:o.jsx(qe,{size:"small",color:"error",onClick:()=>A(k),children:o.jsx(Cs,{fontSize:"small"})})})]})})]},k.type))})]})})]})}),d&&o.jsxs(T,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[o.jsx(me,{variant:"outlined",size:"large",onClick:()=>{console.log("🔍 Current settings state:",e);const k=localStorage.getItem("clinic_payment_settings");if(console.log("🔍 Raw localStorage data:",k),k){const P=JSON.parse(k);console.log("🔍 Parsed localStorage data:",P)}alert("Check console for detailed debug information")},children:"Debug Info"}),o.jsx(me,{variant:"contained",size:"large",startIcon:o.jsx(Oo,{}),onClick:v,children:t("save_settings")})]}),o.jsxs(In,{open:r,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:t(l?"edit_appointment_type":"add_appointment_type")}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsx(Pe,{fullWidth:!0,type:"number",label:t("cost"),value:p.cost,onChange:k=>x("cost",parseFloat(k.target.value)||0),required:!0,inputProps:{min:0,step:.01}})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsx(Pe,{fullWidth:!0,label:t("currency"),value:p.currency,onChange:k=>x("currency",k.target.value)})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("category")}),o.jsx(yn,{value:p.category,onChange:k=>x("category",k.target.value),label:t("category"),children:c1e.map(k=>o.jsx(ye,{value:k,children:t(k)},k))})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,multiline:!0,rows:3,label:t("description"),value:p.description,onChange:k=>x("description",k.target.value)})}),o.jsxs(V,{item:!0,xs:12,children:[o.jsx(ei,{control:o.jsx(ti,{checked:p.includeVAT,onChange:k=>x("includeVAT",k.target.checked)}),label:t("include_vat")}),p.includeVAT&&y.enabled&&o.jsx(w,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:t("final_cost_with_vat",{amount:S(p.cost,!0).toFixed(2),currency:p.currency,rate:y.rate})})]})]})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>i(!1),startIcon:o.jsx(du,{}),children:t("cancel")}),o.jsx(me,{onClick:I,variant:"contained",startIcon:o.jsx(Oo,{}),children:t("save")})]})]})]})};class Iv{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const QMe=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},ao={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:QMe()},hD=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},JMe=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=hD(t);ao.publicKey=n.publicKey,ao.blockHeadless=n.blockHeadless,ao.storageProvider=n.storageProvider,ao.blockList=n.blockList,ao.limitRate=n.limitRate,ao.origin=n.origin||e},NQ=async(t,e,n={})=>{const r=await fetch(ao.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Iv(r.status,i);if(r.ok)return s;throw s},$Q=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ZMe=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},LQ=t=>t.webdriver||!t.languages||t.languages.length===0,zQ=()=>new Iv(451,"Unavailable For Headless Browser"),eNe=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},tNe=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},nNe=(t,e)=>t instanceof FormData?t.get(e):t[e],FQ=(t,e)=>{if(tNe(t))return!1;eNe(t.list,t.watchVariable);const n=nNe(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},WQ=()=>new Iv(403,"Forbidden"),rNe=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},iNe=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},VQ=async(t,e,n)=>{if(!e.throttle||!n)return!1;rNe(e.throttle,e.id);const r=e.id||t;return await iNe(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},BQ=()=>new Iv(429,"Too Many Requests"),oNe=async(t,e,n,r)=>{const i=hD(r),s=i.publicKey||ao.publicKey,a=i.blockHeadless||ao.blockHeadless,l=i.storageProvider||ao.storageProvider,c={...ao.blockList,...i.blockList},d={...ao.limitRate,...i.limitRate};return a&&LQ(navigator)?Promise.reject(zQ()):($Q(s,t,e),ZMe(n),n&&FQ(c,n)?Promise.reject(WQ()):await VQ(location.pathname,d,l)?Promise.reject(BQ()):NQ("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},sNe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},aNe=t=>typeof t=="string"?document.querySelector(t):t,lNe=async(t,e,n,r)=>{const i=hD(r),s=i.publicKey||ao.publicKey,a=i.blockHeadless||ao.blockHeadless,l=ao.storageProvider||i.storageProvider,c={...ao.blockList,...i.blockList},d={...ao.limitRate,...i.limitRate};if(a&&LQ(navigator))return Promise.reject(zQ());const f=aNe(n);$Q(s,t,e),sNe(f);const p=new FormData(f);return FQ(c,p)?Promise.reject(WQ()):await VQ(location.pathname,d,l)?Promise.reject(BQ()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",s),NQ("/api/v1.0/email/send-form",p))},fD={init:JMe,send:oNe,sendForm:lNe,EmailJSResponseStatus:Iv},Kd={serviceId:"service_n85wg6i",templateId:"template_cjjw42i",publicKey:"4r1MGc7ZnbGx-x2gL"},cNe=()=>{try{Kd.publicKey&&Kd.publicKey!=="your_public_key"&&(fD.init(Kd.publicKey),console.log("✅ EmailJS initialized successfully"))}catch(t){console.error("❌ Failed to initialize EmailJS:",t)}},uNe=async t=>{try{const e={to_email:"drsuperclinic@gmail.com",from_name:t.fullName,from_email:t.email,subject:`ClinicCare Support: [${t.supportType.toUpperCase()}] ${t.subject}`,message:t.message,support_type:t.supportType,ticket_id:t.ticketId,submitted_at:t.submittedAt,browser_info:t.browserInfo,reply_to:t.email},n=await fD.send(Kd.serviceId,Kd.templateId,e);return n.status===200?(console.log("✅ Support email sent successfully:",n),!0):(console.error("❌ Failed to send support email:",n),!1)}catch(e){return console.error("❌ Error sending support email:",e),!1}},dNe=async t=>{try{const e={to_email:"drsuperclinic@gmail.com",from_name:t.name,from_email:t.email,subject:"ClinicCare Feedback Submission",message:t.feedback,rating:t.rating,submitted_at:new Date().toLocaleString(),reply_to:t.email},n=await fD.send(Kd.serviceId,Kd.templateId,e);return n.status===200?(console.log("✅ Feedback email sent successfully:",n),!0):(console.error("❌ Failed to send feedback email:",n),!1)}catch(e){return console.error("❌ Error sending feedback email:",e),!1}},hNe=()=>`
📧 EmailJS Setup Instructions:

1. Go to https://www.emailjs.com/
2. Create a free account
3. Create an email service (Gmail, Outlook, etc.)
4. Create an email template with these variables:
   - {{to_email}}
   - {{from_name}}
   - {{from_email}}
   - {{subject}}
   - {{message}}
   - {{reply_to}}

5. Get your credentials:
   - Service ID
   - Template ID  
   - Public Key

6. Update EMAILJS_CONFIG in emailService.ts:
   const EMAILJS_CONFIG = {
     serviceId: 'your_service_id',
     templateId: 'your_template_id', 
     publicKey: 'your_public_key'
   };

7. Restart your application

💡 Free tier includes 200 emails/month
🔒 Emails will be sent securely via EmailJS
`;function _f(t){const{children:e,value:n,index:r,...i}=t;return o.jsx("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,"aria-labelledby":`settings-tab-${r}`,...i,children:n===r&&o.jsx(T,{sx:{py:3},children:e})})}const fNe=()=>{const{t,i18n:e}=Dr(),{user:n}=C.useContext(wm),[r,i]=C.useState(0),[s,a]=C.useState(!1),[l,c]=C.useState({}),[d,f]=C.useState(!1),[p,m]=C.useState({open:!1,message:"",severity:"success"}),y=C.useRef(null),x=C.useRef(null),[v,b]=C.useState(!1),[I,A]=C.useState(!1),[S,k]=C.useState(!1),[P,R]=C.useState(!1),[E,O]=C.useState(!1),[D,L]=C.useState(!1),[$,B]=C.useState(!1),[N,q]=C.useState(!1),[Y,ne]=C.useState(()=>{}),[Q,ee]=C.useState(""),[Z,de]=C.useState(()=>{try{const J=localStorage.getItem("clinicProfile");if(J){const je=JSON.parse(J);return console.log("✅ Loaded profile from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse profile data:",J)}return console.log("ℹ️ Using default profile values"),{name:"",email:"",phone:"",specialization:"",emergencyContact:"",dateOfBirth:"",gender:"",experience:"",licenseNumber:"",medicalSchool:"",residency:"",certifications:"",languages:"",consultationFee:"",bio:"",workingDays:"",workingHours:"",lunchBreak:"",status:"available",profileImage:""}}),[K,se]=C.useState(()=>{try{const J=localStorage.getItem("clinicSettings");if(J){const je=JSON.parse(J);return console.log("✅ Loaded clinic settings from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse clinic settings:",J)}return console.log("ℹ️ Using default clinic settings"),{name:"",address:"",phone:"",email:"",workingHours:"",timezone:"",licenseNumber:"",website:"",specialization:"",logo:"",tagline:"",primaryColor:"#1976d2",secondaryColor:"#2e7d32",description:"",appointmentDuration:30,breakBetweenAppointments:15,advanceBookingLimit:30,allowOnlineBooking:!1,requirePaymentAtBooking:!1,sendReminders:!1,insuranceProviders:[{id:1,name:"Global Health Insurance",enabled:!0},{id:2,name:"National Insurance",enabled:!0},{id:3,name:"Private Medical Insurance",enabled:!1}]}}),[le,oe]=C.useState(()=>{try{const J=localStorage.getItem("userPreferences");if(J){const je=JSON.parse(J);return console.log("✅ Loaded preferences from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse preferences:",J)}return console.log("ℹ️ Using default preferences"),{language:e.language,theme:"light",notifications:{email:!0,sms:!1,push:!0},autoBackup:!0,twoFactorAuth:!1}}),[ge,fe]=C.useState(()=>{try{const J=localStorage.getItem("clinicPaymentMethods");if(J){const je=JSON.parse(J);return console.log("✅ Loaded payment methods from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse payment methods:",J)}return console.log("ℹ️ Using default payment methods"),{cash:!0,cards:!0,bankTransfer:!1,digitalWallets:!1}}),[Se,be]=C.useState(()=>{try{const J=localStorage.getItem("clinicServices");if(J){const je=JSON.parse(J);return console.log("✅ Loaded services from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse services:",J)}return console.log("ℹ️ Using default services"),{consultation:!0,checkups:!0,vaccinations:!1,labTests:!1,radiology:!1}}),[ce,We]=C.useState(()=>{try{const J=localStorage.getItem("clinicAppointmentSettings");if(J){const je=JSON.parse(J);return console.log("✅ Loaded appointment settings from localStorage:",je),je}}catch(J){console.error("❌ Failed to parse appointment settings:",J)}return console.log("ℹ️ Using default appointment settings"),{onlineBooking:!0,paymentRequired:!1,reminders:!0}}),[Fe,pe]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[$e,Ce]=C.useState({showCurrentPassword:!1,showNewPassword:!1,showConfirmPassword:!1}),[Je,ht]=C.useState({name:"",email:"",role:"",specialization:""}),[Xe,Lt]=C.useState({licenseNumber:Z.licenseNumber||"",medicalSchool:Z.medicalSchool||"",residency:Z.residency||"",certifications:Z.certifications||"",experience:Z.experience||""}),[jt,Mt]=C.useState({title:"",description:"",date:"",issuer:""}),[pt,Qe]=C.useState({name:"",email:"",subject:"",message:"",supportType:"general"}),[at,Tt]=C.useState(!1),[vn,zt]=C.useState(null),[mt,It]=C.useState("");C.useEffect(()=>{console.log("🔍 DEBUGGING DATA PERSISTENCE:"),console.log("Profile data in localStorage:",localStorage.getItem("clinicProfile")),console.log("Clinic settings in localStorage:",localStorage.getItem("clinicSettings")),console.log("Preferences in localStorage:",localStorage.getItem("userPreferences")),console.log("Services in localStorage:",localStorage.getItem("clinicServices")),console.log("Payment methods in localStorage:",localStorage.getItem("clinicPaymentMethods")),console.log("Appointment settings in localStorage:",localStorage.getItem("clinicAppointmentSettings")),console.log("Current profile state:",Z),console.log("Current clinic settings state:",K),console.log("Current preferences state:",le),console.log("Current services state:",Se),console.log("Current payment methods state:",ge),console.log("Current appointment settings state:",ce)},[Z,K,le,Se,ge,ce]),C.useEffect(()=>{const J=setTimeout(()=>{Z.name&&Z.email&&(localStorage.setItem("clinicProfile",JSON.stringify(Z)),console.log("🔄 Auto-saved profile data"))},2e3);return()=>clearTimeout(J)},[Z]),C.useEffect(()=>{const J=setTimeout(()=>{K.name&&K.address&&(localStorage.setItem("clinicSettings",JSON.stringify(K)),console.log("🔄 Auto-saved clinic settings data"))},2e3);return()=>clearTimeout(J)},[K]),C.useEffect(()=>{le.language&&(localStorage.setItem("userPreferences",JSON.stringify(le)),console.log("🔄 Auto-saved preferences data"))},[le]),C.useEffect(()=>{localStorage.setItem("clinicServices",JSON.stringify(Se)),console.log("🔄 Auto-saved services data")},[Se]),C.useEffect(()=>{localStorage.setItem("clinicPaymentMethods",JSON.stringify(ge)),console.log("🔄 Auto-saved payment methods data")},[ge]),C.useEffect(()=>{localStorage.setItem("clinicAppointmentSettings",JSON.stringify(ce)),console.log("🔄 Auto-saved appointment settings data")},[ce]);const lt=J=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J),Zt=J=>/^[\+]?[1-9][\d]{0,15}$/.test(J.replace(/\s/g,"")),Xt=(J,je)=>{const tt={};return je.forEach(kt=>{(!J[kt]||J[kt].toString().trim()==="")&&(tt[kt]="This field is required")}),J.email&&!lt(J.email)&&(tt.email="Invalid email format"),J.phone&&!Zt(J.phone)&&(tt.phone="Invalid phone number format"),c(tt),Object.keys(tt).length===0},On=(J,je)=>{i(je),c({})},G=(J,je)=>{m({open:!0,message:J,severity:je})},ve=()=>{m({...p,open:!1})},ke=J=>{Ce(je=>({...je,[J]:!je[J]}))},Ue=(J,je)=>{var nt;const tt=(nt=J.target.files)==null?void 0:nt[0];if(!tt)return;if(!(je==="document"?["application/pdf","image/jpeg","image/png"]:["image/jpeg","image/png","image/gif"]).includes(tt.type)){G("Invalid file type. Please upload a valid image or PDF.","error");return}if(tt.size>5*1024*1024){G("File size too large. Please upload a file smaller than 5MB.","error");return}a(!0),setTimeout(()=>{const bn=URL.createObjectURL(tt);je==="profile"?(de({...Z,profileImage:bn}),G("Profile image uploaded successfully","success")):je==="logo"&&(se({...K,logo:bn}),G("Logo uploaded successfully","success")),a(!1)},2e3)},it=async()=>{if(console.log("🔄 Save Profile button clicked!"),console.log("📋 Profile data to save:",Z),!Xt(Z,["name","email","phone"])){console.log("❌ Validation failed!"),console.log("💡 Missing required fields. Check that name, email, and phone are filled.");return}console.log("✅ Validation passed!"),a(!0);try{console.log("💾 Attempting to save profile to localStorage..."),localStorage.setItem("clinicProfile",JSON.stringify(Z));const je=localStorage.getItem("clinicProfile");console.log("✅ Verification - Profile data in localStorage:",je),G("Profile saved successfully","success")}catch(je){console.error("❌ Save error:",je),G("Failed to save profile. Please try again.","error")}finally{a(!1)}},yt=async()=>{if(console.log("🔄 Save Clinic Settings button clicked!"),console.log("📋 Clinic settings data to save:",K),!Xt(K,["name","address","phone","email"])){console.log("❌ Clinic settings validation failed!");return}a(!0);try{console.log("💾 Attempting to save clinic settings to localStorage..."),localStorage.setItem("clinicSettings",JSON.stringify(K));const je=localStorage.getItem("clinicSettings");console.log("✅ Verification - Clinic settings data in localStorage:",je),G("Clinic settings saved successfully","success")}catch(je){console.error("❌ Clinic settings save error:",je),G("Failed to save clinic settings. Please try again.","error")}finally{a(!1)}},pn=async()=>{console.log("🔄 Save Services button clicked!"),console.log("📋 Services data to save:",Se),a(!0);try{console.log("💾 Attempting to save services to localStorage..."),localStorage.setItem("clinicServices",JSON.stringify(Se));const J=localStorage.getItem("clinicServices");console.log("✅ Verification - Services data in localStorage:",J),G("Services & Specializations saved successfully","success")}catch(J){console.error("❌ Services save error:",J),G("Failed to save services. Please try again.","error")}finally{a(!1)}},Sn=async()=>{console.log("🔄 Save Payment Methods button clicked!"),console.log("📋 Payment methods data to save:",ge),a(!0);try{console.log("💾 Attempting to save payment methods to localStorage..."),localStorage.setItem("clinicPaymentMethods",JSON.stringify(ge));const J=localStorage.getItem("clinicPaymentMethods");console.log("✅ Verification - Payment methods data in localStorage:",J),G("Payment methods saved successfully","success")}catch(J){console.error("❌ Payment methods save error:",J),G("Failed to save payment methods. Please try again.","error")}finally{a(!1)}},sn=async()=>{console.log("🔄 Save Appointment Settings button clicked!"),console.log("📋 Appointment settings data to save:",ce),a(!0);try{console.log("💾 Attempting to save appointment settings to localStorage..."),localStorage.setItem("clinicAppointmentSettings",JSON.stringify(ce));const J=localStorage.getItem("clinicAppointmentSettings");console.log("✅ Verification - Appointment settings data in localStorage:",J),G("Appointment settings saved successfully","success")}catch(J){console.error("❌ Appointment settings save error:",J),G("Failed to save appointment settings. Please try again.","error")}finally{a(!1)}},Yn=async()=>{if(Xt(Fe,["currentPassword","newPassword","confirmPassword"])){if(Fe.newPassword!==Fe.confirmPassword){c({confirmPassword:t("passwords_do_not_match")});return}if(Fe.newPassword.length<6){c({newPassword:t("password_min_length")});return}if(!n){G(t("user_not_authenticated"),"error");return}a(!0),c({});try{const je=xh.credential(n.email,Fe.currentPassword);await ase(n,je),await mse(n,Fe.newPassword),b(!1),pe({currentPassword:"",newPassword:"",confirmPassword:""}),Ce({showCurrentPassword:!1,showNewPassword:!1,showConfirmPassword:!1}),c({}),G(t("password_changed_successfully"),"success")}catch(je){console.error("Password change error:",je),je.code==="auth/wrong-password"?c({currentPassword:t("current_password_incorrect")}):je.code==="auth/weak-password"?c({newPassword:t("password_too_weak")}):je.code==="auth/requires-recent-login"?G(t("requires_recent_login"),"error"):G(t("failed_to_change_password"),"error")}finally{a(!1)}}},vt=async()=>{if(Xt(Je,["name","email","role"])){a(!0);try{await new Promise(je=>setTimeout(je,2e3)),k(!1),ht({name:"",email:"",role:"",specialization:""}),G("Staff member added successfully","success")}catch{G("Failed to add staff member. Please try again.","error")}finally{a(!1)}}},Pn=async()=>{if(Xt(Xe,["licenseNumber"])){a(!0);try{await new Promise(je=>setTimeout(je,2e3)),de(je=>({...je,licenseNumber:Xe.licenseNumber,medicalSchool:Xe.medicalSchool,residency:Xe.residency,certifications:Xe.certifications,experience:Xe.experience})),L(!1),G("Credentials updated successfully","success")}catch{G("Failed to update credentials. Please try again.","error")}finally{a(!1)}}},Mn=async()=>{if(Xt(pt,["name","email","subject","message"])){a(!0);try{const je=`TICKET-${Date.now().toString().slice(-6)}`,tt=new Date().toLocaleString(),kt={fullName:pt.name,email:pt.email,subject:pt.subject,message:pt.message,supportType:pt.supportType,ticketId:je,submittedAt:tt,browserInfo:navigator.userAgent},nt=await uNe(kt);nt?(ee(`
  ✅ Message sent successfully!
  
  📧 Your support request has been sent to our team
  📋 Support Ticket: ${je}
  🕒 Submitted: ${tt}
  
  We'll respond to your email within 24 hours during business days.
  For urgent matters, you can also contact us via WhatsApp
        `),G("Message sent successfully to drsuperclinic@gmail.com!","success")):(ee(`
  🔧 EmailJS Setup Required
  
  ${hNe()}
  
  📧 Meanwhile, please send your support request manually:
  
  TO: drsuperclinic@gmail.com
  SUBJECT: ClinicCare Support: [${pt.supportType.toUpperCase()}] ${pt.subject}
  
  Support Ticket: ${je}
  Submitted: ${tt}
  
  From: ${pt.name}
  Email: ${pt.email}
  Support Type: ${pt.supportType}
  
  Message:
  ${pt.message}
  
  ---
  Browser: ${navigator.userAgent}
  Sent via ClinicCare Contact Form
  
  📱 OR WhatsApp: +201147299675
        `),G("EmailJS not configured. Please see setup instructions above.","warning")),ne(()=>{R(!1),nt?G("Thank you for contacting us!","success"):navigator.clipboard.writeText("drsuperclinic@gmail.com").then(()=>{G("Support email copied to clipboard","info")}).catch(()=>{})}),R(!0),nt&&Qe({name:"",email:"",subject:"",message:"",supportType:"general"})}catch(je){console.error("Contact form error:",je),G("Failed to process your request. Please try contacting us directly.","error")}finally{a(!1)}}},Mr=async()=>{if(Xt(jt,["title","description","date"])){a(!0);try{await new Promise(je=>setTimeout(je,2e3)),B(!1),Mt({title:"",description:"",date:"",issuer:""}),G("Achievement added successfully","success")}catch{G("Failed to add achievement. Please try again.","error")}finally{a(!1)}}},hi=()=>{a(!0),setTimeout(()=>{try{const J={exportInfo:{timestamp:new Date().toISOString(),clinicName:K.name,exportedBy:Z.name,version:"ClinicCare v1.0.0"},profile:Z,clinicSettings:K,preferences:le,paymentMethods:ge,services:Se,appointmentSettings:ce,systemInfo:{totalPatients:0,appointmentsThisMonth:0,lastBackup:new Date().toISOString(),licenseStatus:t("not_specified")}},je=JSON.stringify(J,null,2),tt=new Blob([je],{type:"application/json"}),kt=URL.createObjectURL(tt),bn=[["Category","Field","Value"],["Profile","Name",Z.name],["Profile","Email",Z.email],["Profile","Phone",Z.phone],["Profile","Specialization",Z.specialization],["Profile","License Number",Z.licenseNumber||""],["Profile","Experience",Z.experience||""],["Clinic","Name",K.name],["Clinic","Address",K.address],["Clinic","Phone",K.phone],["Clinic","Email",K.email],["Clinic","Working Hours",K.workingHours],["Clinic","Timezone",K.timezone],["Statistics","Total Patients","0"],["Statistics","Monthly Appointments","0"],["System","Export Date",new Date().toLocaleDateString()],["System","Export Time",new Date().toLocaleTimeString()]].map(Bt=>Bt.map(gn=>`"${gn.replace(/"/g,'""')}"`).join(",")).join(`
`),mn=new Blob([bn],{type:"text/csv"}),Pr=URL.createObjectURL(mn),Ar=document.createElement("a");Ar.href=kt,Ar.download=`clinic_data_${new Date().toISOString().split("T")[0]}.json`,Ar.click(),setTimeout(()=>{const Bt=document.createElement("a");Bt.href=Pr,Bt.download=`clinic_data_${new Date().toISOString().split("T")[0]}.csv`,Bt.click(),URL.revokeObjectURL(kt),URL.revokeObjectURL(Pr)},100),a(!1),G("Complete clinic data exported successfully (JSON & CSV formats)","success")}catch{a(!1),G("Failed to export data. Please try again.","error")}},2e3)},lr=()=>{if(!mt.trim())return;const J={id:Date.now(),name:mt.trim(),enabled:!0};se({...K,insuranceProviders:[...K.insuranceProviders,J]}),It(""),Tt(!1),G("Insurance provider added successfully","success")},Ut=()=>{!mt.trim()||!vn||(se({...K,insuranceProviders:K.insuranceProviders.map(J=>J.id===vn.id?{...J,name:mt.trim()}:J)}),It(""),zt(null),Tt(!1),G("Insurance provider updated successfully","success"))},an=J=>{se({...K,insuranceProviders:K.insuranceProviders.filter(je=>je.id!==J)}),G("Insurance provider removed successfully","success")},_e=J=>{se({...K,insuranceProviders:K.insuranceProviders.map(je=>je.id===J?{...je,enabled:!je.enabled}:je)})},ct=J=>{J?(zt(J),It(J.name)):(zt(null),It("")),Tt(!0)},Ot=()=>{Tt(!1),zt(null),It("")},St=J=>{ee(`Are you sure you want to reset ${J} settings? All unsaved changes will be lost.`),ne(()=>()=>{J==="profile"?de({name:"",email:"",phone:"",specialization:"",emergencyContact:"",dateOfBirth:"",gender:"",experience:"",licenseNumber:"",medicalSchool:"",residency:"",certifications:"",languages:"",consultationFee:"",bio:"",workingDays:"",workingHours:"",lunchBreak:"",status:"available",profileImage:""}):J==="clinic"&&se({name:"",address:"",phone:"",email:"",workingHours:"",timezone:"",licenseNumber:"",website:"",specialization:"",logo:"",tagline:"",primaryColor:"#1976d2",secondaryColor:"#2e7d32",description:"",appointmentDuration:30,breakBetweenAppointments:15,advanceBookingLimit:30,allowOnlineBooking:!1,requirePaymentAtBooking:!1,sendReminders:!1}),c({}),G(`${J} settings reset successfully`,"success"),R(!1)}),R(!0)},[te,Re]=C.useState([]);return o.jsxs(di,{maxWidth:"xl",sx:{mt:4,mb:4,flex:1,overflow:"auto"},children:[o.jsxs(T,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:4,color:"white",position:"relative",overflow:"hidden"},children:[o.jsx(T,{sx:{display:"flex",alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",position:"relative",zIndex:1,flexDirection:{xs:"column",md:"row"},gap:{xs:3,md:0}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",md:"auto"}},children:[o.jsx(T,{sx:{width:{xs:48,sm:56,md:64},height:{xs:48,sm:56,md:64},borderRadius:{xs:"16px",md:"20px"},backgroundColor:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",mr:{xs:2,sm:2.5,md:3},backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)",flexShrink:0},children:o.jsx(tj,{sx:{fontSize:{xs:24,sm:28,md:32},color:"white"}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:800,color:"white",mb:{xs:.5,md:1},textShadow:"0 2px 4px rgba(0,0,0,0.3)",fontSize:{xs:"1.5rem",sm:"2rem",md:"2.5rem"},lineHeight:1.2},children:t("settings")}),o.jsxs(w,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:400,fontSize:{xs:"0.9rem",sm:"1.1rem",md:"1.25rem"}},children:["⚙️ ",t("manage_profile_clinic_settings")]})]})]})}),o.jsx(T,{sx:{position:"absolute",top:-40,right:-40,width:120,height:120,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",zIndex:1}})]}),o.jsx(T,{sx:{display:{xs:"block",md:"none"},mb:3},children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 8px 32px rgba(0,0,0,0.12)",border:"none",overflow:"hidden",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)"},children:o.jsx(st,{sx:{p:2,overflowX:"auto"},children:o.jsxs(_l,{orientation:"horizontal",value:r,onChange:On,variant:"scrollable",scrollButtons:"auto",sx:{minHeight:"auto","& .MuiTabs-scrollButtons":{"&.Mui-disabled":{opacity:.3}},"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"0.75rem",minHeight:70,minWidth:85,maxWidth:110,justifyContent:"center",alignItems:"center",px:1,py:1.5,margin:"0 2px",borderRadius:3,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",color:"grey.700",border:"2px solid transparent","&:hover":{backgroundColor:"rgba(59, 130, 246, 0.08)",color:"primary.main",transform:"translateY(-2px)",borderColor:"rgba(59, 130, 246, 0.2)"},"&.Mui-selected":{backgroundColor:"rgba(59, 130, 246, 0.12)",color:"primary.main",fontWeight:700,transform:"translateY(-4px)",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.25)",borderColor:"primary.main","& .MuiSvgIcon-root":{color:"primary.main"}},"& .MuiTab-iconWrapper":{marginRight:0,marginBottom:.5}},"& .MuiTabs-indicator":{display:"none"}},children:[o.jsx(un,{label:t("profile"),icon:o.jsx(Pu,{sx:{fontSize:18}}),iconPosition:"top"}),o.jsx(un,{label:t("clinic"),icon:o.jsx(pl,{sx:{fontSize:18}}),iconPosition:"top"}),o.jsx(un,{label:t("payments"),icon:o.jsx(ml,{sx:{fontSize:18}}),iconPosition:"top"}),o.jsx(un,{label:t("security"),icon:o.jsx(gu,{sx:{fontSize:18}}),iconPosition:"top"}),o.jsx(un,{label:t("system"),icon:o.jsx(dC,{sx:{fontSize:18}}),iconPosition:"top"})]})})})}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"block"}},children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 10px 40px rgba(0,0,0,0.12), 0 4px 25px rgba(0,0,0,0.07)",border:"none",overflow:"hidden",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)"},children:o.jsx(st,{sx:{p:2},children:o.jsxs(_l,{orientation:"vertical",value:r,onChange:On,variant:"standard",sx:{minHeight:400,"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:68,justifyContent:"flex-start",alignItems:"center",px:4,py:2.5,margin:"0 12px",borderRadius:3,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",color:"grey.700","&::before":{content:'""',position:"absolute",left:0,top:0,bottom:0,width:"4px",backgroundColor:"transparent",transition:"all 0.3s ease"},"&:hover":{backgroundColor:"rgba(59, 130, 246, 0.08)",color:"primary.main",transform:"translateX(4px)","&::before":{backgroundColor:"primary.light"}},"&.Mui-selected":{backgroundColor:"rgba(59, 130, 246, 0.12)",color:"primary.main",fontWeight:700,transform:"translateX(8px)",boxShadow:"0 4px 20px rgba(59, 130, 246, 0.25)","&::before":{backgroundColor:"primary.main",width:"6px"},"& .MuiSvgIcon-root":{color:"primary.main"}},"& .MuiTab-iconWrapper":{marginRight:2,marginBottom:0}},"& .MuiTabs-indicator":{display:"none"}},children:[o.jsx(un,{label:t("profile_management"),icon:o.jsx(Pu,{sx:{fontSize:26}}),iconPosition:"start"}),o.jsx(un,{label:t("clinic_settings_tab"),icon:o.jsx(pl,{sx:{fontSize:26}}),iconPosition:"start"}),o.jsx(un,{label:t("payment_settings"),icon:o.jsx(ml,{sx:{fontSize:26}}),iconPosition:"start"}),o.jsx(un,{label:t("security_privacy"),icon:o.jsx(gu,{sx:{fontSize:26}}),iconPosition:"start"}),o.jsx(un,{label:t("system_settings"),icon:o.jsx(dC,{sx:{fontSize:26}}),iconPosition:"start"})]})})})}),o.jsxs(V,{item:!0,xs:12,md:9,children:[o.jsx(_f,{value:r,index:0,children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:{xs:3,md:5},background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",position:"relative",borderBottom:"1px solid rgba(226, 232, 240, 0.5)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #1e3a8a 0%, #3b82f6 50%, #06b6d4 100%)"}},children:o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",gap:{xs:2,md:3},textAlign:{xs:"center",sm:"left"}},children:[o.jsx(T,{sx:{p:{xs:2,md:2.5},borderRadius:3,background:"linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%)",color:"white",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)"},children:o.jsx(Pu,{sx:{fontSize:{xs:28,md:32}}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:900,color:"grey.800",fontSize:{xs:"1.5rem",sm:"1.75rem",md:"2rem"},mb:.5},children:t("profile_information")}),o.jsx(w,{variant:"body1",sx:{color:"grey.600",fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:t("manage_personal_professional_details")})]})]})}),o.jsxs(T,{sx:{p:{xs:3,md:6}},children:[o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"flex-start"},mb:4,gap:{xs:2,sm:0},textAlign:{xs:"center",sm:"left"}},children:[o.jsxs(T,{sx:{position:"relative"},children:[o.jsx(dn,{src:Z.profileImage,sx:{width:{xs:100,md:120},height:{xs:100,md:120},mr:{xs:0,sm:3},mb:{xs:2,sm:0},backgroundColor:"primary.main",fontSize:{xs:"2.2rem",md:"2.8rem"},border:"4px solid white",boxShadow:3},children:Z.name.split(" ").map(J=>J[0]).join("")}),o.jsx(qe,{onClick:()=>{var J;return(J=y.current)==null?void 0:J.click()},sx:{position:"absolute",bottom:{xs:8,sm:0},right:{xs:8,sm:20},backgroundColor:"primary.main",color:"white",width:{xs:35,md:40},height:{xs:35,md:40},"&:hover":{backgroundColor:"primary.dark"},boxShadow:2},children:o.jsx(Wn,{fontSize:"small"})}),o.jsx("input",{type:"file",ref:y,style:{display:"none"},accept:"image/*",onChange:J=>Ue(J,"profile")})]}),o.jsxs(T,{children:[o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:1,fontSize:{xs:"1.5rem",md:"2rem"}},children:Z.name}),o.jsx(w,{variant:"h6",color:"primary.main",sx:{mb:1,fontSize:{xs:"1rem",md:"1.25rem"}},children:Z.specialization}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:{xs:3,sm:2},fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.email}),o.jsx(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:3,alignItems:{xs:"center",sm:"flex-start"}},children:o.jsx(me,{variant:"contained",size:"medium",startIcon:d?o.jsx(Qo,{}):o.jsx(Wn,{}),onClick:()=>f(!d),sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:3,py:1,boxShadow:2,fontSize:{xs:"0.9rem",md:"1rem"}},children:t(d?"cancel_edit":"edit_profile")})}),o.jsxs(T,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:{xs:"center",sm:"flex-start"}},children:[o.jsx(Ke,{label:t("available"),color:"success",size:"small",icon:o.jsx(sb,{fontSize:"small"})}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",md:"0.875rem"}},children:[t("last_updated"),": ",t("hours_ago",{count:2})]})]})]})]}),o.jsx(Nn,{sx:{mb:3}}),d?o.jsxs(T,{children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("basic_information")}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("full_name"),value:Z.name,onChange:J=>de({...Z,name:J.target.value}),error:!!l.name,helperText:l.name,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("email_address"),value:Z.email,onChange:J=>de({...Z,email:J.target.value}),error:!!l.email,helperText:l.email,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("phone_number"),value:Z.phone,onChange:J=>de({...Z,phone:J.target.value}),error:!!l.phone,helperText:l.phone,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("emergency_contact"),value:Z.emergencyContact,onChange:J=>de({...Z,emergencyContact:J.target.value}),placeholder:"+20 10 XXXX XXXX"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("date_of_birth"),type:"date",value:Z.dateOfBirth,onChange:J=>de({...Z,dateOfBirth:J.target.value}),InputLabelProps:{shrink:!0}})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("gender")}),o.jsxs(yn,{label:t("gender"),value:Z.gender,onChange:J=>de({...Z,gender:J.target.value}),children:[o.jsx(ye,{value:"male",children:t("male")}),o.jsx(ye,{value:"female",children:t("female")}),o.jsx(ye,{value:"other",children:t("other")})]})]})})]}),o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("professional_information")}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,required:!0,children:[o.jsx(jn,{children:t("primary_specialization")}),o.jsxs(yn,{value:Z.specialization,label:t("primary_specialization"),onChange:J=>de({...Z,specialization:J.target.value}),error:!!l.specialization,children:[o.jsx(ye,{value:"General Practitioner",children:"General Practitioner"}),o.jsx(ye,{value:"Cardiologist",children:"Cardiologist"}),o.jsx(ye,{value:"Dermatologist",children:"Dermatologist"}),o.jsx(ye,{value:"Pediatrician",children:"Pediatrician"}),o.jsx(ye,{value:"Neurologist",children:"Neurologist"}),o.jsx(ye,{value:"Orthopedic Surgeon",children:"Orthopedic Surgeon"}),o.jsx(ye,{value:"Ophthalmologist",children:"Ophthalmologist"}),o.jsx(ye,{value:"Psychiatrist",children:"Psychiatrist"}),o.jsx(ye,{value:"Gynecologist",children:"Gynecologist"}),o.jsx(ye,{value:"Urologist",children:"Urologist"})]}),l.specialization&&o.jsx(xT,{error:!0,children:l.specialization})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("years_of_experience"),type:"number",value:Z.experience,onChange:J=>de({...Z,experience:J.target.value}),placeholder:"8"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("medical_license_number"),value:Z.licenseNumber,onChange:J=>de({...Z,licenseNumber:J.target.value}),placeholder:t("enter_license_number")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("medical_school"),value:Z.medicalSchool,onChange:J=>de({...Z,medicalSchool:J.target.value}),placeholder:"Cairo University Faculty of Medicine"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("residency"),value:Z.residency,onChange:J=>de({...Z,residency:J.target.value}),placeholder:"Kasr Al Ainy Hospital"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("board_certifications"),value:Z.certifications,onChange:J=>de({...Z,certifications:J.target.value}),placeholder:t("enter_medical_authority")})})]}),o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("languages_bio")}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("languages_spoken"),value:Z.languages,onChange:J=>de({...Z,languages:J.target.value}),placeholder:"English, Arabic, Hindi",helperText:"Separate languages with commas"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("consultation_fee"),type:"number",value:Z.consultationFee,onChange:J=>de({...Z,consultationFee:J.target.value}),placeholder:"500",InputProps:{startAdornment:o.jsx(w,{variant:"body2",sx:{mr:1,color:"text.secondary"},children:"EGP"})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("professional_bio"),multiline:!0,rows:4,value:Z.bio,onChange:J=>de({...Z,bio:J.target.value}),placeholder:t("bio_placeholder"),helperText:"This information will be visible to patients on your profile"})})]}),o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("availability_settings")}),o.jsxs(V,{container:!0,spacing:3,sx:{mb:4},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_days"),value:Z.workingDays,onChange:J=>de({...Z,workingDays:J.target.value}),placeholder:"Monday - Friday"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("working_hours"),value:Z.workingHours,onChange:J=>de({...Z,workingHours:J.target.value}),placeholder:"9:00 AM - 6:00 PM"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("lunch_break"),value:Z.lunchBreak,onChange:J=>de({...Z,lunchBreak:J.target.value}),placeholder:"1:00 PM - 2:00 PM"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:t("status")}),o.jsxs(yn,{label:t("status"),value:Z.status,onChange:J=>de({...Z,status:J.target.value}),children:[o.jsx(ye,{value:"available",children:t("available")}),o.jsx(ye,{value:"busy",children:t("busy")}),o.jsx(ye,{value:"vacation",children:t("vacation")}),o.jsx(ye,{value:"emergency",children:t("emergency_only")})]})]})})]}),o.jsxs(T,{sx:{mt:5,pt:4,borderTop:1,borderColor:"grey.200",display:"flex",gap:3,justifyContent:"flex-end"},children:[o.jsx(me,{variant:"outlined",onClick:()=>{St("profile"),f(!1)},disabled:s,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:4,py:1.5,borderWidth:2,"&:hover":{borderWidth:2}},children:t("cancel")}),o.jsx(me,{variant:"contained",startIcon:s?o.jsx(Jn,{size:20}):o.jsx(Oo,{}),onClick:async()=>{await it(),Object.keys(l).length||f(!1)},disabled:s,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:4,py:1.5,boxShadow:3,"&:hover":{boxShadow:6}},children:t(s?"saving_profile":"save_changes")})]})]}):o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:3,fontSize:{xs:"1.1rem",md:"1.25rem"}},children:t("profile_information")}),o.jsxs(T,{sx:{mb:4},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main",fontSize:{xs:"1rem",md:"1.1rem"}},children:t("basic_information")}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("full_name")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.name||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("email_address")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.email||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("phone_number")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.phone||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("emergency_contact")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.emergencyContact||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("date_of_birth")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.dateOfBirth||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("gender")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,textTransform:"capitalize",fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.gender||t("not_specified")})]})})]})]}),o.jsxs(T,{sx:{mb:4},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main",fontSize:{xs:"1rem",md:"1.1rem"}},children:t("professional_information")}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("primary_specialization")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.specialization||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("years_of_experience")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.experience?t("years_text",{count:Number(Z.experience)}):t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("medical_license_number")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.licenseNumber||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("medical_school")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.medicalSchool||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("residency")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.residency||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,sm:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontSize:{xs:"0.8rem",md:"0.875rem"}},children:t("board_certifications")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,fontSize:{xs:"0.9rem",md:"1rem"}},children:Z.certifications||t("not_specified")})]})})]})]})]})]})]})})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden",height:"100%"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",position:"relative",borderBottom:"1px solid rgba(147, 197, 253, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #3b82f6 0%, #06b6d4 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)"},children:o.jsx(ey,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:t("profile_statistics")}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:t("performance_overview")})]})]})}),o.jsx(T,{sx:{p:4},children:o.jsxs(mi,{sx:{p:0},children:[o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(Xo,{children:o.jsx(Lr,{color:"primary"})}),o.jsx(pr,{primary:t("total_patients"),secondary:"0",primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"h6",fontWeight:600}})]}),o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(Xo,{children:o.jsx(Sr,{color:"primary"})}),o.jsx(pr,{primary:t("appointments_this_month"),secondary:"0",primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"h6",fontWeight:600}})]}),o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(Xo,{children:o.jsx(ey,{color:"primary"})}),o.jsx(pr,{primary:t("years_of_experience"),secondary:Z.experience||"0",primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"h6",fontWeight:600}})]}),o.jsxs(An,{sx:{px:0,py:1},children:[o.jsx(Xo,{children:o.jsx(sb,{color:"primary"})}),o.jsx(pr,{primary:t("successful_treatments"),secondary:"0",primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"h6",fontWeight:600}})]})]})})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden",height:"100%"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",position:"relative",borderBottom:"1px solid rgba(252, 211, 77, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)"},children:o.jsx(sb,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:t("achievements_certifications")}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:t("awards_recognitions")})]})]})}),o.jsxs(T,{sx:{p:4},children:[o.jsxs(mi,{sx:{p:0},children:[o.jsx(An,{sx:{px:0,py:1},children:o.jsx(pr,{primary:t("board_certified"),secondary:Z.certifications||t("not_specified"),primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}})}),o.jsx(An,{sx:{px:0,py:1},children:o.jsx(pr,{primary:t("excellence_award"),secondary:t("not_specified"),primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}})}),o.jsx(An,{sx:{px:0,py:1},children:o.jsx(pr,{primary:t("medical_school"),secondary:Z.medicalSchool||t("not_specified"),primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}})}),o.jsx(An,{sx:{px:0,py:1},children:o.jsx(pr,{primary:t("professional_member"),secondary:t("not_specified"),primaryTypographyProps:{variant:"body2",fontWeight:600},secondaryTypographyProps:{variant:"caption"}})})]}),o.jsx(T,{sx:{mt:3,pt:2,borderTop:1,borderColor:"grey.200"},children:o.jsx(me,{variant:"contained",size:"medium",fullWidth:!0,startIcon:o.jsx(rr,{}),onClick:()=>B(!0),sx:{borderRadius:2,textTransform:"none",fontWeight:600,py:1.5,boxShadow:2,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)","&:hover":{background:"linear-gradient(135deg, #d97706 0%, #b45309 100%)",boxShadow:4}},children:t("add_achievement")})})]})]})})})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",position:"relative",borderBottom:"1px solid rgba(134, 239, 172, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #10b981 0%, #059669 100%)"}},children:o.jsx(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",boxShadow:"0 8px 25px rgba(16, 185, 129, 0.3)"},children:o.jsx(lL,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:t("professional_information_actions")}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:t("license_details_quick_actions")})]})]})})}),o.jsx(T,{sx:{p:4},children:o.jsxs(V,{container:!0,spacing:4,children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("license_number")}),o.jsx(w,{variant:"body1",fontWeight:600,children:Z.licenseNumber||t("not_specified")})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("registration_date")}),o.jsx(w,{variant:"body1",fontWeight:600,children:t("not_specified")})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("department")}),o.jsx(w,{variant:"body1",fontWeight:600,children:Z.specialization})]}),o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:t("license_status")}),o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"success.main",mr:1}}),o.jsx(w,{variant:"body1",fontWeight:600,color:"text.secondary",children:t("not_specified")})]})]})]}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{display:"flex",flexDirection:"column",gap:2,height:"100%",justifyContent:"center"},children:[o.jsx(me,{variant:"contained",size:"medium",fullWidth:!0,onClick:()=>{Lt({licenseNumber:Z.licenseNumber||"",medicalSchool:Z.medicalSchool||"",residency:Z.residency||"",certifications:Z.certifications||"",experience:Z.experience||""}),L(!0)},sx:{borderRadius:2,textTransform:"none",fontWeight:600,py:1.5,boxShadow:2},children:t("update_credentials")}),o.jsx(me,{variant:"outlined",size:"medium",fullWidth:!0,onClick:()=>O(!0),sx:{borderRadius:2,textTransform:"none",fontWeight:600,py:1.5,borderWidth:2,"&:hover":{borderWidth:2}},children:t("view_certificate")})]})})]})})]})})})]})}),o.jsx(_f,{value:r,index:1,children:o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:5,background:"linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%)",position:"relative",borderBottom:"1px solid rgba(147, 197, 253, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #1e3a8a 0%, #3b82f6 50%, #06b6d4 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3},children:[o.jsx(T,{sx:{p:2.5,borderRadius:3,background:"linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%)",color:"white",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)"},children:o.jsx(pl,{sx:{fontSize:32}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:900,color:"grey.800",fontSize:"2rem",mb:.5},children:t("basic_clinic_information")}),o.jsx(w,{variant:"body1",sx:{color:"grey.600",fontWeight:500},children:t("view_clinic_core_details")})]})]})}),o.jsxs(T,{sx:{p:6},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",mb:4},children:[o.jsx(T,{sx:{position:"relative"},children:o.jsx(dn,{src:K.logo,sx:{width:100,height:100,mr:3,backgroundColor:"primary.main",fontSize:"2.2rem",border:"4px solid white",boxShadow:3},children:K.name.split(" ").map(J=>J[0]).join("").slice(0,2)})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h4",sx:{fontWeight:700,mb:1},children:K.name}),o.jsx(w,{variant:"h6",color:"primary.main",sx:{mb:1},children:K.specialization==="general"?"General Medicine":K.specialization==="family"?"Family Medicine":K.specialization==="internal"?"Internal Medicine":K.specialization==="pediatrics"?"Pediatrics":K.specialization==="cardiology"?"Cardiology":"General Medicine"}),o.jsx(w,{variant:"body1",color:"text.secondary",sx:{mb:2},children:K.email}),o.jsxs(T,{sx:{display:"flex",gap:2},children:[o.jsx(Ke,{label:t("status_unknown"),color:"success",size:"small",icon:o.jsx(sb,{fontSize:"small"})}),o.jsx(w,{variant:"body2",color:"text.secondary",children:t("licensed_medical_facility")})]})]})]}),o.jsx(Nn,{sx:{mb:4}}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:3},children:t("clinic_information")}),o.jsxs(T,{sx:{mb:4},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("basic_information")}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:t("clinic_name")}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.name||"Not specified"})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"License Number"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.licenseNumber||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Address"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500,lineHeight:1.6},children:K.address||"Not specified"})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Phone Number"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.phone||"Not specified"})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Email Address"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.email||"Not specified"})]})}),o.jsx(V,{item:!0,xs:12,md:4,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Website"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.website||"Not specified"})]})})]})]}),o.jsxs(T,{sx:{mb:4},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"primary.main"},children:t("operation_information")}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Working Hours"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.workingHours||"Not specified"})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Timezone"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.timezone||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Primary Specialization"}),o.jsx(w,{variant:"body1",sx:{fontWeight:500},children:K.specialization||t("not_specified")})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(T,{sx:{mb:2},children:[o.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"License Status"}),o.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"success.main",mr:1}}),o.jsx(w,{variant:"body1",fontWeight:500,color:"success.main",children:t("active_valid")})]})]})})]})]})]})]})]})})}),o.jsx(V,{item:!0,xs:12}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",position:"relative",borderBottom:"1px solid rgba(134, 239, 172, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #10b981 0%, #059669 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",boxShadow:"0 8px 25px rgba(16, 185, 129, 0.3)"},children:o.jsx(Cu,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:"Services & Specializations"}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:"Configure offered services"})]})]})}),o.jsxs(T,{sx:{p:4},children:[o.jsxs(hn,{fullWidth:!0,sx:{mb:2},children:[o.jsx(jn,{children:"Primary Specialization"}),o.jsxs(yn,{label:"Primary Specialization",value:K.specialization,onChange:J=>se({...K,specialization:J.target.value}),children:[o.jsx(ye,{value:"general",children:"General Medicine"}),o.jsx(ye,{value:"family",children:"Family Medicine"}),o.jsx(ye,{value:"internal",children:"Internal Medicine"}),o.jsx(ye,{value:"pediatrics",children:"Pediatrics"}),o.jsx(ye,{value:"cardiology",children:"Cardiology"})]})]}),o.jsx(w,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Services Offered"}),o.jsxs(mi,{sx:{p:0},children:[o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:Se.consultation,onChange:J=>be({...Se,consultation:J.target.checked})}),label:"General Consultation"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:Se.checkups,onChange:J=>be({...Se,checkups:J.target.checked})}),label:"Health Check-ups"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:Se.vaccinations,onChange:J=>be({...Se,vaccinations:J.target.checked})}),label:"Vaccinations"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:Se.labTests,onChange:J=>be({...Se,labTests:J.target.checked})}),label:"Laboratory Tests"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:Se.radiology,onChange:J=>be({...Se,radiology:J.target.checked})}),label:"Radiology Services"})})]}),o.jsx(T,{sx:{mt:3,pt:2,borderTop:"1px solid rgba(0,0,0,0.08)"},children:o.jsx(me,{fullWidth:!0,variant:"contained",onClick:pn,disabled:s,startIcon:s?o.jsx(Jn,{size:18,color:"inherit"}):o.jsx(Oo,{}),sx:{py:1.5,borderRadius:2,fontWeight:600,textTransform:"none",fontSize:"1rem",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",boxShadow:"0 8px 25px rgba(16, 185, 129, 0.3)","&:hover":{background:"linear-gradient(135deg, #059669 0%, #047857 100%)",transform:"translateY(-1px)",boxShadow:"0 12px 35px rgba(16, 185, 129, 0.4)"}},children:s?"Saving...":"Save Services"})})]})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #fefce8 0%, #fef3c7 100%)",position:"relative",borderBottom:"1px solid rgba(252, 211, 77, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)"},children:o.jsx(ml,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:"Insurance & Payment"}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:"Payment & insurance options"})]})]})}),o.jsxs(T,{sx:{p:4},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[o.jsx(w,{variant:"subtitle2",sx:{fontWeight:600},children:"Accepted Insurance Providers"}),o.jsx(me,{variant:"outlined",size:"small",startIcon:o.jsx(rr,{}),onClick:()=>ct(),sx:{textTransform:"none"},children:"Add Provider"})]}),o.jsx(mi,{sx:{p:0,mb:2},children:K.insuranceProviders&&K.insuranceProviders.length>0?K.insuranceProviders.map(J=>o.jsxs(An,{sx:{px:0,py:.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx(ei,{control:o.jsx(ti,{checked:J.enabled,onChange:()=>_e(J.id)}),label:J.name,sx:{flexGrow:1}}),o.jsxs(T,{sx:{display:"flex",gap:.5},children:[o.jsx(qe,{size:"small",onClick:()=>ct(J),sx:{p:.5},children:o.jsx(Wn,{fontSize:"small"})}),o.jsx(qe,{size:"small",onClick:()=>an(J.id),sx:{p:.5,color:"error.main"},children:o.jsx(Cs,{fontSize:"small"})})]})]},J.id)):o.jsx(An,{sx:{px:0,py:1},children:o.jsx(w,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:'No insurance providers added yet. Click "Add Provider" to add one.'})})}),o.jsx(w,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Payment Methods"}),o.jsxs(mi,{sx:{p:0},children:[o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:ge.cash,onChange:J=>fe({...ge,cash:J.target.checked})}),label:"Cash"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:ge.cards,onChange:J=>fe({...ge,cards:J.target.checked})}),label:"Credit/Debit Cards"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:ge.bankTransfer,onChange:J=>fe({...ge,bankTransfer:J.target.checked})}),label:"Bank Transfer"})}),o.jsx(An,{sx:{px:0,py:.5},children:o.jsx(ei,{control:o.jsx(ti,{checked:ge.digitalWallets,onChange:J=>fe({...ge,digitalWallets:J.target.checked})}),label:"Digital Wallets"})})]}),o.jsx(T,{sx:{mt:3,pt:2,borderTop:"1px solid rgba(0,0,0,0.08)"},children:o.jsx(me,{fullWidth:!0,variant:"contained",onClick:Sn,disabled:s,startIcon:s?o.jsx(Jn,{size:18,color:"inherit"}):o.jsx(Oo,{}),sx:{py:1.5,borderRadius:2,fontWeight:600,textTransform:"none",fontSize:"1rem",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)","&:hover":{background:"linear-gradient(135deg, #d97706 0%, #b45309 100%)",transform:"translateY(-1px)",boxShadow:"0 12px 35px rgba(245, 158, 11, 0.4)"}},children:s?"Saving...":"Save Payment Settings"})})]})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%)",position:"relative",borderBottom:"1px solid rgba(147, 197, 253, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)"},children:o.jsx(Sr,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:"Appointment Settings"}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:"Configure appointment rules"})]})]})}),o.jsx(T,{sx:{p:4},children:o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Default Appointment Duration",type:"number",value:K.appointmentDuration,onChange:J=>se({...K,appointmentDuration:parseInt(J.target.value)||30}),InputProps:{endAdornment:o.jsx(w,{variant:"body2",sx:{color:"text.secondary"},children:"minutes"})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Break Between Appointments",type:"number",value:K.breakBetweenAppointments,onChange:J=>se({...K,breakBetweenAppointments:parseInt(J.target.value)||15}),InputProps:{endAdornment:o.jsx(w,{variant:"body2",sx:{color:"text.secondary"},children:"minutes"})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Advance Booking Limit",type:"number",value:K.advanceBookingLimit,onChange:J=>se({...K,advanceBookingLimit:parseInt(J.target.value)||30}),InputProps:{endAdornment:o.jsx(w,{variant:"body2",sx:{color:"text.secondary"},children:"days"})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(ei,{control:o.jsx(ti,{checked:K.allowOnlineBooking,onChange:J=>se({...K,allowOnlineBooking:J.target.checked})}),label:"Allow Online Booking"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(ei,{control:o.jsx(ti,{checked:K.requirePaymentAtBooking,onChange:J=>se({...K,requirePaymentAtBooking:J.target.checked})}),label:"Require Payment at Booking"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(ei,{control:o.jsx(ti,{checked:K.sendReminders,onChange:J=>se({...K,sendReminders:J.target.checked})}),label:"Send Reminder Notifications"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(T,{sx:{mt:2,pt:2,borderTop:"1px solid rgba(0,0,0,0.08)"},children:o.jsx(me,{fullWidth:!0,variant:"contained",onClick:sn,disabled:s,startIcon:s?o.jsx(Jn,{size:18,color:"inherit"}):o.jsx(Oo,{}),sx:{py:1.5,borderRadius:2,fontWeight:600,textTransform:"none",fontSize:"1rem",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",boxShadow:"0 8px 25px rgba(59, 130, 246, 0.3)","&:hover":{background:"linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%)",transform:"translateY(-1px)",boxShadow:"0 12px 35px rgba(59, 130, 246, 0.4)"}},children:s?"Saving...":"Save Appointment Settings"})})})]})})]})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:4,background:"linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%)",position:"relative",borderBottom:"1px solid rgba(196, 181, 253, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[o.jsx(T,{sx:{p:2,borderRadius:3,background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",boxShadow:"0 8px 25px rgba(139, 92, 246, 0.3)"},children:o.jsx(Rwe,{sx:{fontSize:24}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h6",sx:{fontWeight:800,color:"grey.800",fontSize:"1.3rem",mb:.2},children:"Clinic Branding"}),o.jsx(w,{variant:"body2",sx:{color:"grey.600",fontWeight:500},children:"Customize your clinic's visual identity"})]})]})}),o.jsxs(T,{sx:{p:4},children:[o.jsxs(T,{sx:{textAlign:"center",mb:3},children:[o.jsx(dn,{src:K.logo,sx:{width:80,height:80,mx:"auto",mb:2,backgroundColor:"primary.main",fontSize:"1.5rem"},children:K.name.split(" ").map(J=>J[0]).join("")}),o.jsx(me,{variant:"outlined",size:"small",startIcon:s?o.jsx(Jn,{size:16}):o.jsx(QG,{}),onClick:()=>{var J;return(J=x.current)==null?void 0:J.click()},disabled:s,children:s?"Uploading...":"Upload Logo"}),o.jsx("input",{type:"file",ref:x,style:{display:"none"},accept:"image/*",onChange:J=>Ue(J,"logo")})]}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Clinic Tagline",value:K.tagline,onChange:J=>se({...K,tagline:J.target.value}),placeholder:t("enter_clinic_tagline")})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Primary Color",value:K.primaryColor,onChange:J=>se({...K,primaryColor:J.target.value}),type:"color"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Secondary Color",value:K.secondaryColor,onChange:J=>se({...K,secondaryColor:J.target.value}),type:"color"})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Clinic Description",multiline:!0,rows:3,value:K.description,onChange:J=>se({...K,description:J.target.value}),placeholder:t("enter_clinic_description")})})]})]})]})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",overflow:"hidden"},children:o.jsx(st,{sx:{p:4},children:o.jsxs(T,{sx:{display:"flex",gap:3,justifyContent:"flex-end"},children:[o.jsx(me,{variant:"outlined",onClick:()=>St("clinic"),disabled:s,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:4,py:1.5,borderWidth:2,"&:hover":{borderWidth:2}},children:"Reset Changes"}),o.jsx(me,{variant:"contained",startIcon:s?o.jsx(Jn,{size:20}):o.jsx(Oo,{}),onClick:yt,disabled:s,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:4,py:1.5,boxShadow:3,"&:hover":{boxShadow:6}},children:s?"Saving Clinic Settings...":"Save Clinic Settings"})]})})})})]})}),o.jsx(_f,{value:r,index:2,children:o.jsx(XMe,{})}),o.jsx(_f,{value:r,index:3,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:5,background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",position:"relative",borderBottom:"1px solid rgba(251, 191, 36, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3},children:[o.jsx(T,{sx:{p:2.5,borderRadius:3,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.3)"},children:o.jsx(gu,{sx:{fontSize:32}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:900,color:"grey.800",fontSize:"2rem",mb:.5},children:"Security Settings"}),o.jsx(w,{variant:"body1",sx:{color:"grey.600",fontWeight:500},children:"Protect your account with advanced security features"})]})]})}),o.jsx(T,{sx:{p:6},children:o.jsxs(mi,{children:[o.jsx(Nn,{}),o.jsxs(An,{children:[o.jsx(Xo,{children:o.jsx(Ma,{color:"primary"})}),o.jsx(pr,{primary:"Change Password",secondary:"Update your password regularly for better security"}),o.jsx(ol,{children:o.jsx(me,{variant:"outlined",size:"small",onClick:()=>b(!0),children:"Change"})})]}),o.jsx(Nn,{})]})})]})})}),o.jsx(_f,{value:r,index:4,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:5,background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",position:"relative",borderBottom:"1px solid rgba(252, 165, 165, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3},children:[o.jsx(T,{sx:{p:2.5,borderRadius:3,background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",boxShadow:"0 8px 25px rgba(239, 68, 68, 0.3)"},children:o.jsx(gu,{sx:{fontSize:32}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:900,color:"grey.800",fontSize:"2rem",mb:.5},children:"Security Settings"}),o.jsx(w,{variant:"body1",sx:{color:"grey.600",fontWeight:500},children:"Protect your account with advanced security features"})]})]})}),o.jsx(T,{sx:{p:6},children:o.jsxs(mi,{children:[o.jsx(Nn,{}),o.jsxs(An,{children:[o.jsx(Xo,{children:o.jsx(Ma,{color:"primary"})}),o.jsx(pr,{primary:"Change Password",secondary:"Update your password regularly for better security"}),o.jsx(ol,{children:o.jsx(me,{variant:"outlined",size:"small",onClick:()=>b(!0),children:"Change"})})]}),o.jsx(Nn,{})]})})]})})}),o.jsx(_f,{value:r,index:4,children:o.jsx(Ve,{sx:{borderRadius:4,boxShadow:"0 12px 50px rgba(0,0,0,0.12), 0 6px 30px rgba(0,0,0,0.08)",border:"none",background:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)",overflow:"hidden"},children:o.jsxs(st,{sx:{p:0},children:[o.jsx(T,{sx:{p:5,background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",position:"relative",borderBottom:"1px solid rgba(134, 239, 172, 0.3)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #10b981 0%, #059669 100%)"}},children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:3},children:[o.jsx(T,{sx:{p:2.5,borderRadius:3,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",boxShadow:"0 8px 25px rgba(16, 185, 129, 0.3)"},children:o.jsx(dC,{sx:{fontSize:32}})}),o.jsxs(T,{children:[o.jsx(w,{variant:"h3",sx:{fontWeight:900,color:"grey.800",fontSize:"2rem",mb:.5},children:"System Settings"}),o.jsx(w,{variant:"body1",sx:{color:"grey.600",fontWeight:500},children:"Manage system preferences and data operations"})]})]})}),o.jsx(T,{sx:{p:6},children:o.jsxs(mi,{children:[o.jsx(An,{}),o.jsx(Nn,{}),o.jsxs(An,{children:[o.jsx(Xo,{children:o.jsx(Xl,{color:"primary"})}),o.jsx(pr,{primary:"Data Export",secondary:"Export your clinic data for backup or migration"}),o.jsx(ol,{children:o.jsx(me,{variant:"outlined",size:"small",startIcon:s?o.jsx(Jn,{size:16}):o.jsx(Xl,{}),onClick:hi,disabled:s,children:s?"Exporting...":"Export"})})]}),o.jsx(Nn,{}),o.jsx(Nn,{}),o.jsxs(An,{children:[o.jsx(Xo,{children:o.jsx(cC,{color:"primary"})}),o.jsx(pr,{primary:"Help & Support",secondary:"Get help and contact our support team"}),o.jsx(ol,{children:o.jsx(me,{variant:"outlined",size:"small",onClick:()=>q(!0),children:"Get Help"})})]})]})})]})})})]})]}),o.jsxs(In,{open:v,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(Ma,{color:"primary"}),o.jsx(w,{variant:"h6",children:t("change_password")})]}),o.jsx(qe,{onClick:()=>b(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsxs(Tn,{children:[o.jsx(T,{sx:{mb:2},children:o.jsx(w,{variant:"body2",color:"text.secondary",children:t("enter_current_password_and_new_password")})}),o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("current_password"),type:$e.showCurrentPassword?"text":"password",value:Fe.currentPassword,onChange:J=>pe({...Fe,currentPassword:J.target.value}),error:!!l.currentPassword,helperText:l.currentPassword,required:!0,InputProps:{endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>ke("showCurrentPassword"),edge:"end",size:"small",children:$e.showCurrentPassword?o.jsx(ac,{}):o.jsx(Ps,{})})})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("new_password"),type:$e.showNewPassword?"text":"password",value:Fe.newPassword,onChange:J=>pe({...Fe,newPassword:J.target.value}),error:!!l.newPassword,helperText:l.newPassword||t("password_min_length"),required:!0,InputProps:{endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>ke("showNewPassword"),edge:"end",size:"small",children:$e.showNewPassword?o.jsx(ac,{}):o.jsx(Ps,{})})})}})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:t("confirm_new_password"),type:$e.showConfirmPassword?"text":"password",value:Fe.confirmPassword,onChange:J=>pe({...Fe,confirmPassword:J.target.value}),error:!!l.confirmPassword,helperText:l.confirmPassword,required:!0,InputProps:{endAdornment:o.jsx(Bn,{position:"end",children:o.jsx(qe,{onClick:()=>ke("showConfirmPassword"),edge:"end",size:"small",children:$e.showConfirmPassword?o.jsx(ac,{}):o.jsx(Ps,{})})})}})})]})]}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:()=>{b(!1),pe({currentPassword:"",newPassword:"",confirmPassword:""}),Ce({showCurrentPassword:!1,showNewPassword:!1,showConfirmPassword:!1}),c({})},disabled:s,children:t("cancel")}),o.jsx(me,{variant:"contained",onClick:Yn,disabled:s,startIcon:s?o.jsx(Jn,{size:16}):o.jsx(Ma,{}),children:t(s?"updating_password":"change_password")})]})]}),o.jsxs(In,{open:I,onClose:()=>A(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:"Login History"}),o.jsx(qe,{onClick:()=>A(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsx(mi,{children:te.length>0?te.map((J,je)=>o.jsxs(he.Fragment,{children:[o.jsxs(An,{children:[o.jsx(Xo,{children:o.jsx(Qb,{color:J.status==="Success"?"primary":"error"})}),o.jsx(pr,{primary:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(w,{variant:"body1",children:J.device}),o.jsx(Ke,{label:J.status,size:"small",color:J.status==="Success"?"success":"error"})]}),secondary:o.jsxs(T,{children:[o.jsx(w,{variant:"body2",color:"text.secondary",children:J.date}),o.jsx(w,{variant:"body2",color:"text.secondary",children:J.location})]})})]}),je<te.length-1&&o.jsx(Nn,{})]},je)):o.jsx(An,{children:o.jsx(pr,{primary:o.jsx(w,{variant:"body1",color:"text.secondary",sx:{textAlign:"center",py:4},children:"No login history available"})})})})})]}),o.jsxs(In,{open:S,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:"Add Staff Member"}),o.jsx(qe,{onClick:()=>k(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Full Name",value:Je.name,onChange:J=>ht({...Je,name:J.target.value}),error:!!l.name,helperText:l.name,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Email",value:Je.email,onChange:J=>ht({...Je,email:J.target.value}),error:!!l.email,helperText:l.email,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,required:!0,children:[o.jsx(jn,{children:"Role"}),o.jsxs(yn,{value:Je.role,label:"Role",onChange:J=>ht({...Je,role:J.target.value}),error:!!l.role,children:[o.jsx(ye,{value:"doctor",children:"Doctor"}),o.jsx(ye,{value:"nurse",children:"Nurse"}),o.jsx(ye,{value:"receptionist",children:"Receptionist"}),o.jsx(ye,{value:"pharmacist",children:"Pharmacist"}),o.jsx(ye,{value:"technician",children:"Technician"})]}),l.role&&o.jsx(xT,{error:!0,children:l.role})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Specialization",value:Je.specialization,onChange:J=>ht({...Je,specialization:J.target.value}),placeholder:"Optional"})})]})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:()=>k(!1),disabled:s,children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:vt,disabled:s,startIcon:s?o.jsx(Jn,{size:16}):o.jsx(rr,{}),children:s?"Adding...":"Add Staff"})]})]}),o.jsxs(In,{open:P,onClose:()=>R(!1),maxWidth:"sm",children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:1},children:[o.jsx(As,{color:"warning"}),o.jsx(w,{variant:"h6",children:"Confirm Action"})]})}),o.jsx(Tn,{children:o.jsx(w,{variant:"body1",children:Q})}),o.jsxs($n,{children:[o.jsx(me,{onClick:()=>R(!1),children:"Cancel"}),o.jsx(me,{variant:"contained",color:"warning",onClick:Y,children:"Confirm"})]})]}),o.jsxs(In,{open:E,onClose:()=>O(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:"Medical License Certificate"}),o.jsx(qe,{onClick:()=>O(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsx(T,{sx:{textAlign:"center",py:4},children:o.jsxs(T,{sx:{border:"2px dashed",borderColor:"primary.main",borderRadius:2,p:4,backgroundColor:"grey.50",minHeight:400,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[o.jsx(lL,{sx:{fontSize:80,color:"primary.main",mb:2}}),o.jsx(w,{variant:"h5",sx:{fontWeight:600,mb:1},children:"Medical License Certificate"}),o.jsxs(w,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["License Number: ",Z.licenseNumber||t("not_specified")]}),o.jsxs(w,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["Issued by: ",t("medical_authority")]}),o.jsxs(T,{sx:{display:"flex",gap:1},children:[o.jsx(Ke,{label:t("status_unknown"),color:"primary"}),o.jsx(Ke,{label:"Verified",color:"primary"})]}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{mt:2},children:t("validity_not_specified")})]})})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{variant:"outlined",startIcon:o.jsx(Xl,{}),onClick:()=>G("Certificate downloaded successfully","success"),children:"Download PDF"}),o.jsx(me,{onClick:()=>O(!1),children:"Close"})]})]}),o.jsxs(In,{open:D,onClose:()=>L(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:"Update Professional Credentials"}),o.jsx(qe,{onClick:()=>L(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Medical License Number",value:Xe.licenseNumber,onChange:J=>Lt({...Xe,licenseNumber:J.target.value}),error:!!l.licenseNumber,helperText:l.licenseNumber,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Years of Experience",type:"number",value:Xe.experience,onChange:J=>Lt({...Xe,experience:J.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:t("medical_school"),value:Xe.medicalSchool,onChange:J=>Lt({...Xe,medicalSchool:J.target.value})})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Residency Program",value:Xe.residency,onChange:J=>Lt({...Xe,residency:J.target.value})})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Board Certifications",multiline:!0,rows:3,value:Xe.certifications,onChange:J=>Lt({...Xe,certifications:J.target.value}),placeholder:"List your board certifications, separated by commas"})})]})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:()=>L(!1),disabled:s,children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:Pn,disabled:s,startIcon:s?o.jsx(Jn,{size:16}):o.jsx(Oo,{}),children:s?"Updating...":"Update Credentials"})]})]}),o.jsxs(In,{open:$,onClose:()=>B(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:"Add Achievement"}),o.jsx(qe,{onClick:()=>B(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(V,{container:!0,spacing:3,sx:{mt:1},children:[o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Achievement Title",value:jt.title,onChange:J=>Mt({...jt,title:J.target.value}),error:!!l.title,helperText:l.title,placeholder:t("enter_achievement_title"),required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Date Received",type:"date",value:jt.date,onChange:J=>Mt({...jt,date:J.target.value}),error:!!l.date,helperText:l.date,InputLabelProps:{shrink:!0},required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Issuing Organization",value:jt.issuer,onChange:J=>Mt({...jt,issuer:J.target.value}),placeholder:t("enter_issuing_organization")})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Description",multiline:!0,rows:4,value:jt.description,onChange:J=>Mt({...jt,description:J.target.value}),error:!!l.description,helperText:l.description,placeholder:"Describe the achievement and its significance...",required:!0})})]})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:()=>B(!1),disabled:s,children:"Cancel"}),o.jsx(me,{variant:"contained",onClick:Mr,disabled:s,startIcon:s?o.jsx(Jn,{size:16}):o.jsx(rr,{}),children:s?"Adding...":"Add Achievement"})]})]}),o.jsxs(In,{open:N,onClose:()=>q(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:2},children:[o.jsx(cC,{color:"primary"}),o.jsx(w,{variant:"h6",children:"Help & Support Center"})]}),o.jsx(qe,{onClick:()=>q(!1),size:"small",children:o.jsx(Qo,{})})]})}),o.jsxs(Tn,{children:[o.jsxs(T,{sx:{py:2},children:[o.jsxs(T,{sx:{mb:4,p:3,backgroundColor:"primary.light",borderRadius:2,color:"primary.contrastText"},children:[o.jsx(w,{variant:"h6",sx:{mb:2,fontWeight:600},children:"🆘 Need Immediate Help?"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:"💬 WhatsApp Support"})}),o.jsx(me,{size:"small",variant:"contained",sx:{mt:1,backgroundColor:"white",color:"primary.main","&:hover":{backgroundColor:"grey.100"}},onClick:()=>{const J=encodeURIComponent("Hello! I need support with ClinicCare system. Please assist me with my inquiry.");window.open(`https://wa.me/201147299675?text=${J}`),G("Opening WhatsApp support...","success")},children:"💬 Chat Now"})]}),o.jsxs(V,{item:!0,xs:12,md:6,children:[o.jsx(T,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:o.jsx(w,{variant:"body2",sx:{fontWeight:600},children:"📧 Email Support:"})}),o.jsx(w,{variant:"body2",children:"drsuperclinic@gmail.com"})]})]})]}),o.jsx(w,{variant:"h6",sx:{mb:3,fontWeight:600},children:"💬 Contact Support"}),o.jsxs(Ve,{sx:{p:3,mb:4},children:[o.jsx(w,{variant:"subtitle1",sx:{mb:3,fontWeight:600},children:"Send us a message and we'll get back to you soon"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Full Name",value:pt.name,onChange:J=>Qe({...pt,name:J.target.value}),error:!!l.name,helperText:l.name,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Email Address",type:"email",value:pt.email,onChange:J=>Qe({...pt,email:J.target.value}),error:!!l.email,helperText:l.email,required:!0})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsxs(hn,{fullWidth:!0,children:[o.jsx(jn,{children:"Support Type"}),o.jsxs(yn,{value:pt.supportType,label:"Support Type",onChange:J=>Qe({...pt,supportType:J.target.value}),children:[o.jsx(ye,{value:"general",children:"General Support"}),o.jsx(ye,{value:"technical",children:"Technical Support"}),o.jsx(ye,{value:"billing",children:"Billing Support"}),o.jsx(ye,{value:"feature",children:"Feature Request"}),o.jsx(ye,{value:"bug",children:"Bug Report"})]})]})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(Pe,{fullWidth:!0,label:"Subject",value:pt.subject,onChange:J=>Qe({...pt,subject:J.target.value}),error:!!l.subject,helperText:l.subject,required:!0})}),o.jsx(V,{item:!0,xs:12,children:o.jsx(Pe,{fullWidth:!0,label:"Message",multiline:!0,rows:4,value:pt.message,onChange:J=>Qe({...pt,message:J.target.value}),error:!!l.message,helperText:l.message,placeholder:"Please describe your issue or question in detail...",required:!0})}),o.jsx(V,{item:!0,xs:12,children:o.jsxs(T,{sx:{display:"flex",gap:2},children:[o.jsx(me,{variant:"contained",onClick:Mn,disabled:s,startIcon:s?o.jsx(Jn,{size:16}):o.jsx(cC,{}),children:s?"Sending...":"Send Message"}),o.jsx(me,{variant:"outlined",onClick:()=>Qe({name:"",email:"",subject:"",message:"",supportType:"general"}),disabled:s,children:"Clear Form"})]})})]})]}),o.jsx(w,{variant:"h6",sx:{mb:3,fontWeight:600},children:"📋 Frequently Asked Questions"}),o.jsxs(mi,{sx:{mb:4},children:[o.jsxs(An,{sx:{flexDirection:"column",alignItems:"flex-start",py:2,px:0},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"❓ How do I update my medical license information?"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:'Go to Profile Management → Professional Information & Actions and click "Update Credentials" to modify your license details.'})]}),o.jsx(Nn,{}),o.jsxs(An,{sx:{flexDirection:"column",alignItems:"flex-start",py:2,px:0},children:[o.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"❓ How do I change my password?"}),o.jsx(w,{variant:"body2",color:"text.secondary",children:'Visit Security & Privacy settings and click "Change" next to the Password option for secure password management.'})]})]}),o.jsxs(T,{sx:{mt:4,mb:4,p:3,backgroundColor:"success.light",borderRadius:2},children:[o.jsx(w,{variant:"h6",sx:{mb:2,fontWeight:600,color:"success.contrastText"},children:"💬 WhatsApp Support"}),o.jsx(w,{variant:"body2",sx:{mb:3,color:"success.contrastText"},children:"Get instant help through WhatsApp! Our support team is available 24/7 to assist you with any questions or issues."}),o.jsxs(V,{container:!0,spacing:3,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(me,{variant:"contained",fullWidth:!0,size:"large",sx:{backgroundColor:"white",color:"success.main",py:2,"&:hover":{backgroundColor:"grey.100"}},onClick:()=>{const J=encodeURIComponent("Hello! I need technical support with ClinicCare system. Please help me resolve my issue.");window.open(`https://wa.me/201147299675?text=${J}`),G("Opening WhatsApp for technical support...","success")},children:"🔧 Technical Support"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(me,{variant:"outlined",fullWidth:!0,size:"large",sx:{borderColor:"white",color:"white",py:2,"&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},onClick:()=>{const J=encodeURIComponent("Hello! I have a general question about ClinicCare. Could you please assist me?");window.open(`https://wa.me/201147299675?text=${J}`),G("Opening WhatsApp for general support...","success")},children:"💬 General Support"})})]}),o.jsx(T,{sx:{mt:3,p:2,backgroundColor:"rgba(255,255,255,0.1)",borderRadius:1},children:o.jsxs(w,{variant:"body2",sx:{color:"success.contrastText",textAlign:"center"},children:["💡 ",o.jsx("strong",{children:"Pro Tip:"})," Send screenshots and detailed descriptions for faster resolution!"]})})]})]}),o.jsxs(T,{sx:{mt:4,p:3,backgroundColor:"warning.light",borderRadius:2},children:[o.jsx(w,{variant:"h6",sx:{mb:2,fontWeight:600,color:"warning.contrastText"},children:"📝 Share Your Feedback"}),o.jsx(w,{variant:"body2",sx:{mb:3,color:"warning.contrastText"},children:"Help us improve ClinicCare by sharing your experience and suggestions"}),o.jsxs(V,{container:!0,spacing:2,children:[o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(me,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"white",color:"warning.main","&:hover":{backgroundColor:"grey.100"}},onClick:async()=>{await dNe({name:Z.name||"User",email:Z.email||"",feedback:"User requested to send feedback via the feedback button. Please follow up with them for their detailed feedback.",rating:"Pending"})?(ee(`
✅ Feedback request sent successfully!

📧 We've notified our team at drsuperclinic@gmail.com
📱 You can also reach us via WhatsApp: +201147299675

We'd love to hear about:
• Your overall experience with ClinicCare
• Features you find most helpful
• Areas for improvement
• Suggestions for new features
• Technical performance feedback
• User interface comments

We'll reach out to you soon for your detailed feedback!
                        `),G("Feedback request sent to drsuperclinic@gmail.com!","success")):(ee(`
📝 We'd love to hear from you!

Please send your feedback directly to:

📧 Email: drsuperclinic@gmail.com
📱 WhatsApp: +201147299675

Include these details in your message:
• Overall experience rating
• Features you find most helpful
• Areas for improvement
• Suggestions for new features
• Technical performance feedback
• User interface comments

Your feedback helps us improve ClinicCare for everyone!
                        `),G("Please send feedback using the contact details above","info")),ne(()=>{R(!1),navigator.clipboard.writeText("drsuperclinic@gmail.com").then(()=>{G("Support email copied to clipboard","info")}).catch(()=>{})}),R(!0)},children:"📧 Send Feedback"})}),o.jsx(V,{item:!0,xs:12,md:6,children:o.jsx(me,{variant:"outlined",fullWidth:!0,sx:{borderColor:"white",color:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},onClick:()=>{G("Thank you for your interest in providing feedback!","success"),setTimeout(()=>{G("Survey feature coming soon. Please use email feedback for now.","info")},2e3)},children:"📊 Quick Survey"})})]})]})]}),o.jsx($n,{sx:{px:3,pb:3},children:o.jsx(me,{onClick:()=>q(!1),children:"Close"})})]}),o.jsxs(In,{open:at,onClose:Ot,maxWidth:"sm",fullWidth:!0,children:[o.jsx(kn,{children:o.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx(w,{variant:"h6",children:vn?"Edit Insurance Provider":"Add Insurance Provider"}),o.jsx(qe,{onClick:Ot,size:"small",children:o.jsx(Qo,{})})]})}),o.jsx(Tn,{children:o.jsxs(T,{sx:{pt:2},children:[o.jsx(Pe,{fullWidth:!0,label:"Insurance Provider Name",value:mt,onChange:J=>It(J.target.value),placeholder:"e.g., Blue Cross Blue Shield, Aetna, Cigna",autoFocus:!0,onKeyPress:J=>{J.key==="Enter"&&(vn?Ut():lr())}}),o.jsx(w,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Enter the name of the insurance provider that your clinic accepts."})]})}),o.jsxs($n,{sx:{px:3,pb:3},children:[o.jsx(me,{onClick:Ot,children:"Cancel"}),o.jsxs(me,{variant:"contained",onClick:vn?Ut:lr,disabled:!mt.trim(),startIcon:vn?o.jsx(Wn,{}):o.jsx(rr,{}),children:[vn?"Update":"Add"," Provider"]})]})]}),o.jsx(xm,{open:p.open,autoHideDuration:4e3,onClose:ve,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:o.jsx(Zn,{onClose:ve,severity:p.severity,variant:"filled",sx:{width:"100%"},children:p.message})})]})},pNe=()=>o.jsx(Y_e,{children:o.jsxs(S_e,{children:[o.jsx(Hi,{path:"/login",element:o.jsx(TMe,{})}),o.jsx(Hi,{path:"/reset-password",element:o.jsx(kMe,{})}),o.jsx(Hi,{path:"/admin/login",element:o.jsx(RMe,{})}),o.jsx(Hi,{path:"/admin/dashboard",element:o.jsx(swe,{children:o.jsx(NMe,{})})}),o.jsx(Hi,{path:"/",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"dashboard",children:o.jsx(aB,{})})})})})}),o.jsx(Hi,{path:"/dashboard",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"dashboard",children:o.jsx(aB,{})})})})})}),o.jsx(Hi,{path:"/dashboard/receptionist",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"dashboard",children:o.jsx($Me,{})})})})})}),o.jsx(Hi,{path:"/dashboard/doctor",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"dashboard",children:o.jsx(LMe,{})})})})})}),o.jsx(Hi,{path:"/patients",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"patients",children:o.jsx(iMe,{})})})})})}),o.jsx(Hi,{path:"/patients/:id",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"patient_details",children:o.jsx(BMe,{})})})})})}),o.jsx(Hi,{path:"/appointments",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"appointments",children:o.jsx(pMe,{})})})})})}),o.jsx(Hi,{path:"/appointments/calendar",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"appointment_calendar",children:o.jsx(qMe,{})})})})})}),o.jsx(Hi,{path:"/payments",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"payments",children:o.jsx(IMe,{})})})})})}),o.jsx(Hi,{path:"/inventory",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"inventory",children:o.jsx(HMe,{})})})})})}),o.jsx(Hi,{path:"/notifications",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"notifications",children:o.jsx(YMe,{})})})})})}),o.jsx(Hi,{path:"/doctor-scheduling",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"doctor_scheduling",children:o.jsx(sMe,{})})})})})}),o.jsx(Hi,{path:"/settings",element:o.jsx(hs,{children:o.jsx(fs,{children:o.jsx(ms,{children:o.jsx(ps,{feature:"settings",children:o.jsx(fNe,{})})})})})})]})}),mNe=()=>{const{i18n:t}=Dr();return O1e(),C.useEffect(()=>{document.documentElement.dir=t.dir(),document.documentElement.lang=t.language},[t.language,t]),C.useEffect(()=>{k1e().catch(e=>{console.warn("⚠️ Demo clinic status check failed (this is normal):",e)})},[]),o.jsx(pNe,{})},gNe=()=>o.jsx(Ire,{children:o.jsx(e1e,{children:o.jsx(n1e,{children:o.jsx(v1e,{children:o.jsx(b1e,{children:o.jsx(j1e,{children:o.jsx(mNe,{})})})})})})}),_n=t=>typeof t=="string",Vg=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},dB=t=>t==null?"":""+t,xNe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},yNe=/###/g,hB=t=>t&&t.indexOf("###")>-1?t.replace(yNe,"."):t,fB=t=>!t||_n(t),Ax=(t,e,n)=>{const r=_n(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(fB(t))return{};const s=hB(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return fB(t)?{}:{obj:t,k:hB(r[i])}},pB=(t,e,n)=>{const{obj:r,k:i}=Ax(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=Ax(t,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=Ax(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},vNe=(t,e,n,r)=>{const{obj:i,k:s}=Ax(t,e,Object);i[s]=i[s]||[],i[s].push(n)},G_=(t,e)=>{const{obj:n,k:r}=Ax(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},bNe=(t,e,n)=>{const r=G_(t,n);return r!==void 0?r:G_(e,n)},UQ=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?_n(t[r])||t[r]instanceof String||_n(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):UQ(t[r],e[r],n):t[r]=e[r]);return t},wf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _Ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wNe=t=>_n(t)?t.replace(/[&<>"'\/]/g,e=>_Ne[e]):t;class jNe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const SNe=[" ",",","?","!",";"],CNe=new jNe(20),PNe=(t,e,n)=>{e=e||"",n=n||"";const r=SNe.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=CNe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},n5=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=n),l+=r[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},zy=t=>t==null?void 0:t.replace("_","-"),ANe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class K_{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||ANe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(_n(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new K_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new K_(this.logger,e)}}var ll=new K_;class Hj{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}}class mB extends Hj{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var d,f;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):_n(r)&&s?l.push(...r.split(s)):l.push(r)));const c=G_(this.data,l);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),c||!a||!_n(r)?c:n5((f=(d=this.data)==null?void 0:d[e])==null?void 0:f[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),pB(this.data,l,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(_n(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=G_(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?UQ(c,r,s):c={...c,...r},pB(this.data,l,c),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var qQ={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,n,r,i))??e}),e}};const gB={},xB=t=>!_n(t)&&typeof t!="boolean"&&typeof t!="number";class Y_ extends Hj{constructor(e,n={}){super(),xNe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ll.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!PNe(e,r,i);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:_n(s)?[s]:s};const d=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),e=d.join(i)}return{key:e,namespaces:_n(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),d=c[c.length-1];let f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return m?s?{res:`${d}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;const y=this.resolve(e,i);let x=y==null?void 0:y.res;const v=(y==null?void 0:y.usedKey)||l,b=(y==null?void 0:y.exactUsedKey)||l,I=["[object Number]","[object Function]","[object RegExp]"],A=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,k=i.count!==void 0&&!_n(i.count),P=Y_.hasDefaultValue(i),R=k?this.pluralResolver.getSuffix(p,i.count,i):"",E=i.ordinal&&k?this.pluralResolver.getSuffix(p,i.count,{ordinal:!1}):"",O=k&&!i.ordinal&&i.count===0,D=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${R}`]||i[`defaultValue${E}`]||i.defaultValue;let L=x;S&&!x&&P&&(L=D);const $=xB(L),B=Object.prototype.toString.apply(L);if(S&&L&&$&&I.indexOf(B)<0&&!(_n(A)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,L,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(y.res=N,y.usedParams=this.getUsedParamsDetails(i),y):N}if(a){const N=Array.isArray(L),q=N?[]:{},Y=N?b:v;for(const ne in L)if(Object.prototype.hasOwnProperty.call(L,ne)){const Q=`${Y}${a}${ne}`;P&&!x?q[ne]=this.translate(Q,{...i,defaultValue:xB(D)?D[ne]:void 0,joinArrays:!1,ns:c}):q[ne]=this.translate(Q,{...i,joinArrays:!1,ns:c}),q[ne]===Q&&(q[ne]=L[ne])}x=q}}else if(S&&_n(A)&&Array.isArray(x))x=x.join(A),x&&(x=this.extendTranslation(x,e,i,r));else{let N=!1,q=!1;!this.isValidLookup(x)&&P&&(N=!0,x=D),this.isValidLookup(x)||(q=!0,x=l);const ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:x,Q=P&&D!==x&&this.options.updateMissing;if(q||N||Q){if(this.logger.log(Q?"updateKey":"missingKey",p,d,l,Q?D:x),a){const K=this.resolve(l,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let K=0;K<Z.length;K++)ee.push(Z[K]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(i.lng||this.language):ee.push(i.lng||this.language);const de=(K,se,le)=>{var ge;const oe=P&&le!==x?le:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(K,d,se,oe,Q,i):(ge=this.backendConnector)!=null&&ge.saveMissing&&this.backendConnector.saveMissing(K,d,se,oe,Q,i),this.emit("missingKey",K,d,se,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?ee.forEach(K=>{const se=this.pluralResolver.getSuffixes(K,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&se.indexOf(`${this.options.pluralSeparator}zero`)<0&&se.push(`${this.options.pluralSeparator}zero`),se.forEach(le=>{de([K],l+le,i[`defaultValue${le}`]||D)})}):de(ee,l,D))}x=this.extendTranslation(x,e,i,y,r),q&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${d}${f}${l}`),(q||N)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${l}`:l,N?x:void 0,i))}return s?(y.res=x,y.usedParams=this.getUsedParamsDetails(i),y):x}extendTranslation(e,n,r,i,s){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=_n(e)&&(((d=r==null?void 0:r.interpolation)==null?void 0:d.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const y=e.match(this.interpolator.nestingRegexp);p=y&&y.length}let m=r.replace&&!_n(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,r.lng||this.language||i.usedLng,r),f){const y=e.match(this.interpolator.nestingRegexp),x=y&&y.length;p<x&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>(s==null?void 0:s[0])===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):this.translate(...y,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=_n(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=qQ.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,l;return _n(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,n),f=d.key;i=f;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=n.count!==void 0&&!_n(n.count),y=m&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(_n(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(b=>{var I,A;this.isValidLookup(r)||(l=b,!gB[`${v[0]}-${b}`]&&((I=this.utils)!=null&&I.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(l))&&(gB[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(S=>{var R;if(this.isValidLookup(r))return;a=S;const k=[f];if((R=this.i18nFormat)!=null&&R.addLookupKeys)this.i18nFormat.addLookupKeys(k,f,S,b,n);else{let E;m&&(E=this.pluralResolver.getSuffix(S,n.count,n));const O=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(k.push(f+E),n.ordinal&&E.indexOf(D)===0&&k.push(f+E.replace(D,this.options.pluralSeparator)),y&&k.push(f+O)),x){const L=`${f}${this.options.contextSeparator}${n.context}`;k.push(L),m&&(k.push(L+E),n.ordinal&&E.indexOf(D)===0&&k.push(L+E.replace(D,this.options.pluralSeparator)),y&&k.push(L+O))}}let P;for(;P=k.pop();)this.isValidLookup(r)||(s=P,r=this.getResource(S,b,P,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!_n(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class yB{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ll.create("languageUtils")}getScriptPartFromCode(e){if(e=zy(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=zy(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(_n(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),_n(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return _n(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):_n(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const vB={zero:0,one:1,two:2,few:3,many:4,other:5},bB={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ENe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ll.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=zy(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),bB;if(!e.match(/-|_/))return bB;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>vB[i]-vB[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const _B=(t,e,n,r=".",i=!0)=>{let s=bNe(t,e,n);return!s&&i&&_n(n)&&(s=n5(t,n,r),s===void 0&&(s=n5(e,n,r))),s},pI=t=>t.replace(/\$/g,"$$$$");class INe{constructor(e={}){var n;this.logger=ll.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:y,nestingSuffix:x,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:I,alwaysFormat:A}=e.interpolation;this.escape=n!==void 0?n:wNe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?wf(s):a||"{{",this.suffix=l?wf(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?wf(m):y||wf("$t("),this.nestingSuffix=x?wf(x):v||wf(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=I||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var y;let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=x=>{if(x.indexOf(this.formatSeparator)<0){const A=_B(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,r,{...i,...n,interpolationkey:x}):A}const v=x.split(this.formatSeparator),b=v.shift().trim(),I=v.join(this.formatSeparator).trim();return this.format(_B(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),I,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const f=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((y=i==null?void 0:i.interpolation)==null?void 0:y.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>pI(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?pI(this.escape(x)):pI(x)}].forEach(x=>{for(l=0;s=x.regex.exec(e);){const v=s[1].trim();if(a=d(v),a===void 0)if(typeof f=="function"){const I=f(e,s,i);a=_n(I)?I:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!_n(a)&&!this.useRawValueToEscape&&(a=dB(a));const b=x.safeValue(a);if(e=e.replace(s[0],b),p?(x.regex.lastIndex+=a.length,x.regex.lastIndex-=s[0].length):x.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a;const l=(c,d)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const p=c.split(new RegExp(`${f}[ ]*{`));let m=`{${p[1]}`;c=p[0],m=this.interpolate(m,a);const y=m.match(/'/g),x=m.match(/"/g);(((y==null?void 0:y.length)??0)%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),d&&(a={...d,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${f}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!_n(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=f.shift(),c=f,d=!0}if(s=n(l.call(this,i[1].trim(),a),a),s&&i[0]===e&&!_n(s))return s;_n(s)||(s=dB(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),d&&(s=c.reduce((f,p)=>this.format(f,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const TNe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},wB=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let l=e[a];return l||(l=t(zy(r),i),e[a]=l),l(n)}},kNe=t=>(e,n,r)=>t(zy(n),r)(e);class RNe{constructor(e={}){this.logger=ll.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?wB:kNe;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=wB(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var p;const{formatName:d,formatOptions:f}=TNe(c);if(this.formats[d]){let m=l;try{const y=((p=i==null?void 0:i.formatParams)==null?void 0:p[i.interpolationkey])||{},x=y.locale||y.lng||i.locale||i.lng||r;m=this.formats[d](l,x,{...f,...i,...y})}catch(y){this.logger.warn(y)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const ONe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class DNe extends Hj{constructor(e,n,r,i={}){var s,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ll.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},l={},c={};return e.forEach(d=>{let f=!0;n.forEach(p=>{const m=`${d}|${p}`;!r.reload&&this.store.hasResourceBundle(d,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,f=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),c[p]===void 0&&(c[p]=!0)))}),f||(l[d]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(c=>{vNe(c.loaded,[s],a),ONe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const f=c.loaded[d];f.length&&f.forEach(p=>{l[d][p]===void 0&&(l[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const l=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(d,f)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(e,n);d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();_n(e)&&(e=this.languageUtils.toResolveHierarchy(e)),_n(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,n,r,i,s,a={},l=()=>{}){var c,d,f,p,m;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((p=(f=this.services)==null?void 0:f.utils)!=null&&p.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const y={...a,isUpdate:s},x=this.backend.create.bind(this.backend);if(x.length<6)try{let v;x.length===5?v=x(e,n,r,i,y):v=x(e,n,r,i),v&&typeof v.then=="function"?v.then(b=>l(null,b)).catch(l):l(null,v)}catch(v){l(v)}else x(e,n,r,i,l,y)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const jB=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),_n(t[1])&&(e.defaultValue=t[1]),_n(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),SB=t=>{var e,n;return _n(t.ns)&&(t.ns=[t.ns]),_n(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),_n(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Sb=()=>{},MNe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Fy extends Hj{constructor(e={},n){if(super(),this.options=SB(e),this.services={},this.logger=ll,this.modules={external:[]},MNe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(_n(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=jB();this.options={...r,...this.options,...SB(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ll.init(i(this.modules.logger),this.options):ll.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=RNe;const f=new yB(this.options);this.store=new mB(this.options.resources,this.options);const p=this.services;p.logger=ll,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new ENe(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=i(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new INe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new DNe(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Y_(this.services,this.options),this.translator.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Sb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const l=Vg(),c=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),n(f,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,n=Sb){var s,a;let r=n;const i=_n(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(p=>{p!=="cimode"&&l.indexOf(p)<0&&l.push(p)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>c(f)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,n,r){const i=Vg();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Sb),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qQ.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Vg();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},a=l=>{var f,p;!e&&!l&&this.services.languageDetector&&(l=[]);const c=_n(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(_n(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,d)),this.loadResources(d,m=>{s(m,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(s,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(l)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=this.options.keySeparator||".";let f;return c.keyPrefix&&Array.isArray(s)?f=s.map(p=>`${c.keyPrefix}${d}${p}`):f=c.keyPrefix?`${c.keyPrefix}${d}${s}`:s,this.t(f,c)};return _n(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=Vg();return this.options.ns?(_n(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Vg();_n(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new yB(jB());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Fy(e,n)}cloneInstance(e={},n=Sb){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Fy(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((f,p)=>(f[p]={...c[d][p]},f),c[d]),c),{});s.store=new mB(l,i),s.services.resourceStore=s.store}return s.translator=new Y_(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ji=Fy.createInstance();Ji.createInstance=Fy.createInstance;Ji.createInstance;Ji.dir;Ji.init;Ji.loadResources;Ji.reloadResources;Ji.use;Ji.changeLanguage;Ji.getFixedT;Ji.t;Ji.exists;Ji.setDefaultNamespace;Ji.hasLoadedNamespace;Ji.loadNamespaces;Ji.loadLanguages;const{slice:NNe,forEach:$Ne}=[];function LNe(t){return $Ne.call(NNe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function zNe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const CB=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,FNe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!CB.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!CB.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},PB={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=FNe(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var WNe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return PB.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&PB.create(n,t,r,i,s)}},VNe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(n=a[l].substring(c+1))}}return n}};let jf=null;const AB=()=>{if(jf!==null)return jf;try{if(jf=typeof window<"u"&&window.localStorage!==null,!jf)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{jf=!1}return jf};var BNe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&AB())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&AB()&&window.localStorage.setItem(n,t)}};let Sf=null;const EB=()=>{if(Sf!==null)return Sf;try{if(Sf=typeof window<"u"&&window.sessionStorage!==null,!Sf)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Sf=!1}return Sf};var UNe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&EB())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&EB()&&window.sessionStorage.setItem(n,t)}},qNe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},HNe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},GNe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},KNe={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let HQ=!1;try{document.cookie,HQ=!0}catch{}const GQ=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];HQ||GQ.splice(1,1);const YNe=()=>({order:GQ,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class KQ{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=LNe(n,this.options||{},YNe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(WNe),this.addDetector(VNe),this.addDetector(BNe),this.addDetector(UNe),this.addDetector(qNe),this.addDetector(HNe),this.addDetector(GNe),this.addDetector(KNe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!zNe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}KQ.type="languageDetector";const XNe={en:{translation:{clinic_management:"Clinic Management",login:"Login",email:"Email",email_address:"Email Address",password:"Password",sign_in:"Sign In",signing_in:"Signing in...",forgot_password:"Forgot Password?",reset_password:"Reset Password",send_reset_email:"Send Reset Email",sending:"Sending...",password_reset_email_sent:"Password reset email has been sent to",enter_email_for_reset:"Enter your email address and we'll send you a link to reset your password.",verifying_reset_link:"Verifying Reset Link",please_wait_verifying:"Please wait while we verify your password reset link...",password_reset_success:"Password Reset Successful",password_updated_successfully:"Your password has been updated",password_reset_complete:"Your password has been reset successfully!",redirecting_to_login:"Redirecting you to login page...",go_to_login:"Go to Login",back_to_login:"Back to Login",enter_new_password_for:"Enter a new password for",new_password:"New Password",confirm_new_password:"Confirm New Password",password_min_length:"Password must be at least 6 characters",updating_password:"Updating Password...",update_password:"Update Password",change_password:"Change Password",current_password:"Current Password",enter_current_password_and_new_password:"Enter your current password and choose a new secure password.",password_changed_successfully:"Password changed successfully",passwords_do_not_match:"Passwords do not match",user_not_authenticated:"User not authenticated. Please log in again.",current_password_incorrect:"Current password is incorrect",password_too_weak:"Password is too weak. Please choose a stronger password.",requires_recent_login:"Please log out and log back in before changing your password.",failed_to_change_password:"Failed to change password. Please try again.",no_account:"Don't have an account? Sign up",authorized_access_only:"Authorized Access Only",management_system:"Management System",clinic_care:"Clinicy",version:"version",general_practitioner:"General Practitioner",profile_settings:"Profile & Settings",sign_out:"Sign Out",welcome_back:"Welcome back",dashboard:"Dashboard",patients:"Patients",appointments:"Appointments",inventory:"Inventory",payments:"Payments",notifications:"Notifications",scheduling:"Doctor Scheduling",doctor_scheduling:"Doctor Scheduling",settings:"Settings",language:"Language",expand_sidebar:"Expand Sidebar",collapse_sidebar:"Collapse Sidebar",change_language:"Change Language",clinic_onboarding:"Clinic Onboarding",clinic_address:"Clinic Address",clinic_phone:"Clinic Phone",clinic_email:"Clinic Email",clinic_name:"Clinic Name",clinic_details:"Clinic Details",operating_hours:"Operating Hours",clinic_list:"Clinic List",address:"Address",phone:"Phone",invite_staff:"Invite Staff",first_name:"First Name",last_name:"Last Name",full_name:"Full Name",role:"Role",doctor:"Doctor",management:"Management",receptionist:"Receptionist",send_invite:"Send Invite",invited_staff:"Invited Staff",name:"Name",status:"Status",pending:"Pending",joined:"Joined",appointments_today:"Appointments Today",new_patients:"New Patients",completed_appointments:"Completed Appointments",upcoming_appointments:"Upcoming Appointments",total_revenue:"Total Revenue",weekly_appointments:"Weekly Appointments",payments_due:"Payments Due",inventory_alerts:"Inventory Alerts",receptionist_dashboard:"Receptionist Dashboard",patient_dashboard:"Patient Dashboard",doctor_dashboard:"Doctor Dashboard",patient:"Patient",time:"Time",confirmed:"Confirmed",cancelled:"Cancelled",create_appointment:"Create Appointment",edit_appointment:"Edit Appointment",book_edit_appointment:"Book/Edit Appointment",patient_name:"Patient Name",appointment_date:"Appointment Date",appointment_time:"Appointment Time",appointment_details:"Appointment Details",appointment_list:"Appointment List",appointment_status:"Appointment Status",save_appointment:"Save Appointment",next_appointment:"Next Appointment",add_edit_patient:"Add/Edit Patient",patient_profile:"Patient Profile",patient_details:"Patient Details",patient_documents:"Patient Documents",date_of_birth:"Date of Birth",patient_age:"Patient Age",patient_gender:"Patient Gender",patient_address:"Patient Address",patient_condition:"Patient Condition",medical_history:"Medical History",emergency_contact_name:"Emergency Contact Name",emergency_contact_phone:"Emergency Contact Phone",insurance_provider:"Insurance Provider",insurance_number:"Insurance Number",current_medications:"Current Medications",blood_type:"Blood Type",height:"Height",weight:"Weight",upload_document:"Upload Document",document_name:"Document Name",upload_date:"Upload Date",medical_records:"Medical Records",view_records:"View Records",doctor_notes:"Doctor Notes",add_note:"Add Note",enter_note:"Enter your note here...",save_note:"Save Note",notes:"Notes",profile:"Profile",visits:"Visits",billing_information:"Billing Information",view_billing:"View Billing",payment_list:"Payment List",payment_details:"Payment Details",payment_method:"Payment Method",invoice_id:"Invoice ID",amount:"Amount",date:"Date",paid:"Paid",unpaid:"Unpaid",inventory_list:"Inventory List",add_edit_inventory_item:"Add/Edit Inventory Item",low_stock_alerts:"Low Stock Alerts",item_name:"Item Name",quantity:"Quantity",supplier:"Supplier",last_updated:"Last Updated",manage_inventory:"Manage Medical Supplies & Equipment",coming_soon:"Coming Soon",feature_under_development:"This feature is currently under development.",save:"Save",close:"Close",register:"Register",already_have_account:"Already have an account? Sign in",type:"Type",view:"View",edit:"Edit",delete:"Delete",cancel:"Cancel",confirm:"Confirm",loading:"Loading...",refresh:"Refresh",search:"Search",filter:"Filter",sort:"Sort",export:"Export",import:"Import",print:"Print",clinical_dashboard:"Clinical Dashboard",working_doctors_today:"Working Doctors Today",completion_rate:"Completion Rate",completed:"Completed",patient_management:"Patient Management",whatsapp_all:"WhatsApp All",add_new_patient:"Add New Patient",search_patients_placeholder:"Search patients by name, email, phone, or condition...",organize:"Organize",all:"All",table:"Table",cards:"Cards",active_filters:"Active Filters",gender:"Gender",age:"Age",condition:"Condition",clear_all_filters:"Clear All Filters",male:"Male",female:"Female",contact:"Contact",last_visit:"Last Visit",actions:"Actions",years:"years",duration:"Duration",old:"Old Patient",new:"New Patient","follow-up":"Follow-up",admitted:"Admitted",transferred:"Transferred",discharged:"Discharged",diabetes:"Diabetes",hypertension:"Hypertension",asthma:"Asthma","routine checkup":"Routine Checkup",routine_checkup:"Routine Checkup","diabetes type 2":"Diabetes Type 2",migraine:"Migraine","chest pain":"Chest Pain","back pain":"Back Pain",headache:"Headache",fever:"Fever",cough:"Cough",cold:"Cold",flu:"Flu",allergies:"Allergies","high blood pressure":"High Blood Pressure","low blood pressure":"Low Blood Pressure","heart disease":"Heart Disease","kidney disease":"Kidney Disease","liver disease":"Liver Disease",arthritis:"Arthritis",depression:"Depression",anxiety:"Anxiety",obesity:"Obesity",anemia:"Anemia","thyroid disorder":"Thyroid Disorder",general_medicine:"General Medicine",cardiology:"Cardiology",pediatrics:"Pediatrics",dermatology:"Dermatology",orthopedics:"Orthopedics",neurology:"Neurology",gastroenterology:"Gastroenterology",ophthalmology:"Ophthalmology",ent:"ENT (Ear, Nose, Throat)",psychiatry:"Psychiatry",other:"Other","all patients":"All Patients","new patients":"New Patients","follow-up patients":"Follow-up Patients","old patients":"Old Patients","under observation":"Under Observation","transferred patients":"Transferred Patients","discharged patients":"Discharged Patients","appointment data":"Appointment Data","checked-in":"Checked In",waiting:"Waiting","in-progress":"In Progress",scheduled:"Scheduled",active:"Active",none_today:"None Today",add_time_slot:"Add Time Slot",edit_doctor_schedule:"Edit Doctor Schedule",working_hours_start:"Working Hours Start",working_hours_end:"Working Hours End",off_days:"Off Days",available_slot:"Available Slot",regular_working_hours:"Regular Working Hours",please_fill_all_fields:"Please fill all fields",time_slot_already_exists:"Time slot already exists",time_slot_already_reserved:"Time slot is already reserved",edit_doctor_information:"Edit Doctor Information",working_hours_schedule:"Working Hours & Schedule",consultation_duration:"Consultation Duration",max_patients_per_hour:"Max Patients Per Hour",available_slots:"Available Slots",reserved_for_patient:"Reserved for Patient",standard_doctor_availability:"Standard doctor availability during working hours",manually_added_slot:"Available Slot (Added Manually)",automatic_sync_active:"🔄 Automatic Patient-Appointment Sync Active",sync_now:"Sync Now",from_appointments:"From Appointments",follow_up:"Follow-up",completion:"Completion",reservation:"Reservation",reservations:"Reservations",appointment_reservations:"appointment reservations",appointment_completion_status:"appointment completion status",patients_with_appointments_listed_first:"Patients with appointments are listed first.",patients_with_completed_listed_first:"Patients with completed appointments are listed first.",organized_by_text:"Patients are organized by",appointment_data_organized_by_completion:"This tab shows appointment data organized by completion status, automatically synced from the Appointment page.",appointments_awaiting_completion:"Appointments awaiting completion",pending_not_completed:"Pending/Not Completed",no_completed_appointments_found:"No completed appointments found",no_pending_appointments_found:"No pending appointments found",successfully_completed_appointments:"Successfully completed appointments",loading_appointment_data:"Loading Appointment Data...",syncing_appointment_data:"Syncing appointment data from the appointment page",completed_status:"Completed",total_patients:"Total Patients",comprehensive_patient_care:"🏥 Comprehensive Patient Care",sync_appointments:"Sync Appointments",failed_to_load_settings:"Failed to load settings",failed_to_refresh_notifications:"Failed to refresh notifications",notification_marked_as_read:"Notification marked as read",failed_to_mark_as_read:"Failed to mark as read",notification_deleted:"Notification deleted",failed_to_delete_notification:"Failed to delete notification",all_notifications_marked_as_read:"All notifications marked as read",failed_to_mark_all_as_read:"Failed to mark all as read",settings_saved_successfully:"Settings saved successfully",failed_to_save_settings:"Failed to save settings",mark_as_read:"Mark as read",delete_notification:"Delete notification",notification_preferences:"Notification Preferences",realtime_updates:"Real-time updates from your clinic management system",no_notifications_found:"No notifications found",all_caught_up:"You're all caught up! New notifications will appear here when there's something important to share.",notification_settings:"Notification Settings",customize_notification_preferences:"Customize your notification preferences",appointment_notifications:"Appointment Notifications",payment_notifications:"Payment Notifications",system_updates:"System Updates",save_settings:"Save Settings",quick_actions:"Quick Actions",manage_all_notifications:"Manage all notifications at once",mark_all_as_read:"Mark All as Read",clear_all_notifications:"Clear All Notifications",refresh_from_all_data:"Refresh from all data",load_more_notifications:"Load more notifications",loading_more:"Loading...",all_notifications_loaded:"All notifications loaded ({{count}} total)",loaded_more_notifications:"Loaded {{count}} more notification{{s}}",failed_to_load_more:"Failed to load more notifications",notifications_refreshed:"Notifications refreshed! Found {{total}} total notifications ({{unread}} unread) from all application data",refreshing_from_all_modules:"Refreshing notifications from all application modules...",refreshing_notifications:"Refreshing notifications",notification_type_all:"All Notifications",notification_type_appointment:"Appointments",notification_type_payment:"Payments",manage_profile_clinic_settings:"Manage your profile, clinic settings, and system preferences",settings_menu:"Settings Menu",configure_clinic_preferences:"Configure your clinic & preferences",profile_management:"Profile Management",clinic_settings_tab:"Clinic Settings",security_privacy:"Security & Privacy",system_settings:"System Settings",profile_information:"Profile Information",manage_personal_professional_details:"Manage your personal and professional details",edit_profile:"Edit Profile",cancel_edit:"Cancel Edit",available:"Available",hours_ago:"{{count}} hours ago",basic_information:"Basic Information",professional_information:"Professional Information",not_specified:"Not specified",phone_number:"Phone Number",emergency_contact:"Emergency Contact",primary_specialization:"Primary Specialization",years_of_experience:"Years of Experience",medical_license_number:"Medical License Number",medical_school:"Medical School",residency:"Residency",board_certifications:"Board Certifications",languages_bio:"Languages & Bio",languages_spoken:"Languages Spoken",consultation_fee:"Consultation Fee",professional_bio:"Professional Bio",no_bio_available:"No bio available",availability_settings:"Availability Settings",working_days:"Working Days",working_hours:"Working Hours",lunch_break:"Lunch Break",notification_type_inventory:"Inventory",notification_type_system:"System",notification_appointment_type:"Appointment",notification_payment_type:"Payment",notification_inventory_type:"Inventory",notification_system_type:"System",created_at:"Created at",message:"Message",title:"Title",read:"Read",unread:"Unread",notification_cleared:"Notification cleared",all_notifications_cleared:"All notifications cleared",failed_to_clear_notifications:"Failed to clear notifications",notification_count:"{{count}} notification{{s}}",unread_count:"{{count}} unread",refreshing:"Refreshing...",refresh_all_data:"Refresh All Data",processing:"Processing...",clear_all_with_count:"Clear All ({{count}})",for:"for",low_stock_alert_title:"Low Stock Alert",out_of_stock_alert_title:"Out of Stock Alert",low_stock_message:"{{itemName}} is running low. Only {{quantity}} units left (minimum: {{minQuantity}})",out_of_stock_message:"{{itemName}} is out of stock. Please reorder from {{supplier}}",units_left:"units left",minimum:"minimum",please_reorder_from:"Please reorder from",new_appointment_scheduled:"New Appointment Scheduled",appointment_reminder:"Appointment Reminder",patient_no_show:"Patient No-Show",appointment_cancelled:"Appointment Cancelled",payment_received:"Payment Received",payment_overdue:"Payment Overdue",payment_due_soon:"Payment Due Soon",new_patient_registration:"New Patient Registration",follow_up_due:"Follow-up Due",medication_refill_due:"Medication Refill Due",system_update:"System Update",system_update_message:"New features have been added to the patient management system. Check out the updated medication tracking!",professional_doctor_schedule_management:"🩺 Professional doctor schedule & appointment time management",schedule_date:"📅 Schedule Date:",select_date:"Select Date",time_slots_total:"Time Slots ({{count}} total)",doctor_schedule_statistics:"📊 Doctor Schedule Statistics",working_today:"Working Today",total_appointments:"Total Appointments",busy_doctors:"Busy Doctors",available_doctors:"Available Doctors",time_slot_color_guide:"🎨 Time Slot Color Guide",available_slot_added_manually:"⏰ Available Slot (Added Manually)",reserved_patient_appointment:"🔒 Reserved (Patient Appointment)",interactive_time_slots:"💡 Interactive Time Slots",click_time_slot_to_edit:"Click on any time slot to edit its type, add patient details, or modify the schedule!",doctor_schedules:"Doctor Schedules",weekly_overview:"Weekly Overview",all_doctors:"All Doctors",doctor_schedules_for_date:"📋 Doctor Schedules for {{date}}",how_to_manage_time_slots:"💡 How to manage time slots:",click_plus_button_to_add:"• Click the + button next to any doctor to add available time slots",add_multiple_time_slots:"• Add multiple time slots to any doctor, even if they already have appointments",click_time_slot_chip_to_edit:"• Click any time slot chip to edit, reserve, or convert to different types",time_slots:"Time Slots",schedule_utilization:"Schedule Utilization",reserved:"Reserved",slots:"slots",doctor_schedule:"Doctor Schedule",review:"Review",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun",all_doctors_day:"All Doctors {{day}}",schedule_for_day:"Schedule for {{day}}",doctors_working_on:"Doctors working on {{day}}",reserved_appointments_count:"Reserved Appointments ({{count}})",available_slots_count:"Available Slots ({{count}})",doctors_off_today:"Doctors Off Today ({{day}})",day_off:"Day Off",weekly_schedule_overview:"Weekly Schedule Overview",weekly_working_patterns:"Weekly Working Patterns",weekly_overview_description:"Complete overview of all doctors' working schedules throughout the week. Click edit to modify any doctor's schedule.",all_doctors_count:"All Doctors ({{count}})",none:"None",max_patients_per_hour_template:"Max {{max}} patients/hour",consultation_duration_min:"{{duration}} min consultations",quick_availability_presets:"Quick Availability Presets",morning_preset:"🌅 Morning (9-12)",afternoon_preset:"☀️ Afternoon (2-5)",evening_preset:"🌙 Evening (6-9)",full_day_preset:"🌈 Full Day",default_hours:"📋 Default Hours",clear_all:"🗑️ Clear All",current_time_slots:"Current Time Slots",add_custom_time:"Add Custom Time",no_slots_message:"No time slots added yet. Use quick presets above or add custom slots below.",availability_presets:"Availability Presets",add_custom_time_slot:"Add Custom Time Slot",select_time:"Select time",add_slot:"Add Slot",create_availability_for:"Create availability for {{doctor}}",what_this_does:"What this does",add_time_slot_description:"This adds an available time slot to the doctor's schedule. You can add time slots to ANY doctor, even if they already have existing appointments.",green_slots:"Green slots",blue_slots:"Blue slots",red_slots:"Red slots",regular_working_hours_description:"Regular working hours (doctor's normal schedule)",available_slots_description:"Available slots you add manually (like this one)",reserved_slots_description:"Reserved appointments with actual patient names",can_add_multiple_time_slots:"You can add multiple time slots to the same doctor on different times!",has_existing_appointments:"Has existing appointments - can add more time slots",slots_count:"{{count}} slots",add_available_time_slot:"Add Available Time Slot",enter_time_format:"Enter any time in HH:MM format (e.g., 14:30, 09:15)",time_hhmm_format:"Time (HH:MM format)",change_time_or_enter_new:"Change time or enter new custom time slot",personal_information:"Personal Information",register_new_medical_professional:"Register a new medical professional to your clinic team",add_new_doctor:"Add New Doctor",doctor_information:"Doctor Information",doctor_registration_description:"Please fill in the details below to add a new doctor to your clinic management system. All fields marked with * are required for registration.",doctor_name_placeholder:"e.g., Dr. Ahmed Hassan Mohamed",medical_specialty:"Medical Specialty",working_schedule:"Working Schedule",typical_duration_range:"Typical: 15-60 minutes",recommended_patients_range:"Recommended: 2-4 patients",add_doctor_to_clinic:"Add Doctor to Clinic",update_doctor_profile:"Update {{doctor}}'s profile and schedule settings",doctor_name:"Doctor Name",working_hours_and_schedule:"Working Hours & Schedule",update_doctor:"Update Doctor",edit_doctor_profile:"Edit Doctor Profile",edit_time_slot_time:"Edit Time Slot: {{time}}",configure_slot_type_and_patient:"Configure slot type and patient details",current_status:"Current Status",regular:"Regular",slot_type:"Slot Type",extra_availability_outside_hours:"Extra availability outside regular hours",booked_appointment_with_patient:"Booked appointment with patient details",full_patient_name:"Full patient name",patient_phone:"Patient Phone",contact_number:"Contact number",specialist_referral:"Specialist Referral",additional_notes_placeholder:"Additional notes about the appointment...",please_select_doctor_and_time:"Please select a doctor and enter a time",available_time_slot_added:"Available time slot {{time}} added for {{doctor}} on {{date}}. Doctor now has {{count}} time slots.",doctor_added_successfully:"Doctor {{name}} added successfully!",doctor_updated_successfully:"Doctor {{name}} updated successfully!",please_fill_doctor_name_specialty:"Please fill in doctor name and specialty",patient_name_required:"Patient name is required for reserved appointments",converted_to_regular:"Converted to Regular Working Hours",converted_to_available:"Converted to Available Slot",reserved_slot_tooltip:"RESERVED: {{patient}} (Click to edit)",available_slot_tooltip:"Available Slot (Click to edit)",regular_hours_tooltip:"Regular Working Hours (Click to edit)",room:"Room",available_time_slot_created:"Available time slot created from doctor scheduling",available_time_slot:"Available time slot",years_text:"{{count}} years",egp_amount:"EGP {{amount}}",bio_placeholder:"Dr. Ahmed Ali is a board-certified General Practitioner with over 8 years of experience in providing comprehensive healthcare services. He specializes in preventive medicine, chronic disease management, and patient education.",edit_profile_information:"Edit Profile Information",profile_statistics:"Profile Statistics",performance_overview:"Performance overview",appointments_this_month:"Appointments This Month",successful_treatments:"Successful Treatments",vacation:"On Vacation",emergency_only:"Emergency Only",saving_profile:"Saving Profile...",saving_clinic_settings:"Saving Clinic Settings...",save_clinic_settings:"Save Clinic Settings",saving:"Saving...",save_preferences:"Save Preferences",achievements_certifications:"Achievements & Certifications",awards_recognitions:"Awards and recognitions",board_certified:"Board Certified",excellence_award:"Excellence Award",best_doctor_2023:"Best Doctor 2023 - Egyptian Medical Syndicate",cairo_university_medicine:"Cairo University Faculty of Medicine",professional_member:"Professional Member",egyptian_medical_syndicate_member:"Egyptian Medical Syndicate - Member #12345",add_achievement:"Add Achievement",professional_information_actions:"Professional Information & Actions",license_details_quick_actions:"License details and quick actions",license_number:"License Number",registration_date:"Registration Date",january_15_2016:"January 15, 2016",department:"Department",license_status:"License Status",update_credentials:"Update Credentials",update_professional_credentials:"Update Professional Credentials",professional_credentials:"Professional Credentials",medical_license_certificate:"Medical License Certificate",license_information:"License Information",license_type:"License Type",licensing_authority:"Licensing Authority",license_valid_from:"License Valid From",license_valid_until:"License Valid Until",license_scope:"License Scope",specialty_board_certification:"Specialty Board Certification",board_name:"Board Name",certification_date:"Certification Date",certification_status:"Certification Status",active_status:"Active",expired_status:"Expired",pending_status:"Pending",suspended_status:"Suspended",continuing_education:"Continuing Education",cme_credits:"CME Credits",last_renewal_date:"Last Renewal Date",next_renewal_date:"Next Renewal Date",professional_memberships:"Professional Memberships",organization_name:"Organization Name",membership_type:"Membership Type",membership_status:"Membership Status",membership_since:"Member Since",update_license_info:"Update License Information",save_credentials:"Save Credentials",verify_credentials:"Verify Credentials",credentials_updated_successfully:"Professional credentials updated successfully",license_validated:"License validated successfully",invalid_license_number:"Invalid license number",license_expired:"License has expired",credentials_form_title:"Professional Credentials Management",credentials_form_subtitle:"Manage your medical licenses, certifications, and professional memberships",license_upload_instruction:"Upload a clear copy of your medical license",supported_file_formats:"Supported formats: PDF, JPG, PNG (Max 5MB)",credential_required_field:"This credential field is required",license_number_format:"License number format is invalid",date_validation_future:"Date cannot be in the future",date_validation_past:"Date cannot be in the past",renewal_reminder:"Renewal reminder will be sent 30 days before expiry",upload_supporting_documents:"Upload Supporting Documents",document_verification_pending:"Document verification pending",document_verified:"Document verified",document_rejected:"Document rejected",medical_license_form:"Medical License Form",update_credentials_form:"Update Credentials Form",add_achievement_form:"Add Achievement Form",license_certificate_upload:"License Certificate Upload",certificate_file:"Certificate File",browse_files:"Browse Files",drag_drop_files:"Drag and drop files here",file_size_limit:"Maximum file size: 10MB",accepted_formats:"Accepted formats: PDF, JPG, PNG",license_verification_status:"License Verification Status",verified:"Verified",not_verified:"Not Verified",under_review:"Under Review",achievement_category_options:"Achievement Category Options",professional_award:"Professional Award",research_publication:"Research Publication",conference_presentation:"Conference Presentation",community_service:"Community Service",other_achievement:"Other Achievement",form_validation_errors:"Form Validation Errors",please_fix_errors:"Please fix the following errors:",required_field_empty:"Required field is empty",invalid_email_format:"Invalid email format",invalid_phone_format:"Invalid phone number format",file_too_large:"File size is too large",unsupported_file_type:"Unsupported file type",form_submitted_successfully:"Form submitted successfully",changes_saved:"Changes saved successfully",upload_in_progress:"Upload in progress...",processing_request:"Processing your request...",confirm_delete:"Are you sure you want to delete this item?",action_cannot_be_undone:"This action cannot be undone",view_certificate:"View Certificate",view_certification:"View Certification",certification_details:"Certification Details",certificate_name:"Certificate Name",issuing_organization:"Issuing Organization",issue_date:"Issue Date",expiry_date:"Expiry Date",certificate_number:"Certificate Number",achievement_title:"Achievement Title",achievement_description:"Achievement Description",achievement_date:"Achievement Date",achievement_category:"Achievement Category",award_title:"Award Title",awarded_by:"Awarded By",add_new_achievement:"Add New Achievement",edit_achievement:"Edit Achievement",save_achievement:"Save Achievement",cancel_changes:"Cancel Changes",form_validation_required:"This field is required",form_validation_invalid:"Please enter a valid value",upload_certificate:"Upload Certificate",attach_document:"Attach Document",remove_attachment:"Remove Attachment",select_category:"Select Category",enter_details:"Enter Details",doctor_first_name:"Doctor First Name",doctor_last_name:"Doctor Last Name",doctor_email:"Doctor Email",doctor_phone:"Doctor Phone",years_experience:"Years of Experience",qualification:"Qualification",university:"University",graduation_year:"Graduation Year",clinic_room:"Clinic Room",basic_clinic_information:"Basic Clinic Information",view_clinic_core_details:"View your clinic's core details and information",clinic_information:"Clinic Information",operation_information:"Operation Information",licensed_medical_facility:"Licensed Medical Facility",active_valid:"Active & Valid",payment:{title:"Payment Management",subtitle:"Streamline invoices, track payments, and manage billing seamlessly",fields:{amount:"Amount",patientName:"Patient Name",invoiceDate:"Invoice Date",dueDate:"Due Date",description:"Description",serviceCategory:"Service Category",paymentMethod:"Payment Method",insuranceCoverage:"Insurance Coverage",insurance:"Insurance",method:"Method"},status:{paid:"Paid",pending:"Pending",overdue:"Overdue",partial:"Partial"},categories:{consultation:"Consultation",checkup:"Check-up",surgery:"Surgery",emergency:"Emergency",followup:"Follow-up",procedure:"Medical Procedure"},methods:{cash:"Cash",credit_card:"Credit Card",bank_transfer:"Bank Transfer",insurance:"Insurance"},stats:{totalRevenue:"Total Revenue",totalProfit:"Total Profit",pendingPayments:"Pending Payments",overdueAmount:"Overdue Amount",thisMonth:"This Month",totalInvoices:"Total invoices",revenueMinusInsurance:"Revenue - Insurance",pendingInvoices:"{{count}} invoices",overdueInvoices:"{{count}} overdue"},actions:{createNewInvoice:"Create New Invoice",exportAll:"Export All",filter:"Filter",export:"Export",view:"View",download:"Download",send:"Send",edit:"Edit",delete:"Delete",viewInvoice:"View Invoice",downloadPDF:"Download PDF",sendReminder:"Send Reminder",clickToChangeStatus:"Click to change status",createInvoice:"Create Invoice",share:"Share",print:"Print",printInvoice:"Print Invoice",generatingPDF:"Generating PDF for invoice {{invoiceId}}...",preparingPrint:"Preparing invoice {{invoiceId}} for printing...",openingWhatsApp:"Opening WhatsApp to send reminder to {{patient}}..."},search:{placeholder:"Search payments by patient, invoice ID, or description..."},table:{invoice:"Invoice",patient:"Patient",amount:"Amount",method:"Method",date:"Date",status:"Status",actions:"Actions",insurance:"Insurance",due:"Due"},tabs:{all:"All ({{count}})",paid:"Paid ({{count}})",pending:"Pending ({{count}})",overdue:"Overdue ({{count}})"},view:{table:"Table",cards:"Cards"},filters:{title:"Filter Payments",subtitle:"Filter by status or period",allPayments:"All Payments",thisMonth:"This Month",lastMonth:"Last Month",paidOnly:"Paid Only",pendingOnly:"Pending Only",overdueOnly:"Overdue Only",withInsurance:"With Insurance"},statusMenu:{title:"Change Payment Status",pendingDesc:"Payment is awaiting",paidDesc:"Payment completed",overdueDesc:"Payment is late",partialDesc:"Partially paid"},dialogs:{createNewInvoice:"Create New Invoice",invoicePreview:"Invoice Preview"},placeholders:{patientName:"e.g., Patient Name",description:"Description of services provided..."},helpers:{serviceDate:"Date when the service was provided",insuranceCoverage:"Leave blank if no insurance coverage"},validation:{fillAllFields:"Please fill in all required fields",validAmount:"Amount must be a valid number greater than 0",futureDateNotAllowed:"Invoice date cannot be in the future",dueDateAfterInvoice:"Due date must be after the invoice date"},success:{invoiceCreated:"✅ Invoice {{invoiceId}} created successfully for {{patient}}!",invoiceDownloaded:"✅ Invoice {{invoiceId}} downloaded successfully!",invoiceSentToPrinter:"✅ Invoice {{invoiceId}} sent to printer!",reminderSent:"✅ WhatsApp reminder sent to {{patient}}!",invoiceDeleted:"🗑️ Invoice {{invoiceId}} deleted successfully!",statusChanged:'✅ Payment {{invoiceId}} status changed from "{{oldStatus}}" to "{{newStatus}}"'},info:{alreadyPaid:"ℹ️ Invoice {{invoiceId}} is already paid. No reminder needed."},analytics:{paymentMethods:"Payment Methods",transactions:"{{count}} transactions"},insurance:{none:"None"},reminder:{title:"Clinic Payment Reminder",dear:"Dear",friendlyReminder:"This is a friendly reminder about your outstanding payment",amountDue:"Amount Due",pleaseArrange:"Please arrange payment at your earliest convenience.",questions:"For any questions, please contact our clinic.",thankYou:"Thank you!"},confirmation:{deleteInvoice:`Are you sure you want to delete invoice {{invoiceId}}?

This action cannot be undone.`}},invoice:{title:"INVOICE",defaultClinic:{name:"Modern Clinic",address:"123 Medical Street, Healthcare City",phone:"+20 123 456 7890",email:"info@modernclinic.com"},labels:{phone:"Phone",email:"Email",invoiceNumber:"Invoice Number",patientId:"Patient ID",issueDate:"Issue Date",dueDate:"Due Date",status:"Status",serviceDate:"Service Date"},sections:{billTo:"Bill To",invoiceDetails:"Invoice Details",servicesAndProcedures:"Services & Procedures"},table:{description:"Description",category:"Category",paymentMethod:"Payment Method",amount:"Amount"},status:{paid:"Paid",pending:"Pending",overdue:"Overdue",partial:"Partial"},categories:{consultation:"Consultation",checkup:"Check-up",surgery:"Surgery",emergency:"Emergency",followup:"Follow-up",procedure:"Medical Procedure"},paymentMethods:{cash:"Cash",credit_card:"Credit Card",bank_transfer:"Bank Transfer",insurance:"Insurance"},insurance:{coverageApplied:"✓ Insurance Coverage Applied",activeDescription:"This patient has active insurance coverage"},calculations:{subtotal:"Subtotal",vat:"VAT",totalAmount:"Total Amount",insuranceCoverage:"Insurance Coverage",patientBalance:"Patient Balance"},footer:{paymentTermsTitle:"Payment Terms & Notes",paymentDue30Days:"Payment is due within 30 days of invoice date",latePaymentCharges:"Late payments may incur additional charges",questionsContact:"For questions, please contact us at",generatedBy:"Generated by",managementSystem:"Management System"},actions:{downloadPDF:"Download PDF",printInvoice:"Print Invoice",share:"Share"}},common:{cancel:"Cancel",close:"Close",for:"for"},comprehensive_schedule_management:"Comprehensive Schedule Management",recurring_schedule:"Recurring Schedule",comprehensive_schedule_management_subtitle:"Comprehensive schedule management system for doctors and appointments",appointment_management:"Appointment Management",comprehensive_appointment_scheduling:"Comprehensive Appointment Scheduling",appointment_statistics:"Appointment Statistics",todays_progress:"Today's Progress",doctor_hours:"Doctor Hours",confirmed_today:"Confirmed Today",search_appointments_placeholder:"Search appointments by patient, doctor, type, or phone...",realtime_scheduling_coordination:"Real-time scheduling & patient appointment coordination",auto_sync_patient_database:"Auto-sync with patient database",appointment_scheduling:"Appointment Scheduling",professional_appointment_management:"Professional appointment management & scheduling",schedule_new_appointment:"Schedule New Appointment",showing_appointments:"Showing {{showing}} of {{total}} appointments",with_filters_applied:"with {{count}} filter(s) applied",pending_confirmation:"Pending Confirmation",no_show:"No Show",whatsapp_patient:"WhatsApp Patient",whatsapp_reminder_message:"Hello {{patient}}, this is a reminder for your {{type}} appointment today at {{time}}.",whatsapp_appointment_message:"Hello {{patient}}, regarding your {{type}} appointment on {{date}} at {{time}}.",no_appointments_match_filters:"No appointments match the current filters",try_adjusting_search_criteria:"Try adjusting your search criteria or clearing some filters",no_appointments_today:"No appointments scheduled for today",no_pending_appointments:"No pending appointments",no_completed_appointments:"No completed appointments",no_confirmed_appointments:"No confirmed appointments",no_pending_confirmation_appointments:"No appointments pending confirmation",no_cancelled_appointments:"No cancelled appointments",no_rescheduled_appointments:"No rescheduled appointments",no_no_show_appointments:"No no-show appointments",no_appointments_found:"No appointments found",schedule_appointments_today:"Schedule some appointments for today",all_appointments_completed_confirmed:"All appointments are completed or confirmed",complete_appointments_to_see_here:"Complete some appointments to see them here",no_confirmed_status_yet:"No appointments with confirmed status yet",all_appointments_confirmed:"All appointments are confirmed",no_appointments_cancelled:"No appointments have been cancelled",no_appointments_rescheduled:"No appointments have been rescheduled",no_patients_missed_appointments:"No patients have missed their appointments",schedule_first_appointment:"Schedule your first appointment to get started"}},ar:{translation:{appointment_management:"إدارة المواعيد",realtime_scheduling_coordination:"جدولة في الوقت الفعلي وتنسيق مواعيد المرضى",auto_sync_patient_database:"مزامنة تلقائية مع قاعدة بيانات المرضى",appointment_scheduling:"جدولة المواعيد","professional appointment management":"إدارة مواعيد المرضى المهنية والجدولة",todays_schedule:"جدول اليوم",schedule_new_appointment:"جدولة موعد جديد",appointment_statistics:"إحصائيات المواعيد",todays_progress:"تقدم اليوم",doctor_hours:"ساعات الطبيب","doctor hours display":"3 مساءً - 8 مساءً",confirmed_today:"مؤكد اليوم",available_slots:"الفترات المتاحة",search_appointments_placeholder:"🔍 البحث في المواعيد بالمريض أو الطبيب أو النوع أو الهاتف...",showing_appointments:"عرض {{showing}} من {{total}} موعد",with_filters_applied:"مع تطبيق {{count}} مرشح/مرشحات",filter:"تصفية",table:"جدول",cards:"بطاقات",all:"الكل",today:"اليوم",search:"بحث",pending:"معلق",completed:"مكتمل",confirmed:"مؤكد",pending_confirmation:"في انتظار التأكيد",cancelled:"ملغي",rescheduled:"معاد جدولته",no_show:"لم يحضر",status:"الحالة",patient:"المريض",doctor:"الطبيب",time:"الوقت",time_duration:"الوقت والمدة",type:"النوع",priority:"الأولوية",actions:"الإجراءات",duration:"المدة",minutes:"دقيقة",location:"الموقع",notes:"الملاحظات",consultation:"استشارة",check_up:"فحص",follow_up:"متابعة",surgery_consultation:"استشارة جراحية",emergency:"طارئ",normal:"عادي",high_priority:"أولوية عالية",urgent:"عاجل",mark_as_pending:"تحديد كمعلق",mark_as_completed:"تحديد كمكتمل",click_to_change_status:"انقر لتغيير الحالة",view_notes:"عرض الملاحظات",edit_appointment:"تحرير الموعد",create_appointment:"إنشاء موعد",save_appointment:"حفظ الموعد",book_edit_appointment:"حجز/تحرير موعد",cancel:"إلغاء",close:"إغلاق",back:"السابق",next:"التالي",whatsapp_patient:"واتساب المريض",whatsapp:"واتساب",whatsapp_reminder_message:"مرحباً {{patient}}، هذا تذكير بموعدك {{type}} اليوم في {{time}}.",whatsapp_appointment_message:"مرحباً {{patient}}، هذا بخصوص موعدك {{type}} في {{date}} في {{time}}.",no_appointments_match_filters:"لا توجد مواعيد تطابق المرشحات",try_adjusting_search_criteria:"جرب تعديل معايير البحث أو مسح بعض المرشحات",clear_all_filters:"مسح جميع المرشحات",no_appointments_today:"لا توجد مواعيد مجدولة لليوم",no_pending_appointments:"لا توجد مواعيد معلقة",no_completed_appointments:"لا توجد مواعيد مكتملة",no_confirmed_appointments:"لا توجد مواعيد مؤكدة",no_pending_confirmation_appointments:"لا توجد مواعيد في انتظار التأكيد",no_cancelled_appointments:"لا توجد مواعيد ملغاة",no_rescheduled_appointments:"لا توجد مواعيد معاد جدولتها",no_no_show_appointments:"لا توجد مواعيد لم يحضر إليها",no_appointments_found:"لم يتم العثور على مواعيد",schedule_appointments_today:"جدول بعض المواعيد لليوم",all_appointments_completed_confirmed:"جميع المواعيد مكتملة أو مؤكدة",complete_appointments_to_see_here:"أكمل بعض المواعيد لرؤيتها هنا",no_confirmed_status_yet:"لا توجد مواعيد بحالة مؤكدة بعد",all_appointments_confirmed:"تم تأكيد جميع المواعيد",no_appointments_cancelled:"لم يتم إلغاء أي مواعيد",no_appointments_rescheduled:"لم يتم إعادة جدولة أي مواعيد",no_patients_missed_appointments:"لم يفوت أي مرضى مواعيدهم",schedule_first_appointment:"جدول موعدك الأول للبدء",clinic_management:"إدارة العيادة",login:"تسجيل الدخول",email:"البريد الإلكتروني",email_address:"عنوان البريد الإلكتروني",password:"كلمة المرور",sign_in:"تسجيل الدخول",signing_in:"جاري تسجيل الدخول...",forgot_password:"هل نسيت كلمة المرور؟",reset_password:"إعادة تعيين كلمة المرور",send_reset_email:"إرسال رسالة إعادة التعيين",sending:"جاري الإرسال...",password_reset_email_sent:"تم إرسال رسالة إعادة تعيين كلمة المرور إلى",enter_email_for_reset:"أدخل عنوان بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور.",verifying_reset_link:"التحقق من رابط إعادة التعيين",please_wait_verifying:"يرجى الانتظار بينما نتحقق من رابط إعادة تعيين كلمة المرور...",password_reset_success:"تم إعادة تعيين كلمة المرور بنجاح",password_updated_successfully:"تم تحديث كلمة المرور الخاصة بك",password_reset_complete:"تم إعادة تعيين كلمة المرور بنجاح!",redirecting_to_login:"جاري توجيهك إلى صفحة تسجيل الدخول...",go_to_login:"الذهاب لتسجيل الدخول",back_to_login:"العودة لتسجيل الدخول",enter_new_password_for:"أدخل كلمة مرور جديدة لـ",new_password:"كلمة المرور الجديدة",confirm_new_password:"تأكيد كلمة المرور الجديدة",password_min_length:"يجب أن تكون كلمة المرور مكونة من 6 أحرف على الأقل",updating_password:"جاري تحديث كلمة المرور...",update_password:"تحديث كلمة المرور",change_password:"تغيير كلمة المرور",current_password:"كلمة المرور الحالية",enter_current_password_and_new_password:"أدخل كلمة المرور الحالية واختر كلمة مرور آمنة جديدة.",password_changed_successfully:"تم تغيير كلمة المرور بنجاح",passwords_do_not_match:"كلمات المرور غير متطابقة",user_not_authenticated:"المستخدم غير مصادق عليه. يرجى تسجيل الدخول مرة أخرى.",current_password_incorrect:"كلمة المرور الحالية غير صحيحة",password_too_weak:"كلمة المرور ضعيفة جداً. يرجى اختيار كلمة مرور أقوى.",requires_recent_login:"يرجى تسجيل الخروج وتسجيل الدخول مرة أخرى قبل تغيير كلمة المرور.",failed_to_change_password:"فشل في تغيير كلمة المرور. يرجى المحاولة مرة أخرى.",no_account:"ليس لديك حساب؟ اشترك الآن",authorized_access_only:"وصول مخول فقط",management_system:"نظام الإدارة",clinic_care:"كلينيسي",version:"الإصدار 2.0.1",general_practitioner:"طبيب عام",management:"إدارة",receptionist:"موظف استقبال",full_name:"الاسم الكامل",profile_settings:"الملف الشخصي والإعدادات",sign_out:"تسجيل الخروج",dashboard:"لوحة القيادة",patients:"المرضى",appointments:"المواعيد",inventory:"المخزون",payments:"المدفوعات",notifications:"الإشعارات",scheduling:"جدولة الأطباء",doctor_scheduling:"جدولة الأطباء",settings:"الإعدادات",language:"اللغة",expand_sidebar:"توسيع الشريط الجانبي",collapse_sidebar:"طي الشريط الجانبي",change_language:"تغيير اللغة",patient_name:"اسم المريض",phone_number:"رقم الهاتف",appointment_date:"تاريخ الموعد",appointment_time:"وقت الموعد",appointment_details:"تفاصيل الموعد",appointment_type:"نوع الموعد",phone_placeholder:"مثال: +20 XXX XXX XXXX",location_placeholder:"مثال: غرفة 101، غرفة استشارة أ",notes_placeholder:"أدخل أي ملاحظات إضافية حول الموعد أو التاريخ الطبي أو المتطلبات الخاصة...",appointment_notes_placeholder:"أدخل أي ملاحظات خاصة أو تعليمات لهذا الموعد...",general_practice:"طب عام",cardiology:"أمراض القلب",dermatology:"الأمراض الجلدية",orthopedics:"جراحة العظام",specialty:"التخصص",patient_name_required:"اسم المريض مطلوب",phone_required:"رقم الهاتف مطلوب",date_required:"تاريخ الموعد مطلوب",time_required:"وقت الموعد مطلوب",type_required:"نوع الموعد مطلوب",doctor_required:"اختيار الطبيب مطلوب",fill_required_fields:"يرجى ملء جميع الحقون",appointment_saved_successfully:"تم حفظ الموعد بنجاح!",saving:"جاري الحفظ...",appointment_save_failed:"فشل في حفظ الموعد",schedule:"جدولة",performance_today:"الأداء اليوم",clinic_analytics_overview:"نظرة عامة على تحليلات العيادة",time_remaining:"الوقت المتبقي",avg_duration:"متوسط المدة",min:"د",schedule_appointment:"جدولة موعد",more_appointments:"مواعيد أخرى",appointments_finishing_at:"{{count}} مواعيد • تنتهي في {{time}}",done_count:"{{completed}}/{{total}} منجز",enjoy_free_day_or_schedule:"استمتع بيومك الحر أو جدول بعض المواعيد",billing_information:"معلومات الفواتير",view_billing:"عرض الفواتير",payment_list:"قائمة المدفوعات",payment_details:"تفاصيل الدفع",payment_method:"طريقة الدفع",invoice_id:"معرف الفاتورة",amount:"المبلغ",date:"التاريخ",paid:"مدفوع",unpaid:"غير مدفوع",inventory_list:"قائمة المخزون",add_edit_inventory_item:"إضافة أو تعديل عنصر المخزون",low_stock_alerts:"تنبيهات انخفاض المخزون",item_name:"اسم العنصر",quantity:"الكمية",supplier:"المورد",last_updated:"آخر تحديث",manage_inventory:"إدارة المستلزمات الطبية والمعدات",coming_soon:"قريباً",feature_under_development:"هذه الميزة قيد التطوير حالياً.",save:"حفظ",register:"التسجيل",already_have_account:"هل لديك حساب بالفعل؟ تسجيل الدخول",view:"عرض",edit:"تعديل",delete:"حذف",confirm:"تأكيد",loading:"جاري التحميل...",refresh:"تحديث",sort:"ترتيب",export:"تصدير",import:"استيراد",print:"طباعة",clinical_dashboard:"لوحة القيادة الطبية",working_doctors_today:"الأطباء العاملون اليوم",patient_management:"إدارة المرضى",whatsapp_all:"واتساب للجميع",add_new_patient:"إضافة مريض جديد",search_patients_placeholder:"البحث في المرضى بالاسم أو البريد الإلكتروني أو الهاتف أو الحالة...",organize:"تنظيم",active_filters:"المرشحات النشطة",gender:"الجنس",age:"العمر",condition:"الحالة المرضية",male:"ذكر",female:"أنثى",contact:"جهة الاتصال",last_visit:"آخر زيارة",years:"سنة",patient_age:"عمر المريض",patient_gender:"جنس المريض",patient_address:"عنوان المريض",patient_condition:"حالة المريض",medical_history:"التاريخ الطبي",emergency_contact_name:"اسم جهة الاتصال الطارئة",emergency_contact_phone:"هاتف جهة الاتصال الطارئة",insurance_provider:"مقدم التأمين",insurance_number:"رقم التأمين",current_medications:"الأدوية الحالية",blood_type:"فصيلة الدم",height:"الطول",weight:"الوزن",old:"مريض قديم",new:"مريض جديد","follow-up":"متابعة",admitted:"منوم",transferred:"محول",discharged:"مخرج",diabetes:"السكري",hypertension:"ارتفاع ضغط الدم",asthma:"الربو","routine checkup":"فحص روتيني",routine_checkup:"فحص روتيني","diabetes type 2":"السكري النوع الثاني",migraine:"الصداع النصفي","chest pain":"ألم في الصدر","back pain":"ألم في الظهر",headache:"صداع",fever:"حمى",cough:"سعال",cold:"نزلة برد",flu:"إنفلونزا",allergies:"حساسية","high blood pressure":"ارتفاع ضغط الدم","low blood pressure":"انخفاض ضغط الدم","heart disease":"أمراض القلب","kidney disease":"أمراض الكلى","liver disease":"أمراض الكبد",arthritis:"التهاب المفاصل",depression:"اكتئاب",anxiety:"قلق",obesity:"سمنة",anemia:"فقر الدم","thyroid disorder":"اضطراب الغدة الدرقية",general_medicine:"طب عام",pediatrics:"طب الأطفال",neurology:"الأعصاب",gastroenterology:"الجهاز الهضمي",ophthalmology:"طب العيون",ent:"أنف وأذن وحنجرة",psychiatry:"الطب النفسي",other:"أخرى","all patients":"جميع المرضى","new patients":"مرضى جدد","follow-up patients":"مرضى متابعة","old patients":"مرضى قدامى","under observation":"تحت الملاحظة","transferred patients":"مرضى محولون","discharged patients":"مرضى مخرجون","appointment data":"بيانات المواعيد","checked-in":"تم تسجيل الدخول",waiting:"في الانتظار","in-progress":"قيد التنفيذ",scheduled:"مجدول",active:"نشط",none_today:"لا يوجد اليوم",add_time_slot:"إضافة جدول زمني",edit_doctor_schedule:"تعديل جدول الطبيب",working_hours_start:"بدء ساعات العمل",working_hours_end:"نهاية ساعات العمل",off_days:"أيام الراحة",available_slot:"جدول متاح",regular_working_hours:"ساعات عمل ثابتة",please_fill_all_fields:"من فضلك أملأ جميع الحقون",time_slot_already_exists:"جدول زمني موجود بالفعل",time_slot_already_reserved:"جدول زمني محجوز بالفعل",edit_doctor_information:"تعديل معلومات الطبيب",working_hours_schedule:"جدول ساعات العمل والجدول",consultation_duration:"مدة الاستشارة",max_patients_per_hour:"أقصى عدد مرضى في الساعة",reserved_for_patient:"محجوز للمريض",standard_doctor_availability:"التواجد الطبي المعتمد خلال ساعات العمل",manually_added_slot:"جدول ساعات متاح (إضافة جديدة)",professional_doctor_schedule_management:"🩺 إدارة مواعيد وجداول الأطباء المهنية",schedule_date:"📅 تاريخ الجدولة:",doctor_schedule_statistics:"📊 إحصائيات جداول الأطباء",working_today:"يعملون اليوم",total_appointments:"إجمالي المواعيد",busy_doctors:"أطباء مشغولون",available_doctors:"أطباء متاحون",time_slot_color_guide:"🎨 دليل ألوان الأوقات المحددة",available_slot_added_manually:"⏰ وقت متاح (مضاف يدوياً)",reserved_patient_appointment:"🔒 محجوز (موعد مريض)",interactive_time_slots:"💡 الأوقات المحددة التفاعلية",click_time_slot_to_edit:"انقر على أي وقت محدد لتعديل نوعه أو إضافة تفاصيل المريض أو تعديل الجدول!",doctor_schedules:"جداول الأطباء",weekly_overview:"النظرة الأسبوعية",all_doctors:"جميع الأطباء",doctor_schedules_for_date:"📋 جداول الأطباء لتاريخ {{date}}",how_to_manage_time_slots:"💡 كيفية إدارة الأوقات المحددة:",click_plus_button_to_add:"• انقر على زر + بجانب أي طبيب لإضافة أوقات متاحة",add_multiple_time_slots:"• أضف عدة أوقات محددة لأي طبيب، حتى لو كان لديه مواعيد بالفعل",click_time_slot_chip_to_edit:"• انقر على أي وقت محدد للتعديل أو الحجز أو التحويل لأنواع مختلفة",time_slots:"الأوقات المحددة",time_slots_total:"الأوقات المحددة ({{count}} إجمالي)",schedule_utilization:"استخدام الجدول",reserved:"محجوز",doctor_schedule:"جدول الطبيب",review:"مراجعة",weekly_schedule:"جدول أسبوعي",weekly_schedule_saved:"تم حفظ الجدول الأسبوعي للدكتور {{doctor}} مع {{count}} موعد جديد",weekly_schedule_generated:"تم إنشاؤه من الجدول الأسبوعي",day_off:"يوم راحة",off:"راحة",recurring_appointment:"موعد متكرر",recurring_appointments_created:"تم إنشاء {{count}} موعد متكرر لمدة {{weeks}} أسابيع",week:"أسبوع",quick_availability_presets:"الإعدادات السريعة للتوفر",morning_preset:"🌅 الصباح (9-12)",afternoon_preset:"☀️ بعد الظهر (2-5)",evening_preset:"🌙 المساء (6-9)",full_day_preset:"🌈 يوم كامل",default_hours:"📋 الساعات الافتراضية",clear_all:"🗑️ مسح الكل",current_time_slots:"الأوقات الحالية",add_custom_time:"إضافة وقت مخصص",no_slots_message:"لم يتم إضافة أوقات بعد. استخدم الإعدادات السريعة أعلاه أو أضف أوقات مخصصة أدناه.",availability_presets:"الإعدادات المسبقة للتوفر",add_custom_time_slot:"إضافة فترة زمنية مخصصة",select_time:"اختر الوقت",add_slot:"إضافة فترة",monday:"الاثنين",tuesday:"الثلاثاء",wednesday:"الأربعاء",thursday:"الخميس",friday:"الجمعة",saturday:"السبت",sunday:"الأحد",mon:"اثنين",tue:"ثلاثاء",wed:"أربعاء",thu:"خميس",fri:"جمعة",sat:"سبت",sun:"أحد",all_doctors_day:"جميع الأطباء {{day}}",schedule_for_day:"جدول يوم {{day}}",doctors_working_on:"الأطباء العاملون يوم {{day}}",add_new_doctor:"إضافة طبيب جديد",register_new_medical_professional:"تسجيل متخصص طبي جديد في فريق عيادتك",doctor_information:"معلومات الطبيب",doctor_registration_description:"يرجى ملء التفاصيل أدناه لإضافة طبيب جديد إلى نظام إدارة عيادتك. جميع الحقول المحددة بعلامة * مطلوبة للتسجيل.",doctor_name_placeholder:"مثال: د. أحمد حسن محمد",medical_specialty:"التخصص الطبي",working_schedule:"جدول العمل",typical_duration_range:"المدة المعتادة: 15-60 دقيقة",recommended_patients_range:"العدد الموصى به: 2-4 مرضى",add_doctor_to_clinic:"إضافة طبيب إلى العيادة",doctor_added_successfully:"تم إضافة الطبيب {{name}} بنجاح!",doctor_updated_successfully:"تم تحديث الطبيب {{name}} بنجاح!",edit_doctor_profile:"تعديل ملف الطبيب",please_fill_doctor_name_specialty:"يرجى ملء اسم الطبيب والتخصص",create_availability_for:"إنشاء توفر للطبيب {{doctor}}",what_this_does:"ℹ️ ما يفعله هذا:",add_time_slot_description:"هذا يضيف فترة زمنية متاحة إلى جدول الطبيب. يمكنك إضافة فترات زمنية لأي طبيب، حتى لو كان لديه مواعيد موجودة بالفعل.",green_slots:"• الفترات الخضراء:",blue_slots:"• الفترات الزرقاء:",red_slots:"• الفترات الحمراء:",regular_working_hours_description:"ساعات العمل العادية (جدول الطبيب الطبيعي)",available_slots_description:"الفترات المتاحة التي تضيفها يدوياً (مثل هذه)",reserved_slots_description:"المواعيد المحجوزة مع أسماء المرضى الفعلية",can_add_multiple_time_slots:"✅ يمكنك إضافة عدة فترات زمنية لنفس الطبيب في أوقات مختلفة!",available_time_slot_added:"تم إضافة فترة زمنية متاحة {{time}} للطبيب {{doctor}} في {{date}}. الطبيب لديه الآن {{count}} فترة زمنية.",add_available_time_slot:"إضافة فترة زمنية متاحة",enter_time_format:"أدخل أي وقت بصيغة HH:MM (مثال: 14:30، 09:15)",time_hhmm_format:"الوقت (صيغة HH:MM)",change_time_or_enter_new:"تغيير الوقت أو إدخال فترة زمنية مخصصة جديدة",personal_information:"المعلومات الشخصية",slots:"الفترات",weekly_overview_description:"نظرة شاملة على جداول عمل جميع الأطباء خلال الأسبوع. انقر على تعديل لتغيير جدول أي طبيب.",weekly_working_patterns:"أنماط العمل الأسبوعية",weekly_schedule_overview:"النظرة الأسبوعية للجداول",all_doctors_count:"جميع الأطباء ({{count}})",add_time_slot_button:"إضافة فترة زمنية",save_time_slot:"حفظ الفترة الزمنية",cancel_time_slot:"إلغاء الفترة الزمنية",edit_time_slot:"تحرير الفترة الزمنية",delete_time_slot:"حذف الفترة الزمنية",time_slot_saved:"تم حفظ الفترة الزمنية بنجاح",invalid_time_format:"تنسيق الوقت غير صالح",time_already_reserved:"هذا الوقت محجوز بالفعل",automatic_sync_active:"🔄 مزامنة تلقائية نشطة للمريض والموعد",sync_now:"مزامنة الآن",from_appointments:"من المواعيد",completion:"الإنجاز",reservation:"الحجز",reservations:"الحجوزات",appointment_reservations:"حجوزات المواعيد",appointment_completion_status:"حالة إنجاز المواعيد",patients_with_appointments_listed_first:"المرضى الذين لديهم مواعيد مدرجون أولاً.",patients_with_completed_listed_first:"المرضى الذين لديهم مواعيد مكتملة مدرجون أولاً.",organized_by_text:"المرضى منظمون حسب",appointment_data_organized_by_completion:"تُظهر هذه التبويبة بيانات المواعيد منظمة حسب حالة الإنجاز، مزامنة تلقائياً من صفحة المواعيد.",appointments_awaiting_completion:"المواعيد في انتظار الإنجاز",pending_not_completed:"قيد الانتظار/غير مكتمل",no_completed_appointments_found:"لم يتم العثور على مواعيد مكتملة",no_pending_appointments_found:"لم يتم العثور على مواعيد قيد الانتظار",successfully_completed_appointments:"تم إكمال المواعيد بنجاح",loading_appointment_data:"جاري تحميل بيانات الموعد...",syncing_appointment_data:"مزامنة بيانات المواعيد من صفحة المواعيد",completed_status:"مكتمل",total_patients:"إجمالي المرضى",comprehensive_patient_care:"🏥 صحة المريض الشاملة",sync_appointments:"مزامنة المواعيد",for:"لـ",manage_profile_clinic_settings:"إدارة ملفك الشخصي وإعدادات العيادة والنظام",settings_menu:"قائمة الإعدادات",configure_clinic_preferences:"تكوين إعدادات العيادة والتفضيلات",profile_management:"إدارة الملف الشخصي",clinic_settings_tab:"إعدادات العيادة",security_privacy:"الأمان والخصوصية",system_settings:"إعدادات النظام",profile_information:"معلومات الملف الشخصي",manage_personal_professional_details:"إدارة تفاصيلك الشخصية والمهنية",edit_profile:"تحرير الملف الشخصي",cancel_edit:"إلغاء التحرير",available:"متاح",hours_ago:"منذ {{count}} ساعات",basic_information:"المعلومات الأساسية",professional_information:"المعلومات المهنية",not_specified:"غير محدد",emergency_contact:"جهة الاتصال الطارئة",primary_specialization:"التخصص الرئيسي",years_of_experience:"سنوات الخبرة",medical_license_number:"رقم الرخصة الطبية",medical_school:"كلية الطب",residency:"الإقامة الطبية",board_certifications:"شهادات المجلس",languages_bio:"اللغات والسيرة الذاتية",languages_spoken:"اللغات المتحدثة",consultation_fee:"رسوم الاستشارة",professional_bio:"السيرة الذاتية المهنية",no_bio_available:"لا توجد سيرة ذاتية متاحة",availability_settings:"إعدادات التوفر",working_days:"أيام العمل",working_hours:"ساعات العمل",lunch_break:"استراحة الغداء",failed_to_load_settings:"فشل في تحميل الإعدادات",failed_to_refresh_notifications:"فشل في تحديث الإشعارات",notification_marked_as_read:"تم تحديد الإشعار كمقروء",failed_to_mark_as_read:"فشل في تحديد الإشعار كمقروء",notification_deleted:"تم حذف الإشعار",failed_to_delete_notification:"فشل في حذف الإشعار",all_notifications_marked_as_read:"تم تحديد جميع الإشعارات كمقروءة",failed_to_mark_all_as_read:"فشل في تحديد جميع الإشعارات كمقروءة",settings_saved_successfully:"تم حفظ الإعدادات بنجاح",failed_to_save_settings:"فشل في حفظ الإعدادات",mark_as_read:"تحديد كمقروء",delete_notification:"حذف الإشعار",notification_preferences:"تفضيلات الإشعارات",realtime_updates:"تحديثات في الوقت الفعلي من نظام إدارة العيادة",no_notifications_found:"لم يتم العثور على إشعارات",all_caught_up:"أنت محدث! ستظهر الإشعارات الجديدة هنا عندما يكون هناك شيء مهم للمشاركة.",notification_settings:"إعدادات الإشعارات",customize_notification_preferences:"تخصيص تفضيلات الإشعارات الخاصة بك",appointment_notifications:"إشعارات المواعيد",payment_notifications:"إشعارات المدفوعات",system_updates:"تحديثات النظام",save_settings:"حفظ الإعدادات",quick_actions:"إجراءات سريعة",manage_all_notifications:"إدارة جميع الإشعارات في وقت واحد",mark_all_as_read:"تحديد الجميع كمقروء",clear_all_notifications:"مسح جميع الإشعارات",refresh_from_all_data:"تحديث من جميع البيانات",load_more_notifications:"تحميل المزيد من الإشعارات",loading_more:"جاري التحميل...",all_notifications_loaded:"تم تحميل جميع الإشعارات ({{count}} إجمالي)",loaded_more_notifications:"تم تحميل {{count}} إشعار إضافي",failed_to_load_more:"فشل في تحميل المزيد من الإشعارات",notifications_refreshed:"تم تحديث الإشعارات! تم العثور على {{total}} إشعار إجمالي ({{unread}} غير مقروء) من جميع بيانات التطبيق",refreshing_from_all_modules:"تحديث الإشعارات من جميع وحدات التطبيق...",refreshing_notifications:"تحديث الإشعارات",notification_type_all:"جميع الإشعارات",notification_type_appointment:"المواعيد",notification_type_payment:"المدفوعات",notification_type_inventory:"المخزون",notification_type_system:"النظام",notification_appointment_type:"موعد",notification_payment_type:"دفع",notification_inventory_type:"مخزون",notification_system_type:"نظام",created_at:"تم الإنشاء في",message:"الرسالة",title:"العنوان",read:"مقروء",unread:"غير مقروء",notification_cleared:"تم مسح الإشعار",all_notifications_cleared:"تم مسح جميع الإشعارات",failed_to_clear_notifications:"فشل في مسح الإشعارات",notification_count:"{{count}} إشعار",unread_count:"{{count}} غير مقروء",refreshing:"جاري التحديث...",refresh_all_data:"تحديث جميع البيانات",processing:"جاري المعالجة...",clear_all_with_count:"مسح الجميع ({{count}})",low_stock_alert_title:"تنبيه انخفاض المخزون",out_of_stock_alert_title:"تنبيه نفاد المخزون",low_stock_message:"{{itemName}} منخفض. متبقي {{quantity}} وحدة فقط (الحد الأدنى: {{minQuantity}})",out_of_stock_message:"{{itemName}} نفد من المخزون. يرجى إعادة الطلب من {{supplier}}",units_left:"وحدة متبقية",minimum:"الحد الأدنى",please_reorder_from:"يرجى إعادة الطلب من",new_appointment_scheduled:"تم جدولة موعد جديد",appointment_reminder:"تذكير بالموعد",patient_no_show:"لم يحضر المريض",appointment_cancelled:"تم إلغاء الموعد",payment_received:"تم استلام الدفعة",payment_overdue:"دفعة متأخرة",payment_due_soon:"دفعة مستحقة قريباً",new_patient_registration:"تسجيل مريض جديد",follow_up_due:"متابعة مستحقة",medication_refill_due:"إعادة تعبئة الدواء مستحقة",system_update:"تحديث النظام",system_update_message:"تم إضافة ميزات جديدة إلى نظام إدارة المرضى. تحقق من تتبع الأدوية المحدث!",years_text:"{{count}} سنوات",egp_amount:"{{amount}} جنيه مصري",bio_placeholder:"د. أحمد علي طبيب عام معتمد بخبرة تزيد عن 8 سنوات في تقديم خدمات الرعاية الصحية الشاملة. يتخصص في الطب الوقائي وإدارة الأمراض المزمنة وتثقيف المرضى.",edit_profile_information:"تحرير معلومات الملف الشخصي",profile_statistics:"إحصائيات الملف الشخصي",performance_overview:"نظرة عامة على الأداء",appointments_this_month:"المواعيد هذا الشهر",successful_treatments:"العلاجات الناجحة",vacation:"في إجازة",emergency_only:"طوارئ فقط",saving_profile:"حفظ الملف الشخصي...",saving_clinic_settings:"حفظ إعدادات العيادة...",save_clinic_settings:"حفظ إعدادات العيادة",save_preferences:"حفظ التفضيلات",achievements_certifications:"الإنجازات والشهادات",awards_recognitions:"الجوائز والتقديرات",board_certified:"معتمد من المجلس",excellence_award:"جائزة التميز",best_doctor_2023:"أفضل طبيب 2023 - نقابة الأطباء المصرية",cairo_university_medicine:"كلية الطب جامعة القاهرة",professional_member:"عضو مهني",egyptian_medical_syndicate_member:"نقابة الأطباء المصرية - عضو رقم 12345",add_achievement:"إضافة إنجاز",professional_information_actions:"المعلومات المهنية والإجراءات",license_details_quick_actions:"تفاصيل الترخيص والإجراءات السريعة",license_number:"رقم الترخيص",registration_date:"تاريخ التسجيل",january_15_2016:"15 يناير 2016",department:"القسم",license_status:"حالة الترخيص",update_credentials:"تحديث الاعتمادات",update_professional_credentials:"تحديث الاعتمادات المهنية",professional_credentials:"الاعتمادات المهنية",medical_license_certificate:"شهادة الترخيص الطبي",license_information:"معلومات الترخيص",license_type:"نوع الترخيص",licensing_authority:"سلطة الترخيص",license_valid_from:"صالح من",license_valid_until:"صالح حتى",license_scope:"نطاق الترخيص",specialty_board_certification:"شهادة المجلس التخصصي",board_name:"اسم المجلس",certification_date:"تاريخ الشهادة",certification_status:"حالة الشهادة",active_status:"نشط",expired_status:"منتهي الصلاحية",pending_status:"قيد الانتظار",suspended_status:"معلق",continuing_education:"التعليم المستمر",cme_credits:"ساعات التعليم الطبي المستمر",last_renewal_date:"تاريخ آخر تجديد",next_renewal_date:"تاريخ التجديد القادم",professional_memberships:"العضويات المهنية",organization_name:"اسم المنظمة",membership_type:"نوع العضوية",membership_status:"حالة العضوية",membership_since:"عضو منذ",update_license_info:"تحديث معلومات الترخيص",save_credentials:"حفظ الاعتمادات",verify_credentials:"التحقق من الاعتمادات",credentials_updated_successfully:"تم تحديث الاعتمادات المهنية بنجاح",license_validated:"تم التحقق من الترخيص بنجاح",invalid_license_number:"رقم ترخيص غير صالح",license_expired:"انتهت صلاحية الترخيص",credentials_form_title:"إدارة الاعتمادات المهنية",credentials_form_subtitle:"إدارة تراخيصك الطبية وشهاداتك وعضوياتك المهنية",license_upload_instruction:"ارفع نسخة واضحة من ترخيصك الطبي",supported_file_formats:"الصيغ المدعومة: PDF، JPG، PNG (حد أقصى 5 ميجابايت)",credential_required_field:"هذا الحقل مطلوب للاعتماد",license_number_format:"تنسيق رقم الترخيص غير صالح",date_validation_future:"لا يمكن أن يكون التاريخ في المستقبل",date_validation_past:"لا يمكن أن يكون التاريخ في الماضي",renewal_reminder:"سيتم إرسال تذكير التجديد قبل 30 يوماً من انتهاء الصلاحية",upload_supporting_documents:"رفع المستندات الداعمة",document_verification_pending:"التحقق من المستند معلق",document_verified:"تم التحقق من المستند",document_rejected:"تم رفض المستند",medical_license_form:"نموذج الترخيص الطبي",update_credentials_form:"نموذج تحديث الاعتمادات",add_achievement_form:"نموذج إضافة إنجاز",license_certificate_upload:"رفع شهادة الترخيص",certificate_file:"ملف الشهادة",browse_files:"تصفح الملفات",drag_drop_files:"اسحب وأفلت الملفات هنا",file_size_limit:"الحد الأقصى لحجم الملف: 10 ميجابايت",accepted_formats:"الصيغ المقبولة: PDF، JPG، PNG",license_verification_status:"حالة التحقق من الترخيص",verified:"تم التحقق",not_verified:"لم يتم التحقق",under_review:"قيد المراجعة",achievement_category_options:"خيارات فئة الإنجاز",professional_award:"جائزة مهنية",research_publication:"نشر بحثي",conference_presentation:"عرض في مؤتمر",community_service:"خدمة مجتمعية",other_achievement:"إنجاز آخر",form_validation_errors:"أخطاء التحقق من النموذج",please_fix_errors:"يرجى إصلاح الأخطاء التالية:",required_field_empty:"الحقل المطلوب فارغ",invalid_email_format:"تنسيق البريد الإلكتروني غير صالح",invalid_phone_format:"تنسيق رقم الهاتف غير صالح",file_too_large:"حجم الملف كبير جداً",unsupported_file_type:"نوع الملف غير مدعوم",form_submitted_successfully:"تم إرسال النموذج بنجاح",changes_saved:"تم حفظ التغييرات بنجاح",upload_in_progress:"جاري الرفع...",processing_request:"جاري معالجة طلبك...",confirm_delete:"هل أنت متأكد من حذف هذا العنصر؟",action_cannot_be_undone:"لا يمكن التراجع عن هذا الإجراء",view_certificate:"عرض الشهادة",view_certification:"عرض الشهادة",certification_details:"تفاصيل الشهادة",certificate_name:"اسم الشهادة",issuing_organization:"الجهة المصدرة",issue_date:"تاريخ الإصدار",expiry_date:"تاريخ انتهاء الصلاحية",certificate_number:"رقم الشهادة",achievement_title:"عنوان الإنجاز",achievement_description:"وصف الإنجاز",achievement_date:"تاريخ الإنجاز",achievement_category:"فئة الإنجاز",award_title:"عنوان الجائزة",awarded_by:"ممنوحة من",add_new_achievement:"إضافة إنجاز جديد",edit_achievement:"تحرير الإنجاز",save_achievement:"حفظ الإنجاز",cancel_changes:"إلغاء التغييرات",form_validation_required:"هذا الحقل مطلوب",form_validation_invalid:"يرجى إدخال قيمة صحيحة",upload_certificate:"رفع الشهادة",attach_document:"إرفاق مستند",remove_attachment:"إزالة المرفق",select_category:"اختر الفئة",enter_details:"أدخل التفاصيل",doctor_first_name:"الاسم الأول للطبيب",doctor_last_name:"اسم العائلة للطبيب",doctor_email:"بريد الطبيب الإلكتروني",doctor_phone:"هاتف الطبيب",years_experience:"سنوات الخبرة",qualification:"المؤهل",university:"الجامعة",graduation_year:"سنة التخرج",clinic_room:"غرفة العيادة",basic_clinic_information:"معلومات العيادة الأساسية",view_clinic_core_details:"عرض التفاصيل الأساسية والمعلومات الخاصة بعيادتك",clinic_information:"معلومات العيادة",operation_information:"معلومات التشغيل",licensed_medical_facility:"منشأة طبية مرخصة",active_valid:"نشط وصالح",payment:{title:"إدارة المدفوعات",subtitle:"تبسيط الفواتير وتتبع المدفوعات وإدارة الفوترة بسلاسة",fields:{amount:"المبلغ",patientName:"اسم المريض",invoiceDate:"تاريخ الفاتورة",dueDate:"تاريخ الاستحقاق",description:"الوصف",serviceCategory:"فئة الخدمة",paymentMethod:"طريقة الدفع",insuranceCoverage:"التغطية التأمينية",insurance:"التأمين",method:"الطريقة"},status:{paid:"مدفوع",pending:"معلق",overdue:"متأخر",partial:"جزئي"},categories:{consultation:"استشارة",checkup:"فحص روتيني",surgery:"جراحة",emergency:"طوارئ",followup:"متابعة",procedure:"إجراء طبي"},methods:{cash:"نقداً",credit_card:"بطاقة ائتمان",bank_transfer:"تحويل بنكي",insurance:"تأمين"},stats:{totalRevenue:"إجمالي الإيرادات",totalProfit:"إجمالي الربح",pendingPayments:"المدفوعات المعلقة",overdueAmount:"المبلغ المتأخر",thisMonth:"هذا الشهر",totalInvoices:"إجمالي الفواتير",revenueMinusInsurance:"الإيرادات - التأمين",pendingInvoices:"{{count}} فاتورة",overdueInvoices:"{{count}} متأخرة"},actions:{createNewInvoice:"إنشاء فاتورة جديدة",exportAll:"تصدير الكل",filter:"تصفية",export:"تصدير",view:"عرض",download:"تحميل",send:"إرسال",edit:"تعديل",delete:"حذف",viewInvoice:"عرض الفاتورة",downloadPDF:"تحميل PDF",sendReminder:"إرسال تذكير",clickToChangeStatus:"اضغط لتغيير الحالة",createInvoice:"إنشاء فاتورة",share:"مشاركة",print:"طباعة",printInvoice:"طباعة الفاتورة",generatingPDF:"جاري إنشاء PDF للفاتورة {{invoiceId}}...",preparingPrint:"جاري تحضير الفاتورة {{invoiceId}} للطباعة...",openingWhatsApp:"جاري فتح واتساب لإرسال تذكير لـ {{patient}}..."},search:{placeholder:"البحث في المدفوعات بواسطة المريض أو رقم الفاتورة أو الوصف..."},table:{invoice:"الفاتورة",patient:"المريض",amount:"المبلغ",method:"الطريقة",date:"التاريخ",status:"الحالة",actions:"الإجراءات",insurance:"التأمين",due:"الاستحقاق"},tabs:{all:"الكل ({{count}})",paid:"مدفوع ({{count}})",pending:"معلق ({{count}})",overdue:"متأخر ({{count}})"},view:{table:"جدول",cards:"بطاقات"},filters:{title:"تصفية المدفوعات",subtitle:"تصفية حسب الحالة أو الفترة",allPayments:"جميع المدفوعات",thisMonth:"هذا الشهر",lastMonth:"الشهر الماضي",paidOnly:"المدفوع فقط",pendingOnly:"المعلق فقط",overdueOnly:"المتأخر فقط",withInsurance:"مع التأمين"},statusMenu:{title:"تغيير حالة الدفع",pendingDesc:"الدفع في الانتظار",paidDesc:"تم الدفع",overdueDesc:"الدفع متأخر",partialDesc:"دفع جزئي"},dialogs:{createNewInvoice:"إنشاء فاتورة جديدة",invoicePreview:"معاينة الفاتورة"},placeholders:{patientName:"مثال: أحمد الراشد",description:"وصف الخدمات المقدمة..."},helpers:{serviceDate:"تاريخ تقديم الخدمة",insuranceCoverage:"اتركه فارغاً إذا لم يكن هناك تغطية تأمينية"},validation:{fillAllFields:"يرجى ملء جميع الحقول المطلوبة",validAmount:"يجب أن يكون المبلغ رقماً صالحاً أكبر من 0",futureDateNotAllowed:"لا يمكن أن يكون تاريخ الفاتورة في المستقبل",dueDateAfterInvoice:"يجب أن يكون تاريخ الاستحقاق بعد تاريخ الفاتورة"},success:{invoiceCreated:"✅ تم إنشاء الفاتورة {{invoiceId}} بنجاح لـ {{patient}}!",invoiceDownloaded:"✅ تم تحميل الفاتورة {{invoiceId}} بنجاح!",invoiceSentToPrinter:"✅ تم إرسال الفاتورة {{invoiceId}} للطابعة!",reminderSent:"✅ تم إرسال تذكير واتساب لـ {{patient}}!",invoiceDeleted:"🗑️ تم حذف الفاتورة {{invoiceId}} بنجاح!",statusChanged:'✅ تم تغيير حالة الدفع {{invoiceId}} من "{{oldStatus}}" إلى "{{newStatus}}"'},info:{alreadyPaid:"ℹ️ الفاتورة {{invoiceId}} مدفوعة بالفعل. لا حاجة لتذكير."},analytics:{paymentMethods:"طرق الدفع",transactions:"{{count}} معاملة"},insurance:{none:"لا يوجد"},reminder:{title:"تذكير دفع العيادة",dear:"عزيزي/عزيزتي",friendlyReminder:"هذا تذكير ودود بشأن دفعتك المستحقة",amountDue:"المبلغ المستحق",pleaseArrange:"يرجى ترتيب الدفع في أقرب وقت ممكن.",questions:"لأي استفسارات، يرجى الاتصال بعيادتنا.",thankYou:"شكراً لك!"},confirmation:{deleteInvoice:`هل أنت متأكد من حذف الفاتورة {{invoiceId}}؟

لا يمكن التراجع عن هذا الإجراء.`}},invoice:{title:"فاتورة",defaultClinic:{name:"العيادة الحديثة",address:"123 شارع الطب، مدينة الرعاية الصحية",phone:"+20 123 456 7890",email:"info@modernclinic.com"},labels:{phone:"الهاتف",email:"البريد الإلكتروني",invoiceNumber:"رقم الفاتورة",patientId:"رقم المريض",issueDate:"تاريخ الإصدار",dueDate:"تاريخ الاستحقاق",status:"الحالة",serviceDate:"تاريخ الخدمة"},sections:{billTo:"فاتورة إلى",invoiceDetails:"تفاصيل الفاتورة",servicesAndProcedures:"الخدمات والإجراءات"},table:{description:"الوصف",category:"الفئة",paymentMethod:"طريقة الدفع",amount:"المبلغ"},status:{paid:"مدفوع",pending:"معلق",overdue:"متأخر",partial:"جزئي"},categories:{consultation:"استشارة",checkup:"فحص روتيني",surgery:"جراحة",emergency:"طوارئ",followup:"متابعة",procedure:"إجراء طبي"},paymentMethods:{cash:"نقداً",credit_card:"بطاقة ائتمان",bank_transfer:"تحويل بنكي",insurance:"تأمين"},insurance:{coverageApplied:"✓ تم تطبيق التغطية التأمينية",activeDescription:"هذا المريض لديه تغطية تأمينية فعالة"},calculations:{subtotal:"المجموع الفرعي",vat:"ضريبة القيمة المضافة",totalAmount:"المبلغ الإجمالي",insuranceCoverage:"التغطية التأمينية",patientBalance:"رصيد المريض"},footer:{paymentTermsTitle:"شروط الدفع والملاحظات",paymentDue30Days:"الدفع مستحق في غضون 30 يوماً من تاريخ الفاتورة",latePaymentCharges:"قد تتحمل المدفوعات المتأخرة رسوماً إضافية",questionsContact:"للاستفسارات، يرجى الاتصال بنا على",generatedBy:"تم إنشاؤها بواسطة",managementSystem:"نظام الإدارة"},actions:{downloadPDF:"تحميل PDF",printInvoice:"طباعة الفاتورة",share:"مشاركة"}},common:{cancel:"إلغاء",close:"إغلاق",for:"لـ"}}}};Ji.use(KQ).use(_Z).init({resources:XNe,fallbackLng:"en",detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"i18nextLng",caches:["localStorage"],convertDetectedLanguage:t=>t.startsWith("ar")?"ar":"en"},interpolation:{escapeValue:!1}}).then(()=>{console.log("i18n initialized with language:",Ji.language),console.log("localStorage language:",localStorage.getItem("i18nextLng"))});Ji.on("languageChanged",t=>{console.log("Language changed to:",t),console.log("Saved to localStorage:",localStorage.getItem("i18nextLng"))});cNe();cZ.createRoot(document.getElementById("root")).render(o.jsx(he.StrictMode,{children:o.jsx(gNe,{})}));
